(window.webpackJsonp=window.webpackJsonp||[]).push([[24,49],{"./app/common/components/billable-guests-alert/index.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"BillableGuestsAlert",(function(){return m}));var r=n("./app/common/lib/util/i18n/index.ts"),i=n("./node_modules/react/index.js"),o=n.n(i),a=n("./app/common/components/billable-guests-alert/inline-link.tsx");function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(h,e);var t,n,i,m,f=(t=h,function(){var e,n=p(t);if(u()){var r=p(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return d(this,e)});function h(){return s(this,h),f.apply(this,arguments)}return n=h,(i=[{key:"render",value:function(){var e=this.props,t=e.adminNames,n=e.newBillableGuestsCount,i=e.availableLicenseCount,s=e.orgName,l=e.isOrgAdmin,c=e.orgUrl,d=e.onCountClick,u=e.isReopen,p=e.isDesktop,m=Object(r.forNamespace)(u?"re-open billable guests alert":"add to team billable guests alert"),f=Object(r.localizeCount)("others",t.length-3),h=o.a.createElement(a.a,{key:"othersLink",href:"".concat(c,"/members"),text:f}),g=m("learn more"),v=o.a.createElement(a.a,{key:"learnMoreLink",href:"https://help.trello.com/article/1123-multi-board-guests",text:g}),b=o.a.createElement("strong",{key:"team"},s),y=o.a.createElement(a.a,{key:"boardMembersCount",onClick:d,text:Object(r.localizeCount)("board members",n)}),k=Object(r.localizeCount)("board members already guests on team",n,{count:y,team:b});if(p)return u?Object(r.localizeCount)("billable guests alert re-open desktop",n,{boardMembersOnTeam:k,learnMoreLink:v}):Object(r.localizeCount)("billable guests alert move desktop",n,{boardMembersOnTeam:k,learnMoreLink:v});if(l){var w=u?"":" add to team";return n>i?Object(r.localizeCount)("text as admin max bcpo licenses reached".concat(w),n,{boardMembersOnTeam:k,learnMoreLink:v}):Object(r.localizeCount)("text as admin".concat(w),n,{boardMembersOnTeam:k,learnMoreLink:v})}return 1===t.length?m("text with 1 admin",{boardMembersOnTeam:k,learnMoreLink:v,admin1:o.a.createElement("strong",{key:"admin1"},t[0])}):2===t.length?m("text with 2 admin",{boardMembersOnTeam:k,learnMoreLink:v,admin1:o.a.createElement("strong",{key:"admin1"},t[0]),admin2:o.a.createElement("strong",{key:"admin2"},t[1])}):3===t.length?m("text with 3 admin",{boardMembersOnTeam:k,learnMoreLink:v,admin1:o.a.createElement("strong",{key:"admin1"},t[0]),admin2:o.a.createElement("strong",{key:"admin2"},t[1]),admin3:o.a.createElement("strong",{key:"admin3"},t[2])}):t.length>3?m("text with more admins",{boardMembersOnTeam:k,learnMoreLink:v,othersLink:h,admin1:o.a.createElement("strong",{key:"admin1"},t[0]),admin2:o.a.createElement("strong",{key:"admin2"},t[1]),admin3:o.a.createElement("strong",{key:"admin3"},t[2])}):void 0}}])&&l(n.prototype,i),m&&l(n,m),h}(o.a.Component);t.default=m},"./app/common/components/billable-guests-alert/inline-link.tsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),i=n.n(r);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(m,e);var t,n,r,u,p=(t=m,function(){var e,n=d(t);if(c()){var r=d(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return l(this,e)});function m(){return o(this,m),p.apply(this,arguments)}return n=m,(r=[{key:"render",value:function(){var e=this.props,t=e.text,n=e.href,r=void 0===n?"#":n,o=e.onClick,a=void 0===o?function(){}:o;return i.a.createElement("a",{onClick:a,href:r,rel:"noopener noreferrer",target:"_blank"},t)}}])&&a(n.prototype,r),u&&a(n,u),m}(i.a.Component);t.a=u},"./app/common/components/controls/button/button.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/common/components/controls/button/button.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./app/common/components/controls/button/button.tsx":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return h})),n.d(t,"f",(function(){return g})),n.d(t,"e",(function(){return v})),n.d(t,"g",(function(){return b})),n.d(t,"d",(function(){return y}));var r,i,o=n("./node_modules/classnames/index.js"),a=n.n(o),s=n("./app/common/lib/util/forward-ref-component.ts"),l=n("./node_modules/react/index.js"),c=n.n(l),d=n("./app/common/components/controls/icon/index.tsx"),u=n("./app/common/components/controls/button/button.less"),p=n.n(u);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}!function(e){e.DEFAULT="default",e.ICON="icon",e.PRIMARY="primary",e.DANGER="danger",e.DISABLED="disabled",e.LINKBUTTON="linkButton"}(r||(r={})),function(e){e.DEFAULT="default",e.WIDE="wide",e.FULLWIDTH="fullwidth"}(i||(i={}));var h=Object(s.a)("Button",(function(e,t){var n=e.children,o=e.onClick,s=e.className,l=e.buttonType,d=e.size,u=e.testId,h=f(e,["children","onClick","className","buttonType","size","testId"]),g=h.disabled;return c.a.createElement("button",m({ref:t,className:a()(p.a.button,s,p.a[l||r.DEFAULT],p.a[d||i.DEFAULT],{[p.a[r.DISABLED]]:g}),onClick:o,"data-test-id":u,type:"button"},h),n)})),g=Object(s.a)("LinkButton",(function(e,t){var n=e.children,i=e.onClick,o=e.className,a=f(e,["children","onClick","className"]);return c.a.createElement(h,m({ref:t,buttonType:r.LINKBUTTON,onClick:i,className:o},a),n)})),v=Object(s.a)("IconButton",(function(e,t){var n=e.children,r=e.icon,i=e.color,o=e.onClick,s=e.size,l=e.largeIcon,u=e.smallIcon,g=e.className,v=f(e,["children","icon","color","onClick","size","largeIcon","smallIcon","className"]),b={name:r,color:i};return l?(b.large=!0,b.className=a()(p.a.largeIcon,p.a["button-icon-".concat(i||"")])):(u||!u&&!l)&&(b.small=!0,b.className=a()(p.a.smallIcon,p.a["button-icon-".concat(i||"")])),c.a.createElement(h,m({ref:t,size:s,onClick:o,className:a()(p.a.iconButton,g,{[p.a.iconButtonSmall]:b.small,[p.a.iconButtonLarge]:b.large})},v),c.a.createElement(d.default,b),n&&c.a.createElement("span",{className:p.a.iconButtonContents},n))})),b=Object(s.a)("PrimaryButton",(function(e,t){var n=e.children,i=e.onClick,o=e.size,a=f(e,["children","onClick","size"]);return c.a.createElement(h,m({ref:t,buttonType:r.PRIMARY,size:o,onClick:i},a),n)})),y=Object(s.a)("DangerButton",(function(e,t){var n=e.children,i=e.onClick,o=e.size,a=f(e,["children","onClick","size"]);return c.a.createElement(h,m({ref:t,buttonType:r.DANGER,size:o,onClick:i},a),n)}))},"./app/common/components/power-up/index.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"PowerUpItemType",(function(){return S.a})),n.d(t,"PowerUp",(function(){return O}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./node_modules/classnames/index.js"),a=n.n(o),s=n("./app/common/components/power-up/power-up.less"),l=n.n(s),c=function(e){var t=e.name,n=e.subtitle,r=e.icon;return i.a.createElement("div",{className:l.a.flexRow},i.a.createElement("div",{className:l.a.relative},i.a.createElement("span",{className:l.a.icon,style:{backgroundImage:"url(".concat(r.url,")")}})),i.a.createElement("div",{className:l.a.nameContainer},i.a.createElement("span",{className:l.a.name},t),n&&i.a.createElement("span",{className:l.a.subtitle},n)))},d=function(e){return i.a.createElement("div",{className:a()(l.a.twoColumnGrid,e.className)},i.a.createElement(c,e),e.button)},u=n("./app/common/lib/util/i18n/index.ts"),p=n("./app/common/components/controls/index.tsx"),m=Object(u.forTemplate)("directory_power_up_item"),f=function(e){var t=e.button,n=e.usage,r=e.promotional,o=e.staffPick;return i.a.createElement("div",{className:l.a.badges},t,"number"==typeof n&&n>0&&i.a.createElement("div",{className:l.a.pupBadge,title:m("usage-explanation",{count:n.toLocaleString()})},i.a.createElement(p.Icon,{className:l.a.usageBadgeIcon,name:p.IconName.Board}),i.a.createElement("span",null,n.toLocaleString(),"+")),r&&i.a.createElement("div",{className:a()(l.a.pupBadge,l.a.bonusBadge),title:m("bonus-explanation")},i.a.createElement("span",null,m("bonus"))),o&&i.a.createElement("div",{className:a()(l.a.pupBadge,l.a.bonusBadge),title:m("staff-pick-explanation")},i.a.createElement("span",null,m("staff-pick"))))};function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var v=function(e){var t=e.className,n=e.overview,r=e.icon,o=e.name,s=e.promotional,c=e.staffPick,d=e.usage,u=g(e,["className","overview","icon","name","promotional","staffPick","usage"]);return i.a.createElement("div",{className:a()(l.a.descriptionAtomGrid,t)},i.a.createElement("div",{className:l.a.logoNameGrid},i.a.createElement("span",{className:l.a.icon,style:{backgroundImage:"url(".concat(r.url,")")}}),i.a.createElement("span",{className:l.a.name,title:o},o)),u.button,i.a.createElement("span",{className:l.a.description},n),i.a.createElement(f,{promotional:s,usage:d,staffPick:c}))},b=function(e){var t=e.className,n=g(e,["className"]);return i.a.createElement(v,h({className:a()(l.a.descriptionAtom,t)},n))};function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function k(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var w=function(e){var t=e.className,n=e.heroImageUrl,r=k(e,["className","heroImageUrl"]),o="",s=[];return n&&(n["@1x"]&&(o=n["@1x"],s.push(n["@1x"])),n["@2x"]&&s.push("".concat(n["@2x"]," 2x"))),i.a.createElement("div",{className:a()(l.a.featuredAtomContainer,t)},i.a.createElement("img",{alt:"",className:l.a.heroImage,role:"presentation",src:o,srcSet:s.join(", ")}),i.a.createElement(v,y({className:l.a.featuredAtom},r)))};function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var _=function(e){var t=e.className,n=e.icon,r=e.name,o=e.subtitle,s=e.promotional,c=e.staffPick,d=e.usage,u=C(e,["className","icon","name","subtitle","promotional","staffPick","usage"]);return i.a.createElement("div",{className:a()(l.a.listingAtomGrid,t)},i.a.createElement("div",{className:l.a.logoNameGrid},i.a.createElement("span",{className:l.a.icon,style:{backgroundImage:"url(".concat(n.url,")")}}),i.a.createElement("div",{className:l.a.nameContainer},i.a.createElement("span",{className:l.a.listingName,title:r},r),o&&i.a.createElement("span",{className:l.a.subtitle},o))),i.a.createElement(f,{button:u.button,usage:d,promotional:s,staffPick:c}))},j=function(e){var t=e.className,n=C(e,["className"]);return i.a.createElement(_,x({className:t},n))},S=n("./app/common/components/power-up/types.ts"),O=function(e){var t=e.type,n=e.atomProps;return t===S.a.Featured?i.a.createElement(w,n):t===S.a.Description?i.a.createElement(b,n):t===S.a.Listing?i.a.createElement(j,n):i.a.createElement(d,n)};t.default=O},"./app/common/components/power-up/loading-skeleton.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"PowerUpLoadingSkeleton",(function(){return m}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./node_modules/classnames/index.js"),a=n.n(o),s=n("./app/common/components/power-up/power-up.less"),l=n.n(s),c=n("./app/common/components/power-up/types.ts"),d=function(e){var t=e.className;return i.a.createElement("div",{className:a()(l.a.flexRowSpaceBetween,t)},i.a.createElement("div",{className:l.a.flexRow},i.a.createElement("div",{className:l.a.relative},i.a.createElement("span",{className:a()(l.a.icon,l.a.loadingSkeleton)})),i.a.createElement("div",{className:l.a.nameContainer},i.a.createElement("span",{className:a()(l.a.name,l.a.loadingSkeleton)}))),i.a.createElement("span",{className:a()(l.a.loadingSkeletonButton,l.a.loadingSkeleton)}))},u=function(e){var t=e.className;return i.a.createElement("div",{className:a()(l.a.flexColumn,l.a.descriptionAtom,t)},i.a.createElement(d,null),i.a.createElement("span",{className:a()(l.a.description,l.a.loadingSkeleton)}))},p=function(e){var t=e.className;return i.a.createElement("div",{className:a()(l.a.featuredAtomContainer,t)},i.a.createElement("div",{className:a()(l.a.heroImage,l.a.loadingSkeleton)}),i.a.createElement("div",{className:a()(l.a.flexColumn,l.a.featuredAtom)},i.a.createElement(d,null),i.a.createElement("span",{className:a()(l.a.description,l.a.loadingSkeleton)})))},m=function(e){return e.type===c.a.Featured?i.a.createElement(p,e):e.type===c.a.Description?i.a.createElement(u,e):i.a.createElement(d,e)};t.default=m},"./app/common/components/power-up/power-up.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/common/components/power-up/power-up.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./app/common/components/power-up/types.ts":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e.Basic=0]="Basic",e[e.Description=1]="Description",e[e.Featured=2]="Featured",e[e.Listing=3]="Listing"}(r||(r={}))},"./app/common/lib/util/last-organization.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./packages/storage/index.ts");function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.TrelloStorage,t="idLastOrganization",n="none";return{NO_ORGANIZATION:n,LAST_ORGANIZATION:t,set(r){e.set(t,r||n)},get(){var n=e.get(t);return"string"==typeof n?n:null}}}},"./app/common/lib/util/non-public-fields-filter.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"useNonPublicIfAvailable",(function(){return r}));var r=function(e,t){return e.nonPublic&&e.nonPublic[t]?e.nonPublic[t]:e[t]}},"./app/gamma/src/components/canonical-components/index.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return z})),n.d(t,"a",(function(){return R}));var r=n("./packages/browser/index.ts"),i=n("./packages/trello-canonical-components/index.ts"),o=n("./app/common/lib/util/i18n/index.ts"),a=n("./app/common/lib/util/preview.ts"),s=n("./node_modules/react/index.js"),l=n.n(s),c=n("./packages/dates/index.ts"),d=n("./app/gamma/src/util/sort.ts"),u=(n("./app/common/components/singlespa/link-wrapper.tsx"),n("./packages/trello-canonical-components/src/card-front/Badges.tsx")),p=n("./packages/feature-flag-client/index.ts"),m=n("./packages/colors/index.ts"),f=n("./packages/trello-canonical-components/src/card-front/CardLabel.tsx");function h(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var g=i.CanonicalCard.ArchivedBadge,v=i.CanonicalCard.AttachmentsBadge,b=i.CanonicalCard.Card,y=i.CanonicalCard.CardBadges,k=i.CanonicalCard.CardCover,w=i.CanonicalCard.CardDetails,x=i.CanonicalCard.CardLabels,C=(i.CanonicalCard.CardLink,i.CanonicalCard.CardMembers),_=i.CanonicalCard.CardStickers,j=i.CanonicalCard.CardTitle,S=i.CanonicalCard.ChecklistBadge,O=i.CanonicalCard.CommentsBadge,E=i.CanonicalCard.DescriptionBadge,N=i.CanonicalCard.DueDateBadge,T=i.CanonicalCard.NotificationBadge,P=i.CanonicalCard.Sticker,B=i.CanonicalCard.SubscribedBadge,D=i.CanonicalCard.TrelloAttachmentsBadge,I=i.CanonicalCard.VotesBadge,A=Object(o.forTemplate)("canonical_card");function L(){return p.featureFlagClient.get("remarkable.rmk-239",!1)}var M={red:m.Red400,blue:m.TrelloBlue300,green:m.Green400,orange:m.Orange400,purple:m.Purple400,yellow:m.Yellow400,pink:m.Pink400,sky:m.Sky400,lime:m.Lime400,black:m.N800},F={red:"DotsChecker",blue:"StripeHorizontal",green:"StripeDiagonal",orange:"StripeVertical",purple:"GrooveDiagonal",yellow:"WaveSquare",pink:"BrickHorizontal",sky:"BrickDiagonal",lime:"Scale",black:"BrickVertical"},R=function(e){var t=e.name,n=e.team,o=e.members,s=void 0===o?[]:o,p=e.labels,m=void 0===p?[]:p,h=e.colorBlind,b=e.cover,R=e.coverHeight,z=e.archived,V=e.badges,U=e.isTemplate,H=e.stickers,$=void 0===H?[]:H,W=e.expandLabels,G=e.numNotifications,q=e.replacements,K=void 0===q?{}:q,Y=V&&V.attachmentsByType?V.attachmentsByType.trello.board+V.attachmentsByType.trello.card:0,J=V?V.attachments-Y:0,X=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.hasStickers,i=t.heightOverride,o=t.colorBlind,s={height:0,img:"",bgColor:"",bgSize:"cover",sharedSourceUrl:"",pattern:null};if(!e)return s;var l=e?Object(a.smallestPreviewBiggerThan)(e.previews,Object(r.isHighDPI)()?600:300)||Object(a.biggestPreview)(e.previews):null;if(l){s.img=l.url?l.url:e.url,s.sharedSourceUrl=e.sharedSourceUrl,s.bgColor=e.edgeColor;var c=Math.min(l.height,260),d=245*l.height/l.width;d<=c?(s.height=d,s.bgSize="cover"):(s.height=c,s.bgSize="contain")}return e.color&&L()&&(s.bgColor=M[e.color],s.height=n?64:32,o&&(s.bgSize=void 0,s.pattern=F[e.color])),s.height=i||s.height,s}(b,{hasStickers:$.length>0,heightOverride:R,colorBlind:h}),Q=new Set(n&&n.memberships?n.memberships.filter((function(e){return e.deactivated})).map((function(e){return e.idMember})):[]);return l.a.createElement(l.a.Fragment,null,b&&"full"!==b.size&&l.a.createElement(k,X),$.length>0&&l.a.createElement(_,{height:X.height?X.height:64},$.map((function(e){return l.a.createElement(P,{key:e.id,left:e.left,top:e.top,alt:e.image,img:Object(r.isHighDPI)()&&e.imageUrl2x?e.imageUrl2x:e.imageUrl,rotate:e.rotate,zIndex:e.zIndex})}))),l.a.createElement(w,null,m&&m.length>0&&l.a.createElement(x,null,m.filter((function(e){return!!e.color})).sort(d.b).map((function(e){return l.a.createElement(f.a,{key:e.id,color:e.color,pattern:h?f.b[e.color]:null},W?e.name||" ":null)}))),K.CardTitle?K.CardTitle:l.a.createElement(j,null,t),l.a.createElement(y,null,U&&l.a.createElement(u.c,null,A("card template badge label")),!!G&&l.a.createElement(T,{numUnread:G}),V&&V.subscribed&&l.a.createElement(B,null),V&&V.votes>0&&!U&&l.a.createElement(I,{numVotes:V.votes,voted:V.viewingMemberVoted}),V&&V.due&&!U&&l.a.createElement(N,{dueDate:new Date(V.due),isComplete:V.dueComplete},Object(c.b)(V.due)),V&&V.description&&l.a.createElement(E,null),V&&V.comments>0&&l.a.createElement(O,{numComments:V.comments}),J>0&&l.a.createElement(v,{numAttachments:J}),Y>0&&l.a.createElement(D,{numAttachments:Y}),V&&V.checklistItems>0&&l.a.createElement(S,{numItems:V.checklistItems,numComplete:V.checklistItemsChecked,checkItemsEarliestDue:V.checkItemsEarliestDue}),z&&!U&&l.a.createElement(g,null,A("archived card badge label"))),s&&s.length>0&&l.a.createElement(C,null,s.sort(Object(d.a)("name")).reduceRight((function(e,t){return e.push(l.a.createElement(i.CanonicalAvatar,{key:t.id,avatarSource:t.avatarSource,deactivated:Q.has(t.id)||t.activityBlocked,img:t.avatars&&t.avatars[30],initials:t.initials,lightBackground:!0})),e}),[]))))},z=function(e){var t,n=e.className,r=e.style,i=h(e,["className","style"]);return l.a.createElement(b,{className:n,style:r,cover:i.cover,colorBlind:i.colorBlind,coverHeight:i.coverHeight,truncateNameForFullCover:i.truncateNameForFullCover,hasStickers:!!(null===(t=i.stickers)||void 0===t?void 0:t.length)},l.a.createElement(R,i))}},"./app/gamma/src/components/popover/popover-confirm.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/gamma/src/components/popover/popover-confirm.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./app/gamma/src/components/popover/popover-confirm.tsx":function(e,t,n){"use strict";var r=n("./app/common/components/controls/button/button.tsx"),i=n("./app/common/lib/util/i18n/index.ts"),o=n("./node_modules/react/index.js"),a=n.n(o),s=n("./app/gamma/src/components/popover/popover-confirm.less"),l=n.n(s);t.a=function(e){var t=e.confirmKey,n=e.confirmCallback,o=e.confirmSubstitutions,s=e.isDanger,c=Object(i.forNamespace)(["confirm",t]),d=s?r.d:r.g;return a.a.createElement("div",{className:l.a.confirmContainer},a.a.createElement("p",null,c("text",o)),a.a.createElement(d,{autoFocus:!0,onClick:n,size:r.b.FULLWIDTH},c("confirm",o)))}},"./app/gamma/src/util/cross-flow-essentials.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"getTenantlessProductStoreUrl",(function(){return d})),n.d(t,"getTenantlessCrossFlowUrl",(function(){return u})),n.d(t,"UtmCampaign",(function(){return c})),n.d(t,"setLocationToWacSoftware",(function(){return m})),n.d(t,"setLocationToTryProduct",(function(){return f})),n.d(t,"getSuggestedSiteNames",(function(){return h})),n.d(t,"getCrossFlowEssentialsV2Props",(function(){return g})),n.d(t,"SWITCHER_AVAILABLE_PRODUCTS_URL",(function(){return v})),n.d(t,"AVAILABLE_SITES_PROXY_URL",(function(){return b})),n.d(t,"getAvailableSites",(function(){return y}));var r=n("./packages/config/index.ts"),i=n("./packages/atlassian-analytics/index.ts"),o=n("./node_modules/@atlassiansox/cross-flow-support/dist/esm/index.js");function a(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function s(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c,d=function(){var e=new URL(r.atlassianApiGateway);return e.pathname="gpa-product-store/tenantless.html",e.toString()},u=function(){var e=new URL(r.atlassianApiGateway);return e.pathname="gpa-cross-flow/",e.toString()};!function(e){e.ATLASSIAN_SWITCHER="atlassian_switcher",e.PRODUCT_STORE="product_store",e.CROSSFLOW_ESSENTIALS="cross_flow_essentials_v2",e.TOUCHPOINTS_JSW_BOARD="trello_jsw_touchpoints_board",e.TOUCHPOINTS_JSW_POWERUPS="trello_jsw_touchpoints_powerups",e.TOUCHPOINTS_JSW_SWITCHER="trello_jsw_touchpoints_switcher",e.TOUCHPOINTS_CONFLUENCE_SWITCHER="trello_confluence_touchpoints_switcher",e.TOUCHPOINTS_CONFLUENCE_POWERUPS="trello_confluence_touchpoints_powerups"}(c||(c={}));var p=function(e){var t=e.campaign;return"utm_source=trello&utm_medium=in_product_ad&utm_campaign=".concat(t)},m=function(e){var t=p(e);window.open("".concat(r.wacUrl,"/software?").concat(t),"_blank")},f=function(e,t){var n=p(t);if(e!==o.a.OPSGENIE){var i={[o.a.JIRA_SOFTWARE]:"jira-software",[o.a.JIRA_SERVICE_DESK]:"jira-service-desk",[o.a.CONFLUENCE]:"confluence"}[e];i?window.open("".concat(r.wacUrl,"/try/cloud/signup?bundle=").concat(i,"&edition=free&").concat(n),"_blank"):m(t)}else window.open("".concat(r.wacUrl,"/software/opsgenie/try?").concat(n),"_blank")},h=function(e,t,n){var r=[];function i(e){r.length<5&&r.push(e)}var o,a=s(e);try{var l=function(){var e=o.value;if(5===r.length)return"break";r.push(e.displayName);var n=t.filter((function(t){return t.idEnterprise===e.id}));n.forEach((function(t){i("".concat(e.displayName,"-").concat(t.displayName))})),n.forEach((function(e){i(e.displayName)}))};for(a.s();!(o=a.n()).done;){if("break"===l())break}}catch(e){a.e(e)}finally{a.f()}return t.forEach((function(e){e.idEnterprise||i(e.displayName)})),n&&n.name&&i(n.name),r},g=function(e){switch(e){case"variation-free":return{isCrossFlowV2Enabled:!0,edition:"free"};case"variation-standard":return{isCrossFlowV2Enabled:!0,edition:"standard"};default:return{isCrossFlowV2Enabled:!1}}},v="".concat(r.atlassianApiGateway,"gateway/api/available-products/api/available-products"),b="".concat(r.siteDomain,"/proxy/experiment-api/trello-cross-product-join/available-sites"),y=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t?v:b,e.next=4,fetch(n,{method:"GET",credentials:"include",headers:{"X-Trello-Client-Version":r.clientVersion}});case 4:if(!(o=e.sent).ok){e.next=7;break}return e.abrupt("return",o.json());case 7:throw new Error("unauthorized");case 10:return e.prev=10,e.t0=e.catch(0),i.Analytics.sendOperationalEvent({action:"errored",actionSubject:"fetchAvailableSites",source:"crossFlowOverlay"}),e.abrupt("return",{sites:[]});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){a(o,r,i,s,l,"next",e)}function l(e){a(o,r,i,s,l,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}()},"./app/gamma/src/util/sort.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n("./app/gamma/src/types/models.ts"),i=function(e){return function(t,n){if(!t[e]||!n[e])return 0;var r=t[e].toLocaleLowerCase(),i=n[e].toLocaleLowerCase();return r<i?-1:r>i?1:0}},o=new Map([[r.d.Green,0],[r.d.Yellow,1],[r.d.Orange,2],[r.d.Red,3],[r.d.Purple,4],[r.d.Blue,5],[r.d.Sky,6],[r.d.Lime,7],[r.d.Pink,8],[r.d.Black,9],[null,999]]),a=function(e,t){var n=e.color,r=t.color,i=o.get(n)-o.get(r),a=(n||"").toLowerCase().localeCompare(r||"");return o.has(n)&&o.has(r)?i:a}},"./app/scripts/data/copy-board-header-button-teams.js":function(e,t){e.exports=["54b58957112602c9a0be7aa3","54f4ca2e40406f2c50b072a0"]},"./app/scripts/data/directory.coffee":function(e,t,n){var r,i;n("./packages/config/index.ts").customFieldsId,n("./app/scripts/data/legacy-power-ups.coffee"),i=["analytics-reporting","automation","board-utilities","communication-collaboration","developer-tools","file-management","hr-operations","it-project-management","marketing-social-media","product-design","sales-support"],r=["588a331cc86ffbe08f5d2c67"],e.exports={categories:i,atlassianPowerUps:r}},"./app/scripts/data/dropbox.coffee":function(e,t){e.exports={DropboxPluginId:"55a5d915446f517774210002",DropboxClaimedHosts:["dropbox.com","www.dropbox.com","paper.dropbox.com"]}},"./app/scripts/data/sticker-margin.coffee":function(e,t){e.exports=10},"./app/scripts/data/sticker-size.coffee":function(e,t){e.exports=80},"./app/scripts/debug/constants.ts":function(e,t,n){"use strict";var r;n.r(t),n.d(t,"Feature",(function(){return r})),function(e){e.ActionableTaskView="Actionable Task View",e.TeamlessCollaborationPrompt="Teamless Collaboration Prompt",e.TeamTemplatePicker="Team Template Picker",e.TeamProfile="Team Profile Header",e.TeamEditAvatar="Team Edit Avatar",e.Moonshot="moonshot",e.FreeTrialExistingTeam="Free Trial Existing Team",e.CardDetailDialog="Card Detail Dialog",e.CovidChurn="Covid Churn",e.UpgradePrompt="Upgrade Prompt",e.WorkspacesPreamble="Workspaces Preamble",e.TemplateTips="Template Tips",e.TeamOnboarding="Team Onboarding",e.TemplatesGallery="Templates Gallery",e.TemplatesInCreateFlow="Templates In Create Flow",e.CardFrontLinks="Card Front Links"}(r||(r={}))},"./app/scripts/lib/emoji-provider.coffee":function(e,t,n){var r,i,o,a,s,l,c=function(e,t){return function(){return e.apply(t,arguments)}},d=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};i=n("./app/scripts/db/auth.coffee"),r=n("./app/scripts/network/api-promise.coffee"),n("./app/scripts/network/api-error.coffee"),l=n("./node_modules/emoji-mart/dist-es/utils/data.js").compress,a=n("./node_modules/emoji-mart/dist-es/utils/emoji-index/nimble-emoji-index.js").default,s=n("./node_modules/underscore/underscore.js"),n("./node_modules/bluebird/js/browser/bluebird.js"),o=function(){function e(){this.getSpritesheetsUrl=c(this.getSpritesheetsUrl,this),this._processEmoji=c(this._processEmoji,this),this._fetchEmoji=c(this._fetchEmoji,this)}return e.prototype.categories=[["Smileys & People","people"],["Animals & Nature","nature"],["Food & Drink","foods"],["Activities","activity"],["Travel & Places","places"],["Objects","objects"],["Symbols","symbols"],["Flags","flags"]],e.prototype.apiRoot="/1/emoji",e.prototype.apiParams=function(){return{spritesheets:!0,locale:i.myLocale()}},e.prototype.data=null,e.prototype.emojiIndex=null,e.prototype.spriteSheets=null,e.prototype._fetchEmoji=function(){return null!=this.fetchPromise?this.fetchPromise:this.fetchPromise=r({url:this.apiRoot,data:this.apiParams()}).then(this._processEmoji).catch((function(e){return console.error(e)}))},e.prototype._formatName=function(e){var t;return t=["and","or","nor","a","an","the","so","but","to","of","at","by","from","into","on","onto","off","out","in","over","with","for"],e.toLowerCase().replace(/[\-_]/g," ").split(" ").map((function(e){return d.call(t,e)>=0?e:e.replace(/\b\w/g,(function(e){return e.toUpperCase()}))})).join(" ")},e.prototype._processEmoji=function(e){var t,n,r,i;return n={compressed:!0,categories:[],emojis:{},aliases:{},spriteSheets:{}},t={},this.categories.forEach((function(e,r){var i,o;return o=e[0],i=e[1],n.categories[r]={id:i,name:o,emojis:[]},t[o]=r})),e.trello.forEach((i=this,function(e){var r,o,a,c,d;return o={name:i._formatName(null!=(a=e.name)?a:e.shortName),unified:e.unified,sheet_x:e.sheetX,sheet_y:e.sheetY,text:null!=(c=e.text)?c:"",emoticons:null!=(d=e.texts)?d:[],short_name:e.shortName,short_names:e.shortNames,keywords:e.keywords},null!=e.skinVariations&&(o.skin_variations=s.mapObject(e.skinVariations,(function(e){return{unified:e.unified,native:e.native,sheet_x:e.sheetX,sheet_y:e.sheetY}}))),"Skin Tones"!==e.category&&(r=t[e.category],n.categories[r].emojis.push(o.short_name),n.emojis[o.short_name]=o),o.short_names.forEach((function(e,t){if(0!==t)return n.aliases[e]=o.short_name})),l(o)})),(r=n.categories[t.Flags]).emojis=r.emojis.filter((function(e){if("flag-un"!==e)return!0})).sort(),this.data=n,this.emojiIndex=new a(n),this.spriteSheets=e.spriteSheets,n},e.prototype.getData=function(){return this._fetchEmoji()},e.prototype.getDataSync=function(){return this.data},e.prototype.getIndex=function(){return this._fetchEmoji().then((e=this,function(){return e.emojiIndex}));var e},e.prototype.getSpritesheets=function(){return this._fetchEmoji().then((e=this,function(){return e.spriteSheets}));var e},e.prototype.getSpritesheetsUrl=function(e,t){var n,r;return null!=(n=this.spriteSheets[e])&&null!=(r=n[t])?r.url:void 0},e}(),e.exports=new o},"./app/scripts/lib/google-maps-api.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u;c=n("./node_modules/underscore/underscore.js"),s=n("./node_modules/bluebird/js/browser/bluebird.js"),l=n("./app/scripts/lib/util/index.coffee"),d=n("./packages/config/index.ts").googleMapsApiKey,i=n("./resources/images/location-cluster.svg"),o=n("./resources/images/location-marker.png"),a="icon:"+encodeURIComponent(o),u=n("./app/scripts/lib/marker-clusterer-loader.ts").markerClustererLoader,r=function(){function e(){}return e.prototype.load=function(){var e;return null==this._loadGoogleMapsApiPromise&&(this._loadGoogleMapsApiPromise=s.try((function(){if(null==window.google||null==window.google.maps)return l.loadScript("https://maps.googleapis.com/maps/api/js?key="+d+"&libraries=places")})).return()),null==this._loadMarkerClustererPromise&&(this._loadMarkerClustererPromise=u().then((e=this,function(t){return e.MarkerClusterer=t,e.MarkerClusterer.prototype.setupStyles_=function(){if(!(this.styles_.length>0))return c.times(this.imageSizes_.length,function(e){return function(){return e.styles_.push({url:i,height:40,width:40})}}(this))}}))),s.all([this._loadGoogleMapsApiPromise,this._loadMarkerClustererPromise])},e.prototype.createMap=function(e,t){return null==t&&(t={}),this.load().then((function(){return new window.google.maps.Map(document.getElementById(e),t)}))},e.prototype.createLatLng=function(e,t){return new window.google.maps.LatLng(e,t)},e.prototype.createLatLngBounds=function(){return new window.google.maps.LatLngBounds},e.prototype.createMarker=function(e){return null==e&&(e={}),new window.google.maps.Marker(e)},e.prototype.createMarkerClusterer=function(e,t,n){if(null==n&&(n={}),!this.MarkerClusterer)throw new Error("MarkerClusterer is not yet loaded. You need to await GoogleMapsApi.load() first");return new this.MarkerClusterer(e,t,n)},e.prototype.createInfoWindow=function(e){return null==e&&(e={}),new window.google.maps.InfoWindow(e)},e.prototype.getPlacesService=function(){return null!=this.placesService?this.placesService:this.placesService=new window.google.maps.places.PlacesService(document.createElement("div"))},e.prototype.getAutocompleteService=function(){return null!=this.autocompleteService?this.autocompleteService:this.autocompleteService=new window.google.maps.places.AutocompleteService},e.prototype.createPlacesSessionToken=function(){return new window.google.maps.places.AutocompleteSessionToken},e.prototype.autocomplete=function(e){var t,n,r,i;return t=(n=null!=e?e:{}).input,r=n.sessionToken,this.load().then((i=this,function(){return new s((function(e,n){return i.getAutocompleteService().getPlacePredictions({input:t,sessionToken:r},(function(t,r){return r!==window.google.maps.places.PlacesServiceStatus.OK?n(r):e(t)}))}))}))},e.prototype.getPlaceDetails=function(e){var t,n,r,i;return n=e.placeId,r=e.sessionToken,t=e.fields,this.load().then((i=this,function(){return new s((function(e,o){return i.getPlacesService().getDetails({placeId:n,sessionToken:r,fields:t},(function(t,n){return n!==window.google.maps.places.PlacesServiceStatus.OK?o(n):e(t)}))}))}))},e.prototype.getStaticMap=function(e){var t,n,r,i,o,s,l;return l=(r=null!=e?e:{}).zoom,s=r.width,t=r.height,i=r.scale,n=r.markers,o="https://maps.googleapis.com/maps/api/staticmap?key="+d,null!=l&&(o+="&zoom="+l),null!=s&&null!=t&&(o+="&size="+s+"x"+t),null!=i&&(o+="&scale="+i),null!=n&&(o+="&markers="+a+"%7C",c.each(n,(function(e,t){var r,i;if(r=e.latitude,i=e.longitude,o+=encodeURIComponent(r)+"%2C"+encodeURIComponent(i),t!==n.length-1)return o+="%7C"}))),o},e.prototype.getUrl=function(e,t){return"https://www.google.com/maps/search/?api=1&query="+encodeURIComponent(e)+"%2C"+encodeURIComponent(t)},e}(),e.exports=new r},"./app/scripts/lib/limits.coffee":function(e,t,n){var r,i,o,a;r=n("./node_modules/underscore/underscore.js"),i=function(e,t){return null==e?[]:t.map((function(t){var n,i,o,a,s;if(i=(o=t.split("."))[0],n=o[1],null!=(null!=(s=null!=(a=e[i])?a[n]:void 0)?s.status:void 0))return r.extend({key:t},r.pick(s,"status","count"))})).filter((function(e){return null!=e}))},a={maxExceeded:0,disabled:1,warn:2,ok:3},o=function(e){return r.sortBy(e,(function(e){return a[e.status]}))},e.exports={filterByKeys:i,sort:o}},"./app/scripts/lib/localize-count.coffee":function(e,t,n){var r,i,o;o=n("./app/scripts/lib/try-babble.coffee"),n("./app/scripts/lib/localize.coffee"),r=n("./node_modules/underscore/underscore.js"),i=n("locale").counting,e.exports=function(e,t,n){var a;return null==n&&(n={}),a=r.extend({count:String(t)},n),o(["counts",e,i(t)],a)}},"./app/scripts/lib/marker-clusterer-loader.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"markerClustererLoader",(function(){return i}));var r=n("./packages/use-lazy-component/index.ts"),i=function(){return Object(r.importWithRetry)((function(){return n.e(51).then(n.t.bind(null,"./node_modules/@google/markerclustererplus/src/markerclusterer.js",7))})).then((function(e){return e.default}))}},"./app/scripts/lib/plugins/plugin-cover-with-defaults.coffee":function(e,t,n){var r,i;r=n("./node_modules/underscore/underscore.js"),i=n("./app/scripts/lib/plugins/plugin-validators.coffee"),e.exports=function(e){var t;return t={edgeColor:"transparent",height:e.height,size:"contain",padding:"0",position:"center",stickerHeight:e.height,url:e.url},i.isValidHexColor(e.edgeColor)&&(t.edgeColor=e.edgeColor),"cover"===e.position?t.size="cover":r.isObject(e.position)&&(!0===e.position.padding&&(t.padding="8px",t.stickerHeight+=16),r.contains(["center","left","right"],e.position.align)&&(t.position=e.position.align)),t}},"./app/scripts/lib/recents.coffee":function(e,t,n){var r,i,o,a=[].slice;i=n("./packages/storage/index.ts").TrelloStorage,o=n("./node_modules/underscore/underscore.js"),r=function(){function e(){}return e.prototype._getKey=function(e){return"recent_"+e},e.prototype.add=function(e,t){var n,r;return n=this.get(e),r=o.chain([t].concat(a.call(n))).uniq().first(10).value(),i.set(this._getKey(e),r)},e.prototype.get=function(e,t){var n;return null==t&&(t=10),o.chain(null!=(n=i.get(this._getKey(e)))?n:[]).compact().first(t).value()},e}(),e.exports=new r},"./app/scripts/lib/util/array/count-while.coffee":function(e,t){var n=[].slice;e.exports=function(){var e,t,r,i,o,a,s,l,c,d,u,p;if(e=2<=arguments.length?n.call(arguments,0,r=arguments.length-1):(r=0,[]),d=arguments[r++],t=e[0],u=2<=e.length?n.call(e,1):[],null==t)return 0;if(u.length>0)for(i=o=0,s=t.length;o<s;i=++o)for(p=t[i],a=0,l=u.length;a<l;a++)if((c=u[a]).length<=i||!d(p,c[i]))return i;return t.length}},"./app/scripts/lib/util/event/trigger-list.coffee":function(e,t,n){var r;r=n("./app/scripts/lib/util/event/custom-event.coffee"),e.exports=function(e,t,n){var i,o,a,s,l,c;for(i=new r(t,{bubbles:!1,cancelable:!1,detail:null!=(s=n.detail)?s:void 0}),l=!1,i.stopPropagation=function(){return l=!0,r.prototype.stopPropagation.apply(this,arguments)},o=0,a=e.length;o<a;o++)c=e[o],l||c.dispatchEvent(i)}},"./app/scripts/lib/util/naive-should-component-update.coffee":function(e,t,n){var r,i,o,a;i=n("./node_modules/underscore/underscore.js"),a=n("./app/scripts/lib/util/is-plain-object.coffee"),r=n("./node_modules/react/index.js"),e.exports=function(e,t){return!(o(e,this.props)&&o(t,this.state))},o=function(e,t){var n,s,l,c;if(a(e)&&a(t)){if(i.keys(e).length!==i.keys(t).length)return!1;for(l in e)if(e[l],!o(e[l],t[l]))return!1}else if(r.isValidElement(e)&&r.isValidElement(t)){if(!o([e.props,e.state],[t.props,t.state]))return!1}else if(i.isArray(e)&&i.isArray(t)){if(e.length!==t.length)return!1;for(n=s=0,c=e.length;s<c;n=++s)if(e[n],!o(e[n],t[n]))return!1}else{if(i.isFunction(e)&&i.isFunction(t))return!0;if(e!==t)return!1}return!0}},"./app/scripts/lib/util/removeAllRanges.coffee":function(e,t){e.exports=function(){if(window.getSelection){if(window.getSelection().empty)return window.getSelection().empty();if(window.getSelection().removeAllRanges)return window.getSelection().removeAllRanges()}else if(document.selection)return document.selection.empty()}},"./app/scripts/lib/util/selection/has-selection.coffee":function(e,t){e.exports=function(){var e,t;return("function"==typeof window.getSelection&&null!=(e=window.getSelection())?e.toString():void 0)||(null!=(t=document.selection)?t.createRange().text:void 0)}},"./app/scripts/lib/util/sticker-clip.coffee":function(e,t,n){var r,i,o;o=n("./app/scripts/data/sticker-margin.coffee"),i=-o,r=100-o,e.exports=function(e){return e<i?i:e>r?r:e}},"./app/scripts/lib/util/text/html-encode.coffee":function(e,t){e.exports=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;")}},"./app/scripts/lib/util/text/links-from-markdown.coffee":function(e,t,n){var r,i=[].slice;r=n("./node_modules/underscore/underscore.js"),e.exports=function(e,t){var n,o,a,s,l;for(l=[],o=0,a=(s=t.blockLex(e,{})).length;o<a;o++)null!=(n=s[o]).children&&(l=i.call(l).concat(i.call(t.inlineLex(n.children.text))));return r.chain(l).filter((function(e){return"link"===e.type})).map((function(n){var r,i;return null!=(e=null!=(r=n.children)?r.text:void 0)?{url:n.url,text:t.textInline(null!=(i=n.children)?i.text:void 0)}:{url:n.url}})).value()}},"./app/scripts/lib/util/text/search-filter.coffee":function(e,t){e.exports=function(e){var t,n;return t=e.toLowerCase().split(/[\s,]+/),n=t.map((function(e,n){return 0===e.length?function(e){return!0}:n===t.length-1?function(t){return 0===t.toLowerCase().indexOf(e)}:function(t){return t.toLowerCase()===e}})),function(e){var t;return Array.isArray(e)&&(e=e.join(" ")),t=e.toLowerCase().split(/\s+/),n.every((function(e){return t.some((function(t){return e(t)}))}))}}},"./app/scripts/lib/util/url/contains-valid-url.coffee":function(e,t){e.exports=function(e){return/(https?|ftp):\/\/(([a-z0-9$_\.\+!\*\'\(\),;\?&=-]|%[0-9a-f]{2})+(:([a-z0-9$_\.\+!\*\'\(\),;\?&=-]|%[0-9a-f]{2})+)?@)?((([a-z0-9]\.|[a-z0-9][a-z0-9-]*[a-z0-9]\.)*[a-z][a-z0-9-]*[a-z0-9]|((\d|[1-9]\d|1\d{2}|2[0-4][0-9]|25[0-5])\.){3}(\d|[1-9]\d|1\d{2}|2[0-4][0-9]|25[0-5]))(:\d+)?)(((\/+([a-z0-9$_\.\+!\*\'\(\),;:@&=-]|%[0-9a-f]{2})*)*(\?([a-z0-9$_\.\+!\*\'\(\),;:@&=-]|%[0-9a-f]{2})*)?)?)?(\#([a-z0-9$_\.\+!\*\'\(\),;:@&=-]|%[0-9a-f]{2})*)?/.test(null!=e?e.toLowerCase():void 0)}},"./app/scripts/lib/util/url/parse-trello-url.coffee":function(e,t,n){var r,i;r=n("./app/scripts/lib/util/url/is-trello.coffee"),i=n("./node_modules/url-parse/index.js"),e.exports=function(e){var t,n,o,a;return r(e)?(n=i(e).pathname.split("/").slice(1),t=n[0],o=n[1],{type:a=function(){switch(t){case"b":return"board";case"c":return"card";case"e":return"enterprise";default:return"unknown"}}(),shortLink:o="card"===a||"board"===a?o:void 0}):{type:"unknown"}}},"./app/scripts/views/_loaders/board-sidebar-view-loader.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"boardSidebarViewLoader",(function(){return i}));var r=n("./packages/use-lazy-component/index.ts"),i=function(){return Object(r.importWithRetry)((function(){return n.e(23).then(n.t.bind(null,"./app/scripts/views/board-menu/board-sidebar-view.js",7))}))}},"./app/scripts/views/action/action-list-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p,m,f,h,g,v,b,y,k,w={}.hasOwnProperty,x=[].slice;r=n("./packages/jquery/index.js"),i=n("./app/scripts/views/action/action-view.coffee"),o=n("./app/scripts/views/action/comment-action-view.coffee"),a=n("./app/scripts/lib/dates.coffee"),s=n("./app/scripts/lib/util/index.coffee"),l=n("./app/scripts/views/internal/view.coffee"),c=n("./node_modules/underscore/underscore.js"),h=n("./node_modules/moment/moment.js"),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)w.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.initialize=function(e){var t;return this.renderOpts=e.renderOpts,this.highlight=e.highlight,this.makeDebouncedMethods("render"),this.listenTo(this.collection,"add reset",this.renderDebounced),this.listenTo(this.collection,"remove",(t=this,function(){return t.removeActionViews(),t.renderDebounced()})),this.actionViews=[],this.showDetails=!0},t.prototype.render=function(){return this.collection._getRelatedBoards().then((e=this,function(){var t;t=""===e.$el.html()||e.showDetails!==e._lastShowDetails||e.missingViews(),e._lastShowDetails=e.showDetails,e.rerender(t,!0)})).then(function(e){return function(){e.trigger("render")}}(this)).done();var e},t.prototype.missingViews=function(){return c.any(this.actionViews,(e=this,function(t){return!r.contains(e.el,t.el)}));var e},t.prototype.sortActions=function(e){return c.sortBy(e,(function(e){return a.parse(e.get("date"))})).reverse()},t.prototype.rerender=function(e,t){var n,r,i,o,a,s,l,d,u,p;for(a=(u=this.saveEdits())[0],o=u[1],i=this.collection.models,i=this.sortActions(i),this.showDetails||(i=c.filter(i,(function(e){return e.isCommentLike()}))),r=g(i).slice(0,this.renderOpts.limit),e&&t&&this.removeActionViews(),this.$(".js-board-member-profile-no-activity").toggleClass("hide",r.length>0),l=s=0,d=r.length;s<d;l=++s)n=r[l],(e||this.actionNeedsRerender(n,l))&&(p=this.rerenderAction(n,l,r,{rerenderAll:e}),this.restoreEdits(a,o,p))},t.prototype.setShowDetails=function(e){return this.showDetails=e},t.prototype.saveEdits=function(){var e,t;return t=[],e=0,this.$(".editing textarea").each((function(){var n;n=r(this),t.push(n.val()),n.is(":focus")&&(n.parents(".editing").addClass("focused"),e=s.getCaretPosition(n))})),null!=t&&t.reverse(),[t,e]},t.prototype.restoreEdits=function(e,t,n){var r;if(n.$el.hasClass("editing"))return n.$("textarea").val(e.pop()),r=s.getElem(n.$("textarea")),n.$el.hasClass("focused")&&s.setCaretPosition(r,t),n.openEditView()},t.prototype._viewForAction=function(e){return/^comment/.test(e.get("type"))?this.subview(o,e,this.renderOpts):this.subview(i,e,this.renderOpts)},t.prototype.rerenderAction=function(e,t,n,r){var i,o,a,s;return s=this._viewForAction(e),i=this.highlight&&this.highlight===e.id,s.setHighlighted(i),r.rerenderAll?(this.appendSubview(s),this.actionViews.push(s)):(this.insertActionView(s,t),1===this.actionViews.length&&1===n.length?(this.actionViews[t].remove(),this.actionViews.splice(t,1,s)):null==this.actionViews[t+1]?this.actionViews.splice(t,1,s):n.length<=this.actionViews.length?this.actionViews[t+1].model.id===(null!=(o=c.first(n[t+1]))?o.id:void 0)?(this.actionViews[t].remove(),this.actionViews.splice(t,1,s)):(this.actionViews.splice(t,0,s),null!=(a=this.actionViews[this.actionViews.length-1])&&a.remove(),this.actionViews=this.actionViews.splice(0,this.actionViews.length-1)):this.actionViews.splice(t,0,s)),s},t.prototype.actionNeedsRerender=function(e,t){var n,r,i,o;return r=null!=e.id?"id":"cid",(null!=(i=this.actionViews[t+1])&&null!=(o=i.model)?o[r]:void 0)===e[r]&&(this.actionViews[t].remove(),this.actionViews.splice(t,1)),!(n=this.actionViews[t])||e[r]!==n.model[r]},t.prototype.insertActionView=function(e,t){return this.actionViews[t]?(e.delegateEvents(),e.render().$el.insertBefore(this.actionViews[t].el)):this.appendSubview(e)},t.prototype.removeActionViews=function(){this.removeSubviews(),this.actionViews=[]},t.prototype.delegateEvents=function(){var e,n,r;for(t.__super__.delegateEvents.apply(this,arguments),e=0,n=(r=this.actionViews).length;e<n;e++)r[e].delegateEvents()},t.prototype.undelegateEvents=function(){var e,n,r;for(t.__super__.undelegateEvents.apply(this,arguments),e=0,n=(r=this.actionViews).length;e<n;e++)r[e].undelegateEvents()},t.prototype.remove=function(){return this.removeActionViews(),t.__super__.remove.apply(this,arguments)},t.prototype.setHighlight=function(e){var t,n;e!==this.highlight&&(this.highlight&&null!=(n=this.collection.get(this.highlight))&&this._viewForAction(n).setHighlighted(!1),this.highlight=e,this.highlight&&(t=this.collection.get(this.highlight))&&this._viewForAction(t).setHighlighted(!0))},t}(l),y=(v=function(e){return function(t){return function(n,r){return e in n&&e in r&&n[e].id===r[e].id?t(n,r):[!1,!1]}}})("card"),b=v("board"),p=function(e){return[e,e]},u=function(e,t){var n,r,i,o;return n=e[0],r=e[1],i=t[0],o=t[1],[n||i,r||o]},m=function(e,t){var n,r;return null!=t&&(0===e.length||(n=e[0],r=2<=e.length?x.call(e,1):[],m(r,t[n])))},f=function(){var e,t;return e=arguments[0],t=2<=arguments.length?x.call(arguments,1):[],c.all(t,(function(t){return m(e,t)}))},d=[{a:"removeMemberFromCard",b:"addMemberToCard",cancel:y((function(e,t){return p(e.idMember===t.idMember)}))},{a:"deleteAttachmentFromCard",b:"addAttachmentToCard",cancel:y((function(e,t){return p(e.attachment.id===t.attachment.id)}))},{a:"updateCheckItemStateOnCard",b:"updateCheckItemStateOnCard",cancel:y((function(e,t){return p(e.checkItem.id===t.checkItem.id)}))},{a:"updateCard",b:"updateCard",cancel:y((function(e,t){return p("listAfter"in e&&"listBefore"in t&&e.listAfter.id===t.listBefore.id)}))},{a:"addChecklistToCard",b:"removeChecklistFromCard",cancel:y((function(e,t){return p(e.checklist.id===t.checklist.id)}))},{a:"updateBoard",b:"updateBoard",cancel:b((function(e,t){return[f(["board","prefs","background"],e,t),!1]}))}],k=function(e,t){return d.reduce((function(n,r){return e.type!==r.a||t.type!==r.b?n:u(n,r.cancel(e,t))}),[!1,!1])},g=function(e){var t,n,r,i,o,a,s,l,d,u;if(1===e.length)return e;for(r={},s=a=0,l=(d=e.slice(0,-1)).length;a<l;s=++a)i=d[s].toJSON(),o=e[s+1].toJSON(),c.extend(i,i.data),c.extend(o,o.data),i.idMemberCreator===o.idMemberCreator&&h(i.date).diff(o.date,"minutes")<5&&!r[i.id]&&!r[o.id]&&(t=(u=k(i,o))[0],n=u[1],t&&(r[i.id]=!0),n&&(r[o.id]=!0));return c.reject(e,(function(e){return r[e.id]}))}},"./app/scripts/views/action/action-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p,m,f,h,g,v,b,y,k,w,x,C,_,j,S,O,E,N,T,P,B,D,I,A,L,M,F,R,z,V={}.hasOwnProperty;r=n("./packages/jquery/index.js"),n("./app/scripts/models/action.coffee"),i=n("./app/scripts/views/member-menu-profile/activity-member-menu-view.coffee"),n("./packages/config/index.ts").siteDomain,o=n("./app/scripts/views/attachment/helpers.coffee"),a=n("./app/scripts/views/internal/attachment-viewer.coffee"),s=n("./app/scripts/db/auth.coffee"),n("./app/scripts/models/board.coffee"),l=n("./app/scripts/views/internal/board-display-helpers.coffee"),c=n("./packages/browser/index.ts"),n("./app/scripts/models/card.coffee"),u=n("./app/scripts/controller/index.js"),p=n("./app/scripts/lib/dates.coffee"),m=n("./app/scripts/lib/entity-display.coffee"),N=n("./app/scripts/lib/util/selection/has-selection.coffee"),f=n("./app/scripts/db/known-services.coffee"),h=n("./app/scripts/db/model-cache.coffee"),v=n("./app/scripts/views/lib/pop-over.coffee"),y=n("./node_modules/react/index.js"),k=n("./packages/react-dom-wrapper/index.ts"),w=n("./app/scripts/views/reactions/reaction-piles.coffee"),x=n("./app/scripts/lib/markdown/tfm.coffee"),C=n("./app/scripts/lib/util/index.coffee"),T=n("./app/scripts/lib/util/url/is-trello-attachment.coffee"),_=n("./app/scripts/views/internal/view.coffee"),j=n("./node_modules/underscore/underscore.js"),E=n("./app/scripts/views/internal/friendly-links.coffee"),B=n("./app/scripts/debug/log.js"),D=n("./node_modules/moment/moment.js"),F=n("./app/scripts/views/internal/templates.coffee"),M=n("./packages/analytics/index.ts"),R=M.track,z=M.trackUe,P=n("./app/scripts/lib/localize.coffee"),S=n("./app/scripts/views/templates/action.coffee"),b=n("./node_modules/bluebird/js/browser/bluebird.js"),g=n("./app/scripts/views/internal/plugins/plugin-runner.coffee"),d=n("./app/scripts/views/templates/comment-unfurl-preview.coffee"),L=n("./app/scripts/lib/plugins/plugin-validators.coffee"),O=n("./packages/feature-flag-client/index.ts").featureFlagClient,I=n("./app/scripts/controller/navigate.js").navigate,A=n("./node_modules/url-parse/index.js"),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)V.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.className="phenom",t.prototype.initialize=function(e){var t,n,r,i,o;return this.context=e.context,this.highlighted=e.highlighted,this.listenTo(this.model,"takingTooLong change",this.render),null!=(null!=(i=(r=this.model.get("data")).card)?i.id:void 0)&&r.board&&(this.listenTo(this.modelCache,"remove:Action:"+this.model.get("id"),(o=this,function(){return o.remove()})),null!=(t=this.model.getCard())&&t.id!==this.context.id&&this.listenTo(t,"change:name",this.render)),null!=(n=this.model.getChecklist())&&this.listenTo(n,"change:name",this.render),this.listenTo(this.model.reactionList,"add remove reset",this.renderReactions)},t.prototype.events={"click .js-show-mem-menu":"viewMemberActionMenu","click .js-open-attachment-viewer":"openAttachmentViewer","click .js-open-card":"openCard","click .js-reply-to-action":"reply","click .js-reply-to-all-action":"replyAll","click .js-expand-comment":"expandComment","click a":"checkAttachment"},t.prototype.getData=function(){var e;return e=new m("action").getEntities(this.model.getDisplay(),this.context.id),{saved:null!=this.model.id,entities:j.map(e,this._withEntityInfo.bind(this)),date:this.model.get("date"),dateLastEdited:this.model.get("data").dateLastEdited,textData:this.model.get("data").textData,url:null!=this.model.getCard()?u.getActionUrl(this.model):null}},t.prototype.getTrackingContext=function(){var e,t,n,r,i;return t=(i=this.model.get("data")).card,r=i.list,e=i.board,n="Card"===this.context.typeName?"card detail":"board sidebar",j.extend({},{actionId:this.model.id,cardId:null!=t?t.id:void 0,listId:null!=r?r.id:void 0,boardId:null!=e?e.id:void 0},{category:n})},t.prototype.trackWithData=function(e,t,n,r,i){var o,a;return a=this.getTrackingContext().category,o=JSON.stringify(j.omit(this.getTrackingContext(),"category")),z(a,e,t,n,r,i,o)},t.prototype.getContext=function(){var e,t,n,r,i,o,a,c,d,p,m;return t={},n=s.me(),e=this.modelCache.get("Board",null!=(o=this.model.get("data"))&&null!=(a=o.board)?a.id:void 0),this.options.showBoard&&null!=e&&(t.board=e.toJSON({prefs:!0,url:!0}),t.boardPLevelIconClass=l.getPermLevelIconClassForBoard(e),t.boardPLevelAltText=l.getPermLevelAltTextForBoard(e)),this.options.showOrganization&&null!=(i=this.modelCache.get("Organization",null!=(c=this.model.get("data"))&&null!=(d=c.organization)?d.id:void 0))&&(t.organization=i.toJSON({prefs:!0,url:!0}),t.orgPLevelIconClass=i.getPermLevel(),t.orgPLevelAltText=P(["org perms",i.getPermLevel(),"text"])),r=this.modelCache.get("Member",this.model.get("idMemberCreator")),t.canReply=(null!=e?e.canComment(n):void 0)&&(this.model.isAddAttachment()||this.model.isCommentLike()&&null!=r&&!s.isMe(r)),t.canReplyAll=t.canReply&&new RegExp(/@([a-z0-9_]+)/).test(this.model.get("data").text),t.canDelete=this.model.deletable(),t.canEdit=this.model.editable(),t.member=null!=r?r.toJSON():void 0,null!=(p=t.member)&&(p.url=u.getMemberProfileUrl(t.member.id)),null!=(m=t.member)&&(m.isDeactivated=null!=e?e.isDeactivated(t.member):void 0),t.showReactions="Card"===this.context.typeName&&"commentCard"===this.model.get("type"),t.canReact=this.model.canReact(),t.showInlineReactionButton=t.showReactions&&!this.model.reactionList.length,t},t.prototype.getOptions=function(){var e,t;return{showCompactAttachmentPreview:this.options.compact,truncateComment:null!=(t="function"==typeof(e=this.options).truncateComments?e.truncateComments(this.model):void 0)&&t,showOptions:!this.model.isPlaceholder()&&!this.options.compact&&!this.options.readOnly,useEmbedly:!this.options.compact&&this.model.isCommentLike(),usePreviews:!this.options.compact&&this.model.isAddAttachment(),useCommentUnfurl:null!=this.options.compact&&!this.options.compact&&this.model.isCommentLike(),extremeTruncation:this.options.extremeTruncation}},t.prototype.render=function(){var e,t,i,o,a,s,l,c,d,u,m,h,g,v,b;if(s=this.getData(),u=this.getOptions(),a=this.getContext(),B("actions",s),this.$el.addClass(this.model.isCommentLike()?"mod-comment-type":"mod-attachment-type"),this.$el.html(S(s,a,u)),null!=(o=this.model.getBoard())&&(this.$(".js-friendly-links").each((function(){return E(this,o)})),O.get("ecosystem.comment-link-unfurl-preview",!1)&&u.useCommentUnfurl&&this.$(".js-friendly-links").each((b=this,function(){return b.renderCommentPreviews(b,o)}))),u.useEmbedly)for(e=this.$(".js-embedly"),c=0,d=(m=s.entities).length;c<d;c++)if("comment"===(l=m[c]).type&&null!=l.embedly)try{for(g in h=JSON.parse(l.embedly))v=h[g],/wistia/i.test(g)||(v["type_"+v.type]=!0,v.requireHttps=!0,e.show().append(F.fill(n("./app/scripts/views/templates/embedly.coffee"),v)))}catch(e){}return u.usePreviews&&(i=j.filter(s.entities,(function(e){return"attachment"===e.type})),j.isEmpty(i)||(t=this.$(".js-previews"),f.previewHtml(i[0].url,(function(e,n){if(t.empty(),null!=e){if(null!=e.login)return r("<div>").addClass("attachment-extra-info-login").html(e.login).appendTo(t),t.removeClass("hide")}else if(null!=n)return r("<div>").addClass("attachment-extra-info").html(n).appendTo(t),t.removeClass("hide")})))),p.update(this.el),this.$el.toggleClass("unsent",!!this.model.isTakingTooLong),this.renderHighlighted(),this.renderReactions(),this},t.prototype.renderHighlighted=function(){return this.$el.toggleClass("mod-highlighted",!!this.highlighted),this},t.prototype.renderReactions=function(){var e;if(e=this.getContext(),this.reactRoot=this.$(".js-reaction-piles")[0])return k.render(y.createElement(w,{actionId:this.model.id,reactionList:this.model.reactionList,canReact:e.canReact,trackingContext:this.getTrackingContext()}),this.reactRoot)},t.prototype.renderCommentPreviews=function(e,t){var n,r;return n=j.flatten(this.$(".js-friendly-links").toArray().map((function(e){return null!=e.tagName==="A"?[e]:j.toArray(e.querySelectorAll("a"))}))).map((function(e){return e.href})).filter((function(e){return null!=e})),b.map(n,(function(e){return b.try((function(){return g.one({command:"format-url",board:t,options:{url:e}})})).then((function(t){return null!=t?j.extend(t,{url:e}):null})).catch(g.Error.NotHandled,(function(){return null}))})).then((r=this,function(e){var t,n;if(null!=e&&e.length>0)return n=e.filter(L.isValidUrlUnfurl).map((function(e){var t;return(null!=e&&null!=(t=e.actions)?t.length:void 0)>2&&(e.actions=e.actions.slice(0,2)),r.subview(d,r.model,{commentUnfurl:e},e.url)})),t=r.$(".comment-preview"),r.ensureSubviews(n,t),t.show()}))},t.prototype.remove=function(){return this.reactRoot&&k.unmountComponentAtNode(this.reactRoot),t.__super__.remove.apply(this,arguments)},t.prototype._tfmFormatOpts=function(){return this.model.get("data").card,this.model.get("data").board,{textData:this.model.get("data").textData}},t.prototype._withEntityInfo=function(e){var t,n,r,i,o,a,s,l,d,u;return"attachment"===(i=j.clone(e)).type&&(i.url=this.model.get("data").attachment.url,!i.url&&i.isFriendly&&(i.url=i.text)),"attachmentPreview"===i.type&&(i.previewUrlForRes=null!=(n=h.get("Card",null!=(o=this.model.get("data").card)?o.id:void 0))&&(t=n.attachmentList.get(null!=(a=this.model.get("data").attachment)?a.id:void 0))?c.isHighDPI()?null!=(s=null!=(l=t.smallestPreviewBiggerThan(1e3))?l:t.biggestPreview())?s.url:void 0:null!=(d=null!=(u=t.smallestPreviewBiggerThan(500))?u:t.biggestPreview())?d.url:void 0:void 0,null==i.previewUrlForRes&&(i.previewUrlForRes=c.isHighDPI()&&null!=i.previewUrl2x?i.previewUrl2x:i.previewUrl)),"comment"===i.type&&(i.textHtml=x.comments.format(i.text,this._tfmFormatOpts()).output),"checkItem"===i.type&&(i.nameHtml=x.checkItems.format(i.text,this._tfmFormatOpts()).output),"date"===i.type&&(i.text=D(i.date).calendar()),"card"===i.type&&null!=(n=h.get("Card",i.id))&&(i.text=n.get("name")),"checklist"===i.type&&null!=(r=h.get("Checklist",i.id))&&(i.text=r.get("name")),i},t.prototype.viewMemberActionMenu=function(e){var t,n,o,a;C.stop(e),t=this.modelCache.get("Member",null!=(n=r(e.target).closest("[idmember]").attr("idmember"))?n:this.model.get("idMemberCreator")),v.toggle({elem:this.$(e.target).closest(".js-show-mem-menu"),view:i,options:{model:t,modelCache:this.modelCache,board:this.modelCache.get("Board",null!=(o=this.model.get("data"))&&null!=(a=o.board)?a.id:void 0)}})},t.prototype.expandComment=function(e){return C.stop(e),this.$(".js-comment").removeClass("is-truncated")},t.prototype.openCard=function(e){var t;"Card"===this.context.typeName||r(e.target).is("a,textarea")||N()||(C.stop(e),null!=(t=u.getActionUrl(this.model))&&I(t,{trigger:!0}))},t.prototype.openAttachmentViewer=function(e){var t,n;e.metaKey||e.ctrlKey||(t=r(e.target)).closest(".window-main-col").length>0&&(C.stop(e),a.isActive()||(n=t.closest(".js-open-attachment-viewer").attr("data-idattachment"),a.show({model:this.model.getCard(),idAttachment:n})))},t.prototype.reply=function(e){return C.stop(e),this.$el.trigger("replyToAction",this.model),R("Card","Reply to Comment")},t.prototype.replyAll=function(e){return C.stop(e),this.$el.trigger("replyToAllAction",this.model),R("Card","Reply to all Comment")},t.prototype.setHighlighted=function(e){e!==this.highlighted&&(this.highlighted=e,this.renderHighlighted())},t.prototype.checkAttachment=function(e){var t,n,r,i;if(!e.metaKey&&!e.ctrlKey)return n=this.model.getCard(),r=e.currentTarget.href,i=A(r).pathname,null!=n&&T(r)&&-1!==r.indexOf(n.id)&&null!=(t=n.attachmentList.find((function(e){return A(e.get("url")).pathname===i})))&&o.isViewerable(C.fileExt(A(t.get("url")).pathname))?(e.preventDefault(),a.show({model:n,idAttachment:t.id})):void 0},t}(_)},"./app/scripts/views/action/comment-action-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p,m,f,h,g,v,b,y,k,w,x,C,_={}.hasOwnProperty;r=n("./packages/jquery/index.js"),i=n("./app/scripts/views/action/action-view.coffee"),o=n("./app/scripts/views/internal/autocomplete/auto-insertion-view.coffee"),a=n("./app/scripts/views/card/attach-links-view.coffee"),l=n("./app/scripts/views/internal/autocomplete/completer-util.coffee"),c=n("./app/scripts/views/lib/confirm.coffee"),n("./app/scripts/controller/index.js"),x=n("./packages/keybindings/index.ts"),y=x.getKey,k=x.isForceSubmitEvent,d=x.Key,u=n("./app/scripts/views/lib/layout.coffee"),m=n("./app/scripts/views/lib/pop-over.coffee"),h=n("./packages/storage/index.ts").TrelloStorage,f=n("./app/scripts/lib/markdown/tfm.coffee"),g=n("./app/scripts/lib/util/index.coffee"),v=n("./node_modules/underscore/underscore.js"),b=n("./node_modules/effing/lib/index.js"),w=n("./app/scripts/lib/util/text/links-from-markdown.coffee"),n("./app/scripts/views/internal/templates.coffee"),C=n("./packages/analytics/index.ts").track,n("./app/scripts/lib/localize.coffee"),p=n("./app/scripts/views/internal/disable-submit-if-length-too-long.coffee"),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)_.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.events=g.extendEvents({"click .js-confirm-delete-action":"confirmDeleteAction","click .js-edit-action":"editAction","click .js-discard-comment-edits":"cancelEdit","click .js-save-edit":"saveEdit","keyup .js-text":"keyAutoMention","keydown .js-text":"keydownJsText","input .js-text":"checkLength","mutated .js-text":"mutatedEvent","click .js-comment-add-attachment":"commentAddAttachment","click .js-comment-mention-member":"commentMentionMember","click .js-comment-add-emoji":"commentAddEmoji","click .js-comment-add-card":"commentAddCard","click .js-attach-link":"attachLink"}),t.prototype.initialize=function(){return t.__super__.initialize.apply(this,arguments),r(window).on("beforeunload.CommentActionView-"+this.model.cid,b(this,"saveDraft"))},t.prototype.remove=function(){this.saveDraft(),r(window).off(".CommentActionView-"+this.model.cid),t.__super__.remove.apply(this,arguments)},t.prototype.mutatedEvent=function(e){this.checkLength(e),this.getTextInput().trigger("autosize.resize")},t.prototype.potentialAttachments=function(){var e;return e=this.model.getCard(),v.filter(w(this.model.get("data").text,f.comments),(function(t){var n;return n=t.url,!e.attachmentUrlRestricted(n)&&!e.attachmentList.any((function(e){return e.get("url")===n}))}))},t.prototype.getContext=function(){var e,n;return n=t.__super__.getContext.apply(this,arguments),e=this.model.getCard(),n.canAttachLink=null!=e&&e.editable()&&this.potentialAttachments().length>0,n},t.prototype.confirmDeleteAction=function(e){var t;g.stop(e),c.toggle("delete comment",{elem:r(e.target).closest(".js-confirm-delete-action")[0],model:this.model,confirmBtnClass:"negate",fxConfirm:(t=this,function(e){return C("Card","Delete Comment"),t.model.destroy()})})},t.prototype.getTextInput=function(){return this.$(".js-text")},t.prototype.getMentionTarget=function(){return this.$(".js-comment-mention-member:visible")[0]},t.prototype.getEmojiTarget=function(){return this.$(".js-comment-add-emoji:visible")[0]},t.prototype.editAction=function(e){if(g.stop(e),!this.$el.hasClass("is-editing"))return this.$el.addClass("is-editing"),this.$("textarea").focus().select(),this.openEditView()},t.prototype.openEditView=function(){this.$(".js-text").attr("placeholder","").autosize({append:!1})},t.prototype.keydownJsText=function(e){return k(e)?this.saveEdit(e):y(e)===d.Escape?(g.stop(e),this.cancelEdit()):this.checkInsert(e)},t.prototype.saveEdit=function(e){var t;("keypress"!==e.type||k(e)||y(e)===d.Enter&&(!r(e.target).is("textarea")||r(e.currentTarget).hasClass("single-line")))&&(g.stop(e),t=this.$(".js-text").val(),this.$(".js-spinner").show(),this.$(".js-hide-on-sending").hide(),this.$(".current-comment").text(t),u.cancelEdit(this.$el),this.discardDraft(),this.model.get("display").entities.comment.text=t,this.model.update("text",t),this.$(".js-text").trigger("autosize.destroy"),m.hide(),C("Card","Edit Comment"))},t.prototype.showError=function(e){},t.prototype.cancelEdit=function(){var e;e=this.model.get("data").text,this.$(".js-text").val(e),u.cancelEdit(this.$el),this.discardDraft(),this.$(".js-text").trigger("autosize.destroy")},t.prototype.getCard=function(){return this.model.getCard()},t.prototype.attachLink=function(e){var t;return g.stop(e),C("Card","Open Attach Links View"),t=this.potentialAttachments(),m.toggle({elem:r(e.currentTarget),view:new a({model:this.getCard(),modelCache:this.modelCache,links:t})})},t.prototype.render=function(){return t.__super__.render.apply(this,arguments),this.recallDraft(),this},t.prototype._draftKey=function(){return"draft_"+this.model.id+"_edit"},t.prototype.recallDraft=function(){var e;if(e=h.get(this._draftKey()))return this.getTextInput().val(e),this.$el.find(".edits-warning").show()},t.prototype.saveDraft=function(){var e;this.$el.hasClass("is-editing")&&((e=this.getTextInput().val())&&e!==this.model.get("data").text?(h.set(this._draftKey(),e),this.$el.find(".edits-warning").show()):this.discardDraft())},t.prototype.discardDraft=function(){return h.unset(this._draftKey()),this.$el.find(".edits-warning").hide()},t}(i),v.extend(s.prototype,o,l,p),e.exports=s},"./app/scripts/views/board-create/photo-attribution-component.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./node_modules/react/index.js"),d=(n("./app/scripts/lib/util/index.coffee"),n("./app/scripts/lib/localize.coffee")),u=n("./app/scripts/views/internal/recup-with-helpers.coffee")(),p=n("./packages/unsplash/index.ts").unsplashClient,m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(h,e);var t,n,c,m,f=(t=h,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function h(){return r(this,h),f.apply(this,arguments)}return n=h,m=[{key:"initClass",value:function(){this.prototype.displayName="PhotoAttributionComponent",this.prototype.render=u.renderable((function(){var e=this.props,t=e.user,n=e.size,r=e.active,i=t.name,o=[".photo-attribution-component"];return null!=n&&o.push(".".concat(n)),null!=r&&(o.push(".photo-attribution-component--active"),i=d(["background photos","photo by"])+" "+t.name),u.div(o.join(""),(function(){return u.a({class:"photo-attribution-component-attribution-link",href:p.appendAttribution(t.links.html),target:"_blank",title:t.name,onClick:e=>e.stopPropagation()},(function(){return u.text(i)}))}))}))}}],(c=null)&&i(n.prototype,c),m&&i(n,m),h}(c.Component);m.initClass(),e.exports=m},"./app/scripts/views/board-menu/board-add-to-organization-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d,u=n("./app/scripts/views/board-menu/board-select-organization-view.js");e.exports=((d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(m,e);var t,n,d,u,p=(t=m,function(){var e,n=c(t);if(l()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function m(){return r(this,m),p.apply(this,arguments)}return n=m,u=[{key:"initClass",value:function(){this.prototype.viewTitleKey="add to a team"}}],(d=[{key:"getTemplateData",value:function(){var e=o(c(m.prototype),"getTemplateData",this).call(this);return e.addToTeam=!0,e}}])&&i(n.prototype,d),u&&i(n,u),m}(u)).initClass(),d=d)},"./app/scripts/views/board-menu/board-add-to-team-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./node_modules/underscore/underscore.js"),d=n("./app/scripts/db/auth.coffee"),u=n("./app/scripts/controller/index.js"),p=n("./app/scripts/lib/localize-count.coffee"),m=n("./packages/config/index.ts").logoDomain,f=n("./app/scripts/db/model-loader.coffee"),h=n("./node_modules/bluebird/js/browser/bluebird.js"),g=n("./app/scripts/lib/util/index.coffee"),v=n("./app/scripts/views/internal/view.coffee"),b=n("./app/scripts/lib/localize.coffee"),y=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("board_power_ups"),k=n("./packages/analytics/index.ts").track,w=n("./app/scripts/controller/navigate.js").navigate;e.exports=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(_,e);var t,n,v,x,C=(t=_,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function _(){return r(this,_),C.apply(this,arguments)}return n=_,(v=[{key:"initialize",value:function(){var e=d.me();return this.menuType=this.options.menuType,this.listenTo(e.organizationList,"add remove reset change",this.frameDebounce(this.render)),this.createNewTeam=0===e.organizationList.length}},{key:"events",value:function(){return{"click .js-team":"clickTeam","click .js-create-team":"clickCreateTeam","click .js-create":"clickCreateNewTeam","click .js-cancel":"clickCancelNewTeam"}}},{key:"render",value:function(){var e=this;return this.$el.html(y.render((function(){if(e.createNewTeam){var t=e.model.memberList.length;return y.div(".create-team",(function(){return y.p((function(){return y.format("first-create-your-business-class-team")})),y.p((function(){if(y.label((function(){y.format("team-name");var e=1===t?{value:y.l("names-projects",{name:d.me().get("fullName")},{raw:!0})}:2===t?{placeholder:y.l("eg-names-projects",{name:d.me().get("fullName")},{raw:!0})}:{};return e.maxLength=100,y.input(".full.js-autofocus.js-name",e)})),t>1)return y.div(".check-div",(function(){return y.input(".js-add-members",{type:"checkbox",checked:!0,id:"addMembers"}),y.label({for:"addMembers",class:"create-team-add-members"},(function(){return y.format("add-the-members-of-this-board-to-the-team")}))}))})),y.div((function(){return y.button(".primary.js-create",(function(){return y.format("create")})),y.a(".create-team-cancel.quiet-button.js-cancel",(function(){return y.format("cancel")}))})),y.hr()})),c.defer((function(){return e.$(".js-name").select().focus()}))}var n=d.me().organizationList.sortBy((function(e){return e.get("displayName").toLowerCase()}));return y.div(".assign-to-team",(function(){return y.p((function(){return y.format("this-board-is-not-in-a-team-yet"),y.text(" "),y.format("please-select-a-team-or-create-a-new-team-to-upgrade")}))})),n.length>0&&y.ul(".assign-to-team-list",(function(){return function(){for(var t=[],r=0,i=Array.from(n);r<i.length;r++){var o=i[r],a=o.canAddBoard(e.model)?o.isAtOrOverFreeBoardLimit()?{class:"disabled",title:b(["out of free team boards","this team has reached the maximum number of open boards"])}:{class:"js-team","data-idOrganization":o.id}:{class:"disabled",title:y.l("team-restrictions-prevent-you-from-adding-this-board-to-this-team")};t.push(y.li(".assign-to-team-list-item.js-assign-team-list-item",a,(function(){return y.div(".assign-to-team-list-item-logo.js-team-logo",(function(){var e=o.get("logoHash");return e?y.img({src:"".concat(m,"/").concat(e,"/30.png")}):y.span(".icon.icon-lg.icon-organization")})),y.div(".assign-to-team-list-item-details",(function(){return y.div(".assign-to-team-list-item-name",(function(){if(y.text(o.get("displayName")),o.isFeatureEnabled("plugins"))return y.text(" "),y.icon("business-class",{class:"icon-business-class-color"})})),y.div(".assign-to-team-list-item-member-count",(function(){var e;if(null!=(e=o.get("memberships")))return y.text(p("members",e.length))}))}))})))}return t}()})),y.div(".assign-to-team-create.js-create-team",(function(){return y.div(".assign-to-team-create-content",(function(){return y.format("create-a-new-team")}))}))}))),this}},{key:"clickTeam",value:function(e){var t=this;this.$(".js-team").addClass("disabled");var n=this.$(e.currentTarget).attr("data-idOrganization");return this.$(e.currentTarget).find(".js-team-logo").html(y.render((function(){return y.span(".spinner")}))),this.model.trigger("added-to-team"),k("".concat(this.options.menuType," Menu"),"Upsell Flow","Add To Existing Team"),h.fromNode((function(e){return t.model.update("idOrganization",n,{waitForServer:!0},e)})).then((function(){t.$(".js-team").removeClass("disabled");var e=t.model.getOrganization();return"Collections"===t.options.menuType&&null!=e&&e.isFeatureEnabled("tags")?f.loadOrganizationMinimal(n).then((function(){return t.model.trigger("team-has-bc")})):w(u.getBoardPowerUpsUpgradeUrl(t.model),{trigger:!0})})).done()}},{key:"clickCreateTeam",value:function(e){return this.createNewTeam=!0,this.render()}},{key:"clickCancelNewTeam",value:function(e){return g.stop(e),this.model.trigger("cancel-add-to-team")}},{key:"clickCreateNewTeam",value:function(e){var t=this,n=this.$(".js-name").val();if(/\S/.test(n)){var r={displayName:n};return this.$(".js-create,.js-cancel").prop("disabled",!0).addClass("disabled"),d.me().organizationList.create(r,{modelCache:this.modelCache,silent:!0,success:function(e){var n=e.id;return t.model.trigger("added-to-team"),t.model.update("idOrganization",n,{waitForServer:!0}),f.loadOrganizationMembersMinimal(n).then((function(){if(t.$(".js-add-members").prop("checked")){var n=t.model.getOrganization();return k("New Org","Create","".concat(t.menuType," Sidebar (with members)"),e.id),h.map(t.model.memberList.models,(function(e){if(!n.isMember(e))return n.changeMemberRole(e,{type:"normal"})}),{concurrency:3})}return k("New Org","Create","".concat(t.menuType," Sidebar (without members)"),e.id)})).then((function(){return w(u.getBoardPowerUpsUpgradeUrl(t.model),{trigger:!0})})).done()}})}}}])&&i(n.prototype,v),x&&i(n,x),_}(v)},"./app/scripts/views/board-menu/board-background-prompt-tooltip.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./node_modules/react/index.js"),d=n("./app/scripts/views/internal/recup-with-helpers.coffee")("board_background_prompt"),u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(m,e);var t,n,c,u,p=(t=m,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function m(){return r(this,m),p.apply(this,arguments)}return n=m,u=[{key:"initClass",value:function(){this.prototype.displayName="BoardBackgroundPromptTooltip",this.prototype.render=d.renderable((function(){var e=this;return d.div(".board-background-prompt--tooltip",(function(){return d.h3((function(){return d.format("want-to-see-more")})),d.p((function(){return d.format("you-can-change-backgrounds")})),d.a({href:"#",onClick:function(){return e.props.onDismiss()}},(function(){return d.format("got-it-dismiss")}))}))}))}}],(c=null)&&i(n.prototype,c),u&&i(n,u),m}(c.Component);u.initClass(),e.exports=u},"./app/scripts/views/board-menu/board-member-add-multiple-view.js":function(e,t,n){function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=n("./app/scripts/views/lib/alerts.coffee"),m=(n("./app/scripts/db/auth.coffee"),n("./app/scripts/network/api-promise.coffee")),f=n("./app/scripts/network/api-error.coffee"),h=n("./app/scripts/views/board-menu/board-observer-option-component.js"),g=n("./app/scripts/views/member/member-multi-select-autocomplete-component.coffee"),v=n("./app/scripts/views/board-menu/board-menu-invite-team-component.js"),b=(n("./app/scripts/views/lib/confirm.coffee"),n("./app/scripts/lib/localize.coffee"),n("./app/scripts/lib/localize-server-error.coffee")),y=n("./app/scripts/models/member.coffee"),k=n("./app/scripts/views/board-menu/member-limits-error.js").maybeDisplayMemberLimitsError,w=n("./app/scripts/db/model-loader.coffee"),x=n("./app/scripts/views/internal/view.coffee"),C=n("./node_modules/react/index.js"),_=n("./packages/react-dom-wrapper/index.ts"),j=n("./app/scripts/views/invitation-link/display-invitation-link-view.coffee"),S=n("./app/scripts/views/lib/pop-over.coffee"),O=n("./node_modules/bluebird/js/browser/bluebird.js"),E=n("./app/scripts/views/internal/recup-with-helpers.coffee")("board_member_add_multiple"),N=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("board_member_add_multiple"),T=n("./packages/analytics/index.ts"),P=T.track,B=T.trackUe,D=n("./app/scripts/lib/util/index.coffee"),I=n("./packages/jquery/index.js"),A=n("./node_modules/underscore/underscore.js"),L=n("./packages/feature-flag-client/index.ts").featureFlagClient,M=n("./app/common/lib/util/non-public-fields-filter.ts").useNonPublicIfAvailable,F=n("./packages/atlassian-analytics/index.ts").Analytics,R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(T,e);var t,n,i,x,j=(t=T,function(){var e,n=u(t);if(d()){var r=u(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return c(this,e)});function T(){return o(this,T),j.apply(this,arguments)}return n=T,x=[{key:"initClass",value:function(){this.prototype.displayType="board-member-add-multiple",this.prototype.initialInviteMessage=E.l("im-working-on-this-project-in-trello-and-wanted-to-share-it-with-you"),this.prototype.events={"click .js-show-invitation-link":"showInvitationLink","click .js-invitation-link":"clickInvitationLink","click .js-deactivate-link":"deactivateInvitationLink","click .js-copy-invitation-link":"copyInvitationLink"}}}],(i=[{key:"viewTitleKey",value:function(){return this.model.isTemplate()?"invite to template":"invite to board"}},{key:"initialize",value:function(){this.onAutocompleteSubmit=this.onAutocompleteSubmit.bind(this),this.onAutocompleteSearch=this.onAutocompleteSearch.bind(this),this.onObserverChange=this.onObserverChange.bind(this),this.onInviteTeamClick=this.onInviteTeamClick.bind(this),this.onInvitationMessageChange=this.onInvitationMessageChange.bind(this),this.selectInvitationMessage=this.selectInvitationMessage.bind(this),null==this.invitationMessageValue&&(this.invitationMessageValue=this.initialInviteMessage),this.observerValue="normal",this.selectedMemberOptions=[],this.onSelectMemberOption=this.onSelectMemberOption.bind(this),this.onRemoveMemberOption=this.onRemoveMemberOption.bind(this);var e=this.model.getOrganization();if(this.loadingOrg=null!=e,null!=e&&this.listenTo(e.memberList,"add remove reset",this.frameDebounce(this.renderAutocomplete)),this.listenTo(this.model.memberList,"add remove reset",this.frameDebounce(this.renderAutocomplete)),null!=e)return this.listenTo(e,"change:prefs",this.frameDebounce(this.render))}},{key:"remove",value:function(){return _.unmountComponentAtNode(this.$(".js-autocomplete-root")[0]),s(u(T.prototype),"remove",this).apply(this,arguments)}},{key:"loadOrgData",value:function(){var e=this,t=this.model.getOrganization();null!=t&&this.model.editable()?(t.isPO()&&t.isBusinessClass()?w.loadOrganizationMembersMinimalWithAvailableLicenseCount(t.id):w.loadOrganizationMembersMinimal(t.id)).then((function(){e.loadingOrg=!1,e.renderAutocomplete()})).done():this.loadingOrg=!1}},{key:"render",value:function(){return this.$el.html(N.renderable((function(){return N.div(".invite-board-member-autocomplete.js-autocomplete-root")}))),this.renderAutocomplete(),F.sendScreenEvent({name:"inviteToBoardInlineDialog",containers:{board:{id:this.model.id},organization:{id:z(this.model.getOrganization(),(function(e){return e.id}))}}}),this}},{key:"onAutocompleteSubmit",value:function(e){var t=this,n=[],r=0,i=0;A.forEach(this.selectedMemberOptions,(function(e){var o=e.id?t.modelCache.get("Member",e.id):void 0;if(o)return t.addMember(o),e.wouldBecomeBillableGuest?i++:r++;var a=e.email?e.email:e.username,s=e.email?"email":"username";return n.push({value:a,type:s})}));var o=/^[^@]+@[a-z0-9-]+(\.[a-z0-9-]+)+$/i;return O.map(n,(function(e){return t.getMemberFromUser(e).catch((function(e){return{hasError:!0}}))})).then((function(r){var a=A.some(r,(function(e){return e.hasError}));return i=A.filter(r,(function(e){return e.wouldBecomeBillableGuest})).length,!e&&i>0||a?A.each(r,(function(e,n){var r=e.wouldBecomeBillableGuest,i=e.hasError;return t.selectedMemberOptions[n].blockInvite=r,t.selectedMemberOptions[n].hasError=i})):(A.each(r,(function(e,r){var i,a=e.member,s=n[r].value;if(null!=a){if(i=t.model.id,!Array.from(a.get("idBoards")).includes(i))return t.addMember(a)}else if(o.test(s))return t.sendEmailInvite(s)})),S.hide(),P("Invitations","Send Invites","Number of invites sent","",r.length),P("Invitations","Send Invites","Changed invite message","",t.invitationMessageValue!==t.initialInviteMessage),B("Invitations","adds","members","","to board","by using invite to board component",{boardId:t.model.get("id"),orgId:z(t.model.getOrganization(),(function(e){return e.id}))||""}),r.length>0?F.sendTrackEvent({action:"sent",actionSubject:"boardInvitation",source:"inviteToBoardInlineDialog",containers:{board:{id:t.model.id},organization:{id:z(t.model.getOrganization(),(function(e){return e.id}))}},attributes:{numInvitesSent:r.length,changedMessage:t.invitationMessageValue!==t.initialInviteMessage}}):void 0)}))}},{key:"getMemberFromUser",value:function(e){var t=this,n=e.value,i=e.type,o=this.model.getOrganization(),a=m({method:"get",url:"/1/members/".concat(n),data:{fields:["idOrganizations","idBoards"]}}).then((function(e){var r=new y(e,{modelCache:t.modelCache});return"email"===i&&r.set("email",n),r})).catch(f.NotFound,(function(e){return null})),s=!(o&&!o.isFeatureEnabled("multiBoardGuests")&&o.getAvailableLicenseCount()>0)&&m({url:"/1/search/members/",type:"get",data:{idBoard:this.model.id,idOrganization:null!=o?o.id:void 0,query:n},dataType:"json"}).then((function(e){return 1===e.length&&e[0].wouldBecomeBillableGuest}));return O.all([a,s]).then((function(){var e=Array.from(arguments.length<=0?void 0:arguments[0]),t=r(e,2),n=t[0],i=t[1];return{member:n,wouldBecomeBillableGuest:i}}))}},{key:"addMember",value:function(e){if(!k(this.$el,this.model,e))return this.model.addMember(e,this.observerValue,this.invitationMessageValue,(function(e,t){if(e){var n=/organization restricts invites/.test(e.message)?E.l("team-restricts-invites"):b(e.message);return p.showLiteralText(n,"error","alert",5e3)}}))}},{key:"sendEmailInvite",value:function(e){var t=this,n={email:e,type:this.observerValue,invitationMessage:this.invitationMessageValue};if(!k(this.$el,this.model))return m({url:"/1/board/".concat(this.model.id,"/members"),type:"put",dataType:"json",data:n}).then((function(e){var n=new y(e,{modelCache:t.modelCache});P("Invitations","Send Email Board Invite to New Member","Role: ".concat(e.type));var r=t.observerValue?t.observerValue:"normal";return F.sendTrackEvent({action:"sent",actionSubject:"emailBoardInvitation",actionSubjectId:n.id,source:"inviteToBoardInlineDialog",containers:{board:{id:t.model.id},organization:{id:z(t.model.getOrganization(),(function(e){return e.id}))}},attributes:{memberType:r}}),F.sendTrackEvent({action:"added",actionSubject:"member",actionSubjectId:n.id,source:"inviteToBoardInlineDialog",containers:{board:{id:t.model.id},organization:{id:z(t.model.getOrganization(),(function(e){return e.id}))}},attributes:{addedTo:"board",confirmed:!!n.get("confirmed"),memberType:r}})}))}},{key:"onAutocompleteSearch",value:function(e){var t=this;e=e.toLowerCase().trim();var n=this.model.getOrganization(),r=[],i=function(e){return e.id&&(M(e,"avatarUrl"),M(e,"fullName"),M(e,"initials")),A.extend(e.toJSON(),{active:!0,similarity:0,joined:null!=t.model.getMembershipFor(e),idOrganizations:[n.id],nonPublicAvailableAttributes:t.nonPublicAvailableAttributes})};return null!=n&&(r=e.length>0?n.memberList.chain().filter((function(t){return A.any(D.getMemNameArray(t),(function(t){return 0===t.indexOf(e)}))})).map(i).value():n.memberList.map(i)),e.length>2?m({url:"/1/search/members/",type:"get",data:{idBoard:this.model.id,idOrganization:null!=n?n.id:void 0,query:e},dataType:"json"}).then((function(e){return A.uniq(A.union(e,r),!1,(function(e){return e.username?e.username:e.email}))})):null!=n?r:[]}},{key:"onInviteTeamClick",value:function(e){var t=this;P("Invitations","Add All Org Members to Board"),F.sendUIEvent({action:"clicked",actionSubject:"dropdownItem",actionSubjectId:"inviteTeamToBoardDropdownItem",source:"inviteToBoardInlineDialog",containers:{board:{id:this.model.id},organization:{id:this.model.getOrganization().id}}});var n=this.model.orgMembersAvailable().map((function(e){return A.extend(e.toJSON(),{active:!0,similarity:0,joined:t.model.hasActiveMembership(e),idOrganizations:[t.model.getOrganization().id]})}));return this.selectedMemberOptions=A.uniq(A.union(this.selectedMemberOptions,n),!1,(function(e){return e.username?e.username:e.email})),this.renderAutocomplete()}},{key:"onObserverChange",value:function(e){return this.observerValue=e,this.renderAutocomplete()}},{key:"onInvitationMessageChange",value:function(e){return this.invitationMessageValue=e.target.value,this.renderAutocomplete()}},{key:"selectInvitationMessage",value:function(){if(this.invitationMessageValue===this.initialInviteMessage)return I(".js-invitation-message").select()}},{key:"onSelectMemberOption",value:function(e){return this.selectedMemberOptions=A.uniq(A.union(this.selectedMemberOptions,A.flatten([e])),!1,(function(e){return e.username?e.username:e.email})),this.renderAutocomplete()}},{key:"onRemoveMemberOption",value:function(e){return this.selectedMemberOptions=this.selectedMemberOptions.filter((function(t,n){return n!==e})),this.renderAutocomplete()}},{key:"renderAutocomplete",value:function(){var e=this,t=this.$(".js-autocomplete-root")[0];if(null!=t){var n=this.model.getOrganization(),r={onAutocompleteSearch:this.onAutocompleteSearch,displayDetails:!0,displayUsername:!1,shouldFocusOnSelectMemberOption:!0,onSubmit:this.onAutocompleteSubmit,submitText:E.l("send-invitation"),emptySearchText:E.l("looks-like-that-person-isnt-a-trello-member-yet"),placeholder:E.l("email-address-or-name"),onSelectMemberOption:this.onSelectMemberOption,onRemoveMemberOption:this.onRemoveMemberOption,selectedOptions:this.selectedMemberOptions,loadingOrg:this.loadingOrg,showMultiboardGuestWarning:null!=n?n.isFeatureEnabled("multiBoardGuests"):void 0,isTemplate:this.model.isTemplate()};if(n){var i=this.model.orgMembersAvailable();(i=A.filter(i,(function(t){var n;return n=t.get("username"),!Array.from(A.pluck(e.selectedMemberOptions,"username")).includes(n)}))).length>1&&(r.extraSearchOption=C.createElement(v,{onClick:this.onInviteTeamClick,availableToInvite:i})),r.displayOrg=n}var o=[];return z(this.model.getOrganization(),(function(e){return e.isPremium()}))&&o.push(C.createElement(h,{onChange:this.onObserverChange,value:this.observerValue,key:"observerOption"})),L.get("enable-invite-email-message",!1)&&o.push(C.createElement("textarea",{onChange:this.onInvitationMessageChange,onClick:this.selectInvitationMessage,className:"invitation-message-input js-invitation-message",value:this.invitationMessageValue,key:"invitationMessage",placeholder:E.l("sharing-is-caring-let-your-collaborators-know-what-youre-working-on"),maxLength:500})),_.render(C.createElement(g,r,o),t)}}}])&&a(n.prototype,i),x&&a(n,x),T}(x);function z(e,t){return null!=e?t(e):void 0}R.initClass(),A.extend(R.prototype,j),e.exports=R},"./app/scripts/views/board-menu/board-menu-invite-team-component.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n("./packages/config/index.ts").logoDomain;var c=n("./node_modules/react/index.js"),d=n("./app/scripts/views/internal/recup-with-helpers.coffee")("board_menu_invite_team"),u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(m,e);var t,n,c,u,p=(t=m,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function m(){return r(this,m),p.apply(this,arguments)}return n=m,u=[{key:"initClass",value:function(){this.prototype.render=d.renderable((function(){var e=this.props,t=e.onClick,n=e.availableToInvite;return d.div(".invite-team",{onMouseDown:t},(function(){return d.span(".icon-lg.icon-organization"),d.div(".invite-team-text",(function(){return d.format("add-all-x-team-members",{memberCount:n.length})}))}))}))}}],(c=null)&&i(n.prototype,c),u&&i(n,u),m}(c.Component);u.initClass(),e.exports=u},"./app/scripts/views/board-menu/board-observer-option-component.js":function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n("./node_modules/react/index.js"),c=n("./app/scripts/views/internal/recup-with-helpers.coffee")("board_member_add_multiple"),d=(n("./app/scripts/lib/util/index.coffee"),{normal:{label:c.l("add-as-members"),description:c.l("board-members-can-edit-comment-and-invite-people-to-this-board")},observer:{label:c.l("add-as-observers"),description:c.l("observers-can-view-and-comment-on-this-board")}}),u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(m,e);var t,n,l,u,p=(t=m,function(){var e,n=s(t);if(a()){var r=s(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return o(this,e)});function m(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),(t=p.call(this,e)).state={isOpen:!1},t}return n=m,u=[{key:"initClass",value:function(){this.prototype.render=c.renderable((function(){var e=this,t=this.props,n=t.onChange,r=t.value,i=this.state.isOpen,o=d[r];return c.div(".board-observer-dropdown",{onBlur:function(){return e.setState({isOpen:!1})},tabIndex:0},(function(){if(c.div(".board-observer-selected",{onClick:function(){return e.setState({isOpen:!i})}},(function(){return c.p((function(){return c.text(o.label)})),c.icon("down")})),i)return c.div(".board-observer-options",(function(){return Object.keys(d).map((function(t){return c.div(".board-observer-option",{onClick:function(r){return n(t),e.setState({isOpen:!1})}},(function(){return c.div(".board-observer-option-title",(function(){if(c.text(d[t].label),t===r)return c.icon("check")})),c.div(".board-observer-option-description",(function(){return c.text(d[t].description)}))}))}))}))}))}))}}],(l=null)&&r(n.prototype,l),u&&r(n,u),m}(l.Component);u.initClass(),e.exports=u},"./app/scripts/views/board-menu/board-org-select-perm-level-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./packages/jquery/index.js"),d=(n("./app/scripts/views/internal/board-display-helpers.coffee"),n("./app/scripts/controller/index.js")),u=n("./app/scripts/views/lib/pop-over.coffee"),p=n("./app/scripts/lib/util/index.coffee"),m=n("./app/scripts/views/internal/view.coffee"),f=n("./app/scripts/views/internal/templates.coffee"),h=(n("./app/scripts/lib/localize.coffee"),n("./app/scripts/views/templates/board_menu_vis.js")),g=(n("./packages/feature-flag-client/index.ts").featureFlagClient,function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(y,e);var t,m,g,v,b=(t=y,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function y(){return r(this,y),b.apply(this,arguments)}return m=y,v=[{key:"initClass",value:function(){this.prototype.viewTitleKey="change visibility",this.prototype.tagName="ul",this.prototype.events={"click .js-select":"selectVis"},this.prototype.className="pop-over-list"}}],(g=[{key:"render",value:function(){var e=this.options.organization;if(e.canSetVisibility("private")||e.canSetVisibility("org")||e.canSetVisibility("enterprise")||e.canSetVisibility("public")){var t=this.model.getPref("permissionLevel"),r=null!=e?e.getEnterprise():void 0;this.$el.html(h({current:t,canChange:!0,mustChange:!e.canSetVisibility(t),hasSuperAdmins:e.isFeatureEnabled("superAdmins"),hasOrg:!0,orgName:e.get("displayName"),privateRestricted:!e.canSetVisibility("private"),orgRestricted:!e.canSetVisibility("org"),enterpriseRestricted:!e.canSetVisibility("enterprise"),publicRestricted:!e.canSetVisibility("public"),hasEnterprise:null!=e?e.belongsToRealEnterprise():void 0,enterpriseName:null!=r?r.get("displayName"):void 0,isTemplate:this.model.isTemplate(),isOrgPremium:null!=e?e.isPremium():void 0}))}else{var i={isOrgAdmin:e.owned(),orgSettingsUrl:d.getOrganizationAccountUrl(e),organization:e.toJSON()};this.$el.html(f.fill(n("./app/scripts/views/templates/cant_add_board_to_org.js"),i))}return this}},{key:"selectVis",value:function(e){var t=this;p.stop(e);var n=c(e.target).closest(".js-select");if(!n.hasClass("disabled")&&!n.closest(".js-disabled").length){var r,i,o=n.attr("name");return this.options.idOrganizationSource&&(r=this.modelCache.get("Organization",this.options.idOrganizationSource),i=function(e){return e.boardList.remove(t.model)},null!=r&&i(r)),this.model.update({idOrganization:this.options.organization.id,"prefs/permissionLevel":o}),this.options.organization.boardList.add(this.model),u.hide()}}}])&&i(m.prototype,g),v&&i(m,v),y}(m));g.initClass(),e.exports=g},"./app/scripts/views/board-menu/board-select-organization-for-perm-change-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=n("./app/scripts/views/board-menu/board-org-select-perm-level-view.js"),u=n("./app/scripts/views/board-menu/board-select-organization-view.js"),p=n("./app/scripts/views/lib/pop-over.coffee");e.exports=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(h,e);var t,n,u,m,f=(t=h,function(){var e,n=c(t);if(l()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function h(){return r(this,h),f.apply(this,arguments)}return n=h,(u=[{key:"initialize",value:function(e){return this.disableNone=null!=e?e.disableNone:void 0,o(c(h.prototype),"initialize",this).apply(this,arguments)}},{key:"render",value:function(){return o(c(h.prototype),"render",this).apply(this,arguments),this.disableNone&&this.$(".js-submit").addClass("disabled").attr("disabled","disabled"),this}},{key:"showOrgBoardVisPerms",value:function(e,t){return p.pushView({view:new d({model:this.model,organization:e,idOrganizationSource:t,modelCache:this.modelCache})})}},{key:"submit",value:function(e){return o(c(h.prototype),"submit",this).apply(this,arguments)}},{key:"canAddToOrg",value:function(e){return!e.isFeatureEnabled("restrictVis")||e.canSetVisibility("org")}},{key:"updateModel",value:function(e){return this.model.update({idOrganization:e,"prefs/permissionLevel":"org"})}},{key:"orgSelected",value:function(){if(o(c(h.prototype),"orgSelected",this).apply(this,arguments),this.disableNone)return""===this.$(".js-org").val()?this.$(".js-submit").addClass("disabled").attr("disabled","disabled"):this.$(".js-submit").removeClass("disabled").removeAttr("disabled")}}])&&i(n.prototype,u),m&&i(n,m),h}(u)},"./app/scripts/views/board-menu/board-select-organization-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=n("./app/scripts/network/api-promise.coffee"),u=n("./app/scripts/db/auth.coffee"),p=n("./app/common/components/billable-guests-alert/index.tsx").BillableGuestsAlert,m=n("./app/scripts/views/board/billable-guest-list-popover-view.js"),f=n("./app/scripts/views/board-menu/board-org-select-perm-level-view.js"),h=n("./app/scripts/views/templates/popover_change_board_org.js"),g=n("./app/scripts/views/lib/confirm.coffee"),v=n("./app/scripts/views/organization/create-org-view.coffee"),b=n("./app/scripts/views/organization/constants.coffee").BoardInviteRestrictValues,y=n("./app/scripts/db/model-loader.coffee"),k=n("./packages/product-features/index.ts").OrganizationFeatures,w=n("./app/scripts/views/lib/pop-over.coffee"),x=n("./node_modules/bluebird/js/browser/bluebird.js"),C=n("./packages/react-dom-wrapper/index.ts"),_=n("./node_modules/react/index.js"),j=n("./packages/atlassian-analytics/index.ts").Analytics,S=n("./app/scripts/lib/util/index.coffee"),O=n("./app/scripts/views/internal/view.coffee"),E=(n("./app/scripts/views/internal/templates.coffee"),n("./packages/analytics/index.ts").track),N=n("./packages/feature-flag-client/index.ts").featureFlagClient,T=n("./node_modules/underscore/underscore.js"),P=n("./packages/browser/index.ts").isDesktop(),B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(A,e);var t,n,O,B,I=(t=A,function(){var e,n=c(t);if(l()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function A(){return r(this,A),I.apply(this,arguments)}return n=A,B=[{key:"initClass",value:function(){this.prototype.viewTitleKey="change organization",this.prototype.events={"click .js-submit":"submit","change .js-org":"orgSelected","click .js-new-org":"newOrg"}}}],(O=[{key:"initialize",value:function(){return this.makeDebouncedMethods("render"),this.haveAvailableLicenses=!0,this.listenTo(this.model,"change:memberships",this.updateOrgOptions),this.sendGASEvent=N.get("dataeng.gasv3-event-tracking",!1)}},{key:"getTemplateData",value:function(){var e,t=this.model.toJSON({org:!0}),n=this.model.owned()?u.me().organizationList.models:[];this.model.hasEnterprise()&&(t.hasEnterprise=!0,t.enterpriseName=D(this.model.getEnterprise(),(function(e){return e.get("displayName")})),n=T.filter(n,(function(e){var n=e.get("idEnterprise");return null!=t.idEnterprise&&n===t.idEnterprise||!(!t.org||n!==t.org.idEnterprise)})),t.showPrivateBoardsOptionForEntBoards=null!=this.model.get("idEnterprise")),t.orgs=function(){for(var t=[],r=0,i=Array.from(n);r<i.length;r++)e=i[r],t.push(e.toJSON());return t}(),t.hasOrgs=0!==t.orgs.length,t.isDesktop=P;var r=this.selectedOrganization||t.idOrganization;if(r)for(var i=0,o=Array.from(t.orgs);i<o.length;i++)(e=o[i]).id===r&&(e.select=!0);return t.isPrivate=this.model.isPrivate(),t.isTemplate=this.model.isTemplate(),t.allowsSelfJoin=this.model.allowsSelfJoin(),t.addToTeam=!1,t}},{key:"render",value:function(){var e=this.getTemplateData();return this.sendGASEvent&&j.sendScreenEvent({name:"changeBoardOrganizationInlineDialog",containers:{board:{id:this.model.id}}}),this.$el.html(h(e)),this.updateOrgOptions(),this}},{key:"remove",value:function(){return this.reactRoot&&C.unmountComponentAtNode(this.reactRoot),o(c(A.prototype),"remove",this).apply(this,arguments)}},{key:"showOrgBoardVisPerms",value:function(e,t){return w.pushView({view:new f({model:this.model,organization:e,idOrganizationSource:t,modelCache:this.modelCache})})}},{key:"changeOrg",value:function(e,t){var n,r=this,i=e!==t;i&&t&&D(this.modelCache.get("Organization",t),(function(e){return e.boardList.remove(r.model)}));var o={};return o.idOrganization=e,e&&(this.$(".js-make-org-visible").is(":checked")&&(o["prefs/permissionLevel"]="org"),this.$(".js-make-org-joinable").is(":checked")&&(o["prefs/selfJoin"]=!0)),i&&e&&(n=this.modelCache.get("Organization",e),o.keepBillableGuests=(null!=n?n.owned():void 0)&&this.haveAvailableLicenses&&!P),this.model.isTemplate()&&i&&!this.model.isPublic()&&!(null!=n?n.isPremium():void 0)&&(o["prefs/isTemplate"]=!1),this.model.update(o),null!=n&&n.boardList.add(this.model),w.hide()}},{key:"newOrg",value:function(e){var t;if(E("Board Header","Add to a Team menu","New Org"),this.sendGASEvent&&j.sendClickedLinkEvent({linkName:"createNewOrgLink",source:"changeBoardOrganizationInlineDialog",containers:{board:{id:this.model.id}}}),S.stop(e),u.me().isPaidManagedEntMember())t={boardToAddToOrg:this.model,isEnterprise:!0};else{var n=this.model.isTemplate()&&!this.model.isPublic();t={boardToAddToOrg:this.model,isPrivateTemplate:n}}return w.pushView({view:new v({model:this.model,modelCache:this.modelCache,createOpts:t,trackingOpts:{category:"board",method:"by clicking create team in board change team menu"}})})}},{key:"canAddToOrg",value:function(e){return e.canAddBoard(this.model)}},{key:"submit",value:function(e){var t=this;if(!this.$(".js-submit").hasClass("disabled")){this.$(".js-submit").prop("disabled",!0).toggleClass("disabled",!0),S.stop(e),E("Board","Change Org");var n=this.$(".js-org").val(),r=this.model.get("idOrganization"),i=this.modelCache.get("Organization",n);return this.sendGASEvent&&j.sendUpdatedBoardFieldEvent({field:"organization",source:"changeBoardOrganizationInlineDialog",containers:{board:{id:this.model.id},organization:{id:n}},attributes:{previous:r,change:n!==r}}),x.try((function(){if(i&&i.boardMembershipRestricted()){var r=i.getPref("boardInviteRestrict");return y.loadOrganizationMembersData(n).then((function(){var n=t.model.memberList.chain().filter((function(e){return function(e){switch(r){case b.ORG:return!i.isMember(e);case b.MANAGED:return!e.isManagedEntMemberOf(i.get("idEnterprise"));case b.ORG_OR_MANAGED:return!i.isMember(e)&&!e.isManagedEntMemberOf(i.get("idEnterprise"))}}(e)})).map((function(e){return e.get("fullName")})).value(),o=n.length;if(0!==o){var a=function(){switch(r){case b.ORG:return 1===o?"external member not allowed":"external members not allowed";case b.MANAGED:return 1===o?"non managed member not allowed":"non managed members not allowed";case b.ORG_OR_MANAGED:return 1===o?"external and non managed member not allowed":"external and non managed members not allowed"}}();return x.fromNode((function(r){return g.toggle(a,{elem:e.currentTarget,model:t.model,confirmBtnClass:"negate",templateData:{count:String(o),members:n.length>20?T.first(n,20).join(", ")+"":n.join(", "),team:i.get("displayName")},fxConfirm:function(){return r()},fxCancel:function(){return r(new Error("cancelled"))}})}))}}))}})).then((function(){return i&&(i.isFeatureEnabled("restrictVis")||"enterprise"===t.model.getPref("permissionLevel"))?y.loadOrganizationMembersData(n).then((function(){t.canAddToOrg(i)?t.changeOrg(n,r):t.showOrgBoardVisPerms(i,r)})).done():t.changeOrg(n,r)})).error((function(){})).done()}S.stop(e)}},{key:"showTemplateAlert",value:function(){return this.$(".js-template-alert").addClass("show-template-alert")}},{key:"hideTemplateAlert",value:function(){return this.$(".js-template-alert").removeClass("show-template-alert")}},{key:"allowBoardCreate",value:function(){return this.$(".js-submit").removeClass("disabled"),this.$(".js-board-limits-upgrade-ad").addClass("hide"),this.$(".js-permissions").removeClass("hide")}},{key:"updateOrgOptions",value:function(){var e=this;this.$(".js-submit").addClass("disabled"),this.$(".js-billable-guests-warning").addClass("hide"),this.selectedOrganization=this.$(".js-org").val();var t=""!==this.selectedOrganization;if(this.$(".js-make-org-visible,.js-make-org-joinable").closest(".js-check-div").toggleClass("hide",!t),this.model.isTemplate()&&!this.model.isPublic()&&this.model.get("idOrganization")!==this.selectedOrganization){var n=this.modelCache.get("Organization",this.selectedOrganization);t&&(null!=n?n.isPremium():void 0)?this.hideTemplateAlert():this.showTemplateAlert()}else this.hideTemplateAlert();return t?(this.showSpinner(),this.model.get("idOrganization")===this.selectedOrganization?(this.hideSpinner(),void this.allowBoardCreate()):x.all([d({type:"GET",url:"/1/organizations/".concat(this.selectedOrganization,"/newBillableGuests/").concat(this.model.id)}),y.loadOrganizationMembersMinimalWithAvailableLicenseCount(this.selectedOrganization)]).spread((function(t,n){return(null!=n?n.isAtOrOverFreeBoardLimit():void 0)?(e.$(".js-board-limits-upgrade-ad").removeClass("hide"),e.$(".js-permissions").addClass("hide"),e.$(".js-target-team").text(n.get("displayName")),e.$(".js-upgrade-link").attr("href",n.getBillingUrl()),e.hideSpinner()):t.length>0?(e.renderBillableGuestAlert({org:n,newBillableGuests:t}),e.haveAvailableLicenses=t.length<=n.getAvailableLicenseCount()):e.allowBoardCreate()})).finally((function(){return e.hideSpinner()}))):(this.hideSpinner(),void this.allowBoardCreate())}},{key:"renderBillableGuestAlert",value:function(e){var t=e.org,n=e.newBillableGuests,r=D(D(t.get("paidAccount"),(function(e){return e.products})),(function(e){return e[0]})),i={adminNames:t.adminList.map((function(e){return e.get("fullName")||e.get("username")})),newBillableGuestsCount:n.length,availableLicenseCount:t.getAvailableLicenseCount(),orgName:t.get("displayName")||t.get("name"),pricePerGuest:k.getPrice(r),isMonthly:k.isMonthly(r),isOrgAdmin:t.owned(),orgUrl:t.url,isReopen:!1,isDesktop:P,onCountClick:function(){return w.pushView({view:new m({newBillableGuests:n})})}},o=_.createElement(p,i);return this.reactRoot=this.$(".js-billable-guests-warning")[0],C.render(o,this.reactRoot),this.$(".js-billable-guests-warning").removeClass("hide"),this.allowBoardCreate()}},{key:"orgSelected",value:function(e){return this.updateOrgOptions()}},{key:"showSpinner",value:function(){return this.$(".js-loading").toggleClass("hide",!1),this.$(".js-loaded").toggleClass("hide",!0)}},{key:"hideSpinner",value:function(){return this.$(".js-loading").toggleClass("hide",!0),this.$(".js-loaded").toggleClass("hide",!1)}}])&&i(n.prototype,O),B&&i(n,B),A}(O);function D(e,t){return null!=e?t(e):void 0}B.initClass(),e.exports=B},"./app/scripts/views/board-menu/change-board-visibility-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./packages/jquery/index.js"),d=n("./packages/atlassian-analytics/index.ts").Analytics,u=(n("./app/scripts/views/internal/board-display-helpers.coffee"),n("./app/scripts/views/board-menu/board-select-organization-for-perm-change-view.js")),p=n("./app/scripts/views/board/confirmation-public-boards-view.js"),m=(n("./app/scripts/views/lib/confirm.coffee"),n("./packages/feature-flag-client/index.ts").featureFlagClient,n("./app/scripts/views/lib/pop-over.coffee")),f=n("./app/scripts/lib/util/index.coffee"),h=n("./app/scripts/views/internal/view.coffee"),g=(n("./app/scripts/views/internal/templates.coffee"),n("./packages/analytics/index.ts").trackUe),v=(n("./app/scripts/lib/localize.coffee"),n("./app/scripts/views/templates/board_menu_vis.js")),b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(k,e);var t,n,h,b,y=(t=k,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function k(){return r(this,k),y.apply(this,arguments)}return n=k,b=[{key:"initClass",value:function(){this.prototype.tagName="ul",this.prototype.className="pop-over-list",this.prototype.maxWidth=370,this.prototype.events={"click .js-select":"selectVis"}}}],(h=[{key:"viewTitleKey",value:function(){return this.model.owned()?"change visibility":"visibility"}},{key:"initialize",value:function(){this.listenTo(this.model,"change",this.render)}},{key:"render",value:function(){var e=this.model.getOrganization(),t=null!=e?e.getEnterprise():void 0;return this.$el.html(v({canChange:this.model.owned(),current:this.model.getPref("permissionLevel"),hasSuperAdmins:null!=e?e.isFeatureEnabled("superAdmins"):void 0,hasOrg:null!=e,orgName:null!=e?e.get("displayName"):void 0,privateRestricted:null!=e&&!(null!=e?e.canSetVisibility("private"):void 0),orgRestricted:null!=e&&!(null!=e?e.canSetVisibility("org"):void 0),enterpriseRestricted:null!=e&&!(null!=e?e.canSetVisibility("enterprise"):void 0),publicRestricted:null!=e&&!(null!=e?e.canSetVisibility("public"):void 0),hasEnterprise:null!=e?e.belongsToRealEnterprise():void 0,enterpriseName:null!=t?t.get("displayName"):void 0,isTemplate:this.model.isTemplate(),isOrgPremium:null!=e?e.isPremium():void 0})),this}},{key:"selectVis",value:function(e){f.stop(e);var t=c(e.target).closest(".js-select");if(!t.hasClass("disabled")&&!t.closest(".js-disabled").length){var n,r,i=t.attr("name"),o=this.model.getPref("permissionLevel"),a=o!==i?1:0;"public"!==i?"org"!==i||this.model.getOrganization()?(this.model.setPref("permissionLevel",i),this.model.save(),"org"===i?g("board","sets","board visibility","","to team","",{boardid:this.model.id,change:a}):"private"===i?g("board","sets","board visibility","","to private","",{boardid:this.model.id,change:a}):"enterprise"===i&&g("board","sets","board visibility","","to enterprise","",{boardid:this.model.id,change:a}),d.sendUpdatedBoardFieldEvent({field:"visibility",value:i,source:"changeBoardVisibilityInlineDialog",containers:{board:{id:this.model.id},organization:{id:(n=this.model.getOrganization(),r=function(e){return e.id},null!=n?r(n):void 0)}},attributes:{change:o!==i,previous:o}}),m.popView()):m.pushView({view:u,options:{model:this.model,modelCache:this.modelCache,disableNone:!0}}):m.pushView({elem:e.target,view:new p({model:this.model,modelCache:this.modelCache}),maxWidth:370})}}}])&&i(n.prototype,h),b&&i(n,b),k}(h);b.initClass(),e.exports=b},"./app/scripts/views/board-menu/member-limits-error.js":function(e,t,n){var r=n("./node_modules/underscore/underscore.js"),i=n("./app/scripts/db/auth.coffee"),o=n("./app/scripts/views/lib/limit-error-popover.coffee");e.exports={maybeDisplayMemberLimitsError:function(e,t,n){var a=(null!=t?t.isOverLimit("boards","totalMembersPerBoard"):void 0)?{message:"members exceeds total per board limit",params:{boardName:t.get("name")}}:(null!=n?n.isOverLimit("boards","totalPerMember"):void 0)?i.isMe(n)?{message:"your boards exceed total per member limit"}:{message:"boards exceeds total per member limit",params:{memberName:n.get("name")}}:void 0;return null!=a&&(o(r.extend({trackingArea:"Member Limits",elem:e},a)),!0)}}},"./app/scripts/views/board/add-list-popover-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=n("./packages/jquery/index.js"),u=n("./app/scripts/views/lib/pop-over.coffee"),p=n("./app/scripts/lib/util/index.coffee"),m=n("./app/scripts/views/internal/view.coffee"),f=n("./node_modules/underscore/underscore.js"),h=n("./app/scripts/views/templates/popover_add_list.coffee"),g=n("./packages/analytics/index.ts").track,v=n("./packages/atlassian-analytics/index.ts").Analytics,b=n("./packages/feature-flag-client/index.ts").featureFlagClient,y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(w,e);var t,n,m,y,k=(t=w,function(){var e,n=c(t);if(l()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function w(){return r(this,w),k.apply(this,arguments)}return n=w,y=[{key:"initClass",value:function(){this.prototype.viewTitleKey="add list",this.prototype.events={"change .js-select-list-pos":"renderValue","click .js-add-list":"addList","submit form":"addList"}}}],(m=[{key:"initialize",value:function(e){var t=e.didAddList;return this.didAddList=t,o(c(w.prototype),"initialize",this).apply(this,arguments)}},{key:"getLists",value:function(){return this.lists=this.model.listList,this.listsLength=this.lists.length+1}},{key:"render",value:function(){var e=this;return this.$el.html(h({tooManyTotalLists:this.model.isOverLimit("lists","totalPerBoard"),tooManyOpenLists:this.model.isOverLimit("lists","openPerBoard")})),this.setTimeout((function(){return e.getClosestListPos(),e.getLists(),e.updateListList()}),10),this}},{key:"getClosestListPos",value:function(){var e=this,t=d(".js-list"),n=[];this.closestListIdx=0,t.each((function(r){var i=parseInt(Math.abs(d(t[r]).offset().left+d(t[r]).width()/2-e.$el.offset().left),10);return n.push(i)})),this.closestListIdx=f.indexOf(n,f.min(n));var r=d(t[this.closestListIdx]);if(r.length>0&&this.$el.offset().left>r.offset().left+r.width()/2&&this.closestListIdx<t.length)return this.closestListIdx+=1}},{key:"updateListList",value:function(){for(var e=d(this.el).find(".js-select-list-pos"),t=0,n=this.listsLength,r=0<=n;r?t<n:t>n;r?t++:t--)d("<option>").val(t).text(t+1).appendTo(e);return e.find("option:last"),e.find("option:eq(".concat(this.closestListIdx,")")).attr("selected","selected"),this.renderValue()}},{key:"renderValue",value:function(){var e=parseInt(this.$(".js-select-list-pos").val(),10)+1;d(".js-pos-value").text(e.toString())}},{key:"addList",value:function(e){var t,n,r=this;p.stop(e);var i=this.$(".js-list-name").val().trim();if(""!==i){var o=this.$(".js-select-list-pos"),a=parseInt(o.find("option:selected").val(),10);n=a!==this.listsLength-1,t="List"!==i,u.hide();var s=this.model.listList.create({name:i,pos:this.model.calcPos(a),closed:!1},{success:function(e){return g("Board","Add List",t&&n?"Successfully Add List - Changed Name, Changed Position":t?"Successfully Add List - Changed Name, Default Position":n?"Successfully Add List - Default Name, Changed Position":"Successfully Add List - Default Name, Default Position"),b.get("dataeng.gasv3-core-event-tracking",!1)&&v.sendTrackEvent({action:"created",actionSubject:"list",source:"addListInlineDialog",containers:{board:{id:r.model.id},list:{id:e.id}},attributes:{changedPosition:n}}),r.didAddList(e)},error:function(){return r.model.listList.remove(s)}})}else this.$(".js-list-name").focus().select()}}])&&i(n.prototype,m),y&&i(n,y),w}(m);y.initClass(),e.exports=y},"./app/scripts/views/board/billable-guest-list-popover-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./app/scripts/views/internal/teacup-with-helpers.coffee")(),d=n("./app/scripts/views/internal/templates.coffee"),u=n("./app/scripts/views/internal/view.coffee"),p=c.renderable((function(e){var t=e.newBillableGuests;return this.newBillableGuests=t,c.ul(".pop-over-member-list.js-billable-guest-list")})),m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(h,e);var t,c,u,m,f=(t=h,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function h(){return r(this,h),f.apply(this,arguments)}return c=h,m=[{key:"initClass",value:function(){this.prototype.viewTitleKey="billable guest list"}}],(u=[{key:"initialize",value:function(e){var t=e.newBillableGuests;this.newBillableGuests=t}},{key:"render",value:function(){this.$el.html(p({newBillableGuests:this.newBillableGuests}));for(var e=this.$(".js-billable-guest-list").first().empty(),t=0,r=Array.from(this.newBillableGuests);t<r.length;t++){var i=r[t],o=Object.assign(i,{url:"/".concat(i.username),unconfirmed:!i.confirmed});e.append(d.fill(n("./app/scripts/views/templates/select_member.coffee"),o,{},{member:d.member}))}return this}}])&&i(c.prototype,u),m&&i(c,m),h}(u);m.initClass(),e.exports=m},"./app/scripts/views/board/board-background-prompt.js":function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./app/scripts/db/auth.coffee"),d=n("./app/scripts/network/api-promise.coffee"),u=n("./app/scripts/data/backgrounds.coffee"),p=(n("./app/scripts/views/lib/dialog.coffee"),n("./app/scripts/lib/localize.coffee")),m=n("./node_modules/react/index.js"),f=n("./packages/analytics/index.ts"),h=f.track,g=f.trackUe,v=n("./packages/atlassian-analytics/index.ts").Analytics,b=n("./packages/feature-flag-client/index.ts").featureFlagClient,y=n("./app/scripts/views/internal/recup-with-helpers.coffee")("board_background_prompt"),k=n("./packages/unsplash/index.ts").unsplashClient,w=n("./app/scripts/views/board-create/photo-attribution-component.js"),x=(n("./node_modules/xtend/immutable.js"),function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(r,e);var t,n=(t=r,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=n.call(this,e)).state={loading:!0,image:null,uploading:!1,isDemoing:!1},t}return i(r,null,[{key:"initClass",value:function(){this.prototype.displayName="BoardBackgroundPrompt",this.prototype.render=y.renderable((function(){var e=this;if(this.state.loading)return y.div(".board-background-prompt-noop");var t=this.state,n=t.image,r=t.uploading,i=t.isDemoing;return y.div(".board-background-prompt",(function(){return y.div(".board-background-prompt--image",{style:{backgroundImage:"url(".concat(n.urls.small,")")}},(function(){return r?y.addElement(m.createElement("div",{className:"uploading"},m.createElement("span",{className:"spinner small u-float-left"}),p(["templates","board_background_selection","uploading-ellipsis"]))):y.createElement(w,{user:n.user,active:!0})})),y.div(".board-background-prompt--inner",(function(){return y.h4((function(){return y.format("add-some-pizzazz")})),i?y.button(".primary.board-background-prompt--item",{onClick:function(){return e.onKeep()}},(function(){return y.format("keep-this-photo")})):y.button(".primary.board-background-prompt--item",{onClick:function(){return e.onTry()}},(function(){return y.format("give-it-a-try")})),y.button(".board-background-prompt--item",{onClick:function(){return e.onBrowse()}},(function(){return y.format("browse-more")})),y.a(".board-background-prompt--item",{onClick:function(){return e.onCancel()},href:"#"},(function(){return i?y.format("cancel-keep-my-background"):y.format("no-thanks-dismiss")}))}))}))}))}}]),i(r,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;return k.getPhoto("PdGBci-4jR8").then((function(t){return e.setState({image:t,loading:!1})})).catch((function(e){return{}}))}},{key:"onTry",value:function(){var e=this,t=this.props.model,n=this.state.image;return h("Board Menu","Change Background","unsplash-".concat(n.id)),g("Board Background Prompt","Try Background"),b.get("dataeng.gasv3-event-tracking",!1)&&(v.sendClickedButtonEvent({buttonName:"tryBackgroundButton",source:"boardBackgroundPromptInlineDialog",attributes:{backgroundId:"unsplash-".concat(n.id)}}),v.sendUpdatedBoardFieldEvent({field:"background",value:"unsplash-".concat(n.id),source:"boardBackgroundPromptInlineDialog",containers:{board:{id:t.id}},attributes:{backgroundType:"photo"}})),k.trackDownload(n),this.setState({uploading:!0}),d({url:"/1/boards/".concat(t.attributes.id,"/prefs/background"),type:"post",data:{url:k.appendImageParameters(n.urls.raw)}}).finally((function(){return e.setState({uploading:!1,isDemoing:!0})}))}},{key:"onKeep",value:function(){return c.me().dismiss("board-background-prompt"),g("Board Background Prompt","Keep photo"),b.get("dataeng.gasv3-event-tracking",!1)&&v.sendClickedButtonEvent({buttonName:"keepPhotoButton",source:"boardBackgroundPromptInlineDialog"}),this.props.onDismiss()}},{key:"onBrowse",value:function(){return c.me().dismiss("board-background-prompt"),g("Board Background Prompt","Browse"),b.get("dataeng.gasv3-event-tracking",!1)&&v.sendClickedButtonEvent({buttonName:"browseButton",source:"boardBackgroundPromptInlineDialog"}),this.props.onBrowse()}},{key:"onCancel",value:function(){var e=this.props,t=e.model,n=e.onDismiss;c.me().dismiss("board-background-prompt"),g("Board Background Prompt","Cancel"),b.get("dataeng.gasv3-event-tracking",!1)&&v.sendClickedButtonEvent({actionSubjectId:"cancelButton",source:"boardBackgroundPromptInlineDialog"});var r=t.viewState.get("initialBackgroundColor")||"blue";return t.set({prefs:{background:r,backgroundColor:u[r].color,backgroundBrightness:u[r].brightness,backgroundImage:null,backgroundImageScaled:null}}).setPref("background",r),v.sendUpdatedBoardFieldEvent({field:"background",value:r,source:"boardBackgroundPromptInlineDialog",containers:{board:{id:t.id}},attributes:{backgroundType:"color"}}),n()}}]),r}(m.Component));x.initClass(),e.exports=x},"./app/scripts/views/board/board-clean-up-view.js":function(e,t,n){function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=n("./app/scripts/views/lib/confirm.coffee"),p=n("./app/scripts/lib/dates.coffee"),m=n("./node_modules/bluebird/js/browser/bluebird.js"),f=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("board_clean_up"),h=n("./packages/analytics/index.ts").track,g=n("./app/scripts/lib/util/index.coffee"),v=n("./app/scripts/views/internal/view.coffee"),b=n("./node_modules/underscore/underscore.js"),y=f.renderable((function(e){var t=e.ageCategories,n=e.lists,r=!b.isEmpty(n),i=!b.isEmpty(t),o=function(e,t){return t&&f.div(".board-clean-up-cards-options",(function(){return f.span(".board-clean-up-cards-option.js-select-all",(function(){return f.format("select-all")})),f.span(".board-clean-up-cards-option.js-select-none",(function(){return f.format("select-none")}))})),f.div(".board-clean-up-cards",(function(){return Array.from(e).map((function(e){return f.div(".board-clean-up-card",(function(){return t&&f.div((function(){return f.span(".board-clean-up-checkbox.js-toggle-checkbox",{"data-checked":"checked","data-card":e.id},(function(){return f.icon("check",{class:"board-clean-up-checkbox-check"})}))})),f.a(".list-card",{href:e.get("url")},(function(){return f.span(".board-clean-up-card-name",(function(){return f.text(e.get("name"))}))}))}))}))}))};return f.div(".window-header.u-clearfix",(function(){return f.span(".window-header-icon.icon-lg.icon-board"),f.div(".window-title",(function(){return f.h2(".window-title-text",(function(){return f.format("board-clean-up")}))}))})),f.div(".window-main-col.window-main-col-full",(function(){if(r&&(f.p(".board-clean-up-explanation",(function(){return f.format("it-looks-like-you-have-some-lists-that-havent-been-updated-recently")})),f.table(".board-clean-up-table",(function(){return f.tbody((function(){return f.tr((function(){return f.th((function(){return f.format("list")})),f.th((function(){return f.format("cards")})),f.th((function(){return f.format("last-updated")})),f.th((function(){}))})),function(){for(var e=[],t=0,r=Array.from(n);t<r.length;t++){var i=r[t],a=i.id,s=i.listName,l=i.cards,c=i.cardCount,d=i.lastModified;f.tr(".board-clean-up-top",(function(){return f.td((function(){return f.text(s)})),f.td((function(){return f.text(c)})),f.td((function(){return f.text(p.toDateString(d))})),f.td(".board-clean-up-button-cell",(function(){return f.button(".board-clean-up-button.js-archive-list",{"data-list":a},(function(){return f.format("archive-list")}))}))})),e.push(f.tr(".board-clean-up-bottom",(function(){return f.td({colspan:4},(function(){return o(l,!1)}))})))}return e}()}))}))),r&&i&&f.hr(),i&&(f.p(".board-clean-up-explanation",(function(){return r?f.format("you-can-also-clean-things-up-by-archiving-cards-that-havent-been-updated-in-a-while"):f.format("you-can-clean-things-up-by-archiving-cards-that-havent-been-updated-in-a-while")})),f.table(".board-clean-up-table",(function(){return f.tbody((function(){return f.tr((function(){return f.th((function(){return f.format("cards-updated")})),f.th((function(){return f.format("cards")})),f.th((function(){}))})),function(){var e=[];for(var n in t){var r=t[n];f.tr(".board-clean-up-top.js-category-heading",{"data-category":n},(function(){return f.td((function(){return f.format(["more-than",n])})),f.td(".js-card-count",(function(){return f.text(r.length)})),f.td(".board-clean-up-button-cell",(function(){return f.button(".board-clean-up-button.js-archive-category",{"data-category":n},(function(){return f.format("archive-selected-cards")}))}))})),e.push(f.tr(".board-clean-up-bottom.js-category-cards",{"data-category":n},(function(){return f.td({colspan:3},(function(){return o(r,!0)}))})))}return e}()}))}))),!r&&!i)return f.p(".board-clean-up-explanation",(function(){return f.format("it-doesnt-look-like-there-are-any-old-cards-to-clean-up")}))}))})),k=f.renderable((function(e){var t=e.count,n=e.total;return f.div(".window-header.u-clearfix",(function(){return f.span(".window-header-icon.icon-lg.icon-board"),f.div(".window-title",(function(){return f.h2(".window-title-text",(function(){return f.format("board-clean-up")}))}))})),f.div(".window-main-col.window-main-col-full",(function(){return f.div(".board-clean-up-progress",(function(){return f.format("archiving",{count:t,total:n})}))}))})),w={threeMonths:{age:g.getMs({days:90})},month:{age:g.getMs({days:30})},week:{age:g.getMs({days:7})}},x=function(e,t){return function(n,r){return r.getAttribute(e)===t}},C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(C,e);var t,n,i,f,v=(t=C,function(){var e,n=d(t);if(c()){var r=d(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return l(this,e)});function C(){return o(this,C),v.apply(this,arguments)}return n=C,f=[{key:"initClass",value:function(){this.prototype.events={"click .js-archive-category":"archiveCategory","click .js-archive-list":"archiveList","click .js-toggle-checkbox"(e){var t=this.$(e.currentTarget);return t.is("[data-checked]")?t.removeAttr("data-checked"):t.attr("data-checked","checked"),this._updateCategory(t.closest(".js-category-cards").attr("data-category"))},"click .js-select-all"(e){var t=this.$(e.currentTarget).closest(".js-category-cards");return t.find(".js-toggle-checkbox").attr("data-checked","checked"),this._updateCategory(t.attr("data-category"))},"click .js-select-none"(e){var t=this.$(e.currentTarget).closest(".js-category-cards");return t.find(".js-toggle-checkbox").removeAttr("data-checked"),this._updateCategory(t.attr("data-category"))}}}}],(i=[{key:"initialize",value:function(){this.progress=null,this.aborted=!1,this.makeDebouncedMethods("render"),this.listenTo(this.model.listList,"add remove reset change:closed change:idBoard",this.renderDebounced),this.listenForCards()}},{key:"_updateCategory",value:function(e){var t=x("data-category",e),n=this.$(".js-category-heading").filter(t),r=this.$(".js-category-cards").filter(t),i=r.find(".js-toggle-checkbox:not([data-checked])"),o=r.find(".js-toggle-checkbox[data-checked]");return r.find(".js-select-all").toggleClass("hide",!i.length),r.find(".js-select-none").toggleClass("hide",!o.length),n.find(".js-card-count").text(o.length),n.find(".js-archive-category").toggleClass("hide",!o.length)}},{key:"listenForCards",value:function(){return this.listenTo(this.modelCache,"add:Card remove:Card change:Card:closed change:Card:idList",this.renderDebounced)}},{key:"stopListeningForCards",value:function(){return this.stopListening(this.modelCache)}},{key:"_ageCategories",value:function(){var e=this,t=this.modelCache.find("Card",(function(t){return t.get("idBoard")===e.model.id&&t.isVisible()}));return b.chain(w).pairs().map((function(){var e=Array.from(arguments.length<=0?void 0:arguments[0]),n=r(e,2),i=n[0],o=n[1].age,a=t.filter((function(e){return Date.now()-p.parse(e.get("dateLastActivity"))>o}));return[i,a]})).filter((function(){var e=Array.from(arguments.length<=0?void 0:arguments[0]),t=r(e,2),n=(t[0],t[1]);return n.length>0})).object().value()}},{key:"render",value:function(){var e=this;if(null!=this.progress)return this.$el.html(k(this.progress)),this;var t=this.model.listList.chain().filter((function(e){return e.isOpen()})).map((function(e){var t=e.openCards().models,n=b.chain(t).sortBy((function(e){return e.get("dateLastActivity")})).reverse().first().value();return{id:e.id,listName:e.get("name"),cardCount:t.length,cards:t,lastModified:null!=n?n.get("dateLastActivity"):void 0}})).filter((function(e){return null!=e.lastModified&&p.parse(e.lastModified)<Date.now()-g.getMs({days:30})})).sortBy((function(e){return-e.cardCount})).first(5).value();return this.$el.html(y({ageCategories:this._ageCategories(),lists:t})),b.keys(w).forEach((function(t){return e._updateCategory(t)})),this}},{key:"archiveCategory",value:function(e){var t=this;g.stop(e);var n=this.$(e.currentTarget).attr("data-category"),r={};this.$(".js-category-cards").filter(x("data-category",n)).find(".js-toggle-checkbox").each((function(e,n){var i=t.$(n),o=i.attr("data-card");r[o]=i.is("[data-checked]")}));var i=this._ageCategories()[n].filter((function(e){return r[e.id]}));if(null!=i)return u.toggle("archive cards",{elem:e.target,model:this.model,fxConfirm:function(e){return h("Board Clean-Up","Archive By Age",n,i.length),t.stopListeningForCards(),t.progress={count:0,total:i.length},t.render(),t.aborted=!1,m.map(i,(function(e){if(!t.aborted){var n=Date.now();return m.fromNode((function(t){return e.close(t)})).then((function(){var e=1e3-(Date.now()-n);if(e>0)return m.delay(e)})).then((function(){return t.progress.count++,t.render()}))}}),{concurrency:5}).catch((function(){})).then((function(){return t.progress=null,t.listenForCards(),t.render()})).done()}})}},{key:"archiveList",value:function(e){g.stop(e);var t=this.$(e.currentTarget).attr("data-list"),n=this.model.listList.get(t);return h("Board Clean-Up","Archive List",void 0,n.openCards().models.length),n.close()}},{key:"abort",value:function(){if(this.aborted=!0,this.progress)return h("Board Clean-Up","Abort Archive By Age",void 0,this.progress.total-this.progress.count)}}])&&a(n.prototype,i),f&&a(n,f),C}(v);C.initClass(),e.exports=C},"./app/scripts/views/board/board-header-all-members-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./packages/atlassian-analytics/index.ts").Analytics,d=n("./app/scripts/db/auth.coffee"),u=n("./app/scripts/views/lib/drag-sort.coffee"),p=n("./packages/feature-flag-client/index.ts").featureFlagClient,m=(n("./app/scripts/debug/log-error.ts").logError,n("./app/scripts/views/member-menu-profile/member-on-board-view.coffee")),f=n("./app/scripts/views/lib/pop-over.coffee"),h=(n("./app/scripts/views/internal/templates.coffee"),n("./packages/analytics/index.ts")),g=(h.track,h.trackUe),v=n("./app/scripts/lib/util/index.coffee"),b=n("./app/scripts/lib/util/text/search-filter.coffee"),y=n("./app/scripts/views/internal/view.coffee"),k=n("./node_modules/underscore/underscore.js"),w=n("./app/scripts/views/templates/popover_board_header_all_members.js"),x=n("./app/scripts/views/board-menu/board-member-add-multiple-view.js"),C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(j,e);var t,n,h,y,C=(t=j,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function j(){return r(this,j),C.apply(this,arguments)}return n=j,y=[{key:"initClass",value:function(){this.prototype.viewTitleKey="board members",this.prototype.events={"input .js-search-board-member":"onSearchEvent","click .js-invite-to-board-link":"renderInvitationLink"}}}],(h=[{key:"renderMembers",value:function(e){var t,n=this;null==e&&(e=this.model.orderedVisibleMembers());for(var r=k.pluck(this.options.newInvitees,"id"),i=null!=this.model.get("idOrganization"),o=this.model.getOrganization(),a=d.me(),s=this.model.isMember(a)||this.model.isObserver(a)||(null!=o?o.isMember(a):void 0)?k.groupBy(e,(function(e){var t=n.model.getMembershipFor(e);return Array.from(r).includes(e.id)?"recentlyJoined":n.model.isVirtual(e)?"invited":null==t?"other":t.deactivated?"deactivated":"observer"===t.memberType?"observer":null!=t.orgMemberType||null!=(null!=o?o.getMembershipFor(e):void 0)?"team":i?"other":"member"})):{member:k.filter(e,(function(e){var t=n.model.getMembershipFor(e);return!t.deactivated&&"observer"!==t.memberType}))},l=[{selector:".js-list-members",list:s.member},{selector:".js-list-team-members",list:s.team},{selector:".js-list-recently-joined-members",list:s.recentlyJoined},{selector:".js-list-invited-members",list:s.invited},{selector:".js-list-guests",list:s.other},{selector:".js-list-observers",list:s.observer},{selector:".js-deactivated-members",list:s.deactivated}],c=1===k.keys(s).length&&(null!=s.member||null!=s.team),p=0,f=Array.from(l);p<f.length;p++){var h=f[p],g=h.selector,v=h.list;null==v&&(v=[]);var b=this.$(g),y=b.find(".js-list"),w=b.find(".js-heading");b.toggleClass("is-hidden",0===v.length),w.toggleClass("is-hidden",c),b.toggleClass("is-partial-row",v.length<8);var x=function(){for(var e=[],r=0,i=Array.from(v);r<i.length;r++)t=i[r],e.push(n.subview(m,t,{board:n.model,pushView:!0}));return e}();y.length&&this.ensureSubviews(x,y)}return this.defer((function(){return u.refreshDraggableSidebarMembers()}))}},{key:"filterMembersResult",value:function(e){var t=b(e);return k.filter(this.model.orderedVisibleMembers(),(function(e){return t(v.getMemNameArray(e))}))}},{key:"onSearchEvent",value:function(e){this.memberSearch=this.$(".js-search-board-member").val().trim();var t=this.memberSearch?this.filterMembersResult(this.memberSearch):this.model.orderedVisibleMembers();return this.$(".js-invite-no-results").toggleClass("hide",0!==t.length),this.renderMembers(t)}},{key:"renderInvitationLink",value:function(e){v.stop(e),g("board view","adds","board member","","","board-header-button",x),p.get("dataeng.gasv3-event-tracking",!1)&&c.sendClickedLinkEvent({linkName:"inviteToBoardLink",source:"allBoardMembersInlineDialog",containers:{board:{id:this.model.id},organization:{id:_(this.model.getOrganization(),(function(e){return e.id}))}}});var t=new x({model:this.model,modelCache:this.modelCache});t.loadOrgData(),f.toggle({elem:$(".js-open-manage-board-members"),view:t})}},{key:"render",value:function(){var e={canAssign:this.model.editable(),showInviteLink:this.model.canInviteMembers()};return this.$el.html(w(e)),this.renderMembers(),p.get("dataeng.gasv3-event-tracking",!1)&&c.sendScreenEvent({name:"allBoardMembersInlineDialog",containers:{board:{id:this.model.id},organization:{id:_(this.model.getOrganization(),(function(e){return e.id}))}},attributes:{numMembers:this.model.orderedVisibleMembers().length}}),this}}])&&i(n.prototype,h),y&&i(n,y),j}(y);function _(e,t){return null!=e?t(e):void 0}C.initClass(),e.exports=C},"./app/scripts/views/board/board-header-org-menu-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./app/scripts/db/auth.coffee"),d=n("./app/scripts/views/board-menu/board-select-organization-view.js"),u=n("./app/scripts/views/lib/pop-over.coffee"),p=n("./app/scripts/lib/util/index.coffee"),m=n("./app/scripts/views/internal/view.coffee"),f=n("./app/scripts/views/templates/popover_board_header_org_menu.js"),h=n("./packages/analytics/index.ts").track,g=n("./packages/config/index.ts").dontUpsell,v=n("./packages/feature-flag-client/index.ts").featureFlagClient,b=n("./packages/atlassian-analytics/index.ts").Analytics,y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(x,e);var t,n,m,y,w=(t=x,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function x(){return r(this,x),w.apply(this,arguments)}return n=x,y=[{key:"initClass",value:function(){this.prototype.events={"click .js-change-org":"openChangeOrg","click .js-view-org":"viewOrg","click .js-upgrade-to-bc":"trackBcUpgrade"}}}],(m=[{key:"getViewTitle",value:function(){return this.model.getOrganization().get("displayName")}},{key:"render",value:function(){var e=this.model.getOrganization(),t=e.toJSON();return t.canChangeOrg=(null!=e?e.owned():void 0)||this.model.owned(),t.isOrgMember=e.isMember(c.me()),(null!=e?e.owned():void 0)&&!this.model.owned()&&(t.setOrgNull=!0),t.upsellEnabled=!g,this.$el.html(f(t)),v.get("dataeng.gasv3-event-tracking",!1)&&b.sendScreenEvent({name:"boardOrganizationInlineDialog",containers:{board:{id:this.model.id},organization:{id:k(this.model.getOrganization(),(function(e){return e.id}))}}}),this}},{key:"openChangeOrg",value:function(e){var t=this;if(p.stop(e),this.model.owned())u.pushView({view:d,options:{model:this.model,modelCache:this.modelCache}}),h("Board Header","Change Org from Board Header Org Menu"),v.get("dataeng.gasv3-event-tracking",!1)&&b.sendClickedLinkEvent({linkName:"changeBoardOrganizationLink",source:"boardOrganizationInlineDialog",containers:{board:{id:this.model.id},organization:{id:k(this.model.getOrganization(),(function(e){return e.id}))}}});else{var n=this.model.get("idOrganization");k(this.modelCache.get("Organization",n),(function(e){return e.boardList.remove(t.model)})),this.model.update("idOrganization",""),u.hide(),h("Board Header","Remove Org from Board Header Org Menu"),b.sendUpdatedBoardFieldEvent({field:"organization",source:"boardOrganizationInlineDialog",containers:{board:{id:this.model.id},organization:{id:k(this.model.getOrganization(),(function(e){return e.id}))}},attributes:{previous:n}})}}},{key:"viewOrg",value:function(){if(h("Board Header","View Org From Board Header Org Menu"),v.get("dataeng.gasv3-event-tracking",!1))return b.sendClickedLinkEvent({linkName:"viewOrganizationLink",source:"boardOrganizationInlineDialog",containers:{board:{id:this.model.id},organization:{id:k(this.model.getOrganization(),(function(e){return e.id}))}}})}},{key:"trackBcUpgrade",value:function(){if(h("Board Header","Org Menu","Upgrade to Business Class link"),v.get("dataeng.gasv3-event-tracking",!1))return b.sendClickedLinkEvent({linkName:"upgradeToBCLink",source:"boardOrganizationInlineDialog",containers:{board:{id:this.model.id},organization:{id:k(this.model.getOrganization(),(function(e){return e.id}))}}})}}])&&i(n.prototype,m),y&&i(n,y),x}(m);function k(e,t){return null!=e?t(e):void 0}y.initClass(),e.exports=y},"./app/scripts/views/board/board-view-background.js":function(e,t,n){var r=n("./packages/jquery/index.js"),i=n("./node_modules/react/index.js"),o=n("./packages/react-dom-wrapper/index.ts"),a=n("./packages/unsplash/index.ts").UnsplashTracker,s=n("./app/scripts/lib/favicon.coffee"),l=n("./app/scripts/views/board/board-background-prompt.js"),c=n("./app/scripts/views/board-menu/board-background-prompt-tooltip.js"),d=n("./app/scripts/data/backgrounds.coffee"),u=n("./app/scripts/lib/util/index.coffee"),p=n("./packages/feature-flag-client/index.ts").featureFlagClient,m=n("./app/scripts/views/onboarding/helpers.coffee").isInspirationBoard,f=n("./app/scripts/lib/experiments/simple-test.coffee"),h=n("./packages/atlassian-analytics/index.ts").Analytics,g=n("./app/scripts/db/auth.coffee"),v=n("./packages/analytics/index.ts").trackUe;function b(e,t){return null!=e?t(e):void 0}e.exports.unmountBoardBackgroundPrompt=function(){return this.boardBackgroundPromptDiv&&o.unmountComponentAtNode(this.boardBackgroundPromptDiv),this.boardBackgroundPromptDiv=null,this.boardBackgroundPromptComponent=null},e.exports.unmountBoardBackgroundPromptPopover=function(){return this.boardBackgroundPromptPopoverDiv&&o.unmountComponentAtNode(this.boardBackgroundPromptPopoverDiv),this.boardBackgroundPromptPopoverDiv=null,this.boardBackgroundPromptPopoverComponent=null},e.exports.renderBoardBackgroundPrompt=function(){var e=this;return null!=this.boardBackgroundPromptDiv&&this.unmountBoardBackgroundPrompt(),null==this.boardBackgroundPromptDiv&&(this.boardBackgroundPromptDiv=document.createElement("div")),this.model.viewState.set("initialBackgroundColor",this.model.attributes.prefs.background),this.setTimeout((function(){var t=g.me();if(p.get("board.background.prompt",!1)&&null==e.model.get("prefs").backgroundImage&&t.isLoggedIn()&&t.isNewMember()&&!t.isDismissed("board-background-prompt")&&e.model.isFirstOwnedBoard()&&e.model.owned()&&!(e.model.memberList.length>1)&&!m(e.model.get("id"))&&null==e.model.getOrganization()&&"control"!==f("boardBackgroundPrompt").get("variation"))return v("Board Background Prompt","View Prompt"),e.sendGASEvent&&h.sendScreenEvent({name:"boardBackgroundPromptInlineDialog"}),e.boardBackgroundPromptComponent=i.createElement(l,{model:e.model,onBrowse:function(){return e.model.viewState.set("boardBackgroundPromptOpenedSidebar",!0),e.sidebarView.pushView("backgroundPhotos",{component:"photos"}),e.unmountBoardBackgroundPrompt()},onDismiss:function(){return e.model.viewState.set("showBoardBackgroundPromptPopover",!0),e.unmountBoardBackgroundPrompt()}}),e.$(".board-canvas").append(e.boardBackgroundPromptDiv),o.render(e.boardBackgroundPromptComponent,e.boardBackgroundPromptDiv)}),2e3)},e.exports.renderBoardBackgroundPromptPopover=function(){var e=this;if(this.model.viewState.get("showBoardBackgroundPromptPopover")&&!this.model.viewState.get("showSidebar"))return this.boardBackgroundPromptPopoverComponent=i.createElement(c,{onDismiss:function(){return e.model.viewState.set("showBoardBackgroundPromptPopover",!1),e.unmountBoardBackgroundPromptPopover()}}),this.boardBackgroundPromptPopoverDiv=document.createElement("div"),r(this.boardBackgroundPromptPopoverDiv).insertAfter(".js-show-sidebar"),o.render(this.boardBackgroundPromptPopoverComponent,this.boardBackgroundPromptPopoverDiv);this.unmountBoardBackgroundPromptPopover()},e.exports.getAllBackgroundClasses=function(){return["body-custom-board-background","body-custom-board-background-tiled","body-light-board-background","body-dark-board-background","body-ambiguous-board-background","body-default-header"].join(" ")},e.exports.defaultBoardBackground=function(){this.clearBoardBackground(),r("#trello-root").addClass("body-default-header")},e.exports.clearBoardBackground=function(){this.model.get("prefs");var e=this.getAllBackgroundClasses();r("#trello-root").removeClass(e).css({"background-image":"","background-color":""})},e.exports.renderBoardBackground=function(e){null==e&&(e=!1),this.clearBoardBackground();var t,n,i,o,l,c=this.model.get("prefs"),p=r("#trello-root");if(null!=c.backgroundColor){var m=this.model.getClientBackgroundColor(c.background);return p.css({"background-color":m}),s.setBackground({color:m})}n=d.hasOwnProperty(c.background)?null!=(i=b(u.smallestPreviewBiggerThan(c.backgroundImageScaled,640,480),(function(e){return e.url})))?i:c.backgroundImage:null!=(o=b(u.biggestPreview(c.backgroundImageScaled,c.backgroundImage),(function(e){return e.url})))?o:c.backgroundImage,t=c.backgroundTile?n:null!=(l=b(u.smallestPreviewBiggerThan(c.backgroundImageScaled,64,64),(function(e){return e.url})))?l:c.backgroundImage;var f=function(){p.addClass("body-custom-board-background"),c.backgroundTile&&p.addClass("body-custom-board-background-tiled");var e=c.backgroundBrightness;c.backgroundTopColor&&(e!==u.calculateBrightness(c.backgroundTopColor)&&p.addClass("body-ambiguous-board-background"));switch(e){case"light":p.addClass("body-light-board-background");break;case"dark":p.addClass("body-dark-board-background")}return p.css({"background-image":'url("'.concat(n,'")')}),a.trackOncePerInterval(n),s.setBackground({url:t,tiled:c.backgroundTile})};return e?u.waitForImageLoad(n).then(f):f()},e.exports.renderBoardHeaderSubscribed=function(){var e=this.model.get("subscribed");return this.$(".js-board-header-subscribed").toggleClass("hide",!e),this}},"./app/scripts/views/board/board-view-card.js":function(e,t,n){var r=n("./packages/jquery/index.js"),i=n("./packages/analytics/index.ts"),o=i.track,a=i.trackUe,s=n("./packages/atlassian-analytics/index.ts").Analytics,l=n("./app/scripts/db/id-cache.coffee"),c=n("./app/scripts/models/card.coffee"),d=n("./app/scripts/network/payloads.coffee"),u=n("./app/scripts/lib/util/index.coffee"),p=n("./app/scripts/views/lib/pop-over.coffee"),m=n("./app/scripts/views/board/add-list-popover-view.js"),f=n("./app/scripts/views/card/card-limits-error.coffee").canAddCard;e.exports.openCardComposerInFirstList=function(){var e=this.model.listList.first();this.model.composer.save({list:e,index:e.openCards().length,vis:!0}),a("card composer","open","","","","via navigating to board",{boardid:this.model.get("id")}),this.sendGASEvent&&s.sendUIEvent({action:"opened",actionSubject:"cardComposer",source:"boardScreen",attributes:{method:"firstList"}})},e.exports.scrollToCard=function(e){var t=e.getList();return this.scrollToList(t),this.viewForList(t).scrollToCard(e)},e.exports.preventScrollSelection=function(){var e=this;if(!this.ignoreMouseCardSelects){this.ignoreMouseCardSelects=!0;!function t(){return r(document).one("mousemove",(function(n){!function(e){var t=e.originalEvent,n=t.movementX,r=t.movementY;return 0!==n||0!==r}(n)?t():e.ignoreMouseCardSelects=!1}))}()}},e.exports.moveCard=function(e){var t,n,r=this;this.preventScrollSelection();var i=this.model.viewState.getCard();if(null!=i){var o=i.getList(),a=o.openCards(),s=a.indexOf(i),l=function(e,t,n,i){var o=e+t;if(r.model.filter.isFiltering)for(;0<=o&&o<n&&!i(o);)o+=t;return o};if(["up","down"].includes(e)){if(0<=(n=l(s,"up"===e?-1:1,a.length,(function(e){return r.model.filter.satisfiesFilter(a.at(e))})))&&n<a.length)return t=a.at(n),this.scrollToCard(t),this.model.viewState.selectCard(t)}else if(["left","right"].includes(e)){var c=this.model.listList,d=c.indexOf(o),u=l(d,"left"===e?-1:1,c.length,(function(e){return c.at(e).openCards().any((function(e){return r.model.filter.satisfiesFilter(e)}))}));if(0<=u&&u<c.length){var p=c.at(u).openCards(),m=Math.min(s,p.length-1);return function(){for(var e=[],i=0,o=[1,-1];i<o.length;i++){var a=o[i];if(0<=(n=l(m-a,a,p.length,(function(e){return r.model.filter.satisfiesFilter(p.at(e))})))&&n<p.length){t=p.at(n),r.model.viewState.selectCard(t),r.scrollToCard(t);break}e.push(void 0)}return e}()}}}else{var f=this.model.listList.find((function(e){return!e.openCards().isEmpty()}));null!=f&&f.selectFirstCardInList()}},e.exports.dblClickAddListMenu=function(e){var t,n=this;if((u.stop(e),!(r(e.target).closest(".js-card-templates-button").length>0))&&this.model.editable())if(0===r(e.target).closest(".js-list-content").length)this.model.viewState.get("listComposerOpen")||(o("Board View","Open Add List Menu via Double Click"),this.sendGASEvent&&s.sendScreenEvent({name:"addListInlineDialog",attributes:{method:"doubleClick"}}),p.show({clientx:e.clientX,clienty:e.clientY,view:new m({model:this.model,modelCache:this.modelCache,didAddList:function(e){return n.scrollToList(e)}})}));else if(null!=(t=this.model.viewState.getList())){if(0===this.$(document.elementFromPoint(e.clientX,e.clientY)).closest(".list-header-name,.card-composer,.list-card").length){var i=this.$(document.elementFromPoint(e.clientX,e.clientY-16)).closest(".list-card");o("Board View","Open Card Composer via Double Click"),this.sendGASEvent&&s.sendUIEvent({action:"opened",actionSubject:"cardComposer",source:"boardScreen",attributes:{method:"doubleClick"}}),this.model.composer.save({list:t,index:i.length?Math.max(i.closest(".js-list-cards").find(">.list-card").index(i),0)+1:0,vis:!0})}}},e.exports._insertCardPosition=function(e){var t=this.model.viewState.getCard();return null!=t?{idList:t.get("idList"),index:t.getIndexInList()}:{idList:e,index:this.model.listList.get(e).cardList.length}},e.exports.moveCardRequested=function(e,t){var n,r,i=this,o=t.shortLink,a=t.idList,s=this._insertCardPosition(a);a=s.idList,n=s.index;var u=null!=(r=l.getId("Card",o))?r:o;return c.load(u,d.cardMinimal,this.modelCache).then((function(e){var t=i.model.listList.get(a);if(e.get("idList")===a||f({destinationList:t}))return e.moveToList(t,n)})).done()},e.exports.copyCardRequested=function(e,t){var n,r,i=this,o=t.shortLink,a=t.idList,s=this._insertCardPosition(a);a=s.idList,n=s.index;var u=null!=(r=l.getId("Card",o))?r:o;return c.load(u,d.cardMinimal,this.modelCache).then((function(e){var t=i.model.listList.get(a),r={hasChecklists:e.checklistList.length>0,hasAttachments:e.attachmentList.length>0,destinationBoard:i.model,destinationList:t};if(f(r))return e.copyTo({idList:a,pos:i.model.listList.get(a).calcPos(n,e)})})).done()}},"./app/scripts/views/board/board-view-collaboration.js":function(e,t,n){n("./packages/jquery/index.js");var r=n("./app/scripts/controller/index.js"),i=n("./node_modules/react/index.js"),o=n("./packages/react-dom-wrapper/index.ts"),a=n("./app/src/components/TeamlessCollaborationPrompt/index.ts").TeamlessCollaborationPrompt,s=n("./app/src/components/WorkspacesPreamble/index.ts"),l=s.WorkspacesPreambleBoardHeaderButton,c=s.WorkspacesPreambleBoardInviteButton,d=n("./packages/feature-flag-client/index.ts").featureFlagClient,u=n("./app/scripts/db/auth.coffee"),p=n("./app/src/components/ComponentWrapper/index.ts").renderComponent;e.exports.onTeamCreatedFromCollaborationPrompt=function(e){var t=this;return r.organizationBoardsView(e,{shouldShowTeamfulCollaborationPrompt:!0}).then((function(){return t.unmountTeamlessCollaborationPrompt()}))},e.exports.unmountTeamlessCollaborationPrompt=function(){var e=this.$("#teamless-collaboration-prompt-target")[0];return e&&o.unmountComponentAtNode(e),this.isPopoverRendered=!1},e.exports.renderTeamlessCollaborationPrompt=function(){var e=this,t=this.$("#teamless-collaboration-prompt-target")[0],n=d.get("btg.workspaces-preamble",!1),r=u.me().isDismissed("TeamlessCollaborationPrompt-".concat(this.model.id));if(t&&!n&&!r&&!this.hasSeenTeamlessCollaborationPrompt)return this.hasSeenTeamlessCollaborationPrompt=!0,p(i.createElement(a,{boardId:this.model.id,onClose:function(){return e.unmountTeamlessCollaborationPrompt()},onTeamCreated:function(t){return e.onTeamCreatedFromCollaborationPrompt(t)},target:function(){return e.$(".js-add-board-to-team")[0]}}),t)},e.exports.unmountWorkspacesPreambleBoardHeaderButton=function(){if(this.workspacesPreambleBoardHeaderButtonTarget)return o.unmountComponentAtNode(this.workspacesPreambleBoardHeaderButtonTarget),this.workspacesPreambleBoardHeaderButtonTarget=null},e.exports.onWorkspacesPreambleCreateTeamSuccess=function(e){var t=this;if(e)return r.organizationBoardsView(e,{shouldShowTeamfulCollaborationPrompt:!0}).then((function(){return t.unmountWorkspacesPreambleBoardHeaderButton()}))},e.exports.renderWorkspacesPreambleBoardHeaderButton=function(){var e=this;this.unmountWorkspacesPreambleBoardHeaderButton(),this.workspacesPreambleBoardHeaderButtonTarget=this.$("#workspaces-preamble-board-header-button")[0],this.workspacesPreambleBoardHeaderButtonTarget&&(p(i.createElement(l,{boardId:this.model.id,canAutoShow:!this.workspacesPreamblePromptHasBeenSeen,onCreateTeamSuccess:function(t){return e.onWorkspacesPreambleCreateTeamSuccess(t)}}),this.workspacesPreambleBoardHeaderButtonTarget),this.workspacesPreamblePromptHasBeenSeen=!0)},e.exports.unmountWorkspacesPreambleInviteButton=function(){if(this.workspacesPreambleInviteButtonTarget)return o.unmountComponentAtNode(this.workspacesPreambleInviteButtonTarget)},e.exports.renderWorkspacesPreambleInviteButton=function(){var e=this;this.unmountWorkspacesPreambleInviteButton(),this.workspacesPreambleInviteButtonTarget=this.$("#workspaces-preamble-invite-button")[0],this.workspacesPreambleInviteButtonTarget&&(p(i.createElement(c,{boardId:this.model.id,onSuccess:function(){return e.hasAddedBoardToTeamViaInviteButton=!0}}),this.workspacesPreambleInviteButtonTarget),this.hasAddedBoardToTeamViaInviteButton&&(this.hasAddedBoardToTeamViaInviteButton=!1,this.openAddMembers()))}},"./app/scripts/views/board/board-view-copy.js":function(e,t,n){var r=n("./app/scripts/lib/util/index.coffee"),i=n("./app/scripts/views/lib/pop-over.coffee"),o=n("./app/scripts/views/board/copy-board-view.js");e.exports.copyBoard=function(e){return r.stop(e),i.toggle({elem:this.$(e.target).closest(".js-copy-board"),view:new o({model:this.model,modelCache:this.modelCache})})}},"./app/scripts/views/board/board-view-header.js":function(e,t,n){var r=n("./node_modules/underscore/underscore.js"),i=n("./packages/analytics/index.ts").track,o=n("./packages/atlassian-analytics/index.ts").Analytics,a=n("./app/scripts/lib/util/index.coffee"),s=n("./app/scripts/views/board/board-clean-up-view.js"),l=n("./app/scripts/db/auth.coffee"),c=n("./app/scripts/lib/localize.coffee"),d=n("./app/scripts/views/templates/board_header.js"),u=n("./app/scripts/data/copy-board-header-button-teams.js"),p=n("./packages/feature-flag-client/index.ts").featureFlagClient,m=n("./packages/config/index.ts").logoDomain,f=n("./app/scripts/views/lib/dialog.coffee"),h=n("./node_modules/react/index.js"),g=n("./packages/react-dom-wrapper/index.ts"),v=n("./app/src/components/ComponentWrapper/index.ts").renderComponent,b=n("./app/src/components/BoardViewsButton/index.ts").BoardViewsButton,y=n("./app/scripts/controller/index.js"),k=n("./app/scripts/data/legacy-power-ups.coffee"),w=(n("./app/scripts/views/internal/plugins/plugin-runner.coffee"),n("./app/scripts/controller/navigate.js").navigate),x=n("./packages/config/index.ts").mapPowerUpId,C=k.calendar;function _(e,t){return null!=e?t(e):void 0}e.exports.renderBoardHeader=function(){var e=this,t=this.model.isPremOrgAdmin(l.me()),n=p.get("btg.workspaces-preamble",!1),i={name:this.model.get("name"),canRename:t||this.model.owned(),isLoggedIn:l.isLoggedIn(),isAdmin:this.model.ownedByMember(l.me()),isMember:this.model.isMember(l.me()),isPrivateTeam:this.model.hasOrganization()&&!this.model.getOrganization(),isPrivateTeamForEnterpriseVisibleBoard:this.model.hasOrganization()&&"enterprise"===this.model.getPref("permissionLevel"),isUntitled:this.model.get("name")===c(["untitled board"]),canJoin:this.model.canJoin(),canInviteMembers:this.model.canInviteMembers(),selfJoin:this.model.allowsSelfJoin(),canAssign:this.model.editable(),boardCardCount:_(this.model.openCards(),(function(t){return t.filter((function(t){return e.model.filter.satisfiesFilter(t)})).length})),isTemplate:this.model.isTemplate(),boardViewsButtonEnabled:p.get("remarkable.board-views-button",!1),workspacesPreambleEnabled:n};null!=this.calendarView?i.currentBoardView="calendar":null!=this.mapView?i.currentBoardView="map":i.currentBoardView="list",i.starTooltipKey=this.model.isTemplate()?"click-to-star-or-unstar-this-template-starred-templates-show-up-at-the-top-of-your-boards-list":"click-to-star-or-unstar-this-board-starred-boards-show-up-at-the-top-of-your-boards-list";var o=this.model.getOrganization();if(null!=o){i.orgDisplayName=o.get("displayName"),i.orgName=o.get("name"),i.showCopyButton=r.contains(u,o.id);var a=o.get("logoHash"),s=_(o.getEnterprise(),(function(e){return e.get("logoHash")}));s?(i.orgLogoUrl="".concat(m,"/").concat(s,"/30.png"),i.orgLogoUrl2x="".concat(m,"/").concat(s,"/170.png")):a&&(i.orgLogoUrl="".concat(m,"/").concat(a,"/30.png"),i.orgLogoUrl2x="".concat(m,"/").concat(a,"/170.png")),i.hasBusinessClass=o.isPremium(),i.isBusinessClass=o.isBusinessClass(),i.isEnterprise=null!=o?o.get("idEnterprise"):void 0}return this.$(".js-board-header").html(d(i)),n&&(this.renderWorkspacesPreambleInviteButton(),null!=o?this.unmountWorkspacesPreambleBoardHeaderButton():this.renderWorkspacesPreambleBoardHeaderButton()),this.renderPermissionLevel(),this.renderBoardHeaderCalendar(),this.renderBoardHeaderSubscribed(),this.renderBoardHeaderMap(),this.renderFilteringStatus(),this.renderBoardHeaderStarred(),this.renderPluginButtons(),this.renderBoardHeaderFacepile(),this.renderBoardBackgroundPromptPopover(),this.renderBoardTemplateBadge(),this.renderBoardViewsButton(),this},e.exports.renderBoardHeaderStarred=function(){return this.$(".js-star-board").toggleClass("board-header-btn-enabled",this.model.isStarred()),this},e.exports.toggleStarred=function(){var e=l.me().boardStarList;return null!=e.getBoardStar(this.model.id)?(e.unstarBoard(this.model.id),i("Board Header","Unstar Board")):(e.starBoard(this.model.id),i("Board Header","Star Board")),o.sendUpdatedBoardFieldEvent({field:"star",value:!!e.getBoardStar(this.model.id),source:"boardScreen",containers:{board:{id:this.model.id}}}),this},e.exports.openFilter=function(e){a.stop(e),i("Board Header","Open Filtering via Header"),this.sendGASEvent&&o.sendClickedButtonEvent({buttonName:"boardFilterButton",source:"boardScreen"}),this.sidebarView.pushView("filter")},e.exports.clearFilters=function(e){a.stop(e),i("Board Header","Clear Filtering via Header"),this.sendGASEvent&&o.sendClickedButtonEvent({buttonName:"clearBoardFilterButton",source:"boardScreen"}),this.model.filter.clear()},e.exports.showCleanUp=function(e){a.stop(e),i("Board Header","Show Clean-Up");var t=new s({model:this.model,modelCache:this.modelCache});f.show({view:t,maxWidth:800,hide:()=>t.abort()})},e.exports.renderBoardViewsButton=function(){var e=this;if(p.get("remarkable.board-views-button",!1)){var t=function(){var t;t=null!=e.calendarView?"calendar":null!=e.mapView?"map":"list";var n=!0,r=!0;if(e.model.isEnterpriseBoard()){var i=e.model.getEnterprise();null!=i&&(n=i.isPluginAllowed(C),r=i.isPluginAllowed(x))}var o=void 0;e.model.hasOrganization()&&(o=_(e.model.getOrganization(),(function(e){return e.get("name")})));var a=l.me(),s=null!=a&&e.model.hasOrganization()&&!e.model.allowsSelfJoin()&&!e.model.isMember(a),c=null!=a&&e.model.isObserver(a);return v(h.createElement(b,{currentView:t,orgName:o,isCalendarPowerUpEnabled:e.model.isPowerUpEnabled("calendar"),isMapPowerUpEnabled:e.model.isMapPowerUpEnabled(),hasReachedPowerUpLimit:!e.model.canEnableAdditionalPowerUps(),onPublicBoard:e.model.isPublic(),boardEditable:e.model.editable(),isCalendarPowerUpAllowed:n,isMapPowerUpAllowed:r,isReadOnlyMember:c||s,navigateToListView:function(){var t=y.getBoardUrl(e.model.id);return w(t,{trigger:!0}),!0},navigateToCalendarView:function(){var t=y.getBoardUrl(e.model.id,"calendar");return e.model.isPowerUpEnabled("calendar")?(w(t,{trigger:!0}),!0):!!e.model.editable()&&(!!n&&(e.model.enablePlugin(C).then((function(){return w(t,{trigger:!0})})),!0))},navigateToMapView:function(){var t=y.getBoardUrl(e.model.id,"map");return e.model.isMapPowerUpEnabled()?(w(t,{trigger:!0}),!0):!!e.model.editable()&&(!!r&&(e.model.enablePlugin(x).then((function(){return w(t,{trigger:!0})})),!0))},preloadPlugins:function(){return e.model.getAvailablePlugins()}}),e.$(".js-board-views-btn-container")[0])};this.boardViewsButtonPreviouslyRender?t():r.defer((function(){return t(),e.boardViewsButtonPreviouslyRender=!0}))}},e.exports.removeBoardViewsButton=function(){if(p.get("remarkable.board-views-button",!1)&&this.$(".js-board-views-btn-container").length)return g.unmountComponentAtNode(this.$(".js-board-views-btn-container")[0])}},"./app/scripts/views/board/board-view-invitation.js":function(e,t,n){var r=n("./packages/jquery/index.js"),i=n("./node_modules/react/index.js"),o=n("./packages/react-dom-wrapper/index.ts"),a=n("./node_modules/moment/moment.js"),s=n("./app/scripts/views/board/invite-acceptance-notification.js"),l=n("./app/scripts/db/auth.coffee"),c=n("./app/scripts/lib/util/index.coffee"),d=n("./node_modules/underscore/underscore.js"),u=n("./packages/analytics/index.ts").trackUe,p=n("./packages/atlassian-analytics/index.ts").Analytics;e.exports.closeInviteAcceptanceNotification=function(){return this.unmountInviteAcceptanceNotification()},e.exports.buildInviteAcceptanceNotification=function(e){var t=this;return i.createElement(s,{members:e,onClose:function(){return t.closeInviteAcceptanceNotification()}})},e.exports.getNewlySignedUpInvitees=function(){var e=l.me().id,t=a(this.model.get("previousDateLastView")),n={};return this.model.memberList.models.forEach((function(e){return n[e.get("id")]=e})),this.model.get("memberships").reduce((function(r,i){var o=n[i.idMember];return o&&a(c.idToDate(o.id)).isAfter(t)&&o.get("idMemberReferrer")===e&&"normal"===o.get("memberType")?r.concat(o):r}),[])},e.exports.renderPopovers=function(){var e=this.model.orderedVisibleMembers(),t=this.getNewlySignedUpInvitees(),n=!l.me().isDismissed("notify-invite-acceptance")&&0!==t.length&&!this.hasSeenInviteAcceptanceNotification;return this.isPopoverRendered?this:(n?(this.renderInviteAcceptanceNotification(t,d.map(e,(function(e){return e.id}))),t.forEach((function(e){return u("board header","sees","new member signed up","","","by invite acceptance notification",{referringMember:l.me().id,newMember:e.id}),p.sendOperationalEvent({action:"rendered",actionSubject:"inviteAcceptanceNotification",source:"boardScreen",attributes:{referringMember:l.me().id,newMember:e.id}})}))):(t.forEach((function(e){return u("board header","doesnt see","new member signed up","","","",{referringMember:l.me().id,newMember:e.id}),p.sendOperationalEvent({action:"skipped",actionSubject:"inviteAcceptanceNotification",source:"boardScreen",attributes:{referringMember:l.me().id,newMember:e.id}})})),this.renderTeamlessCollaborationPrompt()),this.isPopoverRendered=!0)},e.exports.renderInviteAcceptanceNotification=function(e,t){var n="#member-count-notifications";if(1===e.length&&Array.from(t).includes(e[0].id)){var i="#".concat(e[0].id,"-avatar");null!=r(i).offset()||(n=i)}this.unmountInviteAcceptanceNotification(),this.hasSeenInviteAcceptanceNotification=!0,this.inviteAcceptanceNotificationDiv=document.createElement("div"),this.$("#board-header-notification").append(this.inviteAcceptanceNotificationDiv),this.inviteAcceptanceNotificationComponent=o.render(this.buildInviteAcceptanceNotification(e),this.inviteAcceptanceNotificationDiv);var a=r(n);return r(".invite-acceptance-notification").css("left",a.offset().left-16),this},e.exports.unmountInviteAcceptanceNotification=function(){return null!=this.inviteAcceptanceNotificationDiv&&(o.unmountComponentAtNode(this.inviteAcceptanceNotificationDiv),this.inviteAcceptanceNotificationDiv=null,this.inviteAcceptanceNotificationComponent=null),this.isPopoverRendered=!1}},"./app/scripts/views/board/board-view-jsw-crossflow-popover.js":function(e,t,n){n("./packages/jquery/index.js");var r=n("./app/scripts/views/board/jsw-crossflow-popover-view.js"),i=n("./app/scripts/views/board/touchpoint-jsw-experiment-activation.js");e.exports.renderJswCrossflowPopover=function(){if(i.isBoardActive()){this.$(".board-canvas").append('<div class="jsw-crossflow-popover-mount-point"></div>');var e=this.subview(r,this.model,{modelCache:this.modelCache});return this.ensureSubview(e,this.$(".jsw-crossflow-popover-mount-point"))}}},"./app/scripts/views/board/board-view-limit.js":function(e,t,n){function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var o=n("./node_modules/underscore/underscore.js"),a=n("./packages/storage/index.ts").TrelloStorage,s=n("./app/scripts/views/templates/board_header_warnings.js"),l=n("./app/scripts/lib/limits.coffee"),c=n("./app/scripts/lib/util/index.coffee");e.exports.renderBoardWarnings=function(){var e=this,t=this.$(".js-board-warnings"),n=l.sort(l.filterByKeys(this.model.get("limits"),["cards.openPerBoard","cards.totalPerBoard","checklists.perBoard","labels.perBoard","lists.openPerBoard","lists.totalPerBoard","attachments.perBoard"]).filter((function(e){return"ok"!==e.status}))),i={"cards.openPerBoard":"open-cards-per-board-limit","cards.totalPerBoard":"total-cards-per-board-limit","checklists.perBoard":"checklists-per-board-limit","labels.perBoard":"labels-per-board-limit","lists.openPerBoard":"open-lists-per-board-limit","lists.totalPerBoard":"total-lists-per-board-limit","attachments.perBoard":"attachments-per-board-limit"},d=this.model.editable(),u=c.dateBefore({months:6}),p=n.map((function(e){var t=e.key,n="warn"===e.status?"warn":"disabled";return[t,{key:"".concat(i[e.key],"-").concat(n),test:function(){return d},minDismiss:u}]})),m=function(t){return"BoardWarning-".concat(t,"-").concat(e.model.id)},f=o.chain(p).filter((function(){var e,t,n,i=Array.from(arguments.length<=0?void 0:arguments[0]),o=r(i,2);e=o[0];var s=o[1];if(t=s.test,n=s.minDismiss,t()){var l=a.get(m(e));return!l||l<n}})).map((function(){var e=Array.from(arguments.length<=0?void 0:arguments[0]),t=r(e,2),n=t[0],i=t[1].key;return{name:n,key:i,dismiss:m(n)}})).first().value();return o.chain(p).filter((function(){var e=Array.from(arguments.length<=0?void 0:arguments[0]),t=r(e,2),n=t[0],i=t[1].test;return!i()&&null!=a.get(m(n))})).each((function(){var e=Array.from(arguments.length<=0?void 0:arguments[0]),t=r(e,1),n=t[0];return a.unset(m(n))})).value(),f?t.removeClass("hide").html(s({canDismiss:a.isEnabled(),warning:f})):t.addClass("hide"),this}},"./app/scripts/views/board/board-view-list.js":function(e,t,n){var r=n("./app/scripts/lib/util/index.coffee"),i=n("./app/scripts/views/lib/drag-sort.coffee"),o=n("./app/scripts/debug/log.js");e.exports.openListComposer=function(){return this.model.viewState.openListComposer()},e.exports.scrollToList=function(e){r.scrollElementIntoView(this.$("#board")[0],this.viewForList(e).el,{horizontal:!0,animated:!0})},e.exports.viewForList=function(e){return this.listListView.viewForModel(e)},e.exports.postListListRender=function(){return o("render","rendering inline composer and calculating list layout"),this.renderFilteringStatus(),this.renderInspirationPopover(),i.refreshListCardSortable()},e.exports.renderLists=function(){return this.listListView.$el.toggleClass("js-list-sortable",this.model.editable()),this.$(".board-canvas").append(this.listListView.el),this.listListView.render(),this.listListView.delegateEvents(),this},e.exports.sortCommit=function(e,t){return t.item.trigger("movelist",t)}},"./app/scripts/views/board/board-view-member.js":function(e,t,n){var r=n("./packages/jquery/index.js"),i=n("./packages/atlassian-analytics/index.ts").Analytics,o=n("./packages/analytics/index.ts"),a=o.track,s=o.trackUe,l=n("./app/scripts/db/auth.coffee"),c=n("./app/scripts/views/member/member-board-profile-view.coffee"),d=n("./app/scripts/views/lib/dialog.coffee"),u=n("./app/scripts/controller/index.js"),p=n("./app/scripts/views/lib/pop-over.coffee"),m=n("./app/scripts/views/member-menu-profile/member-on-board-view.coffee"),f=n("./app/scripts/views/lib/drag-sort.coffee"),h=n("./app/scripts/lib/util/index.coffee");f=n("./app/scripts/views/lib/drag-sort.coffee");var g=n("./app/scripts/views/board/board-header-all-members-view.js"),v=n("./app/scripts/views/board-menu/member-limits-error.js").maybeDisplayMemberLimitsError,b=n("./app/scripts/views/board-menu/board-member-add-multiple-view.js");e.exports.onMemberAdd=function(){return this.renderBoardHeaderFacepileDebounced()},e.exports.renderBoardHeaderFacepile=function(){var e=this,t=this.$(".js-fill-facepile"),n=this.model.orderedVisibleMembers(),r=n.length;n=n.slice(0,5);var i=r-5;i>0?this.$(".js-fill-board-member-count").text("+".concat(i)):this.$(".js-fill-board-member-count").text("");var o=n.length,a=Array.from(n).map((function(t){return e.subview(m,t,{board:e.model,zIndex:o--})}));return t.length>0&&this.ensureSubviews(a,t),this.defer((function(){return e.model.isTemplate()||f.refreshDraggableSidebarMembers(),e.renderPopovers()})),this},e.exports.openAllMembers=function(e){h.stop(e),s("board view","opens","board members breakdown","","","board-header-button",g),this.sendGASEvent&&i.sendClickedButtonEvent({buttonName:"allBoardMembersButton",source:"boardScreen"});var t=this.getNewlySignedUpInvitees();return p.toggle({elem:this.$(".js-open-show-all-board-members"),view:g,options:{model:this.model,modelCache:this.modelCache,newInvitees:t}})},e.exports.openAddMembers=function(e){e&&h.stop(e);var t=this.$(".js-open-manage-board-members");if(!v(t,this.model)){s("board view","adds","board member","","","board-header-button",b),this.sendGASEvent&&i.sendClickedButtonEvent({buttonName:"inviteToBoardButton",source:"boardScreen"});var n=new b({model:this.model,modelCache:this.modelCache});n.loadOrgData(),p.toggle({elem:t,view:n})}},e.exports.joinBoard=function(e){var t,n;(h.stop(e),this.sendGASEvent&&i.sendClickedButtonEvent({buttonName:"joinBoardButton",source:"boardScreen"}),v(r(e.target),this.model,l.me()))||(this.$(".js-join-board").remove(),this.model.joinBoard(),a("Board Menu","Join Board via Header"),this.sendCoreGASEvent&&i.sendTrackEvent({action:"joined",actionSubject:"board",source:"boardScreen",containers:{board:{id:this.model.id},organization:{id:(t=this.model.getOrganization(),n=function(e){return e.id},(null!=t?n(t):void 0)||"")}}}))},e.exports.showMemberProfile=function(e){var t=this;u.saveMemberBoardProfileLocation(e,this.model.id),d.show({view:new c({model:e,board:this.model,modelCache:this.modelCache}),maxWidth:500,hide:function(){return u.setBoardLocation(t.model.id)}})}},"./app/scripts/views/board/board-view-name.js":function(e,t,n){var r=n("./node_modules/underscore/underscore.js"),i=n("./packages/atlassian-analytics/index.ts").Analytics,o=n("./packages/analytics/index.ts").track,a=n("./packages/keybindings/index.ts"),s=a.getKey,l=a.Key,c=n("./app/scripts/lib/util/index.coffee"),d=n("./app/scripts/lib/util/removeAllRanges.coffee"),u=n("./app/scripts/controller/index.js");e.exports.saveBoardName=function(e){var t=this.$(".js-board-name-input"),n=t&&t.val().trim();""!==n?(this.model.update("name",n),o("Board","Successfully Rename Board"),i.sendUpdatedBoardFieldEvent({field:"name",source:"boardScreen",containers:{board:{id:this.model.id}}})):t.focus().select()},e.exports.keyDownEvent=function(e){if(s(e)===l.Enter)return c.stop(e),void this.stopRenaming();s(e)!==l.Escape||this.stopRenaming()},e.exports.onInputChanged=function(e){var t=this.$el.find(".js-board-name-input")[0];t.style.width="0";var n=t.offsetWidth;t.scrollLeft=1e10,n+=t.scrollLeft;var r=this.$el.find(".js-board-header")[0].offsetWidth-24,i=n<r?n:r;t.style.width=i+"px"},e.exports.startRenaming=function(e){var t=this;if(c.stop(e),!this.isEditingName){var n=this.$el.find(".js-rename-board")[0];if(n){var a=n.offsetWidth;r.defer((function(){return t.$(".js-rename-board").addClass("is-editing"),t.$(".js-board-name-input").val(t.model.get("name")).css("width",a).focus().select()})),this.isEditingName=!0,o("Board Header","Open Rename Board From Title"),this.sendGASEvent&&i.sendUIEvent({action:"clicked",actionSubject:"input",actionSubjectId:"boardNameInput",source:"boardScreen",containers:{board:{id:this.model.id}}})}}},e.exports.stopRenaming=function(e){if(this.isEditingName){var t=this.$(".js-rename-board").removeClass("is-editing");t.is(":focus")&&t.blur(),d(),this.isEditingName=!1,this.saveBoardName()}},e.exports.updateControllerTitle=function(){return u.title(this.model.get("name"))}},"./app/scripts/views/board/board-view-notifications.js":function(e,t){function n(e,t){return null!=e?t(e):void 0}e.exports.markRelatedNotificationsRead=function(){for(var e=this,t=function(t){return t.get("unread")&&null==n(t.get("data"),(function(e){return e.card}))&&n(t.get("data").board,(function(e){return e.id}))===e.model.get("id")},r=0,i=Array.from(this.modelCache.all("Notification"));r<i.length;r++){var o=i[r];t(o)&&o.markRead()}}},"./app/scripts/views/board/board-view-onboarding.js":function(e,t,n){var r=n("./packages/jquery/index.js"),i=n("./node_modules/react/index.js"),o=n("./packages/react-dom-wrapper/index.ts"),a=n("./packages/feature-flag-client/index.ts").featureFlagClient,s=n("./app/scripts/views/onboarding/inspiration-popover.coffee"),l=n("./app/scripts/views/onboarding/helpers.coffee").isInspirationBoard,c=n("./app/scripts/views/board/invitee-orientation-view.js");e.exports.unmountInspirationPopover=function(){if(null!=this.inspirationPopoverDiv)return o.unmountComponentAtNode(this.inspirationPopoverDiv),this.inspirationPopoverDiv=null},e.exports.renderInspirationPopover=function(){var e=this;if(a.get("activation.onboarding_v2",!1)&&l(this.model.get("id"))){var t=0;return this.inspirationPopoverDiv||(t=2e3,r("#surface").append('<div id="js-inspiration-popover-mount"></div>'),this.inspirationPopoverDiv=r("#js-inspiration-popover-mount")[0]),setTimeout((function(){return o.render(i.createElement(s,{onClose:e.unmountInspirationPopover,boardId:e.model.get("id"),modelCache:e.modelCache}),e.inspirationPopoverDiv)}),t),this}},e.exports.renderInviteeOrientation=function(){this.$(".board-canvas").append('<div class="invitee-orientation-mount-point"></div>');var e=this.subview(c,this.model,{modelCache:this.modelCache});return this.ensureSubview(e,this.$(".invitee-orientation-mount-point"))}},"./app/scripts/views/board/board-view-open-close-delete.js":function(e,t,n){var r=n("./app/scripts/lib/util/index.coffee"),i=n("./app/scripts/views/lib/pop-over.coffee"),o=n("./app/scripts/views/board/reopen-board-popover-view.js"),a=n("./app/scripts/views/lib/confirm.coffee"),s=n("./packages/atlassian-analytics/index.ts").Analytics,l=n("./packages/analytics/index.ts").track;e.exports.reopen=function(e){var t=this;r.stop(e);var n=this.model.getOrganization();return this.model.getNewBillableGuests().then((function(e){var r=e.newBillableGuests,a=e.availableLicenseCount;return r.length>0?i.show({elem:t.$(".js-reopen"),view:new o({board:t.model,org:n,newBillableGuests:r,availableLicenseCount:a})}):t.model.reopen()}))},e.exports._delete=function(e){var t=this;return r.stop(e),a.toggle("delete board",{elem:e.target,model:this.model,confirmBtnClass:"negate",fxConfirm:function(e){return t.model.startDelete().then((function(){var e,n;return t.sendGASEvent&&s.sendTrackEvent({action:"deleted",actionSubject:"board",source:"closeBoardScreen",containers:{board:{id:t.model.id},organization:{id:(e=t.model.getOrganization(),n=function(e){return e.id},(null!=e?n(e):void 0)||"")}}}),l("Board","Delete","Via Closed Board")})).done()}})}},"./app/scripts/views/board/board-view-organization.js":function(e,t,n){var r=n("./packages/jquery/index.js"),i=n("./packages/atlassian-analytics/index.ts").Analytics,o=n("./packages/feature-flag-client/index.ts").featureFlagClient,a=n("./packages/analytics/index.ts").track,s=n("./app/scripts/views/lib/pop-over.coffee"),l=n("./app/scripts/views/board/board-header-org-menu-view.js"),c=n("./app/scripts/lib/util/index.coffee");e.exports.renderOrgChanges=function(){return this.model.get("closed")?this.renderClosed():this.renderBoardHeader()},e.exports.refreshOrganization=function(){var e=this.modelCache.get("Organization",this.model.previous("idOrganization")),t=this.model.getOrganization();if(null!=e&&this.stopListening(e),null!=t)for(var n=0,r=["name","logoHash","displayName","limits"];n<r.length;n++){var i=r[n];this.listenTo(t,"change:".concat(i),this.frameDebounce(this.renderOrgChanges))}return this.renderOrgChanges()},e.exports.openOrgMenu=function(e){c.stop(e),a("Board Header","Open Org Menu",r(e.target).closest(".js-open-org-menu").data("boardtype")),o.get("dataeng.gasv3-event-tracking",!1)&&i.sendClickedButtonEvent({buttonName:"boardOrganizationButton",source:"boardScreen"}),s.toggle({elem:r(e.target).closest("a"),view:new l({model:this.model,modelCache:this.modelCache})})}},"./app/scripts/views/board/board-view-permission.js":function(e,t,n){var r=n("./app/scripts/controller/index.js"),i=n("./app/scripts/views/internal/board-display-helpers.coffee"),o=n("./app/scripts/views/templates/board_header_permissions.js"),a=n("./app/scripts/lib/localize.coffee"),s=n("./app/scripts/db/auth.coffee"),l=n("./app/scripts/lib/util/index.coffee"),c=n("./packages/analytics/index.ts").track,d=n("./packages/atlassian-analytics/index.ts").Analytics,u=n("./app/scripts/views/board-menu/change-board-visibility-view.js"),p=n("./app/scripts/views/lib/pop-over.coffee"),m=n("./app/scripts/views/board-menu/board-add-to-organization-view.js");e.exports.permChange=function(e){"none"===e?r.memberHomePage():(this.render(),this.model.editable()||this.model.composer.save("vis",!1))},e.exports.renderPermissionLevel=function(){var e=this.$("#permission-level"),t={permIconClass:i.getPermLevelIconClassForBoard(this.model),permText:a(["board perms",this.model.getPermLevel(),"name"])};e.html(o(t)),this.model.isTemplate()?e.attr("title",i.getPermLevelAltTextForTemplate(this.model)):e.attr("title",i.getPermLevelAltTextForBoard(this.model));var n=this.model.canInvite(s.me());return this.$(".js-manage-board-members").toggle(n),this},e.exports.changeVis=function(e){l.stop(e),c("Board Header","Open Change Visibilty via Header"),this.sendGASEvent&&d.sendClickedButtonEvent({buttonName:"changeBoardVisibilityButton",source:"boardScreen"}),p.toggle({elem:this.$(".js-change-vis"),view:u,options:{model:this.model,modelCache:this.modelCache}})},e.exports.addBoardToTeam=function(e){return l.stop(e),c("Board Header","Open Add to a Team menu"),this.sendGASEvent&&d.sendClickedButtonEvent({buttonName:"changeBoardOrganizationButton",source:"boardScreen"}),p.toggle({elem:this.$(".js-add-board-to-team"),view:m,options:{model:this.model,modelCache:this.modelCache}})}},"./app/scripts/views/board/board-view-plugin.js":function(e,t,n){var r=n("./node_modules/react/index.js"),i=(n("./packages/react-dom-wrapper/index.ts"),n("./app/scripts/db/auth.coffee")),o=n("./app/scripts/views/internal/plugins/plugin-runner.coffee"),a=n("./app/scripts/db/model-loader.coffee"),s=n("./app/scripts/views/plugin/plugin-header-buttons-view.coffee"),l=n("./app/scripts/controller/index.js"),c=n("./app/scripts/views/lib/dialog.coffee"),d=n("./packages/atlassian-analytics/index.ts").Analytics,u=n("./packages/feature-flag-client/index.ts").featureFlagClient,p=n("./app/scripts/lib/window-size.coffee"),m=n("./app/scripts/views/directory/directory-view.coffee"),f=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),h=f.sendPluginUIEvent,g=f.sendPluginScreenEvent,v=n("./app/scripts/data/legacy-power-ups.coffee"),b=n("./packages/analytics/index.ts"),y=b.Noun,k=b.Verb,w=b.track,x=b.trackUe,C=n("./app/scripts/views/board/board-view-view-loaders.ts").boardViewViewLoaders,_=n("./app/scripts/lib/google-maps-api.coffee"),j=n("./app/src/components/ComponentWrapper/index.ts").renderComponent,S=n("./app/scripts/views/board/calendar-board-button.tsx").CalendarBoardButton,O=n("./app/scripts/controller/navigate.js").navigate,E=n("./app/scripts/views/board/power-up-directory-board-button.tsx").PowerUpDirectoryBoardButton,N=n("./app/scripts/data/butler-id.coffee"),T=n("./packages/config/index.ts").customFieldsId,P=n("./packages/config/index.ts").mapPowerUpId,B=v.calendar;e.exports.reloadCustomFields=function(){var e=this;if(this.model.isPluginEnabled(T))return setTimeout((function(){return a.loadCustomFields(e.model.id)}),1e3)},e.exports.renderPluginButtons=function(){return null!=this.pluginHeaderButtonsView?this.pluginHeaderButtonsView.requestButtonsDebounced():this.pluginHeaderButtonsView=this.subview(s,this.model),this.appendSubview(this.pluginHeaderButtonsView,this.$(".js-plugin-header-btns")),this},e.exports.renderBoardHeaderCalendar=function(e){var t=this;null==e&&(e={});var n=this.$(".js-calendar-board-btn");if(n.length){var o=this.model.isPowerUpEnabled("calendar");return n.toggleClass("hide",!o),o?j(r.createElement(S,{idBoard:this.model.id,backgroundBrightness:this.model.get("prefs").backgroundBrightness,showAutoEnablePopover:e.showAutoEnablePopover,dateAutoEnabled:e.dateAutoEnabled,popoverFlag:u.get("ecosystem.auto-enable-calendar-popover","none"),onClick:function(){return h({idPlugin:v.calendar,idBoard:t.model.id,event:{action:"clicked",actionSubject:"button",actionSubjectId:"powerUpBoardButton",source:"boardScreen"}}),t.toggleCalendar()},onDisableCalendarClick:function(){return t.model.disablePlugin(B)},onOpenDirectoryClick:function(){return t.toggleDirectory()},onPrimaryButtonClick:function(){return t.toggleCalendar()},onAutoEnablePopoverShown:function(){return i.me().setPluginDataByKey(B,"member","private","seenPopover",!0)},countDueDates:function(){return t.model.countDueDates()}}),n[0]):void 0}},e.exports.renderAutoEnableCalendarPopover=function(){var e=this.model.getPluginDataByKey(B,"board","shared","dateAutoEnabled",null);return this.renderBoardHeaderCalendar({showAutoEnablePopover:!0,dateAutoEnabled:e})},e.exports.navigateToBoard=function(){var e=l.getBoardUrl(this.model.id);return O(e,{trigger:!0})},e.exports.closeDetailView=function(){c.hide(!0),this.closeCalendar(!1),this.closeDirectory(!1),this.closeMap(!1),this.closeButler(!1)},e.exports.clickCloseDirectory=function(){return this.directoryView&&d.sendClickedButtonEvent({buttonName:"boardDirectoryCloseButton",attributes:{boardId:this.model.id,organizationId:this.model.get("idOrganization")},source:this.directoryView.activeEventSource()}),this.toggleDirectory()},e.exports.toggleDirectory=function(){return this.directoryView?this.directoryReturnCard?(this.closeDirectory(!1),l.showCardDetail(this.directoryReturnCard),this.directoryReturnCard=null):this.navigateToBoard():this.navigateToDirectory()},e.exports.navigateToDirectory=function(e){var t=l.getBoardUrl(this.model.id,"power-ups");if(O(t,{trigger:!0}),this.directoryReturnCard=e,!p.fExtraLarge)return this.sidebarView.hideSidebar()},e.exports.showDirectory=function(e,t,n,r){return this.$("#board").addClass("hide"),this.directoryView=new m({model:this.model,modelCache:this.modelCache,section:e,category:t,idPlugin:n,isEnabling:r,boardView:this}),this.$(".board-canvas").append(this.directoryView.render().el)},e.exports.closeDirectory=function(e){null==e&&(e=!0),null!=this.directoryView&&(this.directoryView.remove(),this.directoryView=null,e&&this.navigateToBoard(),this.$("#board").removeClass("hide"),this.$(".js-list-name-input").trigger("autosize.resize",!1))},e.exports.toggleCalendar=function(){return this.calendarView?this.calendarReturnCard?(this.closeCalendar(!1),l.showCardDetail(this.calendarReturnCard),this.calendarReturnCard=null):this.navigateToBoardEvent():this.navigateToCalendarEvent()},e.exports.navigateToCalendarEvent=function(){return w("Board Header","Open Calendar View via Header"),x("board view","opens","Power-Up","","","board-button",v.calendar),g({idPlugin:v.calendar,idBoard:this.model.id,screenName:"calendarViewScreen"}),this.navigateToCalendar()},e.exports.navigateToCalendar=function(e){this.calendarReturnCard=e;var t=l.getBoardUrl(this.model.id,"calendar");return O(t,{trigger:!0})},e.exports.navigateToBoardEvent=function(){return this.navigateToBoard()},e.exports.isShowingCalendar=function(){return null!=this.calendarView},e.exports.showCalendar=function(e){var t=this;if(this.model.isPowerUpEnabled("calendar")&&!this.isShowingCalendar())return this.$(".calendar-btn").addClass("board-header-btn-enabled"),this.$("#board").addClass("hide"),C.loadCalendarControllerView().then((function(n){t.calendarView=new n({model:t.model,modelCache:t.modelCache}),t.$(".board-canvas").append(t.calendarView.render(e).el),t.calendarView.addedToDOM();var r="onBoardButton"===u.get("ecosystem.auto-enable-calendar-popover","none");return t.model.shouldRenderAutoEnableCalendarPopover()&&r&&t.renderAutoEnableCalendarPopover(),t.renderBoardViewsButtonDebounced()}))},e.exports.closeCalendar=function(e){null==e&&(e=!0),null!=this.calendarView&&(this.calendarView.remove(),this.calendarView=null,e&&this.navigateToBoard(),this.$(".calendar-btn").removeClass("board-header-btn-enabled"),this.$("#board").removeClass("hide"),this.renderBoardViewsButtonDebounced(),this.$(".js-list-name-input").trigger("autosize.resize",!1))},e.exports.toggleMap=function(){return h({idPlugin:P,idBoard:this.model.id,event:{action:"clicked",actionSubject:"button",actionSubjectId:"powerUpBoardButton",source:"boardScreen"}}),this.mapView?this.mapReturnCard?(this.closeMap(!1),l.showCardDetail(this.mapReturnCard),this.mapReturnCard=null):this.navigateToBoardEvent():this.navigateToMapEvent()},e.exports.navigateToMapEvent=function(){return x("board view","opens","Power-Up","","","board-button",P),x(y.BOARD,k.OPENS,y.BOARD_MAP,"","","by clicking the map button",{idBoard:this.model.id}),this.navigateToMap()},e.exports.navigateToMap=function(e,t){this.mapCenterTo=e,this.mapReturnCard=t;var n=l.getBoardUrl(this.model.id,"map");return O(n,{trigger:!0})},e.exports.showMap=function(){var e=this;if(this.model.isMapPowerUpEnabled()&&null==this.mapView)return this.$(".js-map-btn").addClass("board-header-btn-enabled"),this.$("#board").addClass("hide"),C.loadMapView().then((function(t){return e.mapView=new t({model:e.model,modelCache:e.modelCache,mapCenterTo:e.mapCenterTo}),e.$(".board-canvas").append(e.mapView.render().el),e.renderBoardViewsButtonDebounced()}))},e.exports.closeMap=function(e){null==e&&(e=!0),null!=this.mapView&&(this.mapView.remove(),this.mapView=null,e&&this.navigateToBoard(),this.$(".js-map-btn").removeClass("board-header-btn-enabled"),this.$("#board").removeClass("hide"),this.$(".js-list-name-input").trigger("autosize.resize",!1),this.renderBoardViewsButtonDebounced())},e.exports.renderBoardHeaderMap=function(){var e=this;return this.model.isMapPowerUpEnabled()?_.load().then((function(){return e.$(".js-map-btn").removeClass("hide")})):this.$(".js-map-btn").addClass("hide"),this},e.exports.toggleButler=function(e){return this.butlerView||null==e?this.navigateToBoardEvent():(this.butlerUrl=e,this.navigateToButler(e))},e.exports.navigateToButler=function(){var e=l.getBoardUrl(this.model.id,"butler");return O(e,{trigger:!0})},e.exports.showButler=function(){var e=this;if(null==this.butlerView){if(this.model.editable())return null==this.butlerUrl?(this.$("#board").addClass("hide"),void o.one({plugin:N,command:"show-settings",board:this.model}).then((function(){return e.showButler()}))):(this.$("#board").addClass("hide"),C.loadButlerView().then((function(t){return e.butlerView=new t({butlerUrl:e.butlerUrl}),e.$(".board-canvas").append(e.butlerView.render().el)})));this.navigateToBoardEvent()}},e.exports.closeButler=function(e){null==e&&(e=!0),null!=this.butlerView&&(this.butlerView.remove(),this.butlerView=null,e&&this.navigateToBoard(),this.$("#board").removeClass("hide"),this.$(".js-list-name-input").trigger("autosize.resize",!1))},e.exports.renderPowerUpDirectoryBoardButton=function(e){var t=this;null==e&&(e={});var n=this.$(".js-pup-board-btn");if(n.length)return j(r.createElement(E,{idBoard:this.model.id,orgId:this.model.get("idOrganization"),onClick:function(){return t.toggleDirectory()}}),n[0])}},"./app/scripts/views/board/board-view-sidebar.js":function(e,t,n){var r=n("./packages/jquery/index.js"),i=n("./packages/browser/index.ts"),o=n("./app/scripts/views/lib/drag-sort.coffee"),a=n("./app/scripts/controller/index.js"),s=n("./app/scripts/db/auth.coffee"),l=n("./app/scripts/views/internal/templates.coffee"),c=n("./app/scripts/lib/util/index.coffee"),d=n("./app/scripts/views/onboarding/helpers.coffee").isInspirationBoard;e.exports._applySettings=function(){var e=this;if(null!=this.options.settings){var t=this.options.settings,n=t.menu,r=t.filter;switch(n){case"closed":this.model.viewState.setShowSidebar(!1);break;case"filter":case"activity":this.sidebarViewPromise.then((function(){return e.setSidebarShow(),e.sidebarView.pushView(n)}))}return r?this.model.filter.fromQueryString(r):void 0}},e.exports.renderOpen=function(){var e=this;this.showSidebarOnOpen();var t={};t.url=a.getBoardUrl(this.model);for(var i=0,c=Array.from(this.model.prefNames.concat(this.model.myPrefNames));i<c.length;i++){var d=c[i];t["".concat(d,"_").concat(this.model.getPref(d))]=!0}t.canJoin=this.model.canJoin(),t.canInviteMembers=this.model.canInviteMembers(),t.confirmed=s.me().get("confirmed"),this.listListView.$el.detach(),this.$el.html(l.fillFromModel(n("./app/scripts/views/templates/board.js"),this.model)),this.renderBoardHeader(),this.renderBoardWarnings(),this.renderBoardBackground(),this.model.viewState.get("showSidebar")&&this.$el.addClass("is-show-menu"),this.sidebarViewPromise.then((function(){return e.appendSubview(e.sidebarView,e.$(".js-fill-board-menu")),e.renderSidebarState()})),this.renderLists(),this.renderInspirationPopover(),this.renderInviteeOrientation(),this.renderBoardBackgroundPrompt(),this.renderJswCrossflowPopover(),a.setLocation({title:t.name}),this.defer((function(){return e.$("#board").unbind("mousedown.dragscrollable").dragscrollable({fxIgnore(e){var t=r(e.target).closest("#board"),n=e.offsetY>t.height()-11,i=r(e.target).closest(".js-list-content").length>0,o=r(e.target).closest(".js-add-list").length>0;return n||i||o}}),o.refreshListSortable()}))},e.exports._shouldCloseBoardMenu=function(){var e=new Date-c.idToDate(this.model.id)<18e4;return this.shouldCloseBoardMenu||!s.me().isDismissed("close-menu-of-first-board")||e&&this.model.isFirstOwnedBoard()||d(this.model.get("id"))},e.exports._isFirstBoardEverLoaded=function(){return!s.me().isDismissed("close-menu-of-first-board")&&!this.model.isWelcomeBoard()},e.exports._isGhostUsingInviteLink=function(){return c.hasValidInviteTokenFor(this.model)},e.exports.removeSidebarDisplayTypes=function(){this.$el.removeClass("sidebar-display-wide")},e.exports.renderSidebarDisplayType=function(){var e=this.model.viewState.getSidebarDisplayType();this.$el.addClass(e)},e.exports.showSidebarOnOpen=function(){var e=this.model.viewState.getShowSidebarFromPref()||s.me().get("notLoggedIn"),t=!!this.model.get("desc"),n=this.model.isMember(s.me());return this.model.isPublic()&&!n&&t&&e&&!i.isTouch()?this.model.viewState.set("showSidebar",!0):this._shouldCloseBoardMenu()||i.isTouch()?(this.model.viewState.set("showSidebar",!1),this._isFirstBoardEverLoaded()&&!this._isGhostUsingInviteLink()&&(this.shouldCloseBoardMenu=!0,s.isLoggedIn())?s.me().dismiss("close-menu-of-first-board"):void 0):this.model.viewState.setShowSidebarFromPref()},e.exports.renderSidebarState=function(){this.renderSidebarDisplayType(),this.model.viewState.get("showSidebar")?(this.showSidebar(),this.model.viewState.set("showBoardBackgroundPromptPopover",!1)):(this.hideSidebar(),this.model.viewState.get("boardBackgroundPromptOpenedSidebar")&&(this.model.viewState.set("boardBackgroundPromptOpenedSidebar",!1),this.model.viewState.set("showBoardBackgroundPromptPopover",!0)))},e.exports.toggleSidebar=function(){return this.model.viewState.setShowSidebar(!this.model.viewState.get("showSidebar"))},e.exports.setSidebarShow=function(){this.model.viewState.setShowSidebar(!0),this.shouldCloseboardMenu=!1},e.exports.showSidebar=function(){var e=this;this.renderSidebarDisplayType(),this.unmountTeamOnboardingPupTooltip(),clearTimeout(this._sidebarHideTimeout),this.$(".js-fill-board-menu").removeClass("hide"),this.defer((function(){return e.$el.addClass("is-show-menu")})),this.sidebarViewPromise.then((function(){return e.sidebarView.sendDrawerScreenEvent(e.sidebarView.topSidebarViewName(),"showSidebar")}))},e.exports.hideSidebar=function(){var e=this;this.$el.removeClass("is-show-menu"),clearTimeout(this._sidebarHideTimeout),this._sidebarHideTimeout=this.setTimeout((function(){if(e.$(".js-fill-board-menu").addClass("hide"),e.model.viewState.get("boardBackgroundPromptOpenedSidebar"))return e.renderBoardBackgroundPromptPopover()}),250)}},"./app/scripts/views/board/board-view-team-onboarding-pups.js":function(e,t,n){var r=n("./node_modules/react/index.js"),i=n("./packages/react-dom-wrapper/index.ts"),o=n("./app/src/components/ComponentWrapper/index.ts").renderComponent,a=n("./app/scripts/debug/log-error.ts").logError,s=n("./app/scripts/debug/constants.ts").Feature,l=n("./app/src/components/TeamOnboardingPupPopover/index.ts"),c=l.LazyTeamOnboardingPupPopover,d=l.LazyTeamOnboardingPupTooltip;e.exports.unmountTeamOnboardingPupPopover=function(){if(null!=this.teamOnboardingPupPopoverDiv)return i.unmountComponentAtNode(this.teamOnboardingPupPopoverDiv)},e.exports.unmountTeamOnboardingPupTooltip=function(){if(null!=this.teamOnboardingPupTooltipDiv)return i.unmountComponentAtNode(this.teamOnboardingPupTooltipDiv)},e.exports.renderTeamOnboardingPupTooltip=function(){var e=this;if(!this.model.viewState.get("showSidebar"))return setTimeout((function(){var t=r.createElement(d,{onDismiss:function(){return e.unmountTeamOnboardingPupTooltip()}});return e.teamOnboardingPupTooltipDiv=document.createElement("div"),$(e.teamOnboardingPupTooltipDiv).insertAfter(".js-show-sidebar"),i.render(t,e.teamOnboardingPupTooltipDiv)}),1e3)},e.exports.renderTeamOnboardingPupPopover=function(){var e=this;try{var t=this.model.getOrganization();if(null==t)return;if(null==this.teamOnboardingPupPopoverDiv){var n=this.$("#team-onboarding-pup-popover-target")[0];null!=n?this.teamOnboardingPupPopoverDiv=n:(this.$(".board-main-content").append("<div id='team-onboarding-pup-popover-target'></div>"),this.teamOnboardingPupPopoverDiv=this.$("#team-onboarding-pup-popover-target")[0])}var i=this.model.get("id");return o(r.createElement(c,{orgId:t.id,boardId:i,onShowPowerUps:function(){return e.toggleDirectory()},onDismissed:function(){return e.renderTeamOnboardingPupTooltip()}}),this.teamOnboardingPupPopoverDiv)}catch(e){return a({error:e,tags:{ownershipArea:"trello-bizteam",feature:s.TeamOnboarding}})}}},"./app/scripts/views/board/board-view-template.js":function(e,t,n){var r=n("./packages/jquery/index.js"),i=n("./node_modules/underscore/underscore.js"),o=n("./node_modules/react/index.js"),a=n("./packages/react-dom-wrapper/index.ts"),s=n("./app/src/components/BoardTemplateBadge/index.ts").BoardTemplateBadge;e.exports.isTemplate=function(){return this.templateFlagEnabled&&this.model.isTemplate()},e.exports.renderBoardTemplateReactSection=function(){return r(".js-board-template-badge").append(this.boardTemplateBadgeDiv),a.render(this.boardTemplateBadgeComponent,this.boardTemplateBadgeDiv)},e.exports.renderBoardTemplateBadge=function(){var e=this;if(this.model.isTemplate())return null!=this.boardTemplateBadgeDiv&&null!=this.boardTemplateBadgeComponent?this.renderBoardTemplateReactSection():i.defer((function(){return e.boardTemplateBadgeComponent=o.createElement(s),e.boardTemplateBadgeDiv=document.createElement("div"),e.renderBoardTemplateReactSection()}));this.boardTemplateBadgeDiv&&(a.unmountComponentAtNode(this.boardTemplateBadgeDiv),this.boardTemplateBadgeDiv=null,this.boardTemplateBadgeComponent=null)}},"./app/scripts/views/board/board-view-unsubscribe.js":function(e,t,n){var r=n("./packages/jquery/index.js"),i=n("./packages/analytics/index.ts").track,o=n("./packages/atlassian-analytics/index.ts").Analytics,a=n("./app/scripts/lib/util/index.coffee"),s=n("./app/scripts/views/lib/confirm.coffee");e.exports.openUnsubscribe=function(e){var t=this;a.stop(e),s.toggle("unwatch",{elem:r(e.target).closest(".js-board-header-subscribed")[0],model:this.model,confirmBtnClass:"negate",fxConfirm:function(e){return i("Board Header","Unsubscribe"),t.sendGASEvent&&o.sendTrackEvent({action:"unsubscribed",actionSubject:"board",source:"boardScreen",containers:{board:{id:t.model.id}}}),t.model.subscribe(!1)}})}},"./app/scripts/views/board/board-view-view-loaders.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"boardViewViewLoaders",(function(){return i}));var r=n("./packages/use-lazy-component/index.ts"),i={loadCalendarControllerView:function(){return Object(r.importWithRetry)((function(){return n.e(26).then(n.t.bind(null,"./app/scripts/views/calendar/calendar-controller-view.coffee",7))})).then((function(e){return e.default}))},loadMapView:function(){return Object(r.importWithRetry)((function(){return n.e(85).then(n.t.bind(null,"./app/scripts/views/map/map-view.coffee",7))})).then((function(e){return e.default}))},loadButlerView:function(){return Object(r.importWithRetry)((function(){return n.e(25).then(n.t.bind(null,"./app/scripts/views/butler/butler-view.coffee",7))})).then((function(e){return e.default}))}}},"./app/scripts/views/board/board-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=n("./packages/jquery/index.js"),m=n("./node_modules/react/index.js"),f=n("./app/src/components/ComponentWrapper/index.ts").renderComponent,h=n("./app/src/components/ChunkLoadErrorBoundary/index.ts").sendChunkLoadErrorEvent,g=(n("./app/scripts/views/board/add-list-popover-view.js"),n("./packages/atlassian-analytics/index.ts").Analytics),v=n("./app/scripts/db/auth.coffee"),b=(n("./app/scripts/views/board/board-background-prompt.js"),n("./app/scripts/models/card.coffee"),n("./app/scripts/controller/index.js")),y=n("./app/scripts/views/lib/dialog.coffee"),k=n("./app/scripts/views/lib/drag-sort.coffee"),w=(n("./app/scripts/lib/experiments/simple-test.coffee"),n("./packages/keybindings/index.ts")),x=w.getKey,C=w.Key,_=w.registerShortcutHandler,j=w.Scope,S=w.unregisterShortcutHandler,O=n("./app/scripts/view-models/label-state.coffee"),E=n("./app/scripts/views/lib/layout.coffee"),N=n("./app/scripts/views/list/list-list-view.coffee"),T=n("./app/scripts/views/lib/pop-over.coffee"),P=(n("./app/scripts/lib/util/removeAllRanges.coffee"),n("./packages/storage/index.ts").TrelloStorage),B=n("./app/scripts/lib/util/index.coffee"),D=n("./app/scripts/views/internal/view.coffee"),I=(n("./node_modules/underscore/underscore.js"),n("./app/scripts/views/templates/board_closed.js")),A=(n("./app/scripts/lib/localize.coffee"),n("./app/scripts/debug/log.js"),n("./app/scripts/views/internal/plugins/plugins-changed-signal.coffee")),L=n("./packages/analytics/index.ts"),M=L.track,F=L.trackUe,R=n("./packages/feature-flag-client/index.ts").featureFlagClient,z=n("./app/scripts/views/onboarding/helpers.coffee").isInspirationBoard,V=n("./app/scripts/views/_loaders/board-sidebar-view-loader.ts").boardSidebarViewLoader,U=n("./app/src/components/BoardSidebarLoadingError/index.ts").BoardSidebarLoadingError,H=n("./app/common/data/error-views.ts").ErrorViews,$=n("./packages/browser/index.ts").isDesktop(),W=n("./app/scripts/views/board/board-view-team-onboarding-pups.js"),G=W.renderTeamOnboardingPupPopover,q=W.renderTeamOnboardingPupTooltip,K=W.unmountTeamOnboardingPupPopover,Y=W.unmountTeamOnboardingPupTooltip,J=n("./app/scripts/views/board/board-view-member.js"),X=J.onMemberAdd,Q=J.renderBoardHeaderFacepile,Z=J.openAllMembers,ee=J.openAddMembers,te=J.joinBoard,ne=J.showMemberProfile,re=n("./app/scripts/views/board/board-view-background.js"),ie=re.unmountBoardBackgroundPrompt,oe=re.unmountBoardBackgroundPromptPopover,ae=re.renderBoardBackgroundPrompt,se=re.renderBoardBackgroundPromptPopover,le=re.getAllBackgroundClasses,ce=re.defaultBoardBackground,de=re.clearBoardBackground,ue=re.renderBoardBackground,pe=re.renderBoardHeaderSubscribed,me=n("./app/scripts/views/board/board-view-template.js"),fe=me.isTemplate,he=me.renderBoardTemplateReactSection,ge=me.renderBoardTemplateBadge,ve=n("./app/scripts/views/board/board-view-sidebar.js"),be=ve._applySettings,ye=ve.renderOpen,ke=ve._shouldCloseBoardMenu,we=ve._isFirstBoardEverLoaded,xe=ve._isGhostUsingInviteLink,Ce=ve.removeSidebarDisplayTypes,_e=ve.renderSidebarDisplayType,je=ve.showSidebarOnOpen,Se=ve.renderSidebarState,Oe=ve.toggleSidebar,Ee=ve.setSidebarShow,Ne=ve.showSidebar,Te=ve.hideSidebar,Pe=n("./app/scripts/views/board/board-view-permission.js"),Be=Pe.permChange,De=Pe.renderPermissionLevel,Ie=Pe.changeVis,Ae=Pe.addBoardToTeam,Le=n("./app/scripts/views/board/board-view-list.js"),Me=Le.openListComposer,Fe=Le.scrollToList,Re=Le.viewForList,ze=Le.postListListRender,Ve=Le.renderLists,Ue=Le.sortCommit,He=n("./app/scripts/views/board/board-view-card.js"),$e=He.openCardComposerInFirstList,We=He.scrollToCard,Ge=He.preventScrollSelection,qe=He.moveCard,Ke=He.dblClickAddListMenu,Ye=He._insertCardPosition,Je=He.moveCardRequested,Xe=He.copyCardRequested,Qe=n("./app/scripts/views/board/board-view-notifications.js").markRelatedNotificationsRead,Ze=n("./app/scripts/views/board/board-view-onboarding.js"),et=Ze.unmountInspirationPopover,tt=Ze.renderInspirationPopover,nt=Ze.renderInviteeOrientation,rt=n("./app/scripts/views/board/board-view-jsw-crossflow-popover.js").renderJswCrossflowPopover,it=n("./app/scripts/views/board/board-view-organization.js"),ot=it.renderOrgChanges,at=it.refreshOrganization,st=it.openOrgMenu,lt=n("./app/scripts/views/board/board-view-limit.js").renderBoardWarnings,ct=n("./app/scripts/views/board/board-view-unsubscribe.js").openUnsubscribe,dt=n("./app/scripts/views/board/board-view-open-close-delete.js"),ut=dt.reopen,pt=dt._delete,mt=n("./app/scripts/views/board/board-view-copy.js").copyBoard,ft=n("./app/scripts/views/board/board-view-collaboration.js"),ht=ft.onTeamCreatedFromCollaborationPrompt,gt=ft.unmountTeamlessCollaborationPrompt,vt=ft.renderTeamlessCollaborationPrompt,bt=ft.onWorkspacesPreambleCreateTeamSuccess,yt=ft.renderWorkspacesPreambleBoardHeaderButton,kt=ft.unmountWorkspacesPreambleBoardHeaderButton,wt=ft.renderWorkspacesPreambleInviteButton,xt=ft.unmountWorkspacesPreambleInviteButton,Ct=n("./app/scripts/views/board/board-view-plugin.js"),_t=Ct.reloadCustomFields,jt=Ct.renderPluginButtons,St=Ct.renderBoardHeaderCalendar,Ot=Ct.renderAutoEnableCalendarPopover,Et=Ct.navigateToBoard,Nt=Ct.closeDetailView,Tt=Ct.clickCloseDirectory,Pt=Ct.toggleDirectory,Bt=Ct.navigateToDirectory,Dt=Ct.showDirectory,It=Ct.closeDirectory,At=Ct.toggleCalendar,Lt=Ct.navigateToCalendarEvent,Mt=Ct.navigateToCalendar,Ft=Ct.navigateToBoardEvent,Rt=Ct.isShowingCalendar,zt=Ct.showCalendar,Vt=Ct.closeCalendar,Ut=(Ct.remove,Ct.toggleMap),Ht=Ct.navigateToMapEvent,$t=Ct.navigateToMap,Wt=Ct.showMap,Gt=Ct.closeMap,qt=Ct.renderBoardHeaderMap,Kt=Ct.toggleButler,Yt=Ct.navigateToButler,Jt=Ct.showButler,Xt=Ct.closeButler,Qt=Ct.renderPowerUpDirectoryBoardButton,Zt=n("./app/scripts/views/board/board-view-header.js"),en=Zt.renderBoardHeader,tn=Zt.renderBoardHeaderStarred,nn=Zt.toggleStarred,rn=Zt.openFilter,on=Zt.clearFilters,an=Zt.showCleanUp,sn=Zt.renderBoardViewsButton,ln=Zt.removeBoardViewsButton,cn=n("./app/scripts/views/board/board-view-name.js"),dn=cn.saveBoardName,un=cn.keyDownEvent,pn=cn.onInputChanged,mn=cn.startRenaming,fn=cn.stopRenaming,hn=cn.updateControllerTitle,gn=n("./app/scripts/views/board/board-view-invitation.js"),vn=gn.closeInviteAcceptanceNotification,bn=gn.buildInviteAcceptanceNotification,yn=gn.getNewlySignedUpInvitees,kn=gn.renderPopovers,wn=gn.renderInviteAcceptanceNotification,xn=gn.unmountInviteAcceptanceNotification,Cn=(new Date("April 1, 2019"),function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(o,e);var t,n=(t=o,function(){var e,n=u(t);if(d()){var r=u(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return l(this,e)});function o(e){var t,i=e.headerBranding;return r(this,o),(t=n.apply(this,arguments)).headerBranding=i,t.onShortcut=t.onShortcut.bind(c(t)),t.renderTemplateTips=t.renderTemplateTips.bind(c(t)),_(t.onShortcut,{scope:j.Board}),t}return a(o,null,[{key:"initClass",value:function(){this.prototype.className="board-wrapper",this.prototype.displayName="BoardView",this.prototype.events={sortcommit:"sortCommit","keydown .js-board-name-input":"keyDownEvent","input .js-board-name-input":"onInputChanged","change .js-board-name-input":"onInputChanged","blur .js-board-name-input":"stopRenaming","click .js-board-editing-target":"startRenaming","click .js-open-org-menu":"openOrgMenu","click .js-add-board-to-team:not(.no-edit)":"addBoardToTeam","click .js-change-vis":"changeVis","click .js-close-calendar":"toggleCalendar","click .js-calendar":"toggleCalendar","click .js-close-map":"toggleMap","click .js-map-btn":"toggleMap","click .js-filter-cards-indicator":"openFilter","click .js-filter-card-clear":"clearFilters","click .js-board-header-subscribed":"openUnsubscribe","click .js-star-board":"toggleStarred","click .js-show-sidebar"(e){return F("board sidebar","opens","sidebar","","","",{boardId:this.model.id,teamId:_n(this.model.getOrganization(),(function(e){return e.id}))}),g.sendClickedLinkEvent({linkName:"boardMenuDrawerToggleLink",source:"boardScreen",containers:{board:{id:this.model.id},organization:{id:_n(this.model.getOrganization(),(function(e){return e.id}))}}}),this.setSidebarShow()},"click .js-dismiss-warning"(e){return P.set(this.$(e.currentTarget).attr("data-dismiss"),Date.now()),this.renderBoardWarnings()},"dblclick #board":"dblClickAddListMenu","click #board":"blurInputsOnBoardClick","click .js-reopen":"reopen","click .js-delete":"delete","click .js-clean-up":"showCleanUp","prevent-scroll-selection":"preventScrollSelection","click .js-close-directory":"clickCloseDirectory","click .js-copy-board":"copyBoard","click .js-open-show-all-board-members":"openAllMembers","click .js-open-manage-board-members":"openAddMembers","click .js-join-board":"joinBoard"},this.prototype.onMemberAdd=X,this.prototype.unmountBoardBackgroundPrompt=ie,this.prototype.unmountBoardBackgroundPromptPopover=oe,this.prototype.renderBoardBackgroundPrompt=ae,this.prototype.renderBoardBackgroundPromptPopover=se,this.prototype.isTemplate=fe,this.prototype.renderBoardTemplateReactSection=he,this.prototype.renderBoardTemplateBadge=ge,this.prototype._applySettings=be,this.prototype.permChange=Be,this.prototype.openListComposer=Me,this.prototype.openCardComposerInFirstList=$e,this.prototype.scrollToList=Fe,this.prototype.viewForList=Re,this.prototype.scrollToCard=We,this.prototype.preventScrollSelection=Ge,this.prototype.markRelatedNotificationsRead=Qe,this.prototype.moveCard=qe,this.prototype.unmountInspirationPopover=et,this.prototype.renderInspirationPopover=tt,this.prototype.renderTeamOnboardingPupPopover=G,this.prototype.renderTeamOnboardingPupTooltip=q,this.prototype.unmountTeamOnboardingPupPopover=K,this.prototype.unmountTeamOnboardingPupTooltip=Y,this.prototype._shouldCloseBoardMenu=ke,this.prototype._isFirstBoardEverLoaded=we,this.prototype._isGhostUsingInviteLink=xe,this.prototype.renderOpen=ye,this.prototype.removeSidebarDisplayTypes=Ce,this.prototype.renderSidebarDisplayType=_e,this.prototype.showSidebarOnOpen=je,this.prototype.renderSidebarState=Se,this.prototype.toggleSidebar=Oe,this.prototype.setSidebarShow=Ee,this.prototype.showSidebar=Ne,this.prototype.hideSidebar=Te,this.prototype.renderOrgChanges=ot,this.prototype.refreshOrganization=at,this.prototype.reloadCustomFields=_t,this.prototype.renderBoardHeader=en,this.prototype.renderBoardWarnings=lt,this.prototype.renderPluginButtons=jt,this.prototype.renderBoardHeaderStarred=tn,this.prototype.toggleStarred=nn,this.prototype.renderBoardHeaderCalendar=St,this.prototype.renderPowerUpDirectoryBoardButton=Qt,this.prototype.renderAutoEnableCalendarPopover=Ot,this.prototype.getAllBackgroundClasses=le,this.prototype.defaultBoardBackground=ce,this.prototype.clearBoardBackground=de,this.prototype.renderBoardBackground=ue,this.prototype.renderBoardHeaderSubscribed=pe,this.prototype.renderBoardViewsButton=sn,this.prototype.removeBoardViewsButton=ln,this.prototype.saveBoardName=dn,this.prototype.keyDownEvent=un,this.prototype.onInputChanged=pn,this.prototype.startRenaming=mn,this.prototype.stopRenaming=fn,this.prototype.openOrgMenu=st,this.prototype.renderPermissionLevel=De,this.prototype.postListListRender=ze,this.prototype.renderLists=Ve,this.prototype.sortCommit=Ue,this.prototype.closeInviteAcceptanceNotification=vn,this.prototype.buildInviteAcceptanceNotification=bn,this.prototype.getNewlySignedUpInvitees=yn,this.prototype.renderPopovers=kn,this.prototype.renderInviteAcceptanceNotification=wn,this.prototype.unmountInviteAcceptanceNotification=xn,this.prototype.renderBoardHeaderFacepile=Q,this.prototype.openAllMembers=Z,this.prototype.openAddMembers=ee,this.prototype.joinBoard=te,this.prototype.changeVis=Ie,this.prototype.addBoardToTeam=Ae,this.prototype.toggleCalendar=At,this.prototype.navigateToCalendarEvent=Lt,this.prototype.navigateToCalendar=Mt,this.prototype.navigateToBoardEvent=Ft,this.prototype.navigateToBoard=Et,this.prototype.isShowingCalendar=Rt,this.prototype.toggleMap=Ut,this.prototype.navigateToMapEvent=Ht,this.prototype.navigateToMap=$t,this.prototype.toggleButler=Kt,this.prototype.navigateToButler=Yt,this.prototype.showMemberProfile=ne,this.prototype.showCalendar=zt,this.prototype.showMap=Wt,this.prototype.showButler=Jt,this.prototype.closeDetailView=Nt,this.prototype.closeCalendar=Vt,this.prototype.closeMap=Gt,this.prototype.closeButler=Xt,this.prototype.clickCloseDirectory=Tt,this.prototype.toggleDirectory=Pt,this.prototype.navigateToDirectory=Bt,this.prototype.showDirectory=Dt,this.prototype.closeDirectory=It,this.prototype.openFilter=rn,this.prototype.clearFilters=on,this.prototype.openUnsubscribe=ct,this.prototype.dblClickAddListMenu=Ke,this.prototype.reopen=ut,this.prototype.delete=pt,this.prototype.updateControllerTitle=hn,this.prototype.copyBoard=mt,this.prototype._insertCardPosition=Ye,this.prototype.moveCardRequested=Je,this.prototype.copyCardRequested=Xe,this.prototype.showCleanUp=an,this.prototype.renderInviteeOrientation=nt,this.prototype.renderJswCrossflowPopover=rt,this.prototype.renderBoardHeaderMap=qt,this.prototype.onTeamCreatedFromCollaborationPrompt=ht,this.prototype.unmountTeamlessCollaborationPrompt=gt,this.prototype.renderTeamlessCollaborationPrompt=vt,this.prototype.unmountWorkspacesPreambleBoardHeaderButton=kt,this.prototype.renderWorkspacesPreambleBoardHeaderButton=yt,this.prototype.onWorkspacesPreambleCreateTeamSuccess=bt,this.prototype.renderWorkspacesPreambleInviteButton=wt,this.prototype.unmountWorkspacesPreambleInviteButton=xt}}]),a(o,[{key:"initialize",value:function(){var e=this;i(u(o.prototype),"initialize",this).apply(this,arguments);var t=function(t){return e.sidebarView=e.subview(t.default,e.model,{boardView:e})};this.sidebarViewPromise=V().then(t.bind(this)).catch((function(e){if("ChunkLoadError"!==e.name)throw e;h(e);var t=p(".board-menu")[0];if(t)return f(m.createElement(U),t)})),this.inviteAcceptanceNotificationDiv=null,this.inviteAcceptanceNotificationComponent=null,this.hasSeenInviteAcceptanceNotification=!1,this.hasSeenTeamlessCollaborationPrompt=!1,this.workspacesPreambleBoardHeaderButtonTarget=null,this.workspacesPreamblePromptHasBeenSeen=!1,this.workspacesPreambleInviteButtonTarget=null,this.teamOnboardingPupPopoverDiv=null,this.teamOnboardingPupTooltipDiv=null,this.makeDebouncedMethods("refreshOrganization","reloadCustomFields","render","renderBoardBackground","renderBoardHeader","renderBoardHeaderCalendar","renderBoardHeaderSubscribed","renderBoardHeaderMap","renderBoardWarnings","renderLists","renderPermissionLevel","updateControllerTitle","renderBoardHeaderFacepile","renderPluginButtons","renderBoardViewsButton","renderPowerUpDirectoryBoardButton"),this.listenTo(this.model,{"change:closed deleting":this.renderDebounced,"change:idOrganization":function(){return e.reloadDirectoryPlugins=!0,e.refreshOrganizationDebounced(),e.headerBranding()},"change:memberships":this.renderPermissionLevelDebounced,"change:limits":this.renderBoardWarningsDebounced,"change:name":function(){return e.renderBoardHeaderDebounced(),e.updateControllerTitleDebounced()},"change:powerUps"(){if(this.renderBoardHeaderMapDebounced(),this.model.isMapPowerUpEnabled()||this.closeMap(),this.renderBoardHeaderCalendarDebounced(),this.renderPowerUpDirectoryBoardButtonDebounced(),!this.model.isPowerUpEnabled("calendar"))return this.closeCalendar()},"change:prefs.cardCovers":this.renderListsDebounced,"change:prefs.permissionLevel":function(){return e.renderListsDebounced(),e.renderPermissionLevelDebounced(),e.renderBoardHeaderDebounced()},"change:prefs.background change:prefs.backgroundTile change:prefs.backgroundBrightness":function(){return e.renderBoardHeaderCalendarDebounced(),e.renderPowerUpDirectoryBoardButtonDebounced(),e.renderBoardBackgroundDebounced(!0),e.renderPluginButtonsDebounced()},"change:prefs.isTemplate":this.renderBoardHeaderDebounced,"change:prefs.selfJoin":this.renderBoardHeaderDebounced,"change:subscribed":this.renderBoardHeaderSubscribedDebounced,permChange:this.permChange,ownedChange:this.renderBoardHeaderDebounced,destroy:function(){return b.displayErrorPage({errorType:H.BOARD_NOT_FOUND})}}),this.listenTo(this.model.memberList,{"change:status":this.renderBoardHeaderDebounced,add:this.onMemberAdd,"remove reset":this.renderBoardHeaderFacepileDebounced}),this.listenTo(this.model.boardPluginList,"add reset",(function(){return e.reloadCustomFieldsDebounced(),e.renderBoardViewsButtonDebounced()})),this.subscribe(A(this.model),(function(){return e.renderBoardHeaderMapDebounced(),e.model.isMapPowerUpEnabled()||e.closeMap(),e.renderPowerUpDirectoryBoardButtonDebounced(),e.renderBoardHeaderCalendarDebounced(),e.model.isPowerUpEnabled("calendar")||e.closeCalendar(),e.renderBoardViewsButtonDebounced()})),this.listenTo(this.model.viewState,{"change:showSidebar":this.renderSidebarState,"change:sidebarDisplayType":this.renderSidebarDisplayType,"change:showBoardBackgroundPromptPopover":this.renderBoardBackgroundPromptPopover}),this.listenTo(v.me().boardStarList,"add remove reset",(function(){return e.renderBoardHeaderStarred()})),this.memberTypeMe=this.model.getMemberType(v.me()),this.refreshOrganization(),this.listScrollLeft=null,this.savingScroll=!1,this.calcState={},this.listenTo(this.model.filter,"change",(function(){return e.renderFilteringStatus(),e.renderBoardHeader()})),this.listListView=this.collectionSubview(N,this.model.listList,{id:"board",model:this.model,className:"u-fancy-scrollbar js-no-higher-edits",resetCallback:function(){return e.postListListRender()}}),this.listenTo(this.listListView,{mouseMoveListView(e){e.model;return this.model.viewState.selectList(e.model)},mouseLeaveListView(e){e.model;return this.model.viewState.selectList(null)},mouseMoveCardView(e,t){if(!(this.ignoreMouseCardSelects||T.isVisible||k.sorting))return this.model.viewState.selectCard(t.model)},mouseLeaveCardView(e,t){if(!(this.ignoreMouseCardSelects||T.isVisible||k.sorting))return this.model.viewState.selectCard(null)},moveCard:this.moveCardRequested,copyCard:this.copyCardRequested}),this._applySettings(),this.markRelatedNotificationsRead(),this.reloadDirectoryPlugins=!1,this.sendGASEvent=R.get("dataeng.gasv3-event-tracking",!1),this.sendCoreGASEvent=R.get("dataeng.gasv3-core-event-tracking",!1),this.sendCoreGASEvent&&g.sendScreenEvent({name:"boardScreen",attributes:{isTemplate:this.model.isTemplate(),visibility:this.model.getPermLevel()},containers:{board:{id:this.model.id},organization:{id:_n(this.model.getOrganization(),(function(e){return e.id}))||""}}})}},{key:"renderTemplateTips",value:function(){var e=this;return this.sidebarViewPromise.then((function(){return e.sidebarView.renderTemplateTips()}))}},{key:"onShortcut",value:function(e){var t=this,n=this.model.editable(),r=v.isLoggedIn(),i=function(e,n,r){if(t.sendGASEvent)return g.sendPressedShortcutEvent({shortcutName:n,source:"boardScreen",keyValue:e,containers:{board:{id:t.model.id}},attributes:{toggleValue:null!=r?r.toLowerCase():void 0}})};switch(x(e)){case C.q:if(r)return this.model.filter.toggleQuietMode(),e.preventDefault(),M("Keyboard Shortcuts","Q - My cards"),i("q","myCardsShortcut");break;case C.x:return this.model.filter.clear(),e.preventDefault(),M("Keyboard Shortcuts","X - Clear All Filters"),i("x","clearAllFiltersShortcut");case C.w:this.toggleSidebar(),e.preventDefault(),M("Keyboard Shortcuts","W - Toggle Board Sidebar");var o=this.model.viewState.get("showSidebar")?"show":"hide";return i("w","toggleBoardMenuDrawerShortcut",o);case C.SemiColon:var a=O.getShowText();return O.toggleText(),e.preventDefault(),M("Toggle Labels Text on Card Front",o=a?"hide":"show",this.model.id,"shortcut"),M("Keyboard Shortcuts","; - Toggle Label Text"),i(";","toggleLabelTextShortcut",o);case C.ArrowDown:case C.j:this.moveCard("down"),e.preventDefault(),M("Keyboard Shortcuts","Keyboard Nav","Down");var s=x(e)===C.j?"j":"down";return i(s,"moveDownShortcut");case C.ArrowUp:case C.k:return this.moveCard("up"),e.preventDefault(),M("Keyboard Shortcuts","Keyboard Nav","Up"),i(s=x(e)===C.k?"k":"up","moveUpShortcut");case C.ArrowRight:return this.moveCard("right"),e.preventDefault(),M("Keyboard Shortcuts","Keyboard Nav","Right"),i("rightArrow","moveRightShortcut");case C.ArrowLeft:return this.moveCard("left"),e.preventDefault(),M("Keyboard Shortcuts","Keyboard Nav","Left"),i("leftArrow","moveLeftShortcut");case C.n:if(n){var l=this.model.viewState.getList(),c=this.model.viewState.getCard();if(null!=l){var d=null!=c?l.openCards().indexOf(c)+1:l.openCards().length;return this.model.composer.save({list:l,index:d,vis:!0}),e.preventDefault(),M("Keyboard Shortcuts","N - Insert Card"),i("n","insertCardShortcut")}}break;case C.Escape:if(n)return k.sorting?k.abort():E.isEditing()||T.isVisible||y.isVisible||(this.model.composer.get("vis")?this.model.composer.save("vis",!1):this.model.viewState.get("listComposerOpen")?this.model.viewState.set("listComposerOpen",!1):this.sidebarViewPromise.then((function(){return t.sidebarView.popView()}))),b.showingCalendar(this)&&p(".calendar-day.active").removeClass("active"),e.preventDefault()}}},{key:"renderClosed",value:function(){this.unmountTeamlessCollaborationPrompt(),this.unmountInspirationPopover();var e=this.model.getOrganization(),t=null!=e?e.isAtOrOverFreeBoardLimit():void 0;this.$el.html(I({name:this.model.get("name"),canReopen:this.model.owned(),canDelete:this.model.canDelete(),deleting:this.model.isDeleting(),isAtOrOverLimit:t,isDesktop:$,orgName:null!=e?e.get("displayName"):void 0,billingUrl:null!=e?e.getBillingUrl():void 0})),this.defaultBoardBackground()}},{key:"render",value:function(){return this.model.get("closed")&&!z(this.model.get("id"))?this.renderClosed():this.renderOpen(),this}},{key:"renderFilteringStatus",value:function(){var e=this.model.filter.isFiltering();this.$(".js-filter-cards-indicator").toggleClass("hide",!e),this.$(".js-num-cards").toggleClass("hide",!e),this.$("#board").toggleClass("filtering",e);var t=this.model.filter.toQueryString();if(new URLSearchParams(location.search).toString()!==new URLSearchParams(t).toString())return history.replaceState(null,null,location.pathname+t)}},{key:"remove",value:function(){return null!=this.calendarView&&this.calendarView.remove(),S(this.onShortcut),this.unmountTeamlessCollaborationPrompt(),this.unmountWorkspacesPreambleBoardHeaderButton(),this.unmountWorkspacesPreambleInviteButton(),this.unmountTeamOnboardingPupPopover(),this.unmountTeamOnboardingPupTooltip(),this.removeBoardViewsButton(),i(u(o.prototype),"remove",this).apply(this,arguments)}},{key:"blurInputsOnBoardClick",value:function(e){var t=p(e.target);return t.is("input")||t.is("textarea")?B.stopPropagation(e):p("input, textarea").blur()}}]),o}(D));function _n(e,t){return null!=e?t(e):void 0}Cn.initClass(),e.exports=Cn},"./app/scripts/views/board/calendar-board-button.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"CalendarBoardButton",(function(){return B}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./app/common/lib/util/i18n/index.ts"),a=n("./node_modules/classnames/index.js"),s=n.n(a),l=n("./app/common/lib/util/forward-ref-component.ts"),c=n("./app/common/components/controls/icon/index.tsx"),d=n("./app/src/components/BoardHeaderButton/BoardHeaderButton.less"),u=n.n(d),p=n("./packages/a11y/index.ts");function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g,v=Object(l.a)("BoardHeaderButton",(function(e,t){var n=e.backgroundBrightness,r=e.icon,o=e.iconColor,a=e.onClick,l=e.onMouseEnter,d=e.onMouseLeave,h=e.text,g=f(Object(p.a)({onMouseEnter:l,onMouseLeave:d}),2),v=g[0],b=g[1];return i.a.createElement("button",m({className:s()(u.a.boardHeaderButton,v&&u.a.focusRing,n&&u.a[n]),ref:t,onClick:a},b),r&&i.a.createElement(c.default,{color:o,medium:!0,name:r,className:s()(u.a.headerButtonIcon,n&&u.a[n])}),h&&i.a.createElement("span",{className:s()(u.a.text,n&&u.a[n])},h))})),b=n("./packages/nachos/popover.ts"),y=n("./app/common/components/controls/button/button.tsx"),k=n("./packages/feature-flag-client/index.ts"),w=n("./app/src/components/AutoEnableCalendar/AutoEnableCalendar.less"),x=n.n(w),C=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),_=Object(o.forTemplate)("auto_enable_calendar"),j=n("./app/scripts/data/legacy-power-ups.coffee").calendar,S=n("./resources/images/auto-enable-calendar/calendar-hero.jpg");!function(e){e.OKTHANKS="ok-thanks",e.OPENCALENDAR="open-calendar"}(g||(g={}));var O=function(e){var t=e.primaryButtonText,n=e.onDisableCalendarClick,r=e.onOpenDirectoryClick,o=e.onPrimaryButtonClick,a=e.countDueDates,s=e.idBoard,l=e.popoverFlag,d=Object(k.useFeatureFlag)("ecosystem.auto-enable-calendar-popover-open-directory-text","learn-more-about-powerups");return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:x.a.calendarHeroContainer},i.a.createElement("img",{alt:"Calendar Hero",src:S,className:x.a.calendarHero})),i.a.createElement("div",null,i.a.createElement("p",null,_("auto-enable-calendar-message"))),i.a.createElement("div",{className:x.a.buttonGroup},i.a.createElement("div",null,i.a.createElement(y.a,{buttonType:y.c.PRIMARY,onClick:function(){o(),Object(C.sendPluginUIEvent)({idPlugin:j,idBoard:s,event:{action:"clicked",actionSubject:"button",actionSubjectId:"autoEnableCalendarPrimaryButton",source:"autoEnableCalendarInlineDialog",attributes:{dueDateCount:a(),popoverFlag:l,primaryButtonText:t}}})}},_(t))),i.a.createElement("div",null,i.a.createElement("a",{className:x.a.quiet,role:"button",onClick:function(){n(),Object(C.sendPluginUIEvent)({idPlugin:j,idBoard:s,event:{action:"clicked",actionSubject:"button",actionSubjectId:"autoEnableCalendarDisableButton",source:"autoEnableCalendarInlineDialog",attributes:{dueDateCount:a(),popoverFlag:l}}})}},_("disable-calendar"))),i.a.createElement("hr",null),i.a.createElement("div",null,i.a.createElement("a",{className:x.a.quiet,role:"button",onClick:function(){r(),Object(C.sendPluginUIEvent)({idPlugin:j,idBoard:s,event:{action:"clicked",actionSubject:"button",actionSubjectId:"autoEnableCalendarOpenDirectoryButton",source:"autoEnableCalendarInlineDialog",attributes:{dueDateCount:a(),openDirectoryTextFlag:d,popoverFlag:l}}})}},_(d),i.a.createElement(c.default,{name:c.IconName.PowerUp,className:x.a.powerUpIcon})))))},E=n("./app/common/components/controls/index.tsx");function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var T=n("./app/scripts/data/legacy-power-ups.coffee").calendar,P=Object(o.forTemplate)("board_header"),B=function(e){var t=e.idBoard,n=e.backgroundBrightness,o=e.showAutoEnablePopover,a=e.dateAutoEnabled,s=e.popoverFlag,l=e.onClick,c=e.onDisableCalendarClick,d=e.onOpenDirectoryClick,u=e.onPrimaryButtonClick,p=e.onAutoEnablePopoverShown,m=e.countDueDates,f=Object(b.d)(),h=f.toggle,y=f.hide,k=f.triggerRef,w=f.popoverProps;return Object(r.useEffect)((function(){(new Image).src=S}),[]),Object(r.useEffect)((function(){o&&!w.isVisible&&(h(),p(),Object(C.sendPluginScreenEvent)({idPlugin:T,idBoard:t,screenName:"autoEnableCalendarInlineDialog",attributes:{daysFromAutoEnableToFirstToggle:a?Math.round((Date.now()-a)/864e5):null,showAutoEnablePopover:o,popoverFlag:s}}))}),[t,o,w,p,h,a,s]),i.a.createElement("div",null,i.a.createElement(v,{backgroundBrightness:n,icon:E.IconName.Calendar,ref:k,onClick:function(){l()},text:P("calendar")}),i.a.createElement(b.b,N({},w,{title:P("calendar")}),i.a.createElement(O,{onDisableCalendarClick:function(){c(),y()},onPrimaryButtonClick:"onBoardView"===s?u:y,primaryButtonText:"onBoardView"===s?g.OPENCALENDAR:g.OKTHANKS,onOpenDirectoryClick:function(){d(),y()},countDueDates:m,idBoard:t,popoverFlag:s})))}},"./app/scripts/views/board/confirmation-public-boards-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./packages/jquery/index.js"),d=n("./app/scripts/views/lib/pop-over.coffee"),u=n("./app/scripts/lib/util/index.coffee"),p=n("./app/scripts/views/internal/view.coffee"),m=n("./app/scripts/views/templates/popover_confirmation_public_boards.js"),f=n("./app/scripts/views/board-menu/board-member-add-multiple-view.js"),h=n("./packages/analytics/index.ts").trackUe,g=(n("./packages/feature-flag-client/index.ts").featureFlagClient,function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(b,e);var t,n,p,g,v=(t=b,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function b(){return r(this,b),v.apply(this,arguments)}return n=b,g=[{key:"initClass",value:function(){this.prototype.viewTitleKey="change to public",this.prototype.className="confirmation-popover",this.prototype.events={"click .js-submit":"selectVis","click .js-action-link":"renderInvitationLink","mouseenter .js-action-link":"mouseenter","mouseleave .js-action-link":"mouseleave"}}}],(p=[{key:"render",value:function(){var e=this.model.toJSON();return e.isTemplate=this.model.isTemplate(),this.$el.html(m(e)),this}},{key:"selectVis",value:function(e){u.stop(e);var t="public"!==this.model.getPref("permissionLevel")?1:0;return this.model.setPref("permissionLevel","public"),this.model.save(),h("board","sets","board visibility","","to public","",{boardid:this.model.id,change:t}),d.hide()}},{key:"renderInvitationLink",value:function(e){u.stop(e);var t=new f({model:this.model,modelCache:this.modelCache});t.loadOrgData(),c(".js-open-manage-board-members").removeClass("open-manage-boards-offset"),d.toggle({elem:c(".js-open-manage-board-members"),view:t},h("Invitation Link","opens","Multiple members invite view","","","by clicking invite link in confirmation view",{boardid:this.model.id}))}},{key:"mouseenter",value:function(e){return c(".js-open-manage-board-members").addClass("open-manage-boards-offset")}},{key:"mouseleave",value:function(e){return this.setTimeout((function(){return c(".js-open-manage-board-members").removeClass("open-manage-boards-offset")}),0)}}])&&i(n.prototype,p),g&&i(n,g),b}(p));g.initClass(),e.exports=g},"./app/scripts/views/board/copy-board-view.js":function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?s(e):t}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=n("./packages/jquery/index.js"),u=n("./app/scripts/views/lib/alerts.coffee"),p=n("./packages/atlassian-analytics/index.ts").Analytics,m=n("./app/scripts/db/auth.coffee"),f=n("./app/scripts/views/internal/board-display-helpers.coffee"),h=n("./app/scripts/controller/index.js"),g=n("./app/scripts/views/organization/create-org-view.coffee"),v=n("./packages/locale/index.ts"),b=n("./app/common/lib/util/last-organization.ts").default,y=n("./app/scripts/db/model-loader.coffee"),k=n("./app/scripts/views/board/new-board-helper-add-org-view.js"),w=n("./app/scripts/views/lib/pop-over.coffee"),x=n("./node_modules/bluebird/js/browser/bluebird.js"),C=n("./packages/storage/index.ts").TrelloStorage,_=n("./app/scripts/lib/util/index.coffee"),j=n("./app/scripts/views/internal/view.coffee"),S=n("./node_modules/underscore/underscore.js"),O=n("./app/scripts/views/internal/templates.coffee"),E=n("./packages/analytics/index.ts"),N=(E.track,E.trackUe),T=n("./app/scripts/lib/localize.coffee"),P=n("./packages/feature-flag-client/index.ts").featureFlagClient,B=n("./app/scripts/views/templates/board_menu_vis.js"),D=n("./packages/browser/index.ts").isDesktop(),I=b(C),A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(b,e);var t,r=(t=b,function(){var e,n=c(t);if(l()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function b(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b),(t=r.call(this,e)).getViewTitle=t.getViewTitle.bind(s(t)),t}return i(b,null,[{key:"initClass",value:function(){this.prototype.events={'change select[name="org-id"]':"changeOrg","click .js-helper-add-org":"helperAddOrg","submit form":"submit","click .js-submit":"submit","click .js-create-org":"newOrg","click .js-change-vis":"openChangeVis","click .js-select":"selectVis","click .js-confirm-public":"confirmPublic","click .js-cancel-public":"cancelPublic"}}}]),i(b,[{key:"initialize",value:function(e){var t=e.boardNameInputValue,n=e.gasSource;return this.boardNameInputValue=t,this.gasSource=n,this.sendGASEvent=P.get("dataeng.gasv3-event-tracking",!1),this.sendCoreGASEvent=P.get("dataeng.gasv3-core-event-tracking",!1),this.trackBCFeatures=P.get("remarkable.track-bc-features",!1)}},{key:"getData",value:function(){var e=this;return this.loading=!0,y.loadBoardMinimal(this.model.get("id")).finally((function(){return e.loading=!1,e.sendGASEvent&&p.sendScreenEvent({name:"copyBoardInlineDialog",containers:{board:{id:e.model.id},organization:{id:L(e.model.getOrganization(),(function(e){return e.id}))}},attributes:{isTemplate:e.model.isTemplate()}}),e.render()}))}},{key:"getViewTitle",value:function(){return this.model.isTemplate()?T(["view title","create board from template"]):T(["view title","copy board"])}},{key:"getOrganization",value:function(){switch(this.model.typeName){case"Organization":return this.model;case"Board":return this.model.getOrganization();case"Member":return null}}},{key:"getDefaultIdOrganization",value:function(e){var t,n;if(0===e.length)return null;if(this.options.useLastOrganization){if(1===e.length)return e[0];var r=I.get();if(r===I.NO_ORGANIZATION)return null;if(null!=r&&Array.from(e).includes(r))return r;n=null;for(var i=0,o=Array.from(e);i<o.length;i++)t=o[i],(null==n||t>n)&&(n=t);return n}if(null!=(n=L(this.getOrganization(),(function(e){return e.id}))))return n;var a=L(m.me().getBestOrganization(),(function(e){return e.id}));return null!=a?a:null}},{key:"render",value:function(){var e,t=m.me(),r=this.getDefaultIdOrganization(t.organizationList.pluck("id")),i=t.organizationList,o=this.model.get("prefs").isTemplate&&"public"===this.model.get("prefs").permissionLevel,a=this.model.get("enterpriseOwned"),s=t.isPaidManagedEntMember();!a&&!s||o||(i=(e=this.model.getEnterprise())?i.filter((function(t){return t.get("idEnterprise")===e.get("id")})):s?i.filter((function(e){return e.belongsToRealEnterprise()})):i.filter((function(e){return e.get("idEnterprise")})));var l=null!=r;l&&this.modelCache.get("Organization",r);i=i.map((function(e){return S.extend(e.toJSON(),{selectOrg:e.id===r})}));var c=null!=this.model.get("idEnterprise"),d={orgs:i,hasOrg:l,canAddToOrgs:0!==i.length,willRemovePowerUps:this.model.powerUpsCount()>t.getPowerUpsLimit(),isDesktop:D,loading:this.loading,hasEnterprise:a,showPrivateBoardsOptionForEntBoards:c};e&&(d.enterpriseName=e.get("displayName"));var u=Math.floor(13*Math.random()).toString();return d.placeholder=T(["board name placeholder",u]),d.publicConfirmationText=T(["confirm","public board confirmation","text"]),d.publicConfirmationConfirm=T(["confirm","public board confirmation","confirm"]),d.publicConfirmationCancel=T(["cancel"]),d.isTemplate=this.model.isTemplate(),this.boardNameInputValue&&(d.boardNameInputValue=this.boardNameInputValue),d.pLevel="private",this.model.owned()?d.pLevel=this.model.get("prefs").permissionLevel:l&&(d.pLevel="org"),(null!=this.options?this.options.newOrgBoard:void 0)&&(d.hideOrg=!0),this.$el.html(O.fill(n("./app/scripts/views/templates/board_copy.js"),d)),this.checkBoardPermissions(),this}},{key:"checkBoardPermissions",value:function(){var e=this,t=this.$('select[name="org-id"]').val();if(t)return this.loadOrg(t).then((function(t){return(null!=t?t.isAtOrOverFreeBoardLimit():void 0)?(e.$(".js-board-limits-upgrade-ad").removeClass("hide"),e.$(".js-target-team").text(t.get("displayName")),e.$(".js-upgrade-link").attr("href",t.getBillingUrl()),e.disableSubmit()):e.renderBoardVisChooser()}));this.renderBoardVisChooser()}},{key:"loadOrg",value:function(e){var t=this;return x.try((function(){if(e){var n=t.modelCache.get("Organization",e);return null!=n?n:y.loadOrganizationMinimal(e)}return null}))}},{key:"renderBoardVisChooser",value:function(e){var t=this;this.$(".js-permissions").removeClass("hide");var n=this.$('select[name="org-id"]').val(),r={isNewBoard:!0,canChange:!0};this.disableSubmit();return this.$(".js-vis-display").html("<p>".concat(T("checking visibility permissions"),"</p>")),this.loadOrg(n).then((function(n){if(null!=n){var i=null!=n?n.getEnterprise():void 0;t.canChangeOrg(n,e)||(e=null),S.extend(r,{hasOrg:!0,orgName:n.get("displayName"),hasSuperAdmins:n.isFeatureEnabled("superAdmins"),privateRestricted:!t.canChangeOrg(n,"private"),orgRestricted:!t.canChangeOrg(n,"org"),enterpriseRestricted:!t.canChangeOrg(n,"enterprise"),publicRestricted:!t.canChangeOrg(n,"public"),hasEnterprise:null!=n?n.belongsToRealEnterprise():void 0,enterpriseName:null!=i?i.get("displayName"):void 0,isTemplate:t.model.isTemplate(),isOrgPremium:null!=n?n.isPremium():void 0})}var o=null!=n&&t.canChangeOrg(n,"org")?t.model.isPrivate()?"private":"org":"private";return r.current=null!=e?e:o,{org:n,visData:r}})).then((function(e){var n=e.org,r=e.visData;if(null!=n&&r.privateRestricted&&r.orgRestricted&&r.enterpriseRestricted&&r.publicRestricted){var i=t.$(".js-no-valid-org-privs");n.owned()?i.html(T("board create restriction admin",{urlSettings:"/".concat(n.get("name"),"/account")})):i.html(T("board create restriction not admin")),i.removeClass("hide"),t.$(".js-vis-chooser,.js-vis-display").addClass("hide")}t.$(".js-vis-chooser").html(B(r));var o=t.getPermissionLevel(),a=r.current;return o!==a&&"public"===a?t.openPublicConfirmation():(t.setPermissionLevel(a),t.renderVisDisplay(a),t.enableSubmit())})).done(),this}},{key:"enableSubmit",value:function(){return this.$(".js-submit").removeClass("disabled")}},{key:"disableSubmit",value:function(){return this.$(".js-submit").addClass("disabled")}},{key:"renderVisDisplay",value:function(e){return this.$(".js-vis-display").html(O.fill(n("./app/scripts/views/templates/board_copy_vis.js"),{visIconClass:f.getPermLevelIconClass(e),visDisplayText:T(["board perms",e,"name"])}))}},{key:"resetVisChooser",value:function(){this.$(".js-no-valid-org-privs").addClass("hide")}},{key:"openPublicConfirmation",value:function(){return this.$(".js-vis-display").addClass("hide"),this.$(".js-confirm-public-message").removeClass("hide")}},{key:"hidePublicConfirmation",value:function(){return this.$(".js-confirm-public-message").addClass("hide"),this.$(".js-vis-display").removeClass("hide")}},{key:"confirmPublic",value:function(){return p.sendUpdatedBoardFieldEvent({field:"visibility",value:"public",source:"copyBoardInlineDialog",containers:{board:{id:this.model.id},organization:{id:L(this.model.getOrganization(),(function(e){return e.id}))}},attributes:{previous:this.model.getPermLevel(),change:"public"!==this.model.getPermLevel(),isTemplate:this.model.isTemplate()}}),this.setPermissionLevel("public"),this.renderVisDisplay("public"),this.hidePublicConfirmation(),this.enableSubmit(),N("copy board menu","sets","board visibility","","to public","",{change:1})}},{key:"cancelPublic",value:function(){var e=this.getPermissionLevel();if(this.renderBoardVisChooser(e),this.hidePublicConfirmation(),N("copy board menu","cancels","board visibility","","to public","",{change:0}),this.sendGASEvent)return p.sendTrackEvent({action:"cancelled",actionSubject:"visibility",source:"copyBoardInlineDialog",attributes:{visibility:"public"}})}},{key:"openChangeVis",value:function(e){_.stop(e),this.$(".js-vis-display").addClass("hide"),this.$(".js-vis-chooser").removeClass("hide"),this.$(".js-confirm-public-message").addClass("hide")}},{key:"selectVis",value:function(e){_.stop(e);var t=d(e.target).closest(".js-select");if(!t.hasClass("disabled")){this.$(".js-vis-display").removeClass("hide"),this.$(".js-vis-chooser").addClass("hide");var n=this.getPermissionLevel(),r=t.attr("name");this.renderBoardVisChooser(r),"public"!==r&&N("copy board menu","sets","board visibility","to ".concat(r),"","",{boardId:this.model.id,teamId:L(this.model.getOrganization(),(function(e){return e.id})),isTemplate:this.model.isTemplate(),change:n!==r?1:0}),p.sendUpdatedBoardFieldEvent({field:"visibility",value:r,source:"copyBoardInlineDialog",containers:{board:{id:this.model.id},organization:{id:L(this.model.getOrganization(),(function(e){return e.id}))}},attributes:{previous:n,change:n!==r,isTemplate:this.model.isTemplate()}})}}},{key:"setPermissionLevel",value:function(e){return this.$('input[name="permissionLevel"]').val(e)}},{key:"getPermissionLevel",value:function(){var e;return null!=(e=this.$('input[name="permissionLevel"]').val())?e:""}},{key:"canChangeOrg",value:function(e,t){return e.canSetVisibility(t)}},{key:"allowBoardCopy",value:function(){return this.$(".js-board-limits-upgrade-ad").addClass("hide"),this.resetVisChooser(),this.$(".js-vis-display").removeClass("hide"),this.$(".js-vis-chooser").addClass("hide"),this.renderBoardVisChooser()}},{key:"changeOrg",value:function(e){var t=this,n=e.target.value;if(N("copy board menu","sets","board organization","","","",{boardId:this.model.id,teamId:n,isTemplate:this.model.isTemplate()}),p.sendUpdatedBoardFieldEvent({field:"organization",source:"copyBoardInlineDialog",containers:{board:{id:this.model.id},organization:{id:n}},attributes:{previous:L(this.model.getOrganization(),(function(e){return e.id})),change:L(this.model.getOrganization(),(function(e){return e.id}))!==n,isTemplate:this.model.isTemplate()}}),this.hidePublicConfirmation(),n){return this.$(".js-vis-display").html("<p>".concat(T("checking visibility permissions"),"</p>")),this.$(".js-board-limits-upgrade-ad").addClass("hide"),this.disableSubmit(),this.loadOrg(n).then((function(e){return(null!=e?e.isAtOrOverFreeBoardLimit():void 0)?(t.$(".js-permissions").addClass("hide"),t.$(".js-board-limits-upgrade-ad").removeClass("hide"),t.$(".js-target-team").text(e.get("displayName")),t.$(".js-upgrade-link").attr("href",e.getBillingUrl())):t.allowBoardCopy()}))}this.allowBoardCopy()}},{key:"helperAddOrg",value:function(e){_.stop(e),w.pushView({view:new k({model:this.model,modelCache:this.modelCache})}),N("copy board menu","opens","add org helper","","","",{boardId:this.model.id,teamId:L(this.getOrganization(),(function(e){return e.id})),isTemplate:this.model.isTemplate()}),this.sendGASEvent&&p.sendUIEvent({action:"clicked",actionSubject:"icon",actionSubjectId:"infoIcon",source:"copyBoardInlineDialog",containers:{board:{id:this.model.id},organization:{id:L(this.getOrganization(),(function(e){return e.id}))}},attributes:{isTemplate:this.model.isTemplate()}})}},{key:"defaultBackgroundColor",value:function(){if(v.usesEnglish()){var e=new Date,t=e.getMonth(),n=e.getDate();if(2===t&&17===n)return"green"}return"blue"}},{key:"submit",value:function(e){var t,n=this;if(_.stop(e),!this.$(".js-submit").hasClass("disabled")){var r=this.$('input[name="name"]'),i=r.val().trim();if(""!==i){(this.sendCoreGASEvent||this.trackBCFeatures)&&p.sendClickedButtonEvent({buttonName:"createButton",source:this.gasSource||"copyBoardInlineDialog",attributes:{isTemplate:this.model.isTemplate()}});var o=null!=(t=this.$('select[name="org-id"]').val())?t:"";I.set(o);var a={name:i,idOrganization:o},s=this.$('input[name="permissionLevel"]').val(),l=(this.defaultBackgroundColor(),S.filter(m.me().boardList.models,(function(e){return e.owned()})),S.extend({prefs_permissionLevel:s},a));this.model.isTemplate()&&(l=S.extend({prefs_isTemplate:!1},l)),l.idBoardSource=this.model.id,l.keepFromSource=this.$("input:checkbox:checked").map((function(){return this.name})).get().join();m.me().boardList.create(a,{modelCache:this.modelCache,requestData:l,success:function(e){var t,r,i,a;u.hide("copying"),u.hide("templates"),n.model.isTemplate()?(i="copy template menu",a="new board"):(i="copy board menu",a="new board"),N(i,"creates",a,"","","by clicking Create button",{boardId:e.id,sourceBoardId:n.model.id,teamId:o,fromTemplate:n.model.isTemplate()}),(n.sendCoreGASEvent||n.trackBCFeatures)&&p.sendCopiedBoardEvent({source:n.gasSource||"copyBoardInlineDialog",containers:{board:{id:e.id},organization:{id:o}},attributes:{sourceBoardId:n.model.id,fromTemplate:n.model.isTemplate(),visibility:e.getPermLevel(),isBCFeature:!0,requiredBC:!1}}),r=e.id,Array.from(t=m.me().get("idBoards")).includes(r)||m.me().set("idBoards",t.concat(e.id)),h.displayBoard({idBoard:e.id}).done()},error:function(e,t){if(/ENTERPRISE_OWNED_ENTITY/.test(t))return u.hide("copying"),u.show(["unlicensed member cannot copy enterprise board",{enterpriseName:L(n.model.getEnterprise(),(function(e){return e.get("displayName")}))}],"error","create error",7e3);if(/SOURCE_TEMPLATE_CONTAINS_FORBIDDEN_ENTERPRISE_POWER_UPS/.test(t)){var r=n.parseTemplateContainsForbiddenPowerUpsError(t);return u.hide("templates"),u.show(["source template contains forbidden enterprise power ups",{powerUps:r}],"error","forbiddenPowerUps",7e3)}return u.flash("could not create board","error","create error")}});return this.model.isTemplate()?u.show("creating-board","info","templates"):u.show("copying","info","copying"),w.hide()}r.focus().select()}}},{key:"newOrg",value:function(e){this.sendGASEvent&&p.sendClickedLinkEvent({linkName:"createNewOrgLink",source:"copyBoardInlineDialog",containers:{board:{id:this.model.id},organization:{id:L(this.getOrganization(),(function(e){return e.id}))}},attributes:{isTemplate:this.model.isTemplate()}});var t={};m.me().isPaidManagedEntMember()&&(t.isEnterprise=!0);_.stop(e),w.pushView({view:new g({model:this.model,modelCache:this.modelCache,createOpts:t,trackingOpts:{category:"board",method:"by clicking create team in copy board menu"}})}),N("copy board menu","opens","create org menu","","","",{boardId:this.model.id,teamId:L(this.getOrganization(),(function(e){return e.id})),isTemplate:this.model.isTemplate()})}},{key:"parseTemplateContainsForbiddenPowerUpsError",value:function(e){var t=JSON.parse(e).message;return t.slice(1+t.indexOf(":")).trimLeft()}}]),b}(j);function L(e,t){return null!=e?t(e):void 0}A.initClass(),e.exports=A},"./app/scripts/views/board/invite-acceptance-notification.js":function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?s(e):t}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=n("./app/scripts/db/auth.coffee"),u=n("./node_modules/react/index.js"),p=(n("./app/scripts/lib/localize.coffee"),n("./app/scripts/views/internal/recup-with-helpers.coffee")("invite_acceptance_notification")),m=n("./packages/analytics/index.ts").trackUe,f=n("./node_modules/underscore/underscore.js"),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(r,e);var t,n=(t=r,function(){var e,n=c(t);if(l()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=n.call(this,e)).state={members:e.members},t.clickDontShowAgain=t.clickDontShowAgain.bind(s(t)),t}return i(r,null,[{key:"initClass",value:function(){this.prototype.render=p.renderable((function(){var e=this;return p.div(".invite-acceptance-notification",(function(){return p.div(".invite-acceptance-notification-close",(function(){return p.a({onClick:e.props.onClose,href:"#"},(function(){return p.span(".icon-lg.icon-close")}))})),p.h6((function(){return e.getTitle()})),p.p((function(){return e.getBody()})),p.div(".invite-acceptance-notification-dont-show-again",(function(){return p.a({onClick:e.clickDontShowAgain,href:"#"},(function(){return p.format("Do not show this again")}))}))}))}))}}]),i(r,[{key:"getTitle",value:function(){return 1===this.state.members.length?(p.text("".concat(this.state.members[0].get("fullName")," ")),p.format("joined your board")):p.format("new members joined your board")}},{key:"getBody",value:function(){var e=this.state.members.length,t=[];if(t=1===e?f.map(this.state.members,(function(e){if(null!=e.get("fullName")){var t=e.get("fullName").split(" ");if(t.length>0)return t[0]}})):f.map(this.state.members,(function(e){return e.get("fullName")})),1===e)p.text(t[0]+" "),p.format("is new to trello");else if(2===e)p.text(t[0]+" "),p.format("and"),p.text(" ".concat(t[1]," ")),p.format("are new to trello");else if(3===e)p.text(t[0]+", "),p.text(t[1]+", "),p.format("and"),p.text(" "),p.text(t[2]+" "),p.format("are new to trello");else{var n="";t.slice(0,3).forEach((function(e){return n+=e+", "})),p.text(n),p.format("and"),p.text(" "),p.text(e-3+" "),4===e?p.format("other are new to trello"):p.format("others are new to trello")}return p.text(" "),1===e?p.a({href:"https://trello.com/guide/feature-deep-dive",target:"_blank",onClick:this.clickAddCardLink},(function(){return p.format("help them get started by adding them to a card")})):p.a({href:"https://trello.com/guide/feature-deep-dive",target:"_blank",onClick:this.clickAddCardLink},(function(){return p.format("help your board members get started by adding them to a card")})),p.text(" "),p.a({href:"https://trello.com/guide/collaboration",target:"_blank",onClick:this.clickMentionLink},(function(){return 1===e?p.format("you can mention them sg in a comment too"):p.format("you can mention them pl in a comment too")}))}},{key:"clickAddCardLink",value:function(){return m("invite acceptance notification","click","help adding them to a card","","","",{member:d.me().id})}},{key:"clickMentionLink",value:function(){return m("invite acceptance notification","click","help mentioning them","","","",{member:d.me().id})}},{key:"clickDontShowAgain",value:function(){return d.me().dismiss("notify-invite-acceptance"),m("invite acceptance notification","dismiss","future notifications","","","by clicking dont show again",{member:d.me().id}),this.props.onClose()}}]),r}(u.Component);h.initClass(),e.exports=h},"./app/scripts/views/board/invitee-orientation-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./app/scripts/db/auth.coffee"),d=n("./app/scripts/views/member-menu-profile/member-on-board-view.coffee"),u=n("./app/scripts/lib/util/index.coffee"),p=n("./app/scripts/views/internal/view.coffee"),m=n("./app/scripts/views/templates/invitee-orientation.coffee"),f=n("./app/common/lib/util/date.ts").idToDate,h=n("./app/common/lib/util/text/truncate.ts").truncate,g=n("./node_modules/underscore/underscore.js"),v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(y,e);var t,n,p,v,b=(t=y,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function y(){return r(this,y),b.apply(this,arguments)}return n=y,v=[{key:"initClass",value:function(){this.prototype.className="invitee-orientation-wrapper",this.prototype.events={"click .js-close-orientation":"onClose"}}}],(p=[{key:"initialize",value:function(){return this.hasRendered=!1}},{key:"getInviteToken",value:function(){return u.inviteTokenFor(this.model.id)}},{key:"getMemberForAvatar",value:function(){var e=this.getInviteToken().split("-")[1],t=this.modelCache.get("Member",e);return null==t&&(t=this.model.adminList.models[0]),t}},{key:"renderableMembers",value:function(){var e=this.model.orderedVisibleMembers().slice(0,3);if(c.isLoggedIn()){var t=e.shift();e.push(t)}return e}},{key:"shouldSeePopover",value:function(){return c.isLoggedIn()&&!c.me().isDismissed("invitee-orientation")&&this.getInviteToken()&&f(c.myId())>=new Date("2019-06-15")}},{key:"renderFacepile",value:function(){var e=this,t=Array.from(this.renderableMembers()).map((function(t){return e.subview(d,t,{board:e.model,notClickable:!0,small:!0,hideBadges:!0})}));return this.ensureSubviews(t.reverse(),this.$(".js-invitee-orientation-facepile"))}},{key:"_getDataForMessage",value:function(){var e=this.model.orderedVisibleMembers(),t=this.renderableMembers();return{visibleMembersCount:e.length,maxVisible:3,firstMemberFullName:h(t[0].get("fullName"),30),boardName:this.model.get("name")}}},{key:"_getDataForAvatar",value:function(){return{inviterAvatarUrl:this.getMemberForAvatar().get("avatarUrl"),inviterFullName:this.getMemberForAvatar().getMemberViewTitle(),inviterUsername:this.getMemberForAvatar().get("username"),inviterInitials:this.getMemberForAvatar().get("initials")}}},{key:"render",value:function(){if(!this.shouldSeePopover()||this.hasRendered)return this;var e={};e=g.extend(e,this._getDataForAvatar()),e=g.extend(e,this._getDataForMessage()),this.$el.html(m(e)),this.renderFacepile();var t=this.$el.find(".invitee-orientation-message-container"),n=this.$el.find(".invitee-orientation-avatar-container");return setTimeout((function(){return n.addClass("active")}),1200),setTimeout((function(){return t.addClass("active")}),1350),this.hasRendered=!0,this}},{key:"onClose",value:function(){return c.me().dismiss("invitee-orientation"),this.remove()}}])&&i(n.prototype,p),v&&i(n,v),y}(p);v.initClass(),e.exports=v},"./app/scripts/views/board/jsw-crossflow-popover-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./packages/atlassian-analytics/index.ts"),d=c.Analytics,u=(c.ActionSubject,c.ActionSubjectId,c.Source,n("./app/scripts/db/auth.coffee")),p=(n("./app/scripts/views/member-menu-profile/member-on-board-view.coffee"),n("./app/scripts/lib/util/index.coffee"),n("./app/scripts/views/internal/view.coffee")),m=n("./app/scripts/views/templates/jsw-crossflow-popover.coffee"),f=(n("./app/common/lib/util/date.ts").idToDate,n("./app/common/lib/util/text/truncate.ts").truncate,n("./node_modules/underscore/underscore.js"),n("./app/gamma/src/defaultStore.ts").defaultStore),h=n("./app/gamma/src/modules/state/ui/overlay.ts"),g=h.OverlayType,v=h.setOverlay,b=n("./app/gamma/src/util/cross-flow-essentials.ts").UtmCampaign,y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(y,e);var t,n,c,p,h=(t=y,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function y(){return r(this,y),h.apply(this,arguments)}return n=y,p=[{key:"initClass",value:function(){this.prototype.className="jsw-crossflow-popover-wrapper",this.prototype.events={"click .js-close-orientation":"onClose","click .jsw-crossflow-popover-button":"renderCrossflow"}}}],(c=[{key:"renderCrossflow",value:function(){return f.dispatch(v({overlayType:g.ProductStore,productKey:"jira-software.ondemand",context:{source:"try",campaign:b.TOUCHPOINTS_JSW_BOARD}})),d.sendClickedButtonEvent({buttonName:"jswLearnMoreButton",source:"jswLearnMoreInlineDialog",containers:{board:{id:this.model.id}}})}},{key:"render",value:function(){this.$el.html(m()),d.sendScreenEvent({name:"jswLearnMoreInlineDialog",containers:{board:{id:this.model.id}}});var e=this.$el.find(".jsw-crossflow-popover-message-container"),t=this.$el.find(".jsw-crossflow-popover-avatar-container");return setTimeout((function(){return t.addClass("active")}),1200),setTimeout((function(){return e.addClass("active")}),1350),this}},{key:"onClose",value:function(){return u.me().dismiss("jsw-crossflow-popover"),this.remove(),d.sendDismissedComponentEvent({componentType:"inlineDialog",componentName:"jswLearnMoreInlineDialog",source:"boardScreen",containers:{board:{id:this.model.id}}})}}])&&i(n.prototype,c),p&&i(n,p),y}(p);y.initClass(),e.exports=y},"./app/scripts/views/board/new-board-helper-add-org-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./packages/atlassian-analytics/index.ts").Analytics,d=n("./app/scripts/db/auth.coffee"),u=n("./app/scripts/views/organization/create-org-view.coffee"),p=n("./packages/feature-flag-client/index.ts").featureFlagClient,m=n("./app/scripts/views/lib/pop-over.coffee"),f=n("./app/scripts/lib/util/index.coffee"),h=n("./app/scripts/views/internal/view.coffee"),g=n("./app/scripts/views/internal/templates.coffee"),v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(k,e);var t,h,v,b,y=(t=k,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function k(){return r(this,k),y.apply(this,arguments)}return h=k,b=[{key:"initClass",value:function(){this.prototype.viewTitleKey="add an organization",this.prototype.events={"click .js-create-org":"newOrg"}}}],(v=[{key:"render",value:function(){return this.$el.html(g.fill(n("./app/scripts/views/templates/popover_helper_new_board_add_org.coffee"))),p.get("dataeng.gasv3-event-tracking",!1)&&c.sendScreenEvent({name:"newBoardHelperAddOrganizationInlineDialog"}),this}},{key:"newOrg",value:function(e){var t={};return d.me().isPaidManagedEntMember()&&(t.isEnterprise=!0),f.stop(e),m.pushView({view:new u({model:this.model,modelCache:this.modelCache,createOpts:t,trackingOpts:{category:"board",method:"by clicking team info icon in copy board menu"}})})}}])&&i(h.prototype,v),b&&i(h,b),k}(h);v.initClass(),e.exports=v},"./app/scripts/views/board/power-up-directory-board-button.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"PowerUpDirectoryBoardButton",(function(){return g}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./node_modules/classnames/index.js"),a=n.n(o),s=n("./app/common/lib/util/forward-ref-component.ts"),l=n("./app/gamma/src/util/experiments.ts"),c=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),d={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PowerUpDirectoryBoardButton"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"products"},arguments:[],directives:[]}]}}]}}]};var u=function(e){var t,n=e.orgId,r=(t=n?{variables:{orgId:n}}:{skip:!0},c.c(d,t)).data;return{shouldDisplayPowerUpDirectoryButton:Boolean((null==r?void 0:r.organization)&&!r.organization.products.length)}},p=n("./app/common/lib/util/i18n/index.ts"),m=n("./packages/atlassian-analytics/index.ts"),f=n("./packages/analytics/index.ts"),h=Object(p.forTemplate)("board_header"),g=Object(s.a)("BoardHeaderButton",(function(e,t){var n,r,o=e.idBoard,s=e.onClick,c=e.orgId,d=u({orgId:c}).shouldDisplayPowerUpDirectoryButton,p=function(e,t){Object(f.trackUe)(f.Noun.BOARD_HEADER,f.Verb.OPENS,f.Noun.POWER_UPS_DIRECTORY,"","board button","by clicking ".concat(e," on board header")),m.Analytics.sendClickedButtonEvent({containers:{board:{id:o},organization:{id:c}},buttonName:t,source:"boardScreen"}),s()},g="";if(d){var v=l.a.get("boardDirectoryButton",c);v.track();var b=v.get("variation");"addApps"===b?(g="add-apps",n=f.Noun.ADD_APPS_BUTTON,r="addAppsButton"):"addIntegrations"===b?(g="add-integrations",n=f.Noun.ADD_INTEGRATIONS_BUTTON,r="addIntegrationsButton"):"addPowerUps"===b&&(g="add-power-ups",n=f.Noun.ADD_POWER_UPS_BUTTON,r="addPowerUpsButton")}return""===g?null:i.a.createElement("span",null,i.a.createElement("button",{className:a()("board-header-btn","board-header-btn-without-icon","board-header-btn-pup-directory"),ref:t,onClick:function(){p(n,r)}},h(g)))}))},"./app/scripts/views/board/reopen-board-popover-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n("./packages/jquery/index.js");var d=n("./packages/react-dom-wrapper/index.ts"),u=n("./node_modules/react/index.js"),p=n("./app/common/components/billable-guests-alert/index.tsx").BillableGuestsAlert,m=n("./app/scripts/views/board/billable-guest-list-popover-view.js"),f=n("./app/scripts/views/lib/pop-over.coffee"),h=n("./app/scripts/views/internal/view.coffee"),g=n("./app/scripts/views/templates/popover_reopen_board.js"),v=n("./packages/product-features/index.ts").OrganizationFeatures,b=n("./packages/browser/index.ts").isDesktop(),y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(x,e);var t,n,h,y,w=(t=x,function(){var e,n=c(t);if(l()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function x(){return r(this,x),w.apply(this,arguments)}return n=x,y=[{key:"initClass",value:function(){this.prototype.viewTitleKey="reopen board",this.prototype.events={"click .js-confirm-reopen":"confirmReopen"}}}],(h=[{key:"initialize",value:function(e){var t=e.board,n=e.org,r=e.newBillableGuests,i=e.availableLicenseCount,a=e.onReopen;return this.board=t,this.org=n,this.newBillableGuests=r,this.availableLicenseCount=i,this.onReopen=a,o(c(x.prototype),"initialize",this).apply(this,arguments)}},{key:"remove",value:function(){return this.reactRoot&&d.unmountComponentAtNode(this.reactRoot),o(c(x.prototype),"remove",this).apply(this,arguments)}},{key:"renderReactSection",value:function(){var e=this,t=k(k(this.org.get("paidAccount"),(function(e){return e.products})),(function(e){return e[0]})),n={adminNames:this.org.adminList.map((function(e){return e.get("fullName")||e.get("username")})),newBillableGuestsCount:this.newBillableGuests.length,availableLicenseCount:this.availableLicenseCount,orgName:this.org.get("displayName")||this.org.get("name"),pricePerGuest:v.getPrice(t),isMonthly:v.isMonthly(t),isOrgAdmin:this.org.owned(),isDesktop:b,orgUrl:this.org.url,isReopen:!0,onCountClick:function(){return f.pushView({view:new m({newBillableGuests:e.newBillableGuests})})}},r=u.createElement(p,n);if(this.reactRoot=this.$(".js-billable-guests-alert")[0])return d.render(r,this.reactRoot)}},{key:"render",value:function(){return this.$el.html(g()),this.renderReactSection(),this}},{key:"confirmReopen",value:function(e){var t=this.org.owned()&&!b;return this.org.owned()&&null!==this.availableLicenseCount&&this.availableLicenseCount<this.newBillableGuests.length&&(t=!1),this.board.reopen({newBillableGuests:this.newBillableGuests,keepBillableGuests:t}),"function"==typeof this.onReopen&&this.onReopen(),f.hide()}}])&&i(n.prototype,h),y&&i(n,y),x}(h);function k(e,t){return null!=e?t(e):void 0}y.initClass(),e.exports=y},"./app/scripts/views/board/touchpoint-confluence-experiment-activation.js":function(e,t,n){var r=n("./packages/feature-flag-client/index.ts").featureFlagClient,i="growth.trello-confluence-crossflow-touchpoint-experiment-m0",o=function(e,t){null==t&&(t=!0);var n=r.get(i,"not-enrolled");return"not-enrolled"!==n&&t&&r.getTrackedVariation(i,"not-enrolled",{touchPoint:e}),"variation"===n};e.exports={isAtlassianSwitcherActive:()=>o("switcher",!1),fireAtlassianSwitcherActiveEvent:()=>o("switcher",!0),isPowerUpStoreActive:()=>!1}},"./app/scripts/views/board/touchpoint-jsw-experiment-activation.js":function(e,t,n){n("./app/scripts/db/auth.coffee"),n("./packages/atlassian-analytics/index.ts").Analytics;var r=n("./packages/feature-flag-client/index.ts").featureFlagClient,i="growth.trello-jsw-crossflow-touchpoint-experiment-v1";e.exports={isControlOrEnrolledInJSWCrossflowWithoutFiringFeatureExposedEvent:function(){var e=r.get(i,"not-enrolled");return"Control_NoTarget"===e||"Variation_Targeted"===e},isEnrolledInJSWCrossflowWithoutFiringFeatureExposedEvent:function(){return"Variation_Targeted"===r.get(i,"not-enrolled")},isBoardActive:()=>!1,isAtlassianSwitcherActive(){return e="switcher","not-enrolled"!==(t=r.get(i,"not-enrolled"))&&r.getTrackedVariation(i,"not-enrolled",{touchPoint:e}),"Variation_Targeted"===t;var e,t},isPowerUpStoreActive:()=>!1}},"./app/scripts/views/card-composer/card-composer-inline-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p,m,f,h,g,v,b,y,k,w,x,C,_,j,S,O,E,N,T,P,B,D={}.hasOwnProperty;r=n("./packages/jquery/index.js"),i=n("./app/scripts/views/lib/alerts.coffee"),o=n("./packages/atlassian-analytics/index.ts").Analytics,a=n("./packages/browser/index.ts"),l=n("./app/scripts/views/card-composer/composer-label-selector-view.coffee"),c=n("./app/scripts/views/card-composer/composer-member-selector-view.coffee"),d=n("./app/scripts/views/card-composer/composer-pos-selector-view.coffee"),u=n("./app/scripts/views/card-composer/composer-selector-menu-view.coffee"),O=n("./app/scripts/views/card/card-limits-error.coffee").maybeDisplayLimitsErrorOnCardAdd,p=n("./app/scripts/views/lib/confirm.coffee"),m=n("./app/scripts/controller/index.js"),w=n("./packages/feature-flag-client/index.ts").featureFlagClient,C=n("./app/scripts/lib/util/text/html-encode.coffee"),N=n("./packages/keybindings/index.ts"),f=N.Key,x=N.getKey,_=N.isArrow,S=n("./app/scripts/lib/make-error-enum.coffee"),h=n("./app/scripts/views/lib/pop-over.coffee"),g=n("./node_modules/bluebird/js/browser/bluebird.js"),v=n("./node_modules/promise-queue/lib/index.js"),b=n("./app/scripts/lib/util/index.coffee"),y=n("./app/scripts/views/internal/view.coffee"),k=n("./node_modules/underscore/underscore.js"),n("./app/scripts/views/internal/teacup-with-helpers.coffee")("list_add"),T=n("./app/scripts/views/internal/templates.coffee"),P=n("./packages/analytics/index.ts").track,j=n("./app/scripts/lib/localize.coffee"),E=n("./app/scripts/views/templates/member.coffee"),B=n("./app/scripts/views/card/SeparatorCard/SeparatorCard.ts").trackSeparator,s=S("CardComposer",["TooManyCards"]),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)D.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.className="card-composer",t.prototype.initialize=function(){return this.sendGASEvent=w.get("dataeng.gasv3-event-tracking",!1),this.sendGASCoreEvent=w.get("dataeng.gasv3-core-event-tracking",!1),this.makeDebouncedMethods("render"),this.listenTo(this.model,"change:idLabels change:idMembers",this.renderSelectedItems),this.listenTo(this.model,"change:vis",this.autosaveCard),this.listenTo(this.model.labelList,"add remove reset change",this.frameDebounce(this.renderSelectedItems)),this._cardCreationApiQueue=new v(5),this.handleClickOutside=this.handleClickOutside.bind(this),r(document).on("click",this.handleClickOutside)},t.prototype.remove=function(){return r(document).off("click",this.handleClickOutside),t.__super__.remove.apply(this,arguments)},t.prototype.events={"click .js-add-card":"submitCard","click .js-cancel":"clearAndHide","click .js-cc-menu":"openMenu",keyup:"keyupEvent",paste:"pasteEvent",keydown:"keydownEvent"},t.prototype.handleClickOutside=function(e){var t;if(this.model.get("vis"))return 0===(t=r(e.target)).closest(".card-composer").length&&0===t.closest(".pop-over").length?this.model.save("vis",!1):void 0},t.prototype.render=function(e,t){var r,i,a,s,l,c,d,u,p,m;return this,this.sendGASEvent&&o.sendScreenEvent({name:"inlineCardComposerInlineDialog",containers:{board:{id:null!=(i=this.model)&&null!=(a=i.getBoard())?a.id:void 0},list:{id:null!=(s=this.model)&&null!=(l=s.attributes)&&null!=(c=l.list)?c.id:void 0},organization:{id:null!=(d=this.model)&&null!=(u=d.getBoard())&&null!=(p=u.getOrganization())?p.id:void 0}}}),r=k.extend({placeholder:this.getPlaceholder()},this.model.toJSON({board:!0})),this.renderVisibility(),this.$el.html(T.fill(n("./app/scripts/views/templates/card_composer_inline.coffee"),r)),this.renderSelectedItems(),this.defer((m=this,function(){return b.setCaretAtEnd(m.$(".js-card-title")[0]),"function"==typeof t?t():void 0})),this.$(".js-card-title").autosize(),this},t.prototype.autosaveCard=function(){var e;return""!==(e=r.trim(this.$(".js-card-title").val()))&&e!==this.getPlaceholder()&&e.length<=16384?this.submitCard(null,!0):this.frameDebounce(this.renderVisibility())},t.prototype.renderVisibility=function(){return this.$el.toggleClass("hide",!this.model.get("vis")),this},t.prototype.clearTextField=function(){return this.model.save("title",""),this.$(".js-card-title").val("").trigger("autosize.resize")},t.prototype.submitCard=function(e,t){var n,o,a,l,c,d;if(null==t&&(t=!1),e&&b.stop(e),h.hide(),""!==(d=r.trim(this.$(".js-card-title").val()))){if(d.length>16384)return this.$el.find(".js-card-title").focus().select(),void i.flash("card title too long","error");var u;if(c={$elem:n=e?r(e.target):this.$el,destinationBoard:this.model.getBoard(),destinationList:this.model.getList()},!O(c))o=k.compact(d.split(/\r\n|\r|\n/)),a=o.length,l=a.toString(),g.try((function(){if(a>100)throw new s.TooManyCards;return a>1&&new g((function(e){return p.toggle("create many cards",{elem:n,html:j("confirm.create many cards.text",{count:l}),confirmText:j("confirm.create many cards.confirm",{count:l}),fxConfirm:function(t){return e(!0)},fxCancel:function(t){return e(!1)}})}))})).then((u=this,function(n){var r;return u.clearTextField(),r=!0===(null!=e?e.shiftKey:void 0),n?u.createMultipleCards(o,r):u.createCard(d,{openCard:r,selectCard:!t,removeNewLines:!0}).catch((function(){return i.flash("could not connect","error")})),u.clearItems()})).then(function(e){return function(){if(t)return e.hide(),e.renderVisibility()}}(this)).catch(s.TooManyCards,(function(){return p.toggle("too many cards",{elem:n,html:j("confirm.too many cards.text",{count:l}),fxConfirm:function(e){return h.hide()}})})).done()}else this.$el.find(".js-card-title").focus().select()},t.prototype.queueCreateCard=function(e,t){return null==t&&(t={}),t.requestData=this._createCardRequestData(e,t.removeNewLines),this._cardCreationApiQueue.add((n=this,function(){return n.createCard(e,t)}));var n},t.prototype._createCardRequestData=function(e,t){var n,r;return e=e.trim(),this.$el.trigger("prevent-scroll-selection"),t&&(e=e.replace(/(\r\n|\n|\r)/gm," ")),r=k.clone(this.model.get("idMembers")),{newCardData:{name:e,closed:!1,idLabels:n=k.pluck(this.model.labelList.models,"id"),idMembers:r,dateLastActivity:Date.now()},addsLabels:n.length>0,membersToAdd:r}},t.prototype.createCard=function(e,t){var n,r,i,a,s,l;return n=(r=null!=t?t:{}).openCard,s=r.selectCard,i=r.removeNewLines,a=r.requestData,new g((l=this,function(t,r){var c,d,u,p,f,h;return f=(h=null!=a?a:l._createCardRequestData(e,i)).newCardData,c=h.addsLabels,p=h.membersToAdd,""===e?t():(f.pos=l.model.getList().calcPos(l.model.get("index")),l.model.moveToNext(),u=l.model.getList().cardList.create(f,{error:function(e){return l.model.getList().cardList.remove(u),r(e)},success:function(n){var r,i,a,s;c&&p.length>0?P("Card Composer","Card Added","With Members and Labels"):p.length>0?P("Card Composer","Card Added","With Members"):P("Card Composer","Card Added",c?"With Labels":"No items included"),l.sendGASCoreEvent&&o.sendTrackEvent({action:"created",actionSubject:"card",source:"inlineCardComposerInlineDialog",attributes:{numMembersAdded:p.length,labelsAdded:c},containers:{card:{id:null!=n?n.id:void 0},list:{id:null!=n&&null!=(r=n.getList())?r.id:void 0},board:{id:null!=n&&null!=(i=n.getBoard())?i.id:void 0},organization:{id:null!=n&&null!=(a=n.getBoard())&&null!=(s=a.getOrganization())?s.id:void 0}}}),B(e,{category:"card composer",method:"by creating a card"}),t()},modelCache:l.modelCache}),(d=l.model.getBoard()).filter.addNewCard(u),s&&d.viewState.selectCard(u),n?m.showCardDetail(u,{runMethod:u.shouldSuggestDescription()?"expandDesc":void 0,method:"via the Shift shortcut from card composer"}):void 0)}))},t.prototype.createMultipleCards=function(e,t){var n,r,i,a,s,l,c,d,u,p,m,f,h;for(a=e.length,n=r=0,i=e.length;r<i;n=++r)h=e[n],e.length-1===n?this.queueCreateCard(h,{openCard:t,selectCard:!0}):this.queueCreateCard(h);P("Card Composer","Added Mulitple Cards",a),this.sendGASCoreEvent&&o.sendTrackEvent({action:"created",actionSubject:"card",source:"createMultipleCardsInlineDialog",attributes:{numCardsLength:a},containers:{board:{id:null!=(s=this.model)&&null!=(l=s.getBoard())?l.id:void 0},list:{id:null!=(c=this.model)&&null!=(d=c.attributes)&&null!=(u=d.list)?u.id:void 0},organization:{id:null!=(p=this.model)&&null!=(m=p.getBoard())&&null!=(f=m.getOrganization())?f.id:void 0}}})},t.prototype.pasteEvent=function(){this.$(".js-card-title").focus().keyup().trigger("autosize.resize")},t.prototype.keydownEvent=function(e){var t,n,i,o,a,s,u,p;return a=x(e),t=this.$(".js-card-title"),o=r(e.target).closest(".js-card-title").hasClass("js-card-title"),i=r(e.target).closest(".js-add-card").hasClass("js-add-card"),!o&&!i||h.isVisible||a!==f.Enter?a===f.Escape?this.saveDraftAndHide():void(a!==f.Tab&&a!==f.Enter||(t.focus(),p=b.getWordFromCaret(t[0]),s=r(null!=(u=h.view)?u.el:void 0),n=!1,h.view instanceof c?(s.find(".js-members-list .item.selected:first .js-select-member").first().click(),n=!0):h.view instanceof l?(s.find(".js-select-label.selected").first().click(),n=!0):h.view instanceof d?s.find(".js-pos-results").length>0&&(s.find(".js-pos-results li.selected:first a").first().click(),n=!0):a===f.Tab&&""===t.val()&&(b.stop(e),this.hide(),e.shiftKey?r(this.el).closest(".js-list").find(".editable:first .current").click():r(this.el).closest(".js-list").next().find(".editable:first .current").click()),n&&(b.stop(e),b.insertSelection(t,"",p.start,p.end),this.model.set("title",t.val())),this.renderSelectedItems(),h.hide())):(b.stop(e),void this.submitCard(e))},t.prototype.keyupEvent=function(e){var t,n,i,o,s,u,p,m,g,v,y,w,C,j,S;if(t=this.$(".js-card-title"),(m=x(e))!==f.Tab&&m!==f.Enter){if(m===f.Escape)return b.stop(e),h.hide(),void t.focus();if(_(m))return b.stop(e),v=r(null!=(w=h.view)?w.el:void 0),void(h.view instanceof c?b.navMenuList(v.find(".js-members-list"),".item",m):h.view instanceof l?b.navMenuList(v,".js-select-label",m):h.view instanceof d&&v.find(".js-pos-results").length>0&&b.navMenuList(v.find(".js-pos-results"),"li",m));if(!a.isTouch()&&r(e.target).closest(".js-card-title").hasClass("js-card-title")){if(S=b.getWordFromCaret(t[0]),u=/^@\S/.test(S.str.substring(0,2)),s=/^\#\S/.test(S.str.substring(0,2)),p=/^\^\S/.test(S.str.substring(0,2)),C=S.str.substring(1).toLowerCase(),!(u||s||p))return this.model.set("title",this.$(".js-card-title").val()),h.hide();if(m===f.Shift||m===f.Alt||m===f.Control);else{if(u)return j=new c({model:this.model,modelCache:this.modelCache}),i=k.pluck(this.model.getBoard().memberList.filterDeactivated({force:!0}).models,"id"),(o=b.filterMembers(this.modelCache,C,i)).length>0?(j.populate(o,!0),h.show({elem:this.$(".js-cc-menu"),view:j}),t.focus(),n=r(j.el).find(".js-members-list .item:first"),b.selectMenuItem(r(j.el).find(".js-members-list"),".item",n)):h.hide();if(s)return j=new l({model:this.model,modelCache:this.modelCache}),(g=this.model.getBoard().filterLabels(C)).length>0?(j.populate(g),h.show({elem:this.$(".js-cc-menu"),view:j}),t.focus(),n=r(j.el).find(".edit-labels-pop-over .js-select-label:first"),b.selectMenuItem(r(j.el).find(".edit-labels-pop-over"),"li",n)):h.hide();if(p)return(y=(j=new d({model:this.model,modelCache:this.modelCache})).filterPos(C)).hasData?(j.populateResults(y),h.show({elem:this.$(".js-cc-menu"),view:j}),t.focus(),n=r(j.el).find(".js-pos-results li:first"),b.selectMenuItem(r(j.el).find(".js-pos-results"),"li",n)):h.hide()}}}},t.prototype.renderSelectedItems=function(){var e,t,n,r,i,o,a,s,l,c,d,u,p,m;for(i=this.model.get("idMembers"),r=!k.isEmpty(i),t=this.$(".js-list-card-composer-members").empty(),o=0,c=(p=this.modelCache.get("Member",i)).length;o<c;o++)u=p[o],t.append("<div class='member js-remove-member' idMember='"+u+"'>"+E(u.toJSON())+"</div>");for(l=this.model.get("labels"),n=!k.isEmpty(l),e=this.$(".js-list-card-composer-labels").empty(),a=0,d=(m=this.model.labelList.models).length;a<d;a++)s=m[a],k.isEmpty(s.get("color"))||e.append("<div class='card-label card-label-"+s.get("color")+" mod-card-front' title='"+C(s.get("name"))+"' >"+C(s.get("name"))+"</div>");this.$(".js-clear-all-items").toggle(n||r)},t.prototype.openMenu=function(e){var t,n,r,i,a,s,l,c;return b.stop(e),P("Card Composer","Open Selector Menu"),this.sendGASEvent&&o.sendClickedButtonEvent({buttonName:"cardComposerMenuButton",source:"inlineCardComposerInlineDialog",containers:{board:{id:null!=(t=this.model)&&null!=(n=t.getBoard())?n.id:void 0},list:{id:null!=(r=this.model)&&null!=(i=r.attributes)&&null!=(a=i.list)?a.id:void 0},organization:{id:null!=(s=this.model)&&null!=(l=s.getBoard())&&null!=(c=l.getOrganization())?c.id:void 0}}}),h.toggle({elem:e.target,view:new u({model:this.model,modelCache:this.modelCache})})},t.prototype.clearItems=function(e){return this.model.clearItems()},t.prototype.hide=function(e){this.model.save("vis",!1)},t.prototype.saveDraftAndHide=function(){return this.model.save("title",this.$(".js-card-title").val()),this.$(".js-card-title").val(""),this.hide()},t.prototype.clearAndHide=function(e){return this.$(".js-card-title").val(""),this.clearItems(),this.hide()},t.prototype.scrollIntoView=function(){var e;return e=this.$el.offset().top,this.$el.closest(".list-cards").scrollTop(e+this.$el.height())},t.prototype.getPlaceholder=function(){return j(["templates","card_composer_inline","enter-a-title-for-this-card-ellipsis"])},t}(y)},"./app/scripts/views/card-composer/composer-label-selector-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u={}.hasOwnProperty;r=n("./packages/jquery/index.js"),o=n("./app/scripts/lib/util/index.coffee"),a=n("./app/scripts/views/internal/view.coffee"),s=n("./node_modules/underscore/underscore.js"),c=n("./app/scripts/views/internal/templates.coffee"),d=n("./packages/analytics/index.ts").track,i=n("./packages/atlassian-analytics/index.ts").Analytics,l=n("./packages/feature-flag-client/index.ts").featureFlagClient,e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)u.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.viewTitleKey="select labels",t.prototype.tagName="ul",t.prototype.className="edit-labels-pop-over",t.prototype.events={"mouseenter .item":"hoverLabelSelect","click .card-label":"addOrRemoveLabel"},t.prototype.initialize=function(){return this.sendGASEvent=l.get("dataeng.gasv3-event-tracking",!1)},t.prototype.populate=function(e){this.populatedLabelList=e},t.prototype.render=function(){var e,t,r,i,a,l;return this,[],e=this.model.getLabels(),a=null!=(l=this.populatedLabelList)?l:this.model.getBoard().getLabels(),t={labels:function(){var t,n,o;for(o=[],t=0,n=a.length;t<n;t++)i=a[t],r=s.include(e,i),o.push({id:i.id,color:i.get("color"),name:i.get("name"),isActive:r});return o}()},this.$el.html(c.fill(n("./app/scripts/views/templates/select_labels.coffee"),t)),o.selectMenuItem(this.$(".edit-labels-pop-over"),".js-select-label",this.$(".js-select-label").first()),this},t.prototype.hoverLabelSelect=function(e){return o.selectMenuItem(this.$(".edit-labels-pop-over"),".js-select-label",r(e.target).closest(".js-select-label"))},t.prototype.addOrRemoveLabel=function(e){var t,n;o.stop(e),(t=r(e.target).closest(".js-select-label")).toggleClass("active"),n=t.attr("data-idlabel"),this.model.toggleLabel(this.modelCache.get("Label",n))?(d("Card Composer","Add Label"),this.sendGASEvent&&i.sendTrackEvent({action:"added",actionSubject:"label",source:"cardComposerLabelSelectorInlineDialog"})):(d("Card Composer","Remove Label"),this.sendGASEvent&&i.sendTrackEvent({action:"removed",actionSubject:"label",source:"cardComposerLabelSelectorInlineDialog"}))},t}(a)},"./app/scripts/views/card-composer/composer-member-selector-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p,m,f,h={}.hasOwnProperty;r=n("./packages/jquery/index.js"),p=n("./packages/keybindings/index.ts"),d=p.getKey,o=p.Key,a=n("./app/scripts/views/member/select-member-on-card-view.coffee"),s=n("./app/scripts/lib/util/index.coffee"),l=n("./app/scripts/views/internal/view.coffee"),c=n("./node_modules/underscore/underscore.js"),m=n("./app/scripts/views/internal/templates.coffee"),f=n("./packages/analytics/index.ts").track,u=n("./app/scripts/lib/localize.coffee"),i=n("./packages/atlassian-analytics/index.ts").Analytics,e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)h.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.viewTitleKey="select members",t.prototype.events={"mouseenter .item":"hoverMemberSelect","click .item":"addOrRemoveMember",keyup:"keyupEvent"},t.prototype.populate=function(e,t){return this.data={idMems:null!=e?e:c.pluck(this.model.getBoard().memberList.filterDeactivated({force:!0}).models,"id")},this.data.showSearch=!(this.data.idMems.length<=5||t)},t.prototype.render=function(){var e;return this,this.$el.html(m.fill(n("./app/scripts/views/templates/popover_member_searcher.coffee"),this.data)),this.fillMems(this.data.idMems),this.$(".js-filter-emoji").length>0&&this.setTimeout((e=this,function(){return e.$(".js-filter-emoji").focus().select()}),20),this.$(".js-filter-members").length>0&&this.setTimeout(function(e){return function(){return e.$(".js-filter-members").focus().select()}}(this),20),this},t.prototype.fillMems=function(e){var t,n,r,i,o,s;for((t=this.$(".js-members-list")).empty(),n=0,i=(s=e.slice(0,5)).length;n<i;n++)r=s[n],o=this.modelCache.get("Member",r),this.appendSubview(this.subview(a,o,{card:this.model}),t)},t.prototype.filterAndFillMembers=function(e){var t,n,r;n=c.pluck(this.model.getBoard().memberList.models,"id"),(r=s.filterMembers(this.modelCache,e,n)).length>0?(this.fillMems(r),t=this.$(".js-members-list .item:first"),s.selectMenuItem(this.$(".js-members-list"),".item",t)):this.$(".js-members-list").html('<li><p class="empty"></p></li>').find("p").text(u("no matched members"))},t.prototype.hoverMemberSelect=function(e){var t;return t=r(e.target).closest(".item"),s.selectMenuItem(this.$(".js-members-list"),".item",t)},t.prototype.keyupEvent=function(e){var t,n;n=d(e),t=r(".js-filter-members").val().trim().toLowerCase(),n===o.Tab||n===o.Enter?(s.stop(e),this.$(".js-members-list .item.selected:first .js-select-member").first().click()):n===o.ArrowUp||n===o.ArrowDown?(s.stop(e),s.navMenuList(this.$(".js-members-list"),".item",n)):this.filterAndFillMembers(t)},t.prototype.addOrRemoveMember=function(e){var t,n;s.stop(e),(n=r(e.target).closest(".item")).toggleClass("active"),n.find(".username").text(),t=n.find("[idMember]").attr("idMember"),this.model.toggle("idMembers",t)?(f("Card Composer","Add Member"),i.sendTrackEvent({action:"added",actionSubject:"member",source:"cardComposerMemberSelectorInlineDialog",attributes:{addedTo:"card"}})):(f("Card Composer","Remove Member"),i.sendTrackEvent({action:"removed",actionSubject:"member",source:"cardComposerMemberSelectorInlineDialog",attributes:{removedFrom:"card"}}))},t}(l)},"./app/scripts/views/card-composer/composer-pos-selector-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p,m={}.hasOwnProperty;r=n("./packages/jquery/index.js"),o=n("./app/scripts/views/lib/pop-over.coffee"),a=n("./app/scripts/lib/util/index.coffee"),s=n("./app/scripts/views/internal/view.coffee"),l=n("./node_modules/underscore/underscore.js"),u=n("./app/scripts/views/internal/templates.coffee"),p=n("./packages/analytics/index.ts").track,d=n("./app/scripts/lib/localize.coffee"),i=n("./packages/atlassian-analytics/index.ts").Analytics,c=n("./packages/feature-flag-client/index.ts").featureFlagClient,e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)m.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.viewTitleKey="select position",t.prototype.events={"change .js-select-list":"changeList","change .js-select-position":"changePosition","mouseenter .js-pos-results li":"hoverPosResultsSelect","click .js-select-pos-keyword":"selectPosResult","click .js-select-pos-pos":"selectPosResult","click .js-select-pos-list":"selectPosResult"},t.prototype.initialize=function(){var e,t,n,r,o,a,s;if(this.sendGASEvent=c.get("dataeng.gasv3-event-tracking",!1),this.sendGASEvent)return i.sendScreenEvent({name:"cardComposerPositionSelectorInlineDialog",containers:{list:{id:null!=(e=this.model)&&null!=(t=e.getList())?t.id:void 0},board:{id:null!=(n=this.model)&&null!=(r=n.getBoard())?r.id:void 0},organization:{id:null!=(o=this.model)&&null!=(a=o.getBoard())&&null!=(s=a.getOrganization())?s.id:void 0}}})},t.prototype.populateResults=function(e){return this.data={filtered:!0,keywordList:e.keywordList.map((t=this,function(e){return{value:e,indexString:e,listName:t.model.get("list").get("name")}})),indexList:e.indexList.map(function(e){return function(t){return{value:t,indexString:String(t),listName:e.model.get("list").get("name")}}}(this)),listList:e.listList.map(function(e){return function(t){return{value:t.get("id"),indexString:String(e.model.get("index")+1),listName:t.get("name")}}}(this))};var t},t.prototype.render=function(){var e;return this.data?this.$el.html(u.fill(n("./app/scripts/views/templates/popover_filter_pos_results.coffee"),this.data)):(e={hideBoard:!0},this.$el.html(u.fill(n("./app/scripts/views/templates/move_card_controls.coffee"),e)),this.updateListList()),this},t.prototype.hoverPosResultsSelect=function(e){var t;return t=r(e.target).closest("li"),a.selectMenuItem(this.$(".js-pos-results"),"li",t)},t.prototype.selectPosResult=function(e){var t,n,s,l,c,d,u,m,f,h,g,v,b,y,k,w,x,C,_;a.stop(e),_=(l=r(e.target).closest("a")).attr("name"),t=(n=this.model.getList().openCards().length)+1,l.hasClass("js-select-pos-keyword")?"top"===_?(this.model.set("index",0),p("Card Composer","Select Position in List by Autocomplete",'Top of List - Used "Top"')):"bottom"===_&&(this.model.set("index",t),p("Card Composer","Select Position in List by Autocomplete",'Bottom of List - Used "Bottom"')):l.hasClass("js-select-pos-pos")?(this.model.set("index",parseInt(_,10)-1),p("Card Composer","Select Position in List by Autocomplete","Selected Position - Used Number")):l.hasClass("js-select-pos-list")&&(s=n===this.model.get("pos"),this.model.set("list",this.model.getBoard().getList(_)),s?(this.model.set("index",n),p("Card Composer","Select List by Autocomplete","Bottom")):p("Card Composer","Select List by Autocomplete","Not Bottom"),this.sendGASEvent&&i.sendUIEvent({action:"selected",actionSubject:"list",actionSubjectId:"cardComposerList",source:"cardComposerPositionSelectorInlineDialog",attributes:{isAtTopofList:"top"===_,isAtBottomOfList:"top"===_},containers:{list:{id:null!=(c=this.model)&&null!=(d=c.getList())?d.id:void 0},board:{id:null!=(g=this.model)&&null!=(v=g.getBoard())?v.id:void 0},organization:{id:null!=(b=this.model)&&null!=(y=b.getBoard())&&null!=(k=y.getOrganization())?k.id:void 0}}})),(l.hasClass("js-select-pos-keyword")||l.hasClass("js-select-pos-pos"))&&this.sendGASEvent&&i.sendUIEvent({action:"selected",actionSubject:"position",actionSubjectId:"cardComposerPosition",source:"cardComposerPositionSelectorInlineDialog",attributes:{isAtTopofList:"top"===_,isAtBottomOfList:"top"===_},containers:{list:{id:null!=(w=this.model)&&null!=(x=w.getList())?x.id:void 0},board:{id:null!=(C=this.model)&&null!=(u=C.getBoard())?u.id:void 0},organization:{id:null!=(m=this.model)&&null!=(f=m.getBoard())&&null!=(h=f.getOrganization())?h.id:void 0}}}),o.hide()},t.prototype.filterPos=function(e){var t,n,r,i,o,s,c,d,u,p,m;for(m=RegExp("^"+a.escapeForRegex(e)),d=RegExp("^"+a.escapeForRegex(e)+"$"),t=this.model.getList().openCards(),n={keywordList:function(){var e,t,n,r;for(r=[],e=0,t=(n=["top","bottom"]).length;e<t;e++)o=n[e],m.test(o)&&r.push(o);return r}(),indexList:function(){var e,n,i;for(i=[],r=e=1,n=t.length+1;1<=n?e<=n:e>=n;r=1<=n?++e:--e)d.test(String(r))&&i.push(r);return i}(),listList:[]},i=0,s=(u=this.model.getBoard().listList.models).length;i<s;i++)c=u[i],p=l.compact(c.get("name").toLowerCase().split(/\s+/)),l.find(p,(function(e){return m.test(e)}))&&n.listList.push(c);return n.hasData=!l.isEmpty(n.keywordList)||!l.isEmpty(n.indexList)||!l.isEmpty(n.listList),n},t.prototype.updateListList=function(){var e,t,n,i,o,a,s,c,u,p;for(o=(c=this.model.getList()).id,n=this.model.getBoard(),(t=this.$(".js-select-list")).empty(),a=0,s=(p=l.sortBy(n.listList.models,(function(e){return e.get("pos")}))).length;a<s;a++)u=(c=p[a]).get("name"),i=c.id===o?d("selected list",{listName:u}):u,e=r("<option>").val(c.id).text(i),t.append(e),c.id===o&&(e.attr("selected","selected"),this.$(".js-list-value").text(u));return this.updatePositionList()},t.prototype.updatePositionList=function(){var e,t,n,i,o,a,s,l,c,d;if(t=this.$(".js-select-list"),n=this.$(".js-select-position"),s=t.find("option:selected").val(),n.empty(),c=this.model.getList(),this.model.getBoard().listList.get(s),i=c.cardList,this.model.get("index")>i.length&&this.model.set("index",i.length),0===i.length)return e=r("<option>").val("0").text("1").appendTo(n),void this.$(".js-pos-value").text("1");for(a=l=0,d=i.length;0<=d?l<=d:l>=d;a=0<=d?++l:--l)o=String(a+1),e=r("<option>").val(a).text(o).appendTo(n),a===this.model.get("index")&&e.attr("selected","selected");this.$(".js-pos-value").text(this.model.get("index").toString())},t.prototype.changeList=function(){var e,t,n,r,a,s,l,c,d,u,m,f,h,g,v;t=this.model.get("index"),n=this.model.getList().openCards().length===t,r=null!=(l=this.model)&&null!=(c=l.getList())?c.id:void 0,e=this.$(".js-select-list").find("option:selected").val(),s=this.model.getBoard().getList(e),this.model.set("list",s),a=s.openCards().length,n?(this.model.set("index",a),p("Card Composer","Change Position by Click","Change List - Bottom")):(this.model.set("index",Math.min(a,t)),p("Card Composer","Change Position by Click","Change List - Not Bottom")),this.sendGASEvent&&i.sendUIEvent({action:"moved",actionSubject:"cardComposer",source:"cardComposerPositionSelectorInlineDialog",attributes:{isAtBottomOfList:n,listSourceId:r},containers:{list:{id:null!=(d=this.model)&&null!=(u=d.getList())?u.id:void 0},board:{id:null!=(m=this.model)&&null!=(f=m.getBoard())?f.id:void 0},organization:{id:null!=(h=this.model)&&null!=(g=h.getBoard())&&null!=(v=g.getOrganization())?v.id:void 0}}}),o.hide()},t.prototype.changePosition=function(){var e,t,n,r,a,s,l,c,d;e=this.$(".js-select-position"),t=parseInt(e.find("option:selected").val(),10),this.model.set("index",t),p("Card Composer","Change Position by Click","Change Position in List"),this.sendGASEvent&&i.sendUIEvent({action:"moved",actionSubject:"cardComposer",source:"cardComposerPositionSelectorInlineDialog",attributes:{posSelected:t},containers:{list:{id:null!=(n=this.model)&&null!=(r=n.getList())?r.id:void 0},board:{id:null!=(a=this.model)&&null!=(s=a.getBoard())?s.id:void 0},organization:{id:null!=(l=this.model)&&null!=(c=l.getBoard())&&null!=(d=c.getOrganization())?d.id:void 0}}}),o.hide()},t}(s)},"./app/scripts/views/card-composer/composer-selector-menu-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u={}.hasOwnProperty;r=n("./packages/atlassian-analytics/index.ts").Analytics,i=n("./app/scripts/views/label/card-label-select-view.coffee"),o=n("./app/scripts/views/card/card-member-select-view.coffee"),a=n("./app/scripts/views/card-composer/composer-pos-selector-view.coffee"),s=n("./app/scripts/views/lib/pop-over.coffee"),l=n("./app/scripts/lib/util/index.coffee"),c=n("./app/scripts/views/internal/view.coffee"),n("./app/scripts/views/internal/templates.coffee"),d=n("./app/scripts/views/templates/popover_selector_menu.coffee"),n("./packages/feature-flag-client/index.ts").featureFlagClient,e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)u.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.viewTitleKey="options",t.prototype.events={"click .js-mem-selector":"openMemSelector","click .js-label-selector":"openLabelSelector","click .js-pos-selector":"openPosSelector"},t.prototype.initialize=function(){var e,t,n,i,o,a,s,l;if(this.sendGASEvent)return r.sendScreenEvent({name:"cardComposerMenuInlineDialog",containers:{board:{id:null!=(e=this.model)&&null!=(t=e.getBoard())?t.id:void 0},list:{id:null!=(n=this.model)&&null!=(i=n.attributes)&&null!=(o=i.list)?o.id:void 0},organization:{id:null!=(a=this.model)&&null!=(s=a.getBoard())&&null!=(l=s.getOrganization())?l.id:void 0}}})},t.prototype.render=function(){return this,this.$el.html(d({isTemplate:this.model.board.isTemplate()})),this},t.prototype.openMemSelector=function(e){return l.stop(e),s.pushView({view:o,options:{model:this.model,modelCache:this.modelCache}})},t.prototype.openLabelSelector=function(e){return l.stop(e),s.pushView({view:i,options:{model:this.model,modelCache:this.modelCache,hideOnSelect:!1}})},t.prototype.openPosSelector=function(e){return l.stop(e),s.pushView({view:a,options:{model:this.model,modelCache:this.modelCache}})},t}(c)},"./app/scripts/views/card/SeparatorCard/SeparatorCard.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/scripts/views/card/SeparatorCard/SeparatorCard.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./app/scripts/views/card/SeparatorCard/SeparatorCard.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"SeparatorType",(function(){return p})),n.d(t,"SeparatorNumCharacters",(function(){return m})),n.d(t,"getSeparator",(function(){return v})),n.d(t,"trackSeparator",(function(){return b})),n.d(t,"getSeparatorClassName",(function(){return y}));var r=n("./packages/analytics/index.ts"),i=n("./packages/feature-flag-client/index.ts"),o=n("./node_modules/classnames/index.js"),a=n.n(o),s=n("./app/scripts/views/card/SeparatorCard/SeparatorCard.less"),l=n.n(s),c=n("./packages/atlassian-analytics/index.ts");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p,m,f=new Set(["-","_","=","*","#","/","\\","<",">"]);function h(e){return f.has(e)}function g(e,t){var n=e.startsWith(t),r=e.endsWith(t),i=e.startsWith(t.repeat(3)),o=e.endsWith(t.repeat(3)),a=/^(.)\1*$/.test(e);switch(!0){case n&&a:return{character:t,type:p.SeparatorOnly,numCharacters:i?m.ThreeOrMore:m.TwoOrFewer};case n&&r:return{character:t,type:p.SeparatorTitle,numCharacters:i&&o?m.ThreeOrMore:m.TwoOrFewer};case n:return{character:t,type:p.SeparatorStartTitle,numCharacters:i?m.ThreeOrMore:m.TwoOrFewer};case r:return{character:t,type:p.SeparatorEndTitle,numCharacters:o?m.ThreeOrMore:m.TwoOrFewer};default:return null}}function v(e){if(!e)return null;var t=/^[-]+$/.test(e)?e.replace(//g,"--"):e,n=t.charAt(0),r=t.charAt(t.length-1),i=null,o=null;return h(n)&&(i=g(t,n)),h(r)&&(o=g(t,r)),i||o}function b(e,t){if(i.featureFlagClient.get("remarkable.track-potential-separator-cards",!1)){var n=v(e);if(n&&h(n.character)){var o=n.type,a=n.character,s=n.numCharacters,l="with ".concat(s,' "').concat(a,'" characters and ').concat(o," type");Object(r.trackUe)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({verb:r.Verb.SETS,directObj:r.Noun.SEPARATOR_TITLE,indirectObj:"on card",prepositionalObj:l},t)),c.Analytics.sendTrackEvent({action:"updated",actionSubject:"name",source:"inlineCardComposerInlineDialog",attributes:{updatedOn:"card",isSeparator:!0,numCharacters:s,character:a,type:o}})}}}function y(e){if(!i.featureFlagClient.get("remarkable.separator-cards",!1))return null;var t=v(e);if(!t)return null;var n=t.type,r=t.character,o=t.numCharacters;return n!==p.SeparatorOnly||o!==m.ThreeOrMore||"-"!==r&&"_"!==r?null:a()(l.a.separatorCard,l.a.singleHorizontalLine)}!function(e){e.SeparatorOnly="separator only",e.SeparatorTitle="separator with title",e.SeparatorStartTitle="starting separator with title",e.SeparatorEndTitle="ending separator with title"}(p||(p={})),function(e){e.ThreeOrMore="three or more",e.TwoOrFewer="two or fewer"}(m||(m={}))},"./app/scripts/views/card/attach-links-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p,m,f={}.hasOwnProperty;r=n("./packages/jquery/index.js"),i=n("./app/scripts/views/lib/alerts.coffee"),o=n("./app/scripts/views/attachment/attachment-limit-exceeded-error.coffee"),l=n("./app/scripts/views/templates/popover_limit_exceeded.coffee"),c=n("./node_modules/url-parse/index.js"),a=n("./node_modules/bluebird/js/browser/bluebird.js"),n("./app/scripts/views/lib/pop-over.coffee"),n("./app/scripts/lib/util/index.coffee"),s=n("./app/scripts/views/internal/view.coffee"),u=n("./app/scripts/views/templates/card_attach_links.coffee"),m=n("./node_modules/xtend/immutable.js"),d=n("./packages/analytics/index.ts"),p=d.track,d.trackUe,e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)f.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.initialize=function(e){var t;return t=e.links,this.links=t,this.listenTo(this.model.attachmentList,"add remove reset",this.render)},t.prototype.viewTitleKey="attach links",t.prototype.events={"click .js-attach:not([disabled])":"attach"},t.prototype.render=function(){var e,t;return this.model.canAttach()?(e=function(){var e,n,r,i;for(i=[],e=0,n=(r=this.links).length;e<n;e++)t=r[e],i.push(m(t,{domain:c(t.url).host,attached:this.model.attachmentList.any((function(e){return e.get("url")===t.url}))}));return i}.call(this),this.$el.html(u(e)),this):(this.model.isOverLimit("attachments","perCard")?this.$el.html(l("perCard")):this.model.getBoard().isOverLimit("attachments","perBoard")&&this.$el.html(l("perBoard")),this)},t.prototype.attach=function(e){var t,n,s,l;return t=r(e.currentTarget),s=t.attr("data-url"),n=t.attr("data-text"),t.attr("disabled","disabled"),a.fromNode((l=this,function(e){return l.model.uploadUrl({url:s,name:n},e)})).then((function(){return p("Attachment","Upload link")})).catch(o,(function(){return i.show("unable to attach link","error","linkattachment",5e3)}))},t}(s)},"./app/scripts/views/card/attachment-type-picker-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p,m,f,h,g,v,b,y,k,w,x,C,_,j,S,O,E,N,T,P,B,D,I,A,L,M=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},F={}.hasOwnProperty;r=n("./packages/jquery/index.js"),i=n("./app/scripts/views/lib/alerts.coffee"),n("./app/scripts/network/api-promise.coffee"),o=n("./app/scripts/db/auth.coffee"),a=n("./app/scripts/models/board.coffee"),P=n("./packages/config/index.ts"),k=P.boxClientId,C=P.dropboxClientAppKey,E=P.oneDriveClientId,D=P.siteDomain,s=n("./app/scripts/models/card.coffee"),c=n("./app/scripts/lib/google-api.coffee"),d=n("./app/scripts/views/attachment/attachment-limit-exceeded-error.coffee"),h=n("./app/scripts/views/attachment/attachment-type-restricted-error.coffee"),S=n("./app/scripts/views/templates/popover_limit_exceeded.coffee"),j=n("./packages/keybindings/index.ts").isSubmitEvent,u=n("./app/scripts/views/lib/pop-over.coffee"),p=n("./node_modules/bluebird/js/browser/bluebird.js"),f=n("./app/scripts/views/internal/autocomplete/trello-completer-view.coffee"),g=n("./app/scripts/views/card/uploading-link-view.coffee"),v=n("./app/scripts/lib/util/index.coffee"),b=n("./app/scripts/views/internal/view.coffee"),y=n("./node_modules/underscore/underscore.js"),I=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("attachment_type_picker"),B=n("./packages/analytics/index.ts"),L=B.track,B.trackUe,n("./app/scripts/lib/localize.coffee"),O=n("./app/scripts/lib/util/ninvoke.coffee"),_=n("./node_modules/effing/lib/index.js"),w=n("./node_modules/@atlassian/trello-error-ext/lib/create-custom.js"),T=n("./app/scripts/views/internal/pasted-file-name.coffee"),N=n("./app/scripts/lib/util/url/parse-trello-url.coffee"),x=n("./packages/config/index.ts").dontUpsell,m=n("./app/scripts/views/lib/tooltip.coffee"),l=w("AttachmentTypePickerView::FileTooLarge"),A=I.renderable((function(e){var t,n,r,i,o,a,s;r=e.hasLargeAttachments,i=e.id,n=e.googleDriveReady,s=e.tipKey,a=e.tipData,t=e.defaultName,o=e.restrictedAttachmentTypes,null==s&&(s="tip-you-can-drag-and-drop-files-and-links-onto-cards-to-upload-them"),null==a&&(a={}),I.div(".error.js-file-too-large",{style:"margin: 12px 0 6px; display:none;"},(function(){r?I.format("that-file-size-exceeds-the-250mb-limit"):x?I.div(".gold-promo",(function(){I.format("that-file-size-exceeds-the-10mb-limit")})):I.div(".gold-promo",(function(){I.format("that-file-size-exceeds-the-10mb-limit-but-if-you-upgrade-to"),I.icon("trello-gold","trello-gold-you-can-upload-files-up-to-250mb")}))})),I.ul(".pop-over-list",(function(){M.call(o,"computer")>=0?I.li((function(){return I.a(".disabled.js-attachment-restricted",{href:"#"},(function(){return I.format("computer")}))})):I.li(".uploader",(function(){return I.a(".fakefile",{href:"#"},(function(){return I.format("computer")})),I.form(".realfile",{action:"/1/card/"+i+"/attachments",method:"post",enctype:"multipart/form-data"},(function(){return I.input({type:"hidden",name:"token",value:""}),I.input({type:"hidden",name:"format",value:"http"}),I.input(".js-attach-file",{type:"file",name:"file",tabindex:"-1",multiple:""})}))})),I.li((function(){return I.a(".js-attach-card",{href:"#"},(function(){return I.format("trello")})),I.li((function(){return I.a(".js-google-drive-attachment",{href:"#",class:I.classify({disabled:!n||M.call(o,"google-drive")>=0,"js-attachment-restricted":M.call(o,"google-drive")>=0})},(function(){return I.format("google-drive")}))})),I.li((function(){return I.a(".js-dropbox-attachment",{href:"#",class:I.classify({"disabled js-attachment-restricted":M.call(o,"dropbox")>=0})},(function(){return I.format("dropbox")}))})),I.li((function(){return I.a(".js-box-attachment",{href:"#",class:I.classify({"disabled js-attachment-restricted":M.call(o,"box")>=0})},(function(){return I.format("box")}))})),I.li((function(){return I.a(".js-one-drive-attachment",{href:"#",class:I.classify({"disabled js-attachment-restricted":M.call(o,"onedrive")>=0})},(function(){return I.format("onedrive")}))}))}))})),I.hr(),M.call(o,"link")>=0?I.ul(".pop-over-list",(function(){return I.li((function(){return I.a(".disabled.js-attachment-restricted",(function(){return I.format("attach-a-link")}))}))})):(I.label({for:"addLink"},(function(){I.format("attach-a-link")})),I.input(".attachment-add-link-input.js-attachment-url.js-autofocus",{type:"text",id:"addLink",placeholder:I.l("paste-any-link-here-ellipsis")}),I.div(".js-name-link.hide",(function(){return I.label({for:"nameLink"},(function(){I.format("link-name")})),I.input(".attachment-add-link-input.js-attachment-name",{type:"text",id:"nameLink",value:t})})),I.input(".js-add-attachment-url",{style:"margin: 0;",type:"submit",value:I.l("attach")})),I.hr(),I.p(".quiet.u-bottom",(function(){I.format(s,a)}))})),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)F.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.viewTitleKey="attach from",t.prototype.initialize=function(){return this.listenTo(c,"loaded",this.render)},t.prototype.events={"click .js-google-drive-attachment:not(.disabled)":"openGoogleDriveFilePicker","click .js-dropbox-attachment:not(.disabled)":"openDropboxFilePicker","click .js-one-drive-attachment:not(.disabled)":"openOneDriveFilePicker","click .js-box-attachment:not(.disabled)":"openBoxFilePicker","click .js-attach-card":"attachCard","change .js-attach-file":"startUpload","click .js-add-attachment-url":"addUrl","keydown .js-attachment-url":"keydown","keydown .js-attachment-name":"keydown","input .js-attachment-url":"toggleAttachmentNameInput","mouseenter .js-attachment-restricted":"showRestrictedTooltip","mouseleave .js-attachment-restricted":"hideRestrictedTooltip",'click a[href^="/gold"]':function(){return L("Attachment","Open Trello Gold Promo - via Attachment Upload Limit")},'click a[href^="/business-class"]':function(){return L("Card Detail","Attachments BC Ad")}},t.prototype._scripts={dropbox:"https://www.dropbox.com/static/api/1/dropbox.js",box:"https://app.box.com/js/static/select.js",oneDrive:"https://js.live.net/v7.0/OneDrive.js"},t.prototype.getCard=function(){return this.model instanceof s?this.model:this.model.getCard()},t.prototype.getData=function(){var e,t,n;for(e in t=this._scripts)n=t[e],this._loadOnce(n,(function(){}))},t.prototype.render=function(){var e,t,n,r,i;return this.getCard().canAttach()?(t=null!=(n=this.getCard().getBoard())?n.getOrganization():void 0,e={id:this.getCard().id,hasLargeAttachments:(null!=(r=o.me())?r.isFeatureEnabled("largeAttachments"):void 0)||(null!=t?t.isFeatureEnabled("largeAttachments"):void 0),googleDriveReady:c.loaded,defaultName:this.options.defaultName,restrictedAttachmentTypes:(null!=(i=this.getCard().getBoard())?i.getRestrictedAttachmentTypes():void 0)||[]},null!=t&&t.isFeatureEnabled("plugins")||(e.tipKey="tip-you-can-attach-other-things-with-power-ups",e.tipData={url:"/power-ups?utm_source=trello&utm_medium=inapp&utm_content=attachments-menu&utm_campaign=power-ups"}),this.$el.html(A(e)),this):(this.getCard().isOverLimit("attachments","perCard")?this.$el.html(S("perCard")):this.getCard().getBoard().isOverLimit("attachments","perBoard")&&this.$el.html(S("perBoard")),this)},t.prototype.startUpload=function(e){var t,n,a,s,c;return t=r(e.target),n=this.$(".js-file-too-large").hide(),a=y.toArray(t[0].files),(s=this.options).onStartUpload&&s.onStartUpload(),(a.length>0?y.any(a,(function(e){return!o.me().canUploadAttachment(e)}))?p.reject(l()):p.resolve(a).each((c=this,function(e){var t;return t=e.name||T(),O(c.getCard(),"upload",e,t).then((function(e){return c.trigger("attach",{mimeType:e.mimeType,name:c.options.defaultName||t,url:e.url})}))})):O(v,"uploadFile",o.myToken(),t)).then((function(){if(L("Card Detail","Upload Attachment Complete - Via Picker"),i.show("finished uploading","info","AjaxQueueUpload",2e3),u.hide(),s.onFinishUpload)return s.onFinishUpload()})).catch(l,(function(){return n.show(),L("Card Detail","Attachment","Upload Error - File Too Large")})).catch(d,function(e){return function(){return e.render(),L("Card Detail","Attachment","Upload Error - Limit Exceeded")}}(this)).catch(h,(function(){return u.hide(),s.onFinishUpload&&s.onFinishUpload(),i.show("attachment upload restricted","error","attachment",5e3),L("Card Detail","Attachment","Upload Error - Upload Restricted by Enterprise")})).done()},t.prototype._loadOnce=function(e,t){return null==window._loadedScripts&&(window._loadedScripts={}),window._loadedScripts[e]?t():r.getScript(e,(function(){return window._loadedScripts[e]=!0,t()}))},t.prototype.attachLinks=function(e,t,n){var r;if(t)return this.$(".js-limit-exceeded").toggleClass("hide",!0),this.options.onStartUpload&&this.options.onStartUpload(this.model,e),u.pushView({view:g}),p.resolve(t).call("map",null!=n?n:function(e){return e}).each((r=this,function(t){var n;return n=y.pick(t,"url","mimeType","name"),r.trigger("attach",n),p.fromNode((function(e){return r.getCard().uploadUrl(n,e)})).then((function(t){return L("Card Detail","Upload "+e)}))})).then((function(){return u.hide()})).catch(d,function(e){return function(){return u.popView(),e.render(),L("Card Detail","Attachment","Upload Error - Limit Exceeded")}}(this)).catch(h,(function(){return i.show("link type restricted","error","attachment",5e3),u.hide()})).finally(function(t){return function(){return t.options.onFinishUpload&&t.options.onFinishUpload(t.model,e)}}(this)).done()},t.prototype.openGoogleDriveFilePicker=function(e){return v.stop(e),O(gapi,"load","picker").then((function(){var e;return e=c.validToken(),O(c,"authorize",e)})).then((t=this,function(e){var n,i;return(n=new google.picker.DocsView).setIncludeFolders(!0),(i=new google.picker.DocsView).setIncludeFolders(!0),i.setSelectFolderEnabled(!0),i.setEnableTeamDrives(!0),(new google.picker.PickerBuilder).enableFeature(google.picker.Feature.MULTISELECT_ENABLED).enableFeature(google.picker.Feature.SUPPORT_TEAM_DRIVES).addView(n).addView(i).setOAuthToken(e).setCallback((function(e){return t.attachLinks("Google drive file",e.docs,_.id)})).build().setVisible(!0),r("iframe.picker-frame[src*=authserviceid]").attr("src",(function(){return r(this).attr("src").replace(/authserviceid/g,"fixgoogle")}))})).done();var t},t.prototype.openDropboxFilePicker=function(e){var t;v.stop(e),this._loadOnce(this._scripts.dropbox,(t=this,function(){Dropbox.init({appKey:C}),Dropbox.choose({linkType:"preview",iframe:!0,success:function(e){return t.attachLinks("Dropbox file",e,(function(e){return{url:e.link,name:e.name}}))}}),r('iframe[src^="https://www.dropbox.com/chooser"]').parent().css("overflow","auto")}))},t.prototype.openOneDriveFilePicker=function(e){var t;v.stop(e),this._loadOnce(this._scripts.oneDrive,(t=this,function(){p.try((function(){return new p((function(e,t){return window.OneDrive.open({clientId:E,action:"share",multiSelect:!0,openInNewWindow:!0,success:function(t){return e(t.value)},cancel:function(){return e([])},error:function(e){return t(e)},advanced:{redirectUri:D+"/onedrive_callback_7.html"}})}))})).then((function(e){return t.attachLinks("OneDrive file",e,(function(e){return{url:e.webUrl,name:e.name}}))})).done()}))},t.prototype.openBoxFilePicker=function(e){return v.stop(e),this._loadOnce(this._scripts.box,(t=this,function(){var e,n;return e=new BoxSelect({clientId:k,linkType:"shared",multiselect:!0}),n=function(r){return e.unregister(e.SUCCESS_EVENT_TYPE,n),t.attachLinks("Box file",r,_.id)},e.success(n),e.launchPopup()}));var t},t.prototype.keydown=function(e){if(j(e))return this.addUrl()},t.prototype.addUrl=function(e){var t,n;n=this.$(".js-attachment-url").val().split(/\s+/),t=this.$(".js-attachment-name").val(),/\S/.test(t)||(t=void 0),n=y.filter(n,(function(e){return/\S/.test(e)})),!y.isEmpty(n)&&n.length<10&&this.attachLinks("link",n,(function(e){return{url:e,name:t}}))},t.prototype.attachCard=function(e){var t,n;return t=new f({model:this.model,card:this.model,modelCache:this.modelCache,button:!0,onStartUpload:(n=this,function(e){var t;return e instanceof s?(t=e.get("url"),n.attachLinks("card",[{url:t}])):e instanceof a?(t=e.get("url"),n.attachLinks("board",[{url:t}])):void 0})}),u.pushView({view:t})},t.prototype.toggleAttachmentNameInput=function(e){var t,n,i,o;return o=r(e.currentTarget).val(),n="board"===(i=N(o).type)||"card"===i,t=!/\S/.test(o),this.$(".js-name-link").toggleClass("hide",n||t)},t.prototype.showRestrictedTooltip=function(e){var t;return t=this.$(e.target),m.show(I.l("attachment-type-restricted"),t,!1,m.STYLE.MENU)},t.prototype.hideRestrictedTooltip=function(){return m.hide()},t}(b)},"./app/scripts/views/card/card-copy-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p,m,f,h,g,v,b,y,k,w,x,C={}.hasOwnProperty;r=n("./app/scripts/views/lib/alerts.coffee"),o=n("./app/scripts/db/auth.coffee"),n("./app/scripts/controller/index.js"),k=n("./packages/keybindings/index.ts"),v=k.getKey,s=k.Key,c=n("./app/scripts/db/model-loader.coffee"),d=n("./app/scripts/views/lib/pop-over.coffee"),y=n("./app/scripts/views/card/card-limits-error.coffee").maybeDisplayLimitsErrorOnCardAdd,b=n("./app/scripts/lib/localize.coffee"),l=n("./app/scripts/views/label/label-limits-error-view.coffee"),u=n("./app/scripts/views/card/select-card-position.coffee"),p=n("./app/scripts/lib/util/index.coffee"),m=n("./app/scripts/views/internal/view.coffee"),w=n("./app/scripts/views/internal/templates.coffee"),x=n("./packages/analytics/index.ts").track,i=n("./packages/atlassian-analytics/index.ts").Analytics,g=n("./packages/feature-flag-client/index.ts").featureFlagClient,n("./node_modules/url-parse/index.js"),h=n("./node_modules/effing/lib/index.js"),f=n("./node_modules/underscore/underscore.js"),a=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)C.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.viewTitleKey="copy card",t.prototype.initialize=function(e){var t;return this.onCopy=null!=(t=e.onCopy)?t:function(){}},t.prototype.showCurrentPosition=!0,t.prototype.events={"change .js-select-position":"renderValues","change .js-select-list":"updatePositionList","change .js-select-board":"updateBoardData",'keydown textarea[name="name"]':"keydownEvent","click .js-submit":"submit","submit form":"submit"},t.prototype.render=function(){var e,t,r,i,a,s,l,c,d,u,p,m,h,g;for((r=this.model.toJSON()).numChecklists=this.model.checklistList.length,r.numMembers=r.idMembers.length,r.numLabels=null!=(u=null!=(p=r.idLabels)?p.length:void 0)?u:0,r.numAttachments=r.badges.attachments,r.numComments=r.badges.comments,r.numStickers=r.stickers.length,r.hasChecklists=r.numChecklists>0,r.hasMembers=r.idMembers.length>0,r.hasLabels=r.numLabels>0,r.hasAttachments=r.badges.attachments>0,r.hasStickers=r.stickers.length>0,r.hasComments=r.badges.comments>0&&!this.model.getBoard().isTemplate(),r.hasStuff=r.hasChecklists||r.hasMembers||r.hasLabels||r.hasAttachments||r.hasComments||r.hasStickers,r.loading=this.loading,t=this.model.getBoard(),i=this.model.getBoard().getEnterprise(),t.isGuest(o.me())&&t.get("enterpriseOwned")?(r.isCopy=!0,r.hasEnterprise=!0,r.enterpriseName=null!=i?i.get("displayName"):void 0,r.restrictToCurrentBoard=!0,r.organizations=[{displayName:(null!=(m=t.getOrganization())?m.get("displayName"):void 0)||b("member boards.boards"),boards:[f.extend(t.toJSON(),{selected:!0})]}]):null!=i?(r.isCopy=!0,r.hasEnterprise=null!=i,t=null==this.model.getBoard().getMembershipFor(o.me())?t:null,r.organizations=o.me().getOpenBoardsInEnterpriseByOrg(!0,i.get("id"),t),r.enterpriseName=i.get("displayName")):(t=this.model.getBoard().isEditableByTeamMemberAndIsNotABoardMember()?t:null,r.organizations=o.me().getOpenBoardsByOrg(!0,t)),a=0,l=(h=r.organizations).length;a<l;a++)for(s=0,c=(g=h[a].boards).length;s<c;s++)(e=g[s]).id===this.model.get("idBoard")&&(e.selected=!0);return d={move_card_controls:w.move_card_controls},this.$el.html(w.fill(n("./app/scripts/views/templates/card_copy.coffee"),r,{editable:this.model.editable()},d)),this.updateBoardData(),this},t.prototype.getData=function(){return this.loading=!0,Promise.all([c.loadCardCopyData(this.model.get("idBoard"),this.model.id),c.loadBoardMinimal(this.model.get("idBoard"))]).finally((e=this,function(){return e.loading=!1,e.render()}));var e},t.prototype.keydownEvent=function(e){v(e)===s.Enter&&(p.stop(e),this.submit(e))},t.prototype.submit=function(e){var t,n,o,a,s,c,u,m,v,b;(p.stop(e),""!==(u=this.$('textarea[name="name"]')).val().trim())?(a=this.$(".js-select-list").find("option:selected").val(),o=this.$(".js-select-board").find("option:selected").val(),s=null!=(t=this.modelCache.get("Board",o))?t.listList.get(a):void 0,v={$elem:this.$(e.target),hasChecklists:this.model.checklistList.length>0,hasAttachments:this.model.attachmentList.length>0,destinationBoard:t,destinationList:s},y(v)||(c=["due"],m=this.$("input:checkbox:checked").get().map(h.get("name")),n=c.concat(m),o!==this.model.getBoard().id&&(this.model.getLabels().length>0&&f.contains(n,"labels"))&&t.isOverLimit("labels","perBoard")?d.pushView(new l):(this.$(".js-submit").attr("disabled","disabled"),this.model.copyTo({name:u.val().trim(),idList:a,pos:this.$(".js-select-position").find("option:selected").val(),keepFromSource:n}).then((b=this,function(){if(d.hide(),b.onCopy(),x("Card","Copy Card"),g.get("dataeng.gasv3-event-tracking",!1))return i.sendTrackEvent({action:"copied",actionSubject:"card",source:"copyCardInlineDialog",containers:{card:{id:b.model.id},board:{id:b.model.getBoard().id}},attributes:{isCardTemplate:!!b.model.get("isTemplate"),isBoardTemplate:b.model.getBoard().isTemplate()}})})).catch(function(e){return function(t){if(d.hide(),r.flash("could not copy card","error","create error"),g.get("dataeng.gasv3-event-tracking",!1))return i.sendOperationalEvent({action:"failed",actionSubject:"cardCopy",source:"copyCardInlineDialog",containers:{card:{id:e.model.id},board:{id:e.model.getBoard().id}},attributes:{isCardTemplate:!!e.model.get("isTemplate"),isBoardTemplate:e.model.getBoard().isTemplate()}})}}(this))))):u.focus().select()},t}(m),f.extend(a.prototype,u),e.exports=a},"./app/scripts/views/card/card-limits-error.coffee":function(e,t,n){var r,i,o,a;n("./packages/jquery/index.js"),i=n("./app/scripts/views/lib/limit-error-popover.coffee"),r=function(e){var t,n;return e.hasChecklists,e.hasAttachments,t=e.destinationBoard,n=e.destinationList,!((null!=t?t.isOverLimit("cards","openPerBoard"):void 0)||(null!=t?t.isOverLimit("cards","totalPerBoard"):void 0)||(null!=n?n.isOverLimit("cards","openPerList"):void 0)||(null!=n?n.isOverLimit("cards","totalPerList"):void 0)||(null!=t?t.isOverLimit("attachments","perBoard"):void 0)||(null!=t?t.isOverLimit("checklists","perBoard"):void 0))},o=function(e){var t,n,r,o,a,s;return t=e.$elem,a=e.hasChecklists,o=e.hasAttachments,n=e.destinationBoard,r=e.destinationList,null!=(s=(null!=n?n.isOverLimit("cards","openPerBoard"):void 0)?"card exceeds open per board limit":(null!=n?n.isOverLimit("cards","totalPerBoard"):void 0)?"card exceeds total per board limit":(null!=r?r.isOverLimit("cards","openPerList"):void 0)?"card exceeds open per list limit":(null!=r?r.isOverLimit("cards","totalPerList"):void 0)?"card exceeds total per list limit":o&&(null!=n?n.isOverLimit("attachments","perBoard"):void 0)?"card exceeds attachments per board limit":a&&(null!=n?n.isOverLimit("checklists","perBoard"):void 0)?"card exceeds checklists per board limit":void 0)&&(i({elem:t,message:s,params:{boardName:null!=n?n.get("name"):void 0,listName:null!=r?r.get("name"):void 0}}),!0)},a=function(e){var t,n,r,o,a;return t=e.$elem,o=e.hasAttachments,n=e.destinationBoard,r=e.destinationList,null!=(a=(null!=n?n.isOverLimit("cards","openPerBoard"):void 0)?"card exceeds open per board limit":(null!=r?r.isOverLimit("cards","openPerList"):void 0)?"card exceeds open per list limit":o&&(null!=n?n.isOverLimit("attachments","perBoard"):void 0)?"card exceeds attachments per board limit":void 0)&&(i({trackingArea:"Card Limits",elem:t,message:a,params:{boardName:null!=n?n.get("name"):void 0,listName:null!=r?r.get("name"):void 0}}),!0)},e.exports={canAddCard:r,maybeDisplayLimitsErrorOnCardAdd:o,maybeDisplayLimitsErrorOnCardOpen:a}},"./app/scripts/views/card/card-list-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p,m,f,h={}.hasOwnProperty;r=n("./packages/jquery/index.js"),i=n("./packages/browser/index.ts"),o=n("./app/scripts/views/card/card-view.coffee"),a=n("./app/scripts/views/internal/collection-view.coffee"),s=n("./app/scripts/views/lib/drag-sort.coffee"),l=n("./app/scripts/views/lib/post-render.coffee"),c=n("./app/scripts/views/internal/view.coffee"),d=n("./node_modules/underscore/underscore.js"),u=n("./app/scripts/views/card/chunkArray.ts").chunkArray,m=n("./app/scripts/debug/log.js"),n("./node_modules/bluebird/js/browser/bluebird.js"),n("./node_modules/effing/lib/index.js"),p="chrome"!==(f=i.browserStr)&&"firefox"!==f&&"opera"!==f&&"windows"===i.osStr?d.debounce((function(){return l.enqueue("jostleBoard",(function(){return r("#board").css("bottom",1),d.defer((function(){return r("#board").css("bottom",0)}))}))})):function(){},e.exports=function(e){function t(){t.__super__.constructor.apply(this,arguments),this.debouncedRefreshIfInitialized=this.debounce(this.refreshIfInitialized,10)}return function(e,t){for(var n in t)h.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.viewType=o,t.prototype.getModels=function(){return this.collection.models},t.prototype.render=function(){var e;return m("render","rendering "+this.getModels().length+" "+this.collection.model.name+"s into "+this.viewType.name),this.options.deferCards?l.enqueue("deferredCardList_"+this.cid,(e=this,function(){return e.progressiveRender()})):this.progressiveRender(),this},t.prototype.progressiveRender=function(){var e,t,n,r,i;return e=this.getModels(),i=this,t=function(e){var t;return i.appendSubviews(function(){var n,r,i;for(i=[],n=0,r=e.length;n<r;n++)t=e[n],i.push(this.subview(this.viewType,t));return i}.call(i))},n=Math.max(10,Math.ceil(window.innerHeight/32)),r=d.first(e,n),t(r),u(d.rest(e,n),n).forEach(function(e){return function(n,r){return l.enqueue("deferredHiddenCards_"+e.cid+"_chunk"+r,(function(){return t(n),p()}))}}(this))},t.prototype.insertSubview=function(e,t,n){var r;return null==n&&(n=this.$el),m("render","inserting "+e.$el.find("h2").text()+" at position "+t),"number"==typeof t?t=t<=0?n.children().eq(0):t<n.children().length?n.children().eq(t):void 0:t instanceof c&&(t=t.$el),r=e.model,e.$el.is(":empty")?(e.delegateEvents(),e.render()):n.hasClass("hide")||r.getBoard().filter.satisfiesFilter(r)||e.renderFiltered(),(null!=t?t.length:void 0)>0?e.$el.insertBefore(t):n.append(e.$el),this.debouncedRefreshIfInitialized()},t.prototype.refreshIfInitialized=function(){return s.refreshIfInitialized(this.$el)},t.prototype.scrollToCardView=function(e){var t,n;if(t=this.viewForModel(e))return n=t.$el[0],this.$el.scrollTop(n.offsetTop+n.offsetHeight)},t}(a)},"./app/scripts/views/card/card-member-select-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p,m,f,h,g,v,b,y,k,w,x,C,_,j,S,O,E,N,T,P,B,D,I,A,L={}.hasOwnProperty,M=[].slice;r=n("./packages/jquery/index.js"),i=n("./packages/action-history/index.ts").ActionHistory,o=n("./app/scripts/views/lib/alerts.coffee"),s=n("./app/scripts/db/auth.coffee"),g=n("./packages/react-dom-wrapper/index.ts"),h=n("./node_modules/react/index.js"),a=n("./app/scripts/network/api-error.coffee"),s=n("./app/scripts/db/auth.coffee"),c=n("./app/scripts/models/card.coffee"),w=n("./app/scripts/lib/util/url/contains-valid-url.coffee"),n("./app/scripts/lib/experiments/simple-test.coffee"),C=n("./app/scripts/views/feedback/collectors/get-suggestions-feedback.ts").getSuggestionsFeedback,_=n("./app/scripts/views/templates/invite_add_name.coffee"),N=n("./packages/keybindings/index.ts"),x=N.getKey,d=N.Key,S=n("./app/scripts/lib/localize.coffee"),O=n("./app/scripts/lib/localize-server-error.coffee"),E=n("./app/scripts/views/board-menu/member-limits-error.js").maybeDisplayMemberLimitsError,u=n("./app/scripts/db/model-cache.coffee"),p=n("./app/scripts/db/model-loader.coffee"),m=n("./app/scripts/views/lib/pop-over.coffee"),f=n("./node_modules/bluebird/js/browser/bluebird.js"),v=n("./app/scripts/views/member/select-member-on-card-view.coffee"),l=n("./app/scripts/views/organization/invite-member-autocomplete-multi-board-guest-alert.coffee"),b=n("./app/scripts/lib/util/index.coffee"),y=n("./app/scripts/views/internal/view.coffee"),k=n("./node_modules/underscore/underscore.js"),B=n("./app/scripts/views/templates/popover_select_members.coffee"),T=n("./packages/analytics/index.ts"),D=T.track,A=T.trackUe,I=T.trackDebounced,P=n("./app/scripts/lib/util/text/search-filter.coffee"),j=n("./packages/browser/index.ts").isDesktop(),e.exports=function(e){function t(e){t.__super__.constructor.call(this,e),this.wouldBecomeBillableGuest=this.wouldBecomeBillableGuest.bind(this)}return function(e,t){for(var n in t)L.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.viewTitleKey="members",t.prototype.initialize=function(){var e;return this.showAllOrgMembers=!1,this.wouldBecomeBillableGuestPromise=null,this.updateSearch=k.debounce(this.updateSearch,100),this.makeDebouncedMethods("renderMems","renderSuggested"),null!=this.model.memberList&&this.listenTo(this.model.memberList,"add remove reset",(e=this,function(){return e.updateOrdering(),e.renderMemsDebounced(),e.renderSuggestedDebounced()})),this.updateOrdering()},t.prototype.remove=function(){return this.reactRoot&&g.unmountComponentAtNode(this.reactRoot),t.__super__.remove.apply(this,arguments)},t.prototype.events={"click .js-board-members .js-select-member":"selectMem","click .js-org-members .js-select-member":"selectMem","click .js-suggestions .js-select-member":"addSuggestedMember","click .js-show-org-members":"showOrgMembers","click .js-suggested-actions-feedback":C({placement:"Members Select"}),"mouseenter .pop-over-member-list .item":"hoverMemberSelect","input .js-search-mem":function(e){return this.updateSearch(),this.renderSuggested()},keydown:"keydownEvent","click .js-send-email-invite":"sendEmailInvite","submit .js-email-data":"sendEmailInvite"},t.prototype.updateOrdering=function(){var e,t;return this._onCardMembers={},this._onListMembers={},this._onBoardMembers={},e=function(e,t){return t.memberList.forEach((function(t){return e[t.id]=!0}))},this.model instanceof c&&e(this._onCardMembers,this.model),this.model.getList().cardList.forEach(e.bind(null,this._onListMembers)),this.model.getBoard().listList.forEach((t=this,function(n){return n.cardList.forEach(e.bind(null,t._onBoardMembers))}))},t.prototype.render=function(){var e;return e=this.model.getBoard(),this.$el.html(B({canInviteMembers:!e.hasInvitationRestrictions()&&e.canInviteMembers(),includeOrgMembers:null!=e.getOrganization()&&e.canInviteMembers()||this.model.getBoard().isEditableByTeamMemberAndIsNotABoardMember(),placeholder:S("add member placeholder")})),this.renderMems(),this.renderSuggested()},t.prototype.getSearch=function(){return this.$(".js-search-mem").val().trim()},t.prototype.filteredMembers=function(e,t){var n;return n=P(t),k.chain(e).filter((function(e){return n(b.getMemNameArray(e))})).first(8).value()},t.prototype.filteredBoardMembers=function(e){var t,n;return this.model.getBoard(),this.model.getList(),t=this.activeBoardMembers().sortBy((n=this,function(e){return(s.isMe(e)?0:n._onCardMembers[e.id]?1:n._onListMembers[e.id]?2:n._onBoardMembers[e.id]?3:4)+e.get("fullName")})),e?this.filteredMembers(t,e):t},t.prototype.filteredOrgMembers=function(e){var t,n;return this.showOrgSection()?((null!=(t=this.model.getBoard().getOrganization())?t.isPO():void 0)&&(null!=t?t.isBusinessClass():void 0)?null==this.orgMembersPromise&&(this.orgMembersPromise=p.loadOrganizationMembersDataWithAvailableLicenseCount(t.id)):null==this.orgMembersPromise&&(this.orgMembersPromise=p.loadOrganizationMembersData(t.id)),this.orgMembersPromise.then((n=this,function(r){var i,o;return i=(o=t.memberList.filterDeactivated({force:!0})).without.apply(o,n.model.getBoard().memberList.models),e?n.filteredMembers(i,e):i}))):[]},t.prototype.hasSearch=function(){return""!==this.getSearch()},t.prototype.showOrgSection=function(){return null!=this.model.getBoard().getOrganization()&&(this.showAllOrgMembers||this.hasSearch())},t.prototype.renderMems=function(){var e,t,n,r,i,o,a;return o=this.getSearch(),e=this.filteredBoardMembers(o),t=this.filteredOrgMembers(o),r={".js-board-members":e,".js-org-members":t},i=this.showOrgSection(),this.$(".js-show-org-members").toggleClass("hide",i),this.$(".js-invite-results").toggleClass("hide",!b.checkEmail(o)),null!=(n=this._renderMemsPromise)&&n.cancel(),this._renderMemsPromise=f.each(k.keys(r),(a=this,function(e){var t,n,o;if(0!==(o=a.$(e)).length)return t=o.find(".js-loading"),n=o.find(".js-no-results"),t.removeClass("hide"),n.addClass("hide"),f.resolve(r[e]).then((function(e){var r,s,l;return t.addClass("hide"),(r=o.find(".js-mem-list")).toggleClass("collapsed",e.length>9),n.toggleClass("hide",e.length>0),e.length>0&&(a.$(".js-board-members").removeClass("hide"),a.$(".js-invite-no-results").addClass("hide"),a.$(".js-org-members").toggleClass("hide",!i)),l=function(){var t,n,r;for(r=[],t=0,n=e.length;t<n;t++)s=e[t],r.push(this.subview(v,s,{showUnconfirmed:!0,card:this.model}));return r}.call(a),a.ensureSubviews(l,r)}))})).cancellable().then(function(e){return function(){var t;if(e.hasSearch())return(t=e.$el.find(".item").first()).length>0?b.selectMenuItem(e.$el,".item",t):e.renderEmailInviteToSearchResults({email:o})}}(this)).done(),this},t.prototype.activeBoardMembers=function(){return this.model.getBoard().memberList.filterDeactivated({force:!0})},t.prototype.renderSuggested=function(){var e,t,n,r,i,o;return t=this.$(".js-suggestions"),s.me(),i=this.getSuggestedMembers(),n=!this.hasSearch()&&i.length>0&&this.activeBoardMembers().length>9,t.toggleClass("hide",!n),e=t.find(".js-mem-list"),n?(r=i.map((o=this,function(e){return o.subview(v,e,{card:o.model},"join-suggestion-"+e.id)})),this.ensureSubviews(r,e),I.hour("Suggestions","Card Members Menu","Displayed",i.length)):e.empty(),this},t.prototype.getSuggestedMembers=function(){var e,t,n,r,o,a;return t=i.get(),this.model.getBoard(),n=this.model.get("idList"),o=new Set,r={action:{type:"join",idMember:s.myId()}},e=t.filter((function(e){var t,r;return t=e.action,r=e.context,"add-member"===t.type&&r.idList===n})).filter((function(e){var t;return t=e.action,!o.has(t.idMember)&&(o.add(t.idMember),!0)})),[r].concat(M.call(e)).filter((a=this,function(e){var t;return t=e.action,a.model.isValidSuggestion(t,!0)})).map(function(e){return function(t){var n;return n=t.action,e.modelCache.get("Member",n.idMember)}}(this)).slice(0,5).sort((function(e,t){var n,r;return s.isMe(e)?-1:s.isMe(t)?1:(n=e.get("fullName").toLowerCase(),r=t.get("fullName").toLowerCase(),n.localeCompare(r))}))},t.prototype.hoverMemberSelect=function(e){return b.selectMenuItem(this.$el,".item",e.currentTarget)},t.prototype.keydownEvent=function(e){var t;(t=x(e))===d.Tab||t===d.Enter?(b.stop(e),this.$(".js-mem-list .item.selected:first .js-select-member").first().click(),this.$(".js-search-mem").val(""),this.focusSearch(),this.renderMems()):t!==d.ArrowUp&&t!==d.ArrowDown||(b.stop(e),b.navMenuList(this.$el,".item",t))},t.prototype.updateSearch=function(e){return this.$(".js-invite-error").addClass("hide"),this.renderMems(),this.focusSearch()},t.prototype.selectMem=function(e){var t,n,i,a,l,c,d;b.stop(e),c=this.model,n=r(e.currentTarget),t=n.closest(".item"),a=n.attr("idMember"),t.hasClass("active")?(c.removeMember(a),t.removeClass("active"),D("Card","Change Member","Remove Member")):(i=this.model.getBoard(),l=u.get("Member",a),f.try((function(){if(!i.hasActiveMembership(l))return f.fromNode((function(e){return s.isMe(l)&&c.getBoard().isEditableByTeamMemberAndIsNotABoardMember()&&o.show("woohoo-you-are-now-a-member-of-this-board","info","join-board",4e3),i.addMember(l,e),D("Card","Add Member to Board and Card")}))})).then((d=this,function(){var e,n;return c.addMember(a),t.addClass("active"),D("Card","Change Member","Add Member"),e=d.model.getBoard().memberList.models,n=s.me().id,e.forEach((function(e){if(e.get("id")===a&&e.get("idMemberReferrer")===n)return A("card","adds","invitee","to card","","",{member:n,addedMember:a})}))})).done()),this.focusSearch()},t.prototype.addSuggestedMember=function(e){var t;b.stop(e),t=this.$(e.currentTarget).attr("idMember"),this.model.addMember(t),D("Card","Suggested",s.isMe(t)?"Join":"Add Member"),this.focusSearch()},t.prototype.focusSearch=function(){this.$(".js-search-mem").focus()},t.prototype.showOrgMembers=function(e){this.showAllOrgMembers=!0,this.renderMems()},t.prototype.wouldBecomeBillableGuest=function(e){var t,r,i;return t=n("./app/scripts/network/api-promise.coffee"),(r=this.model.getBoard()).hasOrganization()?(i=r.getOrganization())&&!i.isFeatureEnabled("multiBoardGuests")?f.resolve(!1):t({url:"/1/search/members/",type:"get",data:{idBoard:null!=r?r.id:void 0,query:e},dataType:"json"}).then((function(e){return 1===e.length&&e[0].wouldBecomeBillableGuest})):f.resolve(!1)},t.prototype.renderEmailInviteToSearchResults=function(e){var t,n,r,i,o,s,c,d,u;if(this.$(".js-invite-no-results").removeClass("hide"),c=/[\s\d\x21-\x2F\x3A-\x40\x5B-\x60\x7B-\x7F]+/,s=/[\d\x21-\x2F\x3A-\x40\x5B-\x60\x7B-\x7F]+/,r=k.compact(b.removeDomainFromEmailAddress(e.email).split(c)).join(" ").replace(s,""),t=this.model.getBoard(),o=null!=t?t.getOrganization():void 0,k.extend(e,{fullName:b.toTitleCase(r),canAddAsObserver:null!=o?o.isFeatureEnabled("observers"):void 0,modelType:"Board",isLoading:!0,isOrgAdmin:null!=o?o.owned():void 0,isDesktop:j}),i=b.checkEmail(e.email),n=!(null!=t?t.hasInvitationRestrictions():void 0)&&i&&(null!=t?t.canInviteMembers():void 0),this.$(".js-board-members").addClass("hide"),this.$(".js-org-members").addClass("hide"),n)return this.$(".js-invite-no-results").addClass("hide"),this.$(".js-invite-results").html(_(e)).removeClass("hide"),null!=(d=this.wouldBecomeBillableGuestPromise)&&d.cancel(),this.wouldBecomeBillableGuestPromise=this.wouldBecomeBillableGuest(e.email).cancellable().then((u=this,function(t){var n;if(k.extend(e,{isLoading:!1,wouldBecomeBillableGuest:t,availableLicenseCount:null!=o?o.getAvailableLicenseCount():Infinity}),u.$(".js-invite-results").html(_(e)),t&&(n=h.createElement(l,{displayOrg:o,isDesktop:j}),u.reactRoot=u.$(".js-billable-guests-alert")[0]))return g.render(n,u.reactRoot)})).catch(a,function(t){return function(n){var r;return r=O(n),k.extend(e,{isLoading:!1,error:r}),t.$(".js-invite-results").html(_(e))}}(this)).catch(f.CancellationError)},t.prototype._getNewMemberId=function(e,t,r,i){var o,a;return o=n("./app/scripts/network/api-promise.coffee"),null!=(a=k.first(k.difference(e,t)))?(D("Invitations","Send Email Board Invite to New Member","Role: "+r),f.resolve(a)):o({url:"/1/search/members/",type:"get",data:k.extend({query:i},this.model.getBoard().getInviteURLParams()),dataType:"json"}).then((function(e){if(e.length>0)return e[0].id}))},t.prototype.sendEmailInvite=function(e){var t,i,o,s,l,c,d,u;if(o=n("./app/scripts/network/api-promise.coffee"),b.stop(e),null==(i=this.$(".js-send-email-invite")).attr("disabled")){if(u=(t=this.$(".js-email-data .js-full-name")).val().trim(),c=this.$(".js-email-data .js-email").val().trim(),!b.validName(u))return b.setCaretAtEnd(t),void r(".js-name-error").show();if(w(u))return b.setCaretAtEnd(t),void r(".js-name-error-url").show();var p;if(l={fullName:u,email:c,type:"normal",allowBillableGuest:!0},this.$("#addAsObserver").is(":checked")&&(l.type="observer"),s=this.model.getBoard(),!E(r(e.target),s))i.attr("disabled","disabled"),d=k.pluck(s.memberList.models,"id"),o({url:"/1/board/"+s.id+"/members",type:"put",data:l}).then((p=this,function(e){var t,n;return t=e.members,n=k.pluck(t,"id"),p._getNewMemberId(n,d,l.type,c)})).then(function(e){return function(t){if(null!=t)return e.model.addMember(t,(function(){return e.$(".js-send-email-invite").removeAttr("disabled"),m.hide()})),D("Card","Change Member","Add Member")}}(this)).catch(a,function(e){return function(t){var n,o;n=O(t),e.$(".js-invite-error").removeClass("hide").find(".error").html(n),e.$(".js-uninvited-search-results").empty().hide(),i.removeAttr("disabled"),r("js-search-mem").focus().select(),D("Invitations","Error",null!=(o=t.message)?o:t.responseText)}}(this))}},t}(y)},"./app/scripts/views/card/card-move-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p,m,f,h,g,v,b,y,k,w,x,C,_,j={}.hasOwnProperty;p=n("./node_modules/react/index.js"),h=n("./node_modules/underscore/underscore.js"),r=n("./packages/action-history/index.ts").ActionHistory,i=n("./app/scripts/views/lib/alerts.coffee"),o=n("./app/scripts/network/api-ajax.coffee"),a=n("./app/scripts/db/auth.coffee"),l=n("./app/scripts/views/lib/dialog.coffee"),v=n("./app/scripts/views/feedback/collectors/get-suggestions-feedback.ts").getSuggestionsFeedback,n("./app/scripts/db/id-cache.coffee"),b=n("./app/scripts/lib/localize.coffee"),u=n("./app/scripts/views/lib/pop-over.coffee"),y=n("./app/scripts/views/card/card-limits-error.coffee").maybeDisplayLimitsErrorOnCardAdd,c=n("./app/scripts/views/label/label-limits-error-view.coffee"),m=n("./app/scripts/views/card/select-card-position.coffee"),f=n("./app/scripts/views/internal/view.coffee"),x=n("./app/scripts/views/internal/templates.coffee"),k=n("./packages/analytics/index.ts"),C=k.track,_=k.trackDebounced,g=n("./packages/feature-flag-client/index.ts").featureFlagClient,w=n("./app/src/components/ComponentWrapper/index.ts").renderComponent,d=n("./app/src/components/MoveCardPopover/index.ts").MoveCardPopover,s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)j.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.viewTitleKey="move card",t.prototype.initialize=function(e){var t;return t=e.onCommit,this.onCommit=null!=t?t:function(){},this.listenTo(a.me().boardList,"add remove reset",this.render)},t.prototype.events={"change .js-select-position":"renderValues","change .js-select-list":"updatePositionList","change .js-select-board":"updateBoardData","click .js-submit":"commitChange","click .js-suggested-move":"suggestedMove","click .js-suggested-actions-feedback":v({placement:"Card Move"})},t.prototype.render=function(){var e,t,r,i,o,s,l,c,u,m,f,v;for(r={},t=this.model.getBoard(),i=this.model.getBoard().getEnterprise(),t.isGuest(a.me())&&t.get("enterpriseOwned")?(r.isMove=!0,r.hasEnterprise=!0,r.enterpriseName=null!=i?i.get("displayName"):void 0,r.restrictToCurrentBoard=!0,r.organizations=[{displayName:(null!=(m=t.getOrganization())?m.get("displayName"):void 0)||b("member boards.boards"),boards:[h.extend(t.toJSON(),{selected:!0})]}]):null!=i?(r.isMove=!0,r.hasEnterprise=!0,t=null==this.model.getBoard().getMembershipFor(a.me())?t:null,r.organizations=a.me().getOpenBoardsInEnterpriseByOrg(!0,i.get("id"),t),r.enterpriseName=i.get("displayName")):(t=this.model.getBoard().isEditableByTeamMemberAndIsNotABoardMember()?t:null,r.organizations=a.me().getOpenBoardsByOrg(!0,t)),o=0,l=(f=r.organizations).length;o<l;o++)for(s=0,c=(v=f[o].boards).length;s<c;s++)(e=v[s]).id===this.model.get("idBoard")&&(e.selected=!0,t=e);return r.suggestions=this.getSuggestedMoves(),u={move_card_controls:x.move_card_controls},g.get("fep.nachos_select",!1)?w(p.createElement(d,{organizations:r.organizations,defaultBoardId:t.id,defaultBoardName:t.name,defaultListId:this.model.getList().id,defaultListName:this.model.getList().get("name"),cardList:this.model.getList().cardList,currentIndex:this.model.getList().openCards().indexOf(this.model),onSubmit:this.requestChange.bind(this),hasEnterprise:r.hasEnterprise,enterpriseName:r.enterpriseName,restrictToCurrentBoard:r.restrictToCurrentBoard,isMove:r.isMove,suggestions:this.getSuggestedMoves()}),this.$el.get(0)):(u={move_card_controls:x.move_card_controls},this.$el.html(x.fill(n("./app/scripts/views/templates/popover_move_card.coffee"),r,{},u))),this.updateBoardData(),r.suggestions.length>0&&_.hour("Suggestions","Card Move Menu","Displayed",r.suggestions.length),this},t.prototype.getSuggestedMoves=function(){var e,t,n,i,o,a,s;return t=r.get(),e=this.model.getBoard(),o=this.model.getList(),i=this.model.get("idList"),n=this.model.get("idBoard"),a=new Set,t.filter((function(e){var t,r;return t=e.action,r=e.context,"move"===t.type&&r.idList===i&&t.idBoard===n})).sort((function(e,t){var n,r;return e.action.idList===t.action.idList?(n=void 0!==e.action.position,r=void 0!==t.action.position,n&&!r?-1:r&&!n?1:0):0})).filter((function(e){var t;return t=e.action,!a.has(t.idList)&&(a.add(t.idList),!0)})).filter((s=this,function(e){var t;return t=e.action,s.model.isValidSuggestion(t,!0)})).slice(0,5).map((function(t){var n,r,i;return n=t.action,(r=(i=e.listList.get(n.idList)).toJSON()).direction=i.get("pos")>o.get("pos")?"right":"left",r.position=n.position,r}))},t.prototype.suggestedMove=function(e){var t,n,r,i;n=(t=this.$(e.currentTarget)).attr("data-id"),i=this.model.getBoard().listList.get(n),r=function(){switch(t.attr("data-position")){case"top":return 0;case"1":return 1;default:return i.cardList.length}}(),y({$elem:t,destinationList:i})||(this.model.moveToList(i,r),C("Card","Suggested","Move on Same Board"),this.onCommit(),u.hide())},t.prototype.commitChange=function(e){var t,n,r,i,o,a,s;return t=this.$(".js-select-board"),n=this.$(".js-select-list"),r=this.$(".js-select-position"),i=t.find("option:selected").val(),o=n.find("option:selected").val(),s=r.find("option:selected").val(),a=parseInt(r.find("option:selected").prop("index"),10),this.requestChange(e,i,o,s,a)},t.prototype.requestChange=function(e,t,n,r,a){var s,d,p,m,f;if(t===this.model.getBoard().id){if(p=this.model.getBoard().listList.get(n),m={$elem:this.$(e.target),destinationList:p},y(m))return;this.model.moveToList(p,a),C("Card","Move Menu","Same Board")}else if(null!=t&&null!=n&&null!=r){if(p=null!=(s=this.modelCache.get("Board",t))?s.listList.get(n):void 0,m={$elem:this.$(e.target),hasChecklists:this.model.checklistList.length>0,hasAttachments:this.model.attachmentList.length>0,destinationBoard:s,destinationList:p},y(m))return;if(this.model.getLabels().length>0&&s.isOverLimit("labels","perBoard"))return void u.pushView(new c);C("Card","Move Menu","Changed Board"),d=null!=p?p.openCards().length:void 0,this.model.recordAction({type:"move",idBoard:t,idList:n,position:function(){switch(r){case"top":return d>0?"top":void 0;case"bottom":return d>1?"bottom":void 0;case"1":return d>1?1:void 0;default:return}}()}),this.model.getList().cardList.remove(this.model),l.hide(),o({url:"/1/cards/"+this.model.id,type:"put",data:{idList:n,idBoard:t,pos:r},success:(f=this,function(e){return f.model.board=null,f.model.set("idBoard",e.idBoard),f.model.set("idList",e.idList),f.model.set("pos",e.pos)}),error:function(e){return function(t){var n,r;return e.model.getList().cardList.add(e.model),"BOARD_TOO_MANY_CUSTOM_FIELDS"===(n=null!=(r=t.responseJSON)?r.error:void 0)?i.show("too many custom fields card","error","moveerror",8e3):"CUSTOM_FIELD_TOO_MANY_OPTIONS"===n?i.show("too many custom options card","error","moveerror",8e3):i.show("could not move card","error","moveerror",5e3)}}(this)})}this.onCommit(),u.hide()},t}(f),h.extend(s.prototype,m),e.exports=s},"./app/scripts/views/card/card-view-attachment.coffee":function(e,t,n){var r,i,o,a,s,l;o=n("./app/scripts/lib/util/index.coffee"),l=n("./app/scripts/views/internal/warn-if-file-too-large.coffee"),s=n("./app/scripts/views/internal/pasted-file-name.coffee"),a=n("./app/scripts/lib/util/ninvoke.coffee"),r=n("./app/scripts/views/lib/alerts.coffee"),i=n("./node_modules/bluebird/js/browser/bluebird.js"),e.exports.dragenter=function(e){var t,n,r,i;if(this.model.editable())return t=this.$el.outerHeight(),r=!this.model.canAttach(),n=(i=!this.model.canDropAttachment(e.type))?".list-card-dropzone-restricted":r?".list-card-dropzone-limited":".list-card-dropzone",this.$(n).css({height:t+"px","line-height":t+"px"}),this.$el.addClass("is-drophover").toggleClass("is-restricted",i).toggleClass("is-limited",r)},e.exports.dragleave=function(e){return this.$el.removeClass("is-drophover")},e.exports.dropFiles=function(e){var t,n;if(this.model.canAttach()&&!this.model.attachmentTypeRestricted("computer")){if(t=e.detail,!l(this.model.getBoard(),t))return i.resolve(t).each((n=this,function(e){var t;return t=e.name||s(),a(n.model,"upload",e,t)})).catch((function(){return r.show("unable to upload file","error","upload",5e3)})).done(),e.stopPropagation()}else o.stop(e)},e.exports.dropUrl=function(e){var t;if(this.model.canAttach()&&!this.model.attachmentTypeRestricted("link")){if(t=e.detail,!this.model.getBoard().attachmentUrlRestricted(t))return this.model.uploadUrl(t),e.stopPropagation()}else o.stop(e)}},"./app/scripts/views/card/card-view-cover.coffee":function(e,t){e.exports.showCover=function(){return this.model.getBoard().getPref("cardCovers")&&this.model.hasCover()&&!this.onCalendar}},"./app/scripts/views/card/card-view-helpers.coffee":function(e,t,n){var r,i,o,a,s;r=n("./app/scripts/views/member-menu-profile/card-member-menu-view.coffee"),o=n("./app/scripts/views/lib/pop-over.coffee"),a=n("./app/scripts/lib/util/index.coffee"),s=n("./app/scripts/views/templates/member_on_card.coffee"),i={openMemberOnCardMenu:function(e){var t,n,i,s,l;a.stop(e),s=(i=this.$(e.target).closest(".member")).attr("data-idmem"),l=this.modelCache.get("Member",s),n=this.model,t=this.model.getBoard(),o.toggle({elem:i,view:r,options:{model:l,modelCache:this.modelCache,card:n,board:t}})},getMemberOnCardHtml:function(e){var t,n,r;return n=e.toJSON(),t=this.model.getBoard(),n.isVirtual=(null!=(r=t.getOrganization())?r.isVirtual(e):void 0)||t.isVirtual(e),n.isDeactivated=t.isDeactivated(e),s(n)}},e.exports=i},"./app/scripts/views/card/card-view-label.coffee":function(e,t,n){var r,i;r=n("./app/scripts/view-models/label-state.coffee"),i=n("./packages/analytics/index.ts").track,e.exports.labelClick=function(e){var t,n;if(!e||!(e.ctrlKey||e.metaKey||e.shiftKey))return n=r.getShowText(),i("Toggle Labels Text on Card Front",n?"Hide":"Show",null!=(t=this.model.getBoard())?t.id:void 0,"click-label"),e.preventDefault(),e.stopPropagation(),r.toggleText()},e.exports.labelMouseEnter=function(e){return this.$el.addClass("card-labels-hover")},e.exports.labelMouseLeave=function(e){return this.$el.removeClass("card-labels-hover")}},"./app/scripts/views/card/card-view-lists.coffee":function(e,t,n){var r,i,o;r=n("./node_modules/underscore/underscore.js"),o=n("./app/scripts/views/card/should-fire-confetti.ts").shouldFireConfetti,i=n("./node_modules/canvas-confetti/dist/confetti.module.mjs").default,e.exports.moveTo=function(e,t,n,a){var s,l,c,d;0!==t.item.parents(".js-list").length?(c=t.item.parents(".js-list").find(".list-card:not(.placeholder,.js-composer)").index(t.item),a||(o(n.model.get("name"))&&(d=t.item.offset(),s=t.item.height(),l=t.item.width(),i({angle:r.random(55,125),spread:r.random(50,70),particleCount:r.random(40,75),origin:{x:(d.left+l/2)/window.innerWidth,y:(d.top+s/2)/window.innerHeight}})),t.item.remove()),this.model.moveToList(n.model,c)):null!=n&&n.renderCards()},e.exports.moveIn=function(e,t,n){n.model.id===this.model.get("idList")&&this.moveTo(e,t,n,!0)}},"./app/scripts/views/card/card-view-mixins.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p,m,f,h,g,v,b;r=n("./packages/browser/index.ts"),i=n("./app/scripts/lib/dates.coffee"),o=n("./app/scripts/views/internal/due-date-helpers.coffee"),a=n("./app/scripts/models/label.coffee"),s=n("./app/scripts/views/internal/plugins/plugin-model-serializer.coffee"),l=n("./app/scripts/views/internal/plugins/plugin-runner.coffee"),n("./app/scripts/views/internal/templates.coffee"),u=n("./node_modules/underscore/underscore.js"),h=n("./app/scripts/views/templates/label.coffee"),g=n("./app/scripts/lib/plugins/plugin-cover-with-defaults.coffee"),v=n("./app/scripts/lib/plugins/plugin-validators.coffee"),b=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("badge"),f=n("./app/scripts/lib/localize.coffee"),m=n("./packages/feature-flag-client/index.ts").featureFlagClient,d=n("./app/scripts/lib/util/index.coffee"),c=n("./packages/unsplash/index.ts").UnsplashTracker,p=b.renderable((function(e){var t,n,r,a,s,l,c,d,u,p,m,h,g,v,y,k,w,x,C,_,j,S;if(t=e.archived,n=e.attachments,r=e.attachmentsByType,a=e.checkItems,s=e.checkItemsChecked,l=e.checkItemsEarliestDue,c=e.comments,d=e.description,u=e.due,p=e.dueComplete,v=e.location,y=e.notifications,C=e.subscribed,j=e.viewingMemberVoted,S=e.votes,g=e.isOnBoardTemplate,m=e.hideVotes,h=e.isCardTemplate,x=e.showDueCompleteCheckbox,h&&b.div(".badge.is-template",{title:f("badge.template")},(function(){return b.span(".badge-icon.icon-sm.icon-template-card"),b.span(".badge-text",(function(){return b.format("template")}))})),y&&b.div(".badge.is-unread-notification",{title:f("badge.notifications")},(function(){return b.span(".badge-icon.icon-sm.icon-notification"),b.span(".badge-text",(function(){return b.text(y)}))})),C&&b.div(".badge.is-icon-only",{title:f("badge.watch")},(function(){return b.span(".badge-icon.icon-sm.icon-subscribe")})),S>0&&!h&&(m?m&&j&&b.div(".badge",{title:f("badge.votes"),class:b.classify({"is-voted":j})},(function(){return b.span(".badge-icon.icon-sm.icon-vote")})):b.div(".badge",{title:f("badge.votes"),class:b.classify({"is-voted":j})},(function(){return b.span(".badge-icon.icon-sm.icon-vote"),b.span(".badge-text",(function(){return b.text(S)}))}))),u&&!h&&b.div(".badge.js-due-date-badge",{title:o.titleForDueDate(u,p),class:b.classify((k={},k[""+o.classForDueDate(u,p)]=!0,k["mod-due-date"]=x,k))},(function(){return b.span(".badge-icon.icon-sm.icon-clock.badge-due-icon"),b.input(".mod-due-complete-checkbox",{type:"checkbox",checked:p}),b.span(".badge-text.js-due-date-text",(function(){return b.text(i.toDateString(u))}))})),d&&b.div(".badge.is-icon-only",{title:f("badge.description")},(function(){return b.span(".badge-icon.icon-sm.icon-description")})),c>0&&!g&&b.div(".badge",{title:f("badge.comments")},(function(){return b.span(".badge-icon.icon-sm.icon-comment"),b.span(".badge-text",(function(){return b.text(c)}))})),_=r?r.trello.board+r.trello.card:0,(n-=_)>0&&b.div(".badge",{title:f("badge.attachments")},(function(){return b.span(".badge-icon.icon-sm.icon-attachment"),b.span(".badge-text",(function(){return b.text(n)}))})),_>0&&b.div(".badge",{title:f("badge.trello attachments")},(function(){return b.span(".badge-icon.icon-sm.icon-board"),b.span(".badge-text",(function(){return b.text(_)}))})),a>0&&b.div(".badge.js-checkitems-badge",{title:f("badge.checkitems"),class:b.classify((w={"is-complete":s===a},w[""+o.classForDueDate(l,!1)]=null!=l,w))},(function(){return b.span(".badge-icon.icon-sm.icon-checklist"),b.span(".badge-text.js-checkitems-badge-text",(function(){if(b.text(s),b.text("/"),b.text(a),l)return b.text("  "),b.text(i.toDateString(l))}))})),t&&b.div(".badge",{title:f("badge.archived.title")},(function(){return b.span(".badge-icon.icon-sm.icon-archive"),b.span(".badge-text",(function(){return b.text(f("badge.archived.text"))}))})),v)return b.div(".badge",{title:f("badge.location")},(function(){return b.span(".badge-icon.icon-sm.icon-location")}))})),e.exports={clearCover:function(){return this.$el.removeClass("is-covered"),this.$(".js-card-stickers").css("height",""),this.$(".js-card-cover").css({"background-origin":"","background-image":"","background-color":"",height:"",padding:""}).removeClass("is-no-preview-size color-card-cover"),this.clearColorCover()},clearColorCover:function(){return this.$(".js-card-cover").removeClass((function(e,t){return(t.match(/\bcolor-card-cover-\S+/g)||[]).join(" ")}))},renderCover:function(){var e,t,n,i,o,a,s,l,u,p,m,f,h,g,v,b;if(!this.model.getBoard().getPref("cardCovers")||this.onCalendar)return this.clearCover(),this.clearFullCover(),this;if(!this.model.hasCover())return this.renderPluginCover(),this;if(s=(f=this.model.get("cover")).idAttachment,l=f.idUploadedBackground,o=f.color,g=f.scaled,a=f.edgeColor,v=f.sharedSourceUrl,b=f.size,e=this.$(".js-card-cover"),t=this.$(".js-card-stickers"),this.clearColorCover(),"full"===b&&this.shouldRenderFullCover())return this.renderFullCover();if(this.clearFullCover(),o&&this.shouldRenderColorCover())i=this.model.hasStickers()?64:32,e.css({"background-color":"","background-image":"","background-size":"",height:i}).toggleClass("is-no-preview-size",!1),e.addClass("color-card-cover color-card-cover-"+o),t.css("height",i);else if(s||l){if(p=r.isHighDPI()?600:300,null==(m=null!=(h=d.smallestPreviewBiggerThan(g,p))?h:d.biggestPreview(g))&&s&&null!=this.model.attachmentList){if(null==(n=this.model.attachmentList.get(this.model.get("idAttachmentCover"))))return null;m={url:n.get("url")}}e.css({"background-color":null!=a?a:"transparent","background-image":'url("'+m.url+'")'}).toggleClass("is-no-preview-size",null==m),null!=m&&(u=Math.min(m.height,260),(i=245*m.height/m.width)<=u?(e.css({height:i,"background-size":"cover"}),t.css("height",i)):(e.css({height:u,"background-size":"contain"}),t.css("height",u)),l&&c.trackOncePerInterval(v))}return this.$el.addClass("is-covered"),this},clearFullCover:function(){return this.$(".js-card-stickers").css("height",""),this.$el.removeClass((function(e,t){var n;return(n=t.match(/\bcolor-card-cover-\S+/g)||[]).push("full-cover-list-card"),n.push("full-cover-list-card-dark"),n.join(" ")})),this.$el.css({"background-size":"","background-image":"","background-position":"","background-repeat":"","background-color":"","min-height":""})},renderFullCover:function(){var e,t,n,i,o,a,s,l,c,u,p,m;return this.clearCover(),this.clearFullCover(),(c=this.model.get("cover")).idAttachment,c.idUploadedBackground,i=c.color,p=c.scaled,o=c.edgeColor,c.sharedSourceUrl,e=c.brightness,this.$el.addClass("full-cover-list-card"),"dark"===e&&this.$el.addClass("full-cover-list-card-dark"),i&&this.shouldRenderColorCover()?this.$el.addClass("color-card-cover color-card-cover-"+i):(s=r.isHighDPI()?600:300,m={"background-image":'url("'+(l=null!=(u=d.smallestPreviewBiggerThan(p,s))?u:d.biggestPreview(p)).url+'")',"background-size":"cover"},a=Math.min(l.height,260),this.$el.height()>a?(n="auto",m["background-size"]="contain",m["background-position"]="center",m["background-repeat"]="no-repeat",m["background-color"]=o):n=(t=245*l.height/l.width)<=a?t:a,m["min-height"]=n,this.$el.css(m),this.$(".js-card-stickers").css("height",this.$el.height())),this.$el.addClass("is-covered"),this},getFullCoverStylesForInitialRender:function(){var e,t,n,i,o,a,s,l,c,u;if(n=(s=this.model.get("cover")).idAttachment,s.idUploadedBackground,s.color,c=s.scaled,s.edgeColor,s.sharedSourceUrl,o=r.isHighDPI()?600:300,null==(a=null!=(l=d.smallestPreviewBiggerThan(c,o))?l:d.biggestPreview(c))&&n&&null!=this.model.attachmentList){if(null==(e=this.model.attachmentList.get(this.model.get("idAttachmentCover"))))return null;a={url:e.get("url")}}return null==a?null:(u={"background-image":'url("'+a.url+'")',"background-size":"cover"},i=Math.min(a.height,260),t=245*a.height/a.width,u["min-height"]=t<=i?t+"px":i+"px",b.stylify(u))},renderPluginCover:function(){return this.waitForId(this.model,(e=this,function(){return l.one({command:"card-cover",board:e.model.getBoard(),card:e.model,list:e.model.getList(),timeout:1e4,options:{attachments:s.attachments(e.model.attachmentList.models,["id","url"]),cardDetail:!1}}).then((function(t){var n;if(!e.model.hasCover()){if(!v.isValidCover(t))throw new Error("Invalid cover supplied");return n=g(t),e.$(".js-card-cover").css({"background-origin":"content-box","background-color":n.edgeColor,"background-image":'url("'+n.url+'")',"background-position":n.position,"background-repeat":"no-repeat","background-size":n.size,height:n.height+"px",padding:n.padding}).removeClass("is-no-preview-size"),e.$(".js-card-stickers").css("height",n.stickerHeight),e.$el.addClass("is-covered")}})).catch((function(){if(!e.model.hasCover())return e.clearCover(),e.clearFullCover()}))}));var e},getBadgesHtml:function(){var e,t,n,r,i;return e=null!=(n=this.model.get("badges"))?n:{},t=m.get("remarkable.card-front-due-complete-checkbox",!1),p({subscribed:e.subscribed,description:e.description,comments:e.comments,attachments:e.attachments,attachmentsByType:e.attachmentsByType,checkItems:e.checkItems,checkItemsChecked:e.checkItemsChecked,checkItemsEarliestDue:e.checkItemsEarliestDue,hideVotes:!!this.model.getBoard().get("prefs").hideVotes,votes:e.votes,viewingMemberVoted:e.viewingMemberVoted,due:this.model.get("due"),dueComplete:this.model.get("dueComplete"),notifications:u.filter(this.modelCache.all("Notification"),(i=this,function(e){var t,n;return e.get("unread")&&null!=i.model.id&&(null!=(t=e.get("data"))&&null!=(n=t.card)?n.id:void 0)===i.model.id})).length,archived:this.model.get("closed"),location:e.location&&(null!=(r=this.model.getBoard())?r.isMapPowerUpEnabled():void 0),isOnBoardTemplate:this.model.isOnBoardTemplate(),isCardTemplate:!!this.model.get("isTemplate"),showDueCompleteCheckbox:t})},renderBadges:function(){return this.$(".js-badges").html(this.getBadgesHtml()),this},updateDateBadges:function(){return this.updateDueDate(),this.updateCheckItemsEarliestDue()},updateDueDate:function(){var e,t,n,r,a,s;if(n=this.model.get("due"),r=this.model.get("dueComplete"),e=this.el.querySelector(".js-due-date-badge"),t=this.el.querySelector(".js-due-date-text"),e&&t){if(e.getAttribute("title")===(a=o.titleForDueDate(n,r)))return this;e.setAttribute("title",a),s=e.classList.value.split(" ").pop(),e.classList.replace(s,o.classForDueDate(n,r)),t.innerText=i.toDateString(n)}return this},updateCheckItemsEarliestDue:function(){var e,t,n;return(t=this.model.get("badges"))?(t.checkItems,t.checkItemsChecked,n=t.checkItemsEarliestDue,(e=this.$(".js-checkitems-badge"))&&(e.removeClass((function(e,t){return(t.match(/\bis-due-\S+/g)||[]).join(" ")})),n&&e.addClass(o.classForDueDate(n,!1))),this):this},toggleDueDateComplete:function(e){var t;if(m.get("remarkable.card-front-due-complete-checkbox",!1))return d.stop(e),t=!this.model.get("dueComplete"),this.model.update({dueComplete:t})},renderMembers:function(e){var t,n;return"",n=function(){var e,n,r;for(r=[],e=(n=this.model.memberList.models).length-1;e>=0;e+=-1)t=n[e],r.push(this.getMemberOnCardHtml(t));return r}.call(this),this.$(".js-list-card-members").empty().append(n.join("")),this},labelsData:function(){return u.chain(this.model.getLabels()).sort(a.compare).map((e=this,function(t){return e.model.dataForLabel(t)})).filter((function(e){return!u.isEmpty(e.color)})).value();var e},renderLabels:function(){var e,t,n;return n=function(){var n,r,i,o;for(o=[],n=0,r=(i=this.labelsData()).length;n<r;n++)t=i[n],(e=t).extraClasses=["mod-card-front"],o.push(h(e));return o}.call(this),this.$(".js-card-labels").empty().append(n),this}}},"./app/scripts/views/card/card-view-name-edit.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p,m,f;p=n("./app/scripts/views/card/SeparatorCard/SeparatorCard.ts").getSeparatorClassName,c=n("./app/scripts/views/templates/card_title_on_card_front.coffee"),l=n("./app/scripts/lib/util/index.coffee"),i=n("./app/scripts/views/lib/pop-over.coffee"),o=n("./app/scripts/views/card/quick-card-editor-view.coffee"),f=n("./packages/analytics/index.ts").track,a=n("./app/scripts/lib/markdown/tfm.coffee"),u=n("./app/scripts/views/internal/friendly-links.coffee"),s=n("./app/scripts/views/lib/tooltip.coffee"),d=n("./packages/feature-flag-client/index.ts").featureFlagClient,m=n("./app/scripts/debug/log-error.ts").logError,r=n("./app/scripts/debug/constants.ts").Feature,e.exports.renderName=function(){var e,t,n;if((e=this.model.toJSON()).separatorClassName=p(e.name),t=c(e),this.$(".js-card-name").html(t),d.get("remarkable.card-front-links",!1)&&!e.separatorClassName)try{(n=a.name.format(e.name).output)&&(this.$(".js-card-name").html(n),u(this.$(".js-card-name")[0],this.model.getBoard()))}catch(e){m({error:e,tags:{ownershipArea:"trello-remarkable",feature:r.CardFrontLinks}})}return this},e.exports.openQuickCardEditor=function(e){if(!this.options.quickEditHidden&&this.model.editable())return l.stop(e),i.hide(),o.open(this),f("Card Front","Open Quick Card Editor",void 0,this.model.trackProperty()),this},e.exports.handleLinkInCardNameClick=function(e){return null!=e?e.stopPropagation():void 0},e.exports.showTooltipForLinkInCardName=function(e){var t;if((t=this.$(e.target)).attr("href"))return s.show(t.attr("href"),t,!1,s.STYLE.MENU)},e.exports.hideTooltipForLinkInCardName=function(){return s.hide()}},"./app/scripts/views/card/card-view-plugins.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p,m;o=n("./app/scripts/view-models/member-state.coffee"),d=n("./packages/analytics/index.ts"),p=d.track,m=d.trackUe,a=d.Noun,c=d.Verb,u=n("./app/scripts/lib/util/sticker-clip.coffee"),l=n("./app/scripts/views/stickers/sticker-view.coffee"),i=n("./app/scripts/views/custom-field/custom-field-badges-view.coffee"),s=n("./app/scripts/views/plugin/plugin-badges-view.coffee"),r=n("./app/scripts/data/legacy-power-ups.coffee").cardAging,e.exports.addNewStickerToList=function(e,t,n,r){var i,s,l,d,f,h;i=null!=(f=e.id)?f:e.get("image"),l=e.get("url"),s=e.get("scaled"),(d=e.get("isGiphySticker"))&&((h=o.getUseAnimatedStickers())||(i=e.get("stillUrl"),l=e.get("stillUrl"),s=e.get("stillScaled")),m({category:a.CARD,verb:c.ADDS,directObj:a.GIPHY_STICKER,context:{useAnimatedStickers:h}})),p("Card","Sticker",i,this.model.trackProperty()),this.model.stickerList.create({image:i,left:u(t),top:u(n),rotate:r,zIndex:this.model.stickerList.nextZIndex(),imageUrl:l,imageScaled:s,isGiphySticker:d},{modelCache:this.modelCache})},e.exports.showStickers=function(){return!this.onCalendar},e.exports.renderStickers=function(e){var t,n,r,i,o,a;if(this.showStickers())return n=this.$(".js-stickers-area"),t=this.$(".js-card-stickers"),i=this.model.hasStickers(),r=this.model.editable(),i?(this.$el.addClass("is-stickered"),n.removeClass("hide"),o=this.model.stickerList.map((a=this,function(e){return a.subview(l,e,{canRemove:r&&e.id&&!a.options.quickEditHidden,fixedHeight:function(){return a.$(".js-card-details").get(0).getBoundingClientRect().top-n.get(0).getBoundingClientRect().top},fixedWidth:function(){var e,t;return t=n.get(0).getBoundingClientRect(),(e=a.$(".js-card-menu").get(0))?e.getBoundingClientRect().left-t.left:a.$el.get(0).getBoundingClientRect().right-t.left}},e.id||e.cid)})),this.ensureSubviews(o,t),this.renderCover()):(this.$el.removeClass("is-stickered"),n.addClass("hide")),this;this.$el.removeClass("is-stickered")},e.exports.renderCustomFieldItems=function(){var e;return e=this.subview(i,this.model),this.appendSubview(e,this.$(".js-custom-field-badges")),this},e.exports.renderPluginBadges=function(){var e;return e=this.$(".js-plugin-badges"),this.ensureSubviews([this.subview(s,this.model)],e),this},e.exports.renderPowerUpEffects=function(){var e,t,n;if(e=this.model.getBoard(),this.$el.removeClass(this.model.getAllAgingClasses()),n=this.model.getPluginDataByKey(r,"card","shared","evergreen",!1),e.isPowerUpEnabled("cardAging")&&!this.model.get("closed")&&!n&&!this.model.get("isTemplate"))return t=this.model.getAgingData(),this.$el.addClass(t.agingClassesToAdd)},e.exports.moveToCalendarDay=function(e,t,n){var r;return n.getCardView(this.model).delegateEvents(),r=new Date(n.data.day),this.model.changeDueDateMaintainTime(r),n.updateHeader(),n.renderCardsAndListHeaders()},e.exports.moveInCalendarDay=function(e,t,n){return n.getCardView(this.model).delegateEvents(),n.renderCardsAndListHeaders()},e.exports.renderDueComplete=function(){return this.$el.toggleClass("is-due-complete",this.model.get("dueComplete")),this.updateDueDate()}},"./app/scripts/views/card/card-view-templates.coffee":function(e,t){e.exports.isOnBoardTemplate=function(){return this.model.isOnBoardTemplate()}},"./app/scripts/views/card/card-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p,m,f,h,g,v,b,y,k,w,x,C,_,j,S,O,E,N,T,P,B,D,I,A,L,M,F,R,z,V,U,H,$,W,G,q,K,Y,J,X,Q,Z,ee,te,ne,re,ie,oe,ae,se,le,ce,de,ue,pe,me,fe={}.hasOwnProperty;r=n("./packages/jquery/index.js"),o=n("./app/scripts/db/auth.coffee"),a=n("./packages/browser/index.ts"),s=n("./app/scripts/views/label/card-label-select-view.coffee"),l=n("./app/scripts/views/card/card-member-select-view.coffee"),c=n("./app/scripts/views/card/card-view-helpers.coffee"),d=n("./app/scripts/views/card/card-view-mixins.coffee"),u=n("./app/scripts/controller/index.js"),p=n("./app/scripts/views/card/date-picker-view.coffee"),m=n("./app/scripts/lib/dates.coffee"),n("./app/scripts/views/internal/data-transfer/drag-drop-events.coffee"),f=n("./app/scripts/views/lib/drag-sort.coffee"),A=n("./packages/feature-flag-client/index.ts").featureFlagClient,J=n("./packages/keybindings/index.ts"),L=J.getKey,g=J.Key,ne=J.registerShortcutHandler,C=J.Scope,me=J.unregisterShortcutHandler,v=n("./app/scripts/views/label/label-key-helper.coffee"),b=n("./app/scripts/views/internal/paste-input.coffee"),y=n("./app/scripts/views/lib/pop-over.coffee"),k=n("./app/scripts/views/lib/post-render.coffee"),w=n("./node_modules/bluebird/js/browser/bluebird.js"),x=n("./node_modules/promise-queue/lib/index.js"),_=n("./packages/storage/index.ts").TrelloStorage,j=n("./app/scripts/lib/util/index.coffee"),S=n("./app/scripts/views/internal/view.coffee"),O=n("./node_modules/underscore/underscore.js"),i=n("./packages/atlassian-analytics/index.ts").Apdex,H=n("./app/scripts/debug/log.js"),pe=n("./packages/analytics/index.ts").track,n("./app/scripts/lib/localize.coffee"),n("./node_modules/effing/lib/index.js"),Y=n("./app/scripts/views/internal/plugins/plugins-changed-signal.coffee"),N=n("./app/scripts/views/templates/card_in_list.coffee"),X=n("./app/scripts/views/card/card-view-name-edit.coffee"),oe=X.renderName,K=X.openQuickCardEditor,M=X.handleLinkInCardNameClick,ue=X.showTooltipForLinkInCardName,F=X.hideTooltipForLinkInCardName,ce=n("./app/scripts/views/card/card-view-cover.coffee").showCover,Q=n("./app/scripts/views/card/card-view-label.coffee"),z=Q.labelClick,V=Q.labelMouseEnter,U=Q.labelMouseLeave,Z=n("./app/scripts/views/card/card-view-attachment.coffee"),T=Z.dragenter,P=Z.dragleave,B=Z.dropFiles,D=Z.dropUrl,ee=n("./app/scripts/views/card/card-view-lists.coffee"),G=ee.moveTo,$=ee.moveIn,R=n("./app/scripts/views/card/card-view-templates.coffee").isOnBoardTemplate,te=n("./app/scripts/views/card/card-view-plugins.coffee"),E=te.addNewStickerToList,de=te.showStickers,le=te.renderStickers,re=te.renderCustomFieldItems,ae=te.renderPluginBadges,se=te.renderPowerUpEffects,q=te.moveToCalendarDay,W=te.moveInCalendarDay,ie=te.renderDueComplete,n("./app/scripts/data/legacy-power-ups.coffee").cardAging,h=new x(1),I=function(e){h.add((function(){return new w((function(t){e.hookDroppable(),O.defer(t)}))}))},e.exports=function(e){function t(e){t.__super__.constructor.call(this,e),this.onShortcut=this.onShortcut.bind(this)}return function(e,t){for(var n in t)fe.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),O.extend(t.prototype,c,d),t.prototype.className=function(){var e,t,n,r,i,o,a;return"list-card js-member-droppable",(null!=(i=this.model.getBoard())?i.getPref("cardCovers"):void 0)&&null!=this.model.get("cover")&&A.get("remarkable.prerender-covers",!1)&&(a=(o=this.model.get("cover")).size,e=o.brightness,t=o.color,o.scaled,n=o.idAttachment,r=o.idUploadedBackground,(n||r||t)&&"full"===a&&this.shouldRenderFullCover())?"list-card js-member-droppable full-cover-list-card "+("dark"===e?"full-cover-list-card-dark":"")+" "+(t&&this.shouldRenderColorCover()?"color-card-cover color-card-cover-"+t:""):"list-card js-member-droppable"},t.prototype.tagName="a",t.prototype.attributes=function(){var e,t,n,r,i,o,a;return(null!=(r=this.model.getBoard())?r.getPref("cardCovers"):void 0)&&null!=this.model.get("cover")&&A.get("remarkable.prerender-covers",!1)&&(o=(i=this.model.get("cover")).size,t=i.idAttachment,n=i.idUploadedBackground,e=i.color,(t||n||e)&&"full"===o&&this.shouldRenderFullCover()&&null!=(a=this.getFullCoverStylesForInitialRender()))?{style:a}:{}},t.prototype.filterDeactivated=!0,t.prototype.applyBoardCardFilter=!0,t.prototype.trackApdex=!0,t.prototype.events={moveto:"moveTo",movein:"moveIn",moveToCalendarDay:"moveToCalendarDay",moveInCalendarDay:"moveInCalendarDay","click .js-open-quick-card-editor":"openQuickCardEditor","click .js-member-on-card-menu":"openMemberOnCardMenu","click .card-label.mod-card-front":"labelClick","click .js-due-date-badge":"toggleDueDateComplete",click:"showDetail","click a":"handleLinkInCardNameClick","mouseenter a":"showTooltipForLinkInCardName","mouseleave a":"hideTooltipForLinkInCardName",contextmenu:function(e){if(!(e.ctrlKey||e.metaKey||e.shiftKey||_.get("nocontext")))return this.openQuickCardEditor(e)},mouseenter:function(){return this.trigger("mouseEnterCardView")},mousemove:function(){return this.trigger("mouseMoveCardView")},mouseleave:function(){return this.trigger("mouseLeaveCardView")},"mouseenter .card-label.mod-card-front":"labelMouseEnter","mouseleave .card-label.mod-card-front":"labelMouseLeave","dd-enter:files":"dragenter","dd-leave:files":"dragleave","dd-drop:files":"dropFiles","dd-enter:url":"dragenter","dd-leave:url":"dragleave","dd-drop:url":"dropUrl","pasteinput:files":"dropFiles","pasteinput:url":"dropUrl"},t.prototype.initialize=function(){var e,t,n,r,i;for(e=0,t=(r=["filterDeactivated","applyBoardCardFilter","trackApdex"]).length;e<t;e++)n=r[e],null!=this.options[n]&&(this[n]=this.options[n]);k.enqueue("initialize_cardview_"+this.cid,(i=this,function(){var e;return i.render(),i.makeDebouncedMethods("render","renderName","renderLabels","renderCover","renderFiltered","renderPowerUpEffects","renderStickers","renderBadges","renderDueComplete","renderCustomFieldItems","updateDateBadges"),i.listenTo(i.model,{"change:name":i.renderNameDebounced,"change:labels":i.renderLabelsDebounced,"change:idAttachmentCover change:cover":i.renderCoverDebounced,"change:name change:labels change:idLabels change:due change:dueComplete":i.renderFilteredDebounced,"change:due change:badges":i.updateRenderIntervalSubscription,"change:dueComplete":i.renderDueComplete,"change:dateLastActivity":function(){return i.renderCoverDebounced(),i.renderPowerUpEffectsDebounced()},"change:badges change:due change:subscribed change:isTemplate":i.renderBadgesDebounced,keyboardMove:i.scrollIntoView}),i.listenTo(i.model.customFieldItemList,"add remove reset change",i.frameDebounce((function(){return this.renderCustomFieldItems(),this.renderFiltered()}))),i.listenTo(i.modelCache,"add:Notification remove:Notification change:Notification",i.renderBadgesDebounced),i.listenTo(i.model.memberList,"change:initials change:avatarUrl change:avatarSource change:fullName change:username",i.renderMembers),i.listenTo(i.model.memberList,"add remove reset",i.frameDebounce((function(){return this.renderMembers(),this.renderFiltered()}))),i.listenTo(i.model.labelList,"add remove reset change",i.renderLabelsDebounced),i.listenTo(i.model.stickerList,{"add remove reset change sort":i.renderStickersDebounced}),e=i.model.getBoard(),i.listenTo(e,"change:powerUps change:prefs.cardAging",i.renderPowerUpEffectsDebounced),i.subscribe(Y(e,i.model),(function(){return i.renderCoverDebounced(),i.renderPowerUpEffectsDebounced()})),i.listenTo(e.filter,"change",i.renderFilteredDebounced),i.listenTo(e,"change:labels",i.renderLabelsDebounced),i.listenTo(e,"change:memberships",i.renderMembers),i.listenTo(e,"change:prefs.hideVotes",i.renderBadgesDebounced),i.listenTo(e,"change:prefs.cardCovers",i.renderCoverDebounced),i.listenTo(e.customFieldList,"add remove reset change",i.renderCustomFieldItemsDebounced),i.listenTo(e.boardPluginList,"add remove reset change",(function(){return i.renderCustomFieldItemsDebounced(),i.renderBadgesDebounced()})),i.listenTo(e.viewState,"active-card-changed",i.renderActiveState),i.listenTo(e,"permChange",i.render),i.listenTo(i,"mouseEnterCardView",(function(){return I(this)})),i.updateRenderIntervalSubscription()}))},t.prototype.isOnBoardTemplate=R,t.prototype.shouldRenderColorCover=function(){return A.get("remarkable.rmk-239",!1)},t.prototype.shouldRenderFullCover=function(){return A.get("remarkable.rmk-239",!1)},t.prototype.renderActiveState=function(){var e,t;null!=this.$el&&(e=null!=(t=this.model.getBoard())?t.viewState.isCardSelected(this.model):void 0,this.$el.toggleClass("active-card",e),e?(b.addHandler(this,{scope:"card"}),ne(this.onShortcut,{scope:C.Card})):(b.removeHandler(this),me(this.onShortcut,{scope:C.Card})))},t.prototype.remove=function(){return me(this.onShortcut),t.__super__.remove.apply(this,arguments)},t.prototype.onShortcut=function(e){var t,n,r,i,a,c,d,m,f,h;switch(c=o.isLoggedIn(),n=this.model.editable(),i=!!this.model.get("isTemplate"),d=this.onCalendar,a=L(e)){case g.Enter:return this.showDetail(),e.preventDefault(),pe("Keyboard Shortcuts","Enter - Open Card");case g.e:return this.openQuickCardEditor(),e.preventDefault(),pe("Keyboard Shortcuts","E - Open Quick Card Editor");case g.t:return u.showCardDetail(this.model,{runMethod:"editTitle",method:"via the T shortcut from card front"}),e.preventDefault(),pe("Keyboard Shortcuts","T - Open Card and Edit Title");case g.Dash:return u.showCardDetail(this.model,{runMethod:"onChecklistShortcut",method:"via the dash shortcut from card front"}),e.preventDefault(),pe("Keyboard Shortcuts","- - Add Checklist");case g.d:if(n&&!i)return this.showPopOver(p,{trackingCategory:"keyboard shortcut"}),e.preventDefault(),pe("Keyboard Shortcuts","D - Due Dates","On Board View");break;case g.l:if(n)return this.showPopOver(s,{hideOnSelect:!1}),e.preventDefault(),pe("Keyboard Shortcuts","L - Edit Labels","On Board View");break;case g.Zero:case g.One:case g.Two:case g.Three:case g.Four:case g.Five:case g.Six:case g.Seven:case g.Eight:case g.Nine:if(n)return h=this,r=function(e){return h.showPopOver(s,{searchInit:e,hideOnSelect:!0})},v.setLabelFromKey(a,this.model,r),e.preventDefault(),pe("Keyboard Shortcuts","0-9 - Toggle Specific Label");break;case g.a:case g.m:if(n&&!this.isOnBoardTemplate())return this.showPopOver(l),e.preventDefault(),pe("Keyboard Shortcuts","A - Assign Members","Board View");break;case g.Space:if(t=this.model.getBoard(),R=this.isOnBoardTemplate(),n&&!R&&(t.hasActiveMembership(o.me())||t.isEditableByTeamMemberAndIsNotABoardMember()))return f=function(e){return function(){return e.model.toggleMember(o.myId())}}(this),t.requestJoinBoard(f),e.preventDefault(),pe("Keyboard Shortcuts","Space - Toggle Assigning Self");break;case g.c:if(n)return this.model.close(),e.preventDefault(),pe("Keyboard Shortcuts","C - Archive Card");break;case g.AngleRight:case g.Period:if(n&&!d)return this.model.moveToNextList(a===g.AngleRight?"top":"bottom"),e.preventDefault(),pe("Keyboard Shortcuts","> - Move to Next List");break;case g.AngleLeft:case g.Comma:if(n&&!d)return this.model.moveToPrevList(a===g.AngleLeft?"top":"bottom"),e.preventDefault(),pe("Keyboard Shortcuts","< - Move to Previous List");break;case g.v:if(c&&!i)return this.model.toggleVote(),e.preventDefault(),pe("Keyboard Shortcuts","V - Vote");break;case g.s:if(c&&!this.isOnBoardTemplate())return m=this.model.get("subscribed"),this.model.subscribe(!m),e.preventDefault(),pe("Keyboard Shortcuts","S - Subscribe",m?"Unsubscribe":"Subscribe")}},t.prototype.showPopOver=function(e,t){return null==t&&(t={}),y.toggle({elem:this.$(".js-card-menu"),view:e,options:O.extend({model:this.model,modelCache:this.modelCache,hideOnSelect:!0},t)})},t.prototype.render=function(){var e,t,n,r,i,o,a,s,l;for(H("render","rendering card "+this.model.get("name")),(t=this.model.toJSON()).showCover=this.showCover(),t.showEditor=this.model.editable()&&!this.options.hideMenu,this.model.hasStickers()&&(t.hasStickers=!0),t.labels=this.labelsData(),e=this.model.getBoard(),t.members=[],n=(o=this.model.memberList.models).length-1;n>=0;n+=-1)(i=(r=o[n]).toJSON()).isVirtual=(null!=(a=e.getOrganization())?a.isVirtual(r):void 0)||e.isVirtual(r),i.isDeactivated=e.isDeactivated(r),t.members.push(i);return t.cover=this.model.get("cover"),this.model.get("idAttachmentCover")&&(t.attachmentCoverUrl=null!=(s=this.model.attachmentList.get(this.model.get("idAttachmentCover")))?s.get("url"):void 0),t.hideCover=!this.model.getBoard().getPref("cardCovers")||this.onCalendar,t.hasCover=this.model.hasCover(),this.$el.toggleClass("js-archive-card",this.model.get("closed")),this.showCover()&&this.model.hasCover()&&this.$el.addClass("is-covered"),this.model.hasStickers()&&this.$el.addClass("is-stickered"),this.$el.html(N(t)),this.renderName(),this.renderFiltered(),this.renderBadges(),this.renderCustomFieldItems(),this.renderDueComplete(),k.enqueue("render_"+this.cid,(l=this,function(){return l.renderPluginBadges(),l.renderActiveState(),l.renderCover(),l.renderStickers(),l.renderPowerUpEffects(),l.waitForId(l.model,(function(){return l.renderLink()})),l._droppableHookedSinceRender=!1,I(l)})),this},t.prototype.hookDroppable=function(){var e,t;a.isTouch()||null!=this.$el&&(this._droppableHookedSinceRender||(this._droppableHookedSinceRender=!0,a.isTouch()||(e=this.throttle((function(){return r(".board-canvas")[0].getBoundingClientRect()}),100,{trailing:!1}),this.$el.droppable({refreshPositions:!0,inBounds:function(t){var n,r,i;return(n=e()).left<=(r=t.pageX)&&r<n.right&&n.top<=(i=t.pageY)&&i<n.bottom},accept:(t=this,function(e){var n;return!!e.is(".js-list-draggable-board-members .member")||!!e.is(".js-draggable-sticker")&&!(null!=(n=t.model)&&"function"==typeof n.isOverLimit?n.isOverLimit("stickers","perCard"):void 0)}),hoverClass:"active-card",drop:function(e){return function(t,n){var r,i,o,a,s,l,c,d,u,p,m,f,h,g;n.draggable.hasClass("member")?(o=n.draggable.data("id"),n.draggable.clone(),e.model.memberList.detect((function(e){return e.id===o}))||(e.model.addMember(o),pe("Card","Add Member by Board Sidebar",void 0,e.model.trackProperty()))):n.draggable.hasClass("js-draggable-sticker")&&(d=n.draggable.data("sticker"),i=r=1,p=n.helper.offset(),m={top:e.$el.offset().top+i,left:e.$el.offset().left+r},f=e.$el.outerWidth()-r-1,s=p.left-m.left,l=p.top-m.top,a=s/f*100,u=e.$(".js-card-stickers").height(),(h=e.$el.hasClass("is-stickered")||e.$el.hasClass("is-covered")?l/u*100:0)>u&&(h=u),c=null!=(g=j.getElemTransformMatrix(n.helper.find(".sticker-select-fixed")))?j.getMatrixDegrees(g)%360:0,e.addNewStickerToList(d,a,h,c))}}(this)}))))},t.prototype.addNewStickerToList=E,t.prototype.showStickers=de,t.prototype.renderStickers=le,t.prototype.renderName=oe,t.prototype.renderLink=function(){var e;return e=u.getCardUrl(this.model),this.$el.attr("href",e),this},t.prototype.renderCustomFieldItems=re,t.prototype.renderPluginBadges=ae,t.prototype.showCover=ce,t.prototype.renderFiltered=function(e){var t,n;if(null==this.options.dontFilter)return null==this._visible&&(this._visible=!0),n=null==(t=this.model.getBoard())||!u.onBoardView(t.id)||!this.applyBoardCardFilter||t.filter.satisfiesFilter(this.model),this._visible!==n&&(this.$el.toggleClass("hide",!n).height(n?"":0),this._visible=n),this},t.prototype.renderDueComplete=ie,t.prototype.renderPowerUpEffects=se,t.prototype.openQuickCardEditor=K,t.prototype.labelClick=z,t.prototype.labelMouseEnter=V,t.prototype.labelMouseLeave=U,t.prototype.moveToCalendarDay=q,t.prototype.moveInCalendarDay=W,t.prototype.moveTo=G,t.prototype.moveIn=$,t.prototype.showDetail=function(e){if(!(e&&(e.ctrlKey||e.metaKey||e.shiftKey)||(j.stop(e),f.sorting)))return this.options.trackEvent&&this.options.trackEvent(),this.trackApdex&&i.start({task:"cardFromBoard",taskId:this.model.id}),u.showCardDetail(this.model,{runMethod:this.model.shouldSuggestDescription()?"expandDesc":void 0,method:"from card front"}),this.trackApdex?i.stop({task:"cardFromBoard",taskId:this.model.id}):void 0},t.prototype.dragenter=T,t.prototype.dragleave=P,t.prototype.dropFiles=B,t.prototype.dropUrl=D,t.prototype.scrollIntoView=function(){var e,t,n,r;return e=this.$el.closest("#board"),r=(n=(t=this.$el.closest(".js-list"))[0].getBoundingClientRect()).left+n.width-window.innerWidth,this.$el.closest(".js-list-cards").scrollTop(this.$el.position().top),n.left<0?e.animate({scrollLeft:t.position().left},150):r>0?e.animate({scrollLeft:e.scrollLeft()+r},150):void 0},t.prototype.updateRenderIntervalSubscription=function(){var e;if(!(this.model.get("due")||this.advancedChecklistsV2Enabled&&(null!=(e=this.model.get("badges"))?e.checkItemsEarliestDue:void 0)))return this.stopListening(m,"renderInterval",this.updateDateBadgesDebounced);this.listenTo(m,"renderInterval",this.updateDateBadgesDebounced)},t.prototype.handleLinkInCardNameClick=M,t.prototype.showTooltipForLinkInCardName=ue,t.prototype.hideTooltipForLinkInCardName=F,t}(S)},"./app/scripts/views/card/chunkArray.ts":function(e,t,n){"use strict";function r(e,t){if(!e.length||t<1)return[];for(var n=new Array(Math.ceil(e.length/t)),r=0;r<n.length;r++)n[r]=e.slice(r*t,r*t+t);return n}n.r(t),n.d(t,"chunkArray",(function(){return r}))},"./app/scripts/views/card/date-picker-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p,m,f,h,g,v,b,y,k,w,x,C,_,j,S={}.hasOwnProperty;i=n("./packages/atlassian-analytics/index.ts").Analytics,o=n("./app/scripts/db/auth.coffee"),r=n("./app/scripts/views/lib/alerts.coffee"),n("./app/scripts/controller/index.js"),n("./app/scripts/lib/dates.coffee"),n("./app/scripts/data/legacy-power-ups.coffee"),s=n("./app/scripts/views/lib/pop-over.coffee"),c=n("./app/scripts/lib/util/index.coffee"),d=n("./app/scripts/views/internal/view.coffee"),n("./app/scripts/lib/window-size.coffee"),n("./node_modules/underscore/underscore.js"),C=n("./app/scripts/views/templates/date_picker.coffee"),w=n("./packages/analytics/index.ts"),_=w.track,j=w.trackUe,x=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts").sendPluginTrackEvent,b=n("./node_modules/moment/moment.js"),l=n("./packages/storage/index.ts").TrelloStorage,v=n("./app/scripts/lib/localize.coffee"),m=n("./packages/config/index.ts").dontUpsell,f=n("./packages/feature-flag-client/index.ts").featureFlagClient,n("./node_modules/react/index.js"),n("./packages/react-dom-wrapper/index.ts"),n("./app/src/components/ComponentWrapper/index.ts").renderComponent,k=n("./app/scripts/views/_loaders/pikaday-loader.ts").pikadayLoader,a=n("./app/scripts/data/legacy-power-ups.coffee").calendar,h=function(){return{previousMonth:v("prev month button text"),nextMonth:v("next month button text"),months:b.months(),weekdays:b.weekdays(),weekdaysShort:b.weekdaysMin()}},y=["LT","h:mm A"],g=function(e){return b(e,y).isValid()},u=function(){return[{name:"no",text:v("due-date-custom-reminder.none"),value:-1},{name:"at time of due date",text:v("due-date-custom-reminder.at-time-of-due-date"),value:0},{name:"5 minutes before",text:v("due-date-custom-reminder.5-minutes-before"),value:5},{name:"10 minutes before",text:v("due-date-custom-reminder.10-minutes-before"),value:10},{name:"15 minutes before",text:v("due-date-custom-reminder.15-minutes-before"),value:15},{name:"1 hour before",text:v("due-date-custom-reminder.1-hour-before"),value:60},{name:"2 hours before",text:v("due-date-custom-reminder.2-hours-before"),value:120},{name:"1 day before",text:v("due-date-custom-reminder.1-day-before"),default:!0,value:1440},{name:"2 days before",text:v("due-date-custom-reminder.2-days-before"),value:2880}]},p=function(){return u().find((function(e){return e.default})).value},e.exports=function(e){function t(e){t.__super__.constructor.call(this,e),this.setDueDate=this.setDueDate.bind(this),this.onSaveClickHandler=this.onSaveClickHandler.bind(this),this.shouldEnableCalendar=this.shouldEnableCalendar.bind(this)}return function(e,t){for(var n in t)S.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.viewTitleKey="change due date",t.prototype.tagName="form",t.prototype.className="dpicker-widget u-clearfix",t.prototype.events={"click .js-remove-date":"removeDueDate","input .js-dpicker-time-input":"validateTimeInput","change .js-dpicker-time-input":"normalizeTimeInput",'click a[href="/business-class"]':function(){return _("Card Detail","Click Business Class Link","Date Picker PopOver")},submit:"onSaveClickHandler","click .js-enable-calendar-powerup":function(e){return e.preventDefault(),this.enableCalendarPowerUp()}},t.prototype.initialize=function(){return this.listenTo(this.model.getBoard(),"change:powerUps",this.renderCalendarPowerUp),this.trackViewed(),this.loadPikadayLibrary()},t.prototype.loadPikadayLibrary=function(){return null!=this.pikadayLoadPromise?this.pikadayLoadPromise:this.pikadayLoadPromise=k().then((e=this,function(t){return e.Pikaday=t}));var e},t.prototype.getSelectedDueDateMoment=function(){var e,t;return(e=this.picker.getMoment()).isValid()?(e.year()<1e3&&e.add(2e3,"years"),t=this.selectedTimeMoment(),e.hour(t.hour()).minute(t.minute())):null},t.prototype.submitDueDate=function(e,t){return null!=e?this.setDueDate(e.toDate(),t):this.removeDueDate()},t.prototype.setDueDate=function(e,n){var r,i,d,u;if(this.trackSetDueDate(e,n),t.lastDueDate=e,l.set("lastDueDateReminder_"+o.myId(),n),i={due:e.getTime(),dueReminder:n},null!=this.options.onError?this.model.update(i,this.options.onError):this.model.update(i),d=Math.round((e-Date.now())/c.getMs({days:1})),this.model.recordAction({type:"set-due-date",date:e.getTime(),reminder:-1===n?void 0:n}),d>=1&&(u=Math.round((e-b(e).startOf("day"))/c.getMs({minutes:1})),this.model.recordAction({type:"set-due-date",days:d,time:u,reminder:-1===n?void 0:n})),s.hide(),this.shouldEnableCalendar())return this.enableCalendarPowerUp(),(r=this.model.getBoard()).setPluginDataByKey(a,"board","shared","dateAutoEnabled",Date.now()),x({idPlugin:a,idBoard:r.id,idCard:this.model.id,event:{action:"autoEnabled",actionSubject:"powerUp",source:"datePickerInlineDialog",attributes:{dueDateCount:this.model.getBoard().countDueDates(),dueDateThreshold:f.get("ecosystem.auto-enable-calendar",0),trackingCategory:this.options.trackingCategory}}})},t.prototype.removeDueDate=function(){return this.trackRemoveDueDate(),this.model.get("due")&&this.model.update({due:null,dueReminder:-1}),s.hide()},t.prototype.trackSetDueDate=function(e,t){var n,r,o,a,s,l;return null==t&&(t=p()),r=this.options.trackingCategory,o=this.trackingContext(),"on card",s="with "+u().find((function(e){return e.value===t})).name+" custom notification",a=null==this.model.getDueDate()?"that did not have a due date":(null!=(l=this.model.getDueDate())?l.getTime():void 0)===e.getTime()?"that had the same due date":"that had a different due date",j(r,"saves","due date",s,a,"by clicking save button in the due date popover",o),n=this.model.getBoard(),i.sendTrackEvent({action:"set",actionSubject:"dueDate",containers:{card:{id:this.model.id},board:{id:n.id},organization:{id:n.get("idOrganization")}},source:"datePickerInlineDialog",attributes:{trackingCategory:this.options.trackingCategory}})},t.prototype.trackRemoveDueDate=function(){var e,t,n;return t=this.options.trackingCategory,n=this.trackingContext(),j(t,"removes","due date","from card","","by clicking remove button in the due date popover",n),e=this.model.getBoard(),i.sendTrackEvent({action:"removed",actionSubject:"dueDate",containers:{card:{id:this.model.id},board:{id:e.id},organization:{id:e.get("idOrganization")}},source:"datePickerInlineDialog",attributes:{trackingCategory:this.options.trackingCategory}})},t.prototype.trackViewed=function(){var e;return e=this.model.getBoard(),i.sendScreenEvent({name:"datePickerInlineDialog",containers:{card:{id:this.model.id},board:{id:e.id},organization:{id:e.get("idOrganization")}},attributes:{trackingCategory:this.options.trackingCategory}})},t.prototype.trackingContext=function(){var e,t,n;return{cardId:this.model.id,boardId:null!=(e=this.model.getBoard())?e.id:void 0,teamId:null!=(t=this.model.getBoard())&&null!=(n=t.getOrganization())?n.id:void 0}},t.prototype.renderCalendarPowerUp=function(){var e,t,n,r,i;t=this.$(".js-cal-enabled").addClass("hide"),e=this.$(".js-enable-cal").addClass("hide"),r=(n=this.model.getBoard()).isPowerUpEnabled("calendar"),i=n.owned()&&!r,r?t.removeClass("hide"):i&&e.removeClass("hide")},t.prototype.getSelectReminderSetting=function(){var e,t;return null!=(t=null!=(e=this.model.get("dueReminder"))?e:l.get("lastDueDateReminder_"+o.myId()))?t:p()},t.prototype.vigor=t.VIGOR.NONE,t.prototype.renderOnce=function(){var e,n,r,i,o,a;return e=this.model.getBoard(),n=b().add(1,"days").toDate(),r=null!=(i=null!=(o=this.model.getDueDate())?o:t.lastDueDate)?i:n,this.$el.html(C({canChangePowerUps:e.owned(),canEnableAdditionalPowerUps:e.canEnableAdditionalPowerUps(),upsellEnabled:!m,customReminderSettings:u(),selectedReminderSetting:this.getSelectReminderSetting()})),this.loadPikadayLibrary().then((a=this,function(){return a.picker=new a.Pikaday({field:a.$(".js-dpicker-date-input")[0],container:a.$(".js-dpicker-cal")[0],bound:!1,format:"l",firstDay:b.localeData().firstDayOfWeek(),i18n:h(),keyboardInput:!1}),a.picker.setDate(r),a.$timeInput().val(b(r).format("LT")),a.renderCalendarPowerUp()})),this},t.prototype.validateTimeInput=function(){return this.$timeInput().toggleClass("input-error",!this.isTimeInputValid())},t.prototype.normalizeTimeInput=function(){return this.$timeInput().val(this.selectedTimeMoment().format("LT")),this.validateTimeInput()},t.prototype.selectedTimeMoment=function(){return this.isTimeInputValid()?b(this.$timeInput().val(),y):b().hours(12).minutes(0)},t.prototype.$timeInput=function(){return this.$(".js-dpicker-time-input")},t.prototype.isTimeInputValid=function(){return g(this.$timeInput().val())},t.prototype.enableCalendarPowerUp=function(){var e;this.model.getBoard().enablePlugin(a).catch((e=this,function(t){return e.model.getBoard().disablePlugin(a),c.isJsonString(t.textStatus)&&"PLUGIN_NOT_ALLOWED"===JSON.parse(t.textStatus).error?r.show("plugin not allowed","error","addpluginerror",4e3):r.show("could not add plugin","error","addpluginerror",2e3)})),_("Card Detail","Enable Calendar via Due Date Menu"),j("card detail","enables","Power-Up","","","due date",a)},t.prototype.onSaveClickHandler=function(e){var t,n,r;return e.preventDefault(),t=this.getSelectedDueDateMoment(),r=parseInt(this.$(".js-custom-reminder").val()),n=isNaN(r)?p():r,this.submitDueDate(t,n)},t.prototype.shouldEnableCalendar=function(){var e,t,n;return!(e=this.model.getBoard()).isPowerUpEnabled("calendar")&&(!!e.canEnableAdditionalPowerUps()&&(!!this.model.editable()&&(!(e.isEnterpriseBoard()&&!(null!=(n=e.getEnterprise())?n.isPluginAllowed(a):void 0))&&(!e.getPluginDataByKey(a,"board","shared","dateAutoEnabled",null)&&(!!(t=f.get("ecosystem.auto-enable-calendar",0))&&!(e.countDueDates()<t))))))},t}(d)},"./app/scripts/views/card/quick-card-editor-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p,m,f,h,g,v,b,y,k,w,x,C,_,j,S,O,E,N={}.hasOwnProperty;r=n("./packages/jquery/index.js"),i=n("./app/scripts/views/card/card-copy-view.coffee"),o=n("./app/scripts/views/label/card-label-select-view.coffee"),a=n("./app/scripts/views/card/card-member-select-view.coffee"),s=n("./app/scripts/views/card/card-move-view.coffee"),l=n("./app/scripts/views/card/card-view-helpers.coffee"),c=n("./app/scripts/views/card/card-view-mixins.coffee"),d=n("./app/scripts/controller/index.js"),u=n("./app/scripts/views/card/date-picker-view.coffee"),C=n("./packages/keybindings/index.ts"),x=C.getKey,p=C.Key,_=C.registerShortcutHandler,h=C.Scope,E=C.unregisterShortcutHandler,k=n("./app/common/router/index.ts").defaultRouter,m=n("./app/scripts/views/lib/pop-over.coffee"),g=n("./app/scripts/views/stickers/sticker-edit-view.coffee"),v=n("./app/scripts/lib/util/index.coffee"),b=n("./app/scripts/views/internal/view.coffee"),y=n("./node_modules/underscore/underscore.js"),j=n("./app/scripts/views/internal/templates.coffee"),S=n("./packages/analytics/index.ts").track,w=n("./packages/feature-flag-client/index.ts").featureFlagClient,O=n("./app/scripts/views/card/SeparatorCard/SeparatorCard.ts").trackSeparator,f=function(e){function t(e){t.__super__.constructor.call(this,e),this.onShortcut=this.onShortcut.bind(this),_(this.onShortcut,{scope:h.Overlay})}return function(e,t){for(var n in t)N.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.className="quick-card-editor",t.prototype.isMouseDownOnOverlay=!1,t.open=function(e){var n,r,i;return this.close(),r=(n=e.$el).offset(),i={width:n.width(),left:r.left,top:r.top},this.current=new t({model:e.model,modelCache:e.modelCache}).render(i)},t.close=function(){var e;return null!=(e=this.current)&&e.closeEditor(),this.current=null},t.prototype.initialize=function(){var e;return this.makeDebouncedMethods("render","renderStickers","renderLabels","renderCover","renderBadges"),this.unsubscribeFromRouter=k.subscribe(this.onRouteChanged.bind(this)),this.routeWhenOpened=k.getRoute().routePath,this.listenTo(this.model,{"change:labels":this.renderLabelsDebounced,"change:idLabels":this.renderLabelsDebounced,"change:idAttachmentCover":this.renderCoverDebounced,"change:cover":this.renderCoverDebounced,"change:badges change:due change:subscribed change:isTemplate":this.renderBadgesDebounced}),this.listenTo(this.model.labelList,"add remove reset change",(e=this,function(){return e.renderLabelsDebounced()})),this.listenTo(this.model.memberList,"add remove reset",this.frameDebounce(this.renderMembers)),this.listenTo(this.model.stickerList,"add remove reset change sort",(function(){return this.renderStickersDebounced()}))},t.prototype.shouldRenderColorCover=function(){return null==this.colorCoversFlagEnabled&&(this.colorCoversFlagEnabled=w.get("remarkable.rmk-239",!1)),this.colorCoversFlagEnabled},t.prototype.shouldRenderFullCover=function(){return!1},t.prototype.onRouteChanged=function(e){if(e.routePath!==this.routeWhenOpened)return this.closeEditor()},t.prototype.remove=function(){return this.unsubscribeFromRouter(),E(this.onShortcut),t.__super__.remove.apply(this,arguments)},t.prototype.events={"keydown .js-edit-card-title":"quickCardEditKeydown","click .js-save-edits":"saveEdits","click .js-stop":"stopCard","click .js-edit-labels":"editLabels","click .js-edit-members":"editMembers","click .js-move-card":"moveCard","click .js-copy-card":"copyCard","click .js-edit-due-date":"editDueDate","click .js-archive":"archive","click .js-due-date-badge":"toggleDueDateComplete",click:"checkCloseEditor","click .js-close-editor":"closeEditor",mousedown:"mousedownOnOverlay"},t.prototype.showCover=function(){return this.model.getBoard().getPref("cardCovers")&&this.model.hasCover()},t.prototype.showStickers=function(){return!0},t.prototype.onShortcut=function(e){switch(x(e)){case p.Escape:return this.closeEditor(),S("Keyboard Shortcuts","Esc - Close Quick Card Editor","Quick Card Editor"),e.preventDefault();case p.Enter:return this.saveEdits(),S("Keyboard Shortcuts","Enter - Save Quick Card Edits","Quick Card Editor"),e.preventDefault()}},t.prototype.render=function(e){var t,i,o;return(i=this.model.toJSON()).labels=this.model.getLabels(),i.showCover=this.showCover(),i.hasStickers=this.model.hasStickers(),i.quickEdit=!0,i.members=[],i.isTemplate=this.model.isOnBoardTemplate(),i.isCardTemplate=!!this.model.get("isTemplate"),i.left=this.cLeft=e.left,i.top=this.cTop=e.top,i.width=this.cWidth=e.width,t=this.cWidth+this.cLeft+160,r(window).height(),t>r(window).width()&&(i.leftButtons=!0,this._usingLeftButtons=!0),this.$el.html(j.fill(n("./app/scripts/views/templates/quick_card_editor.coffee"),i,{})),this.renderStickers().renderCover().renderLabels().renderBadges().renderMembers().checkShowCover(),r("#chrome-container").append(this.$el),this.calcHeight(),this.focusInput(),this.defer((o=this,function(){return o.$(".quick-card-editor-buttons").addClass("fade-in")})),this.$(".js-edit-card-title").autosize(),this},t.prototype.calcHeight=function(){var e,t,n,i,o;o=r(window).height(),r(window).width(),n=this.$(".quick-card-editor-card").outerHeight(),this.cTop+n>o&&(i=o-n-8,this.$(".quick-card-editor-card").css({top:i})),(t=(e=this.$(".quick-card-editor-buttons")).outerHeight())+e.offset().top>o&&e.css({top:n-t})},t.prototype.renderStickers=function(){var e,t,n;return this.$(".sticker.moving, .sticker.rotating").length>0||(e=this.$(".js-card-stickers").empty(),n=function(){var e,n,r,i;for(i=[],e=0,n=(r=this.model.stickerList.models).length;e<n;e++)t=r[e],i.push(this.subview(g,t));return i}.call(this),this.appendSubviews(n,e),this.$(".list-card").toggleClass("is-stickered",this.model.hasStickers())),this},t.prototype.checkShowCover=function(){return this.$(".list-card").toggleClass("is-covered",this.showCover()).toggleClass("is-stickered",this.model.hasStickers()),this},t.prototype.focusInput=function(){return this.$(".js-edit-card-title").focus().select()},t.prototype.showPopOver=function(e,t,n,i){null==i&&(i={}),v.stop(e),m.toggle({elem:r(e.target).closest("a"),view:new t(y.extend({model:this.model,modelCache:this.modelCache},i)),alignRight:this._usingLeftButtons}),S("Quick Card Editor",n,void 0,this.model.trackProperty())},t.prototype.editLabels=function(e){return this.showPopOver(e,o,"Open Label Edit")},t.prototype.editMembers=function(e){return this.showPopOver(e,a,"Open Member Edit")},t.prototype.copyCard=function(e){return this.showPopOver(e,i,"Open Copy Card",{onCopy:this.closeEditor.bind(this)})},t.prototype.editDueDate=function(e){return this.showPopOver(e,u,"Open Due Date Edit",{trackingCategory:"quick card editor"}),this.openedDatePicker=!0},t.prototype.moveCard=function(e){var t;return t=this.closeEditor.bind(this),this.showPopOver(e,s,"Open Move Card",{onCommit:t})},t.prototype.archive=function(e){v.stop(e),this.model.close(),this.closeEditor(),S("Quick Card Editor","Archive",void 0,this.model.trackProperty())},t.prototype.quickCardEditKeydown=function(e){if(x(e)===p.Enter)return this.saveEdits(e)},t.prototype.saveEdits=function(e){var t;v.stop(e),(t=this.$(".js-edit-card-title").val().trim())===this.model.get("name")?this.closeEditor():""!==t?(this.model.update({name:t}),this.closeEditor(),S("Quick Card Editor","Save Name",void 0,this.model.trackProperty()),O(t,{category:"quick card editor",method:"by editing name"})):this.$(".js-edit-card-title").focus().select()},t.prototype.mousedownOnOverlay=function(e){this.isMouseDownOnOverlay=e.target===this.$el[0]},t.prototype.checkCloseEditor=function(e){this.isMouseDownOnOverlay&&(this.isMouseDownOnOverlay=!1,m.isVisible?m.hide():this.$(".sticker.editing").length>0?this.stopEditingStickers():this.closeEditor(e))},t.prototype.closeEditor=function(e){var t,n,r;this.remove(),m.hide(),S("Quick Card Editor","Close",void 0,this.model.trackProperty()),t="onBoardView"===w.get("ecosystem.auto-enable-calendar-popover","none"),(null!=(n=this.model.getBoard())?n.shouldRenderAutoEnableCalendarPopover():void 0)&&this.openedDatePicker&&t&&null!=(r=d.getCurrentBoardView())&&r.renderAutoEnableCalendarPopover(),this.openedDatePicker=!1},t.prototype.stopEditingStickers=function(){var e,t,n;for(e=0,t=(n=y.clone(this.model.stickerList.models)).length;e<t;e++)n[e].trigger("stopEditing")},t.prototype.stopCard=function(e){v.stopPropagation(e),m.hide()},t}(b),y.extend(f.prototype,c,l),e.exports=f},"./app/scripts/views/card/select-card-position.coffee":function(e,t,n){var r,i,o,a,s,l;r=n("./packages/jquery/index.js"),i=n("./app/scripts/db/model-loader.coffee"),o=n("./app/scripts/network/payloads.coffee"),n("./app/scripts/lib/util/index.coffee"),s=n("./node_modules/underscore/underscore.js"),l=n("./app/scripts/lib/localize.coffee"),a={renderValues:function(){var e,t,n,i,o,a,c;n=this.$(".js-select-board option:selected").val(),i=this.$(".js-select-list option:selected").val(),c=parseInt(this.$(".js-select-position option:selected").prop("index"),10)+1,t=(e=this.modelCache.get("Board",n)).get("name"),o=s.find(e.listList.models,(function(e){return e.id===i})),this.$(".js-board-value").text(t),null!=o?(a=o.get("name"),c=c.toString(),this.$(".js-list-value").text(a),this.$(".js-pos-value").text(c),this.$(".js-select-list,.js-select-position,.js-commit-position,.js-submit").removeAttr("disabled")):(this.$(".js-list-value").empty().append(r("<i></i>").text(l("no lists"))),this.$(".js-pos-value").empty().append(r("<i></i>").text(l("n/a"))),this.$(".js-select-list,.js-select-position,.js-commit-position,.js-submit").attr("disabled","disabled"))},updateBoardData:function(){var e,t,n,r,a,s,l;if(e=this.$(".js-select-board"),{},(t=e.find("option:selected").val())===this.model.getBoard().id){for(this._boardData=this.model.getBoard(),n=0,r=(s=this._boardData.listList.models).length;n<r;n++)(a=s[n]).cardCount=this._boardData.listList.get(a.id).openCards().length;this.updateListList()}else null!=t&&(this.$(".js-submit").attr("disabled","disabled"),i.loadBoardData(t,o.cardsAndListsMinimal).then((l=this,function(){return l._boardData=l.modelCache.get("Board",t),l.updateListList()})).done())},updateListList:function(){var e,t,n,i,o,a,s,l,c,d,u;for(t=this.$(".js-select-board"),n=this.$(".js-select-list").empty(),i=t.find("option:selected").val(),o=this.model.getList().id,a=i===this.model.getBoard().id?o:null!=(d=this._boardData.listList.at(0))?d.id:void 0,s=0,l=(u=this._boardData.listList.models).length;s<l;s++)c=u[s],e=r("<option>").val(c.id).appendTo(n),c.id===o?e.format("current list",{listName:c.get("name")}):e.text(c.get("name")),c.id===a&&e.attr("selected","selected");return this.updatePositionList()},updatePositionList:function(){var e,t,n,i,o,a,s,c,d,u,p,m,f,h,g,v;if(t=this.$(".js-select-list"),n=this.$(".js-select-position").empty(),null!=(s=t.find("option:selected").val())){for(g=(null!=(u=null!=(f=this._boardData.listList.get(s))?f:this._boardData.listList.at(0))?u.id:void 0)===this.model.getList().id,p=this._boardData.listList.get(s).cardList.length,g?(v=i=this.model.getList().openCards().indexOf(this.model),this.showCurrentPosition||(p-=1)):(i=-1,v=p),a=d=0,h=p;0<=h?d<=h:d>=h;a=0<=h?++d:--d)c=String(a+1),o=a===i?l("current position",{index:c}):c,m=0===a?"top":a===p?"bottom":u.calcPos(a),e=r("<option>").val(m).text(o).appendTo(n),a===v&&e.attr("selected","selected");this.$(".js-pos-value").text(String(v)),this.renderValues()}else this.renderValues()}},e.exports=a},"./app/scripts/views/card/should-fire-confetti.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"shouldFireConfetti",(function(){return i}));var r=["","","","","",""];function i(e){return r.some((function(t){return e.includes(t)}))}},"./app/scripts/views/card/uploading-link-view.coffee":function(e,t,n){var r,i={}.hasOwnProperty;r=n("./app/scripts/views/internal/view.coffee"),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.viewTitleKey="sending links",t.prototype.render=function(){return this.$el.html('<div class="spinner loading"></div>'),this},t}(r)},"./app/scripts/views/custom-field/custom-field-badge-view.coffee":function(e,t,n){var r,i,o,a,s,l,c={}.hasOwnProperty;i=n("./node_modules/underscore/underscore.js"),a=n("./app/scripts/views/internal/teacup-with-helpers.coffee")(),r=n("./app/scripts/views/internal/view.coffee"),l=n("./node_modules/xtend/immutable.js"),s=a.renderable((function(e){var t,n,r,i;return t=e.icon,n=e.name,r=e.text,i=e.type,null!=t&&a.icon(t,{class:"mod-quiet"}),a.span(".badge-text",(function(){return n&&"checkbox"!==i?a.text(n+": "+r):a.text(r)}))})),o={black:"field-color-black",blue:"field-color-blue",green:"field-color-green",orange:"field-color-orange",red:"field-color-red",yellow:"field-color-yellow",purple:"field-color-purple",pink:"field-color-pink",sky:"field-color-sky",lime:"field-color-lime","light-gray":"field-color-light-gray"},e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)c.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.tagName="div",t.prototype.className=function(){var e;return(e=this.getColorClass())?"badge field-color "+e:"badge"},t.prototype.initialize=function(e){this.customFieldItem=e.customFieldItem,this.customField=e.customField},t.prototype.getColorClass=function(){var e;return o[null!=(e=this.options.customFieldItem)?e.getColor():void 0]},t.prototype.renderBadge=function(e){return this.$el.html(s(e)),this.$el},t.prototype.render=function(){var e,t,n,r;return e=this.customField.toJSON(),t=this.customFieldItem.toJSON(),n="checkbox"===this.customField.get("type")?this.customField.icon():void 0,r=this.customFieldItem.getFrontBadgeText(),this.renderBadge(l(t,i.pick(e,"name","type"),{icon:n,text:r})),this},t}(r)},"./app/scripts/views/custom-field/custom-field-badges-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p={}.hasOwnProperty;s=n("./node_modules/underscore/underscore.js"),i=n("./app/scripts/views/custom-field/custom-field-badge-view.coffee"),o=n("./app/scripts/views/internal/plugins/plugin-runner.coffee"),c=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts").sendPluginViewedComponentEvent,d=n("./packages/analytics/index.ts").trackUe,a=n("./app/scripts/views/internal/view.coffee"),r=n("./packages/config/index.ts").customFieldsId,l=null,u=!1,e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)p.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.tagName="span",t.prototype.badgeView=i,t.prototype.idForBadge=function(e,t){var n;return n=[e.id,e.name,JSON.stringify(e.options)],t&&(n.push(t.id),t.idValue?n.push(t.idValue):n=n.concat([t.color,JSON.stringify(t.value)])),n.join(":")},t.prototype.render=function(){var e,t,n,r;return(e=this.model.getBoard()).id!==l&&(l=e.id,u=!1),n=e.customFieldList.map((r=this,function(e){var t,n;return(null!=(t=r.model.getCustomFieldItem(e.id))?t.showFrontBadge():void 0)?(n=r.idForBadge(e.toJSON(),t.toJSON()),r.subview(r.badgeView,r.model,{customFieldItem:t,customField:e},n)):null})),t=s.compact(n),this.ensureSubviews(t),t.length>0&&this.trackBadges(),this},t.prototype.trackBadges=function(){if(!u)return u=!0,d("board view","views","Power-Up","","","card-badges",r),o.getOrLoadPlugin(this.model.getBoard(),r).then((e=this,function(){return c({idPlugin:r,idBoard:e.model.getBoard().id,idCard:e.model.id,event:{componentType:"badge",componentName:"pupCardBadge",source:"boardScreen"}})}));var e},t}(a)},"./app/scripts/views/custom-field/custom-field-create-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p,m,f={}.hasOwnProperty;d=n("./node_modules/underscore/underscore.js"),i=n("./app/scripts/models/custom-field.coffee"),o=n("./app/scripts/views/custom-field/option-editor-view.coffee"),a=n("./app/scripts/views/lib/pop-over.coffee"),s=n("./node_modules/bluebird/js/browser/bluebird.js"),c=n("./app/scripts/views/internal/view.coffee"),l=n("./app/scripts/lib/util/index.coffee"),u=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("custom_fields"),m=n("./packages/analytics/index.ts").trackUe,r=n("./packages/config/index.ts").customFieldsId,p=u.renderable((function(e){var t,n,r,o;return o=e.selectedType,r=e.name,n=e.isDuplicate,t=e.cardFront,u.form((function(){return u.label({for:"field-create-type"},(function(){return u.format("type")})),u.select(".js-field-type-select",{id:"field-create-type",name:"type"},(function(){return i.types.forEach((function(e){return u.option({value:e,selected:o===e},(function(){return u.format(e)}))}))})),u.label({for:"field-create-name"},(function(){return u.format("name")})),u.input(".js-field-name-input",{autoselect:!0,class:u.classify({"is-invalid":n}),id:"field-create-name",maxlength:1e3,name:"name",required:!0,spellcheck:!0,type:"text",value:r}),u.p(".custom-field-error-message.js-duplicate-error",{class:u.classify({hide:!n})},(function(){return u.format("duplicate field")})),u.div(".js-options-container"),u.hr(),u.a(".js-toggle-field-display.custom-fields-settings-toggle",{href:"#"},(function(){if(u.format("show on front of card"),t)return u.icon("check")})),u.hr(),u.input(".primary.js-save-field",{disabled:0===r.length||n,type:"submit",value:u.l("create")})}))})),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)f.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.viewTitleKey="new field",t.prototype.events={"click .js-save-field":"createField","click .js-toggle-field-display":"toggleDisplay","input .js-field-name-input":"validateFieldName","change .js-field-type-select":"changeType"},t.prototype.initialize=function(){return this.cardFront=!0,this.board=this.options.board},t.prototype.isDuplicate=function(){var e,t,n,r;return e=null!=(t=this.name)?t:"",r=null!=(n=this.selectedType)?n:"checkbox",this.board.hasCustomField(r,e)},t.prototype.render=function(){var e,t;return e=this.isDuplicate(),this.$el.html(p({name:null!=(t=this.name)?t:"",isDuplicate:e,selectedType:this.selectedType,cardFront:this.cardFront})),"list"===this.selectedType&&(this.optionEditor=this.subview(o,this.model,{},"new-field-options-editor"),this.appendSubview(this.optionEditor,this.$(".js-options-container"))),this},t.prototype.changeType=function(e){return this.selectedType=this.$(e.target).val(),this.render()},t.prototype.validateFieldName=function(e){var t,n;return n=this.$(e.target).val().trim(),this.name=n,t=this.isDuplicate(),this.$(".js-save-field").prop("disabled",0===this.name.length||t),this.$(".js-field-name-input").toggleClass("is-invalid",t),this.$(".js-duplicate-error").toggleClass("hide",!t)},t.prototype.toggleDisplay=function(e){return l.stop(e),this.cardFront=!this.cardFront,this.render()},t.prototype.createField=function(e){var t,n,i,o,c,u,p;if(l.stop(e),u=(n=(t=this.$(e.target)).closest("form")).find(".js-field-type-select").val(),""!==(i=n.find(".js-field-name-input").val().trim()))return t.prop("disabled",!0),o={idModel:this.board.id,modelType:"board",name:i,pos:"bottom",type:u},"list"===u&&(o.options=this.optionEditor.getOptions()),m("card-detail","creates","custom fields definition",u,"","by clicking the save button",r),c=d.extend({},o,{display_cardFront:this.cardFront}),new s((p=this,function(e){return p.board.customFieldList.create(o,{requestData:c,success:e})})).then((function(){return a.popView()})).done()},t}(c)},"./app/scripts/views/custom-field/custom-field-delete-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d={}.hasOwnProperty;i=n("./app/scripts/views/lib/pop-over.coffee"),a=n("./app/scripts/views/internal/view.coffee"),o=n("./app/scripts/lib/util/index.coffee"),s=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("custom_fields"),c=n("./packages/analytics/index.ts").trackUe,r=n("./packages/config/index.ts").customFieldsId,l=s.renderable((function(e){var t;return t=e.name,s.div((function(){return s.p((function(){return s.format("delete warning")})),s.p((function(){return s.format("delete prompt",{fieldName:t})})),s.input(".js-field-name",{name:"name",type:"text",autofocus:!0,spellcheck:!0,placeholder:s.l("field name")}),s.div((function(){return s.button(".full.negate.js-delete-field.disabled",{disabled:!0},(function(){return s.format("delete field")}))}))}))})),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)d.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.viewTitleKey="delete field",t.prototype.initialize=function(){return this.customField=this.options.customField},t.prototype.events={"click .js-delete-field":"removeField","input .js-field-name":"validateName"},t.prototype.render=function(){return this.$el.html(l({name:this.customField.get("name")})),this},t.prototype.validateName=function(e){var t;return t=this.$(e.target).val()===this.customField.get("name"),this.$(".js-delete-field").toggleClass("disabled",!t).prop("disabled",!t)},t.prototype.removeField=function(e){return o.stop(e),this.customField.destroy(),c("card-detail","deletes","custom field definition",this.customField.get("type"),"","by clicking the delete button",r),i.hide()},t}(a)},"./app/scripts/views/custom-field/custom-field-edit-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p,m={}.hasOwnProperty;n("./node_modules/underscore/underscore.js"),i=n("./app/scripts/views/custom-field/custom-field-delete-view.coffee"),c=n("./packages/keybindings/index.ts").isSubmitEvent,o=n("./app/scripts/views/custom-field/option-editor-view.coffee"),a=n("./app/scripts/views/lib/pop-over.coffee"),l=n("./app/scripts/views/internal/view.coffee"),s=n("./app/scripts/lib/util/index.coffee"),d=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("custom_fields"),p=n("./packages/analytics/index.ts").trackUe,r=n("./packages/config/index.ts").customFieldsId,u=d.renderable((function(e){var t,n,r;return r=e.name,t=e.cardFront,n=e.isList,d.div((function(){return d.label({for:"name"},(function(){return d.format("name")})),d.input(".js-field-name",{name:"name",type:"text",autofocus:!0,spellcheck:!0,value:r}),d.p(".custom-field-error-message.hide.js-duplicate-error",(function(){return d.format("duplicate field")})),d.p(".quiet",(function(){return d.format("changing field name")})),d.div(".js-options-container"),n&&d.p(".quiet",(function(){return d.format("delete option warning")})),d.hr(),d.a(".js-toggle-field-display.custom-fields-settings-toggle",{href:"#"},(function(){if(d.format("show on front of card"),t)return d.icon("check")})),d.div((function(){return d.hr(),d.a(".quiet.js-delete-field",{href:"#"},(function(){return d.format("delete field")}))}))}))})),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)m.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.viewTitleKey=function(){return this.customField.isList()?"edit field":"rename field"},t.prototype.initialize=function(){return this.board=this.options.board,this.customField=this.options.customField,this.options=this.customField.get("options")},t.prototype.events={"click .js-delete-field":"removeField","click .js-toggle-field-display":"toggleDisplay","keydown .js-field-name":"handleEnter","input .js-field-name":"validateName","focusout .js-field-name":"saveOnBlur"},t.prototype.render=function(){var e;return this.$el.html(u({name:this.customField.get("name"),cardFront:null!=(e=this.customField.get("display"))?e.cardFront:void 0,isList:this.customField.isList()})),this.customField.isList()&&(this.optionEditor=this.subview(o,this.model,{customField:this.customField},this.customField.id+"-options-editor"),this.appendSubview(this.optionEditor,this.$(".js-options-container"))),this},t.prototype.handleEnter=function(e){if(c(e))return s.stop(e),this.$(e.target).blur()},t.prototype.validateName=function(e){var t,n,r;if(0!==(r=(t=this.$(e.target)).val().trim()).length)return n=r!==this.customField.get("name")&&this.board.hasCustomField(this.customField.get("type"),r),t.toggleClass("is-invalid",n),this.$(".js-duplicate-error").toggleClass("hide",!n);t.addClass("is-invalid")},t.prototype.saveOnBlur=function(e){var t,n;if((t=e.target.value.trim())!==this.customField.get("name")){if(n=this.customField.get("type"),0!==t.length&&!this.board.hasCustomField(n,t))return this.customField.update("name",t),p("card-detail","edits","custom field definition",n,"","by clicking the custom field definition",r);this.render()}},t.prototype.toggleDisplay=function(e){return s.stop(e),this.customField.toggleDisplay(),this.render()},t.prototype.removeField=function(e){return s.stop(e),a.pushView({elem:this.$(e.target),view:i,options:{model:this.model,modelCache:this.modelCache,customField:this.customField}})},t}(l)},"./app/scripts/views/custom-field/custom-fields-button-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u={}.hasOwnProperty;n("./node_modules/underscore/underscore.js"),n("./app/scripts/views/lib/confirm.coffee"),i=n("./app/scripts/views/custom-field/custom-field-create-view.coffee"),o=n("./app/scripts/views/custom-field/custom-field-edit-view.coffee"),a=n("./app/scripts/views/lib/pop-over.coffee"),l=n("./app/scripts/views/internal/view.coffee"),s=n("./app/scripts/lib/util/index.coffee"),c=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("custom_fields"),n("./packages/analytics/index.ts").trackUe,r=n("./packages/config/index.ts").customFieldsId,d=c.renderable((function(e){var t,n,r;return t=(r=null!=e?e:{}).canCreate,n=r.fields,c.div((function(){return 0===n.length&&t?(c.p((function(){return c.format("no custom fields")})),c.hr(),c.a(".custom-field.js-add-field",{href:"#"},(function(){return c.icon("add"),c.span(".custom-field-name",(function(){return c.format("new field")}))}))):c.ul((function(){if(n.map((function(e){return c.li(".custom-field.js-field",{href:"#",idCustomField:e.id},(function(){return c.icon(e.icon(),{class:"js-drag-handle draggable"}),c.a(".custom-field-name.js-edit-field",{href:"#"},(function(){return c.text(e.get("name"))}))}))})),t)return c.hr(),c.a(".custom-field.js-add-field",{href:"#"},(function(){return c.icon("add"),c.span(".custom-field-name",(function(){return c.format("new field")}))}))}))}))})),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)u.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.viewTitleKey="custom fields",t.prototype.initialize=function(){return this.board=this.options.board},t.prototype.render=function(){var e,t,n,i;return n=this.board.customFieldList.models,t=this.board.editable()&&this.board.isPluginEnabled(r)&&this.board.customFieldList.length<50,this.$el.html(d({canCreate:t,fields:n})),n.length>1&&(e=this.$(".js-field").first().closest("ul")).sortable({axis:"y",cursor:"move",delay:"75",distance:"5",handle:".js-drag-handle",tolerance:"pointer",placeholder:"field-list-option placeholder",items:".js-field",sort:function(t,n){var r,i;return r=e.parent().parent().offset().top,i=t.clientY-r,n.helper.css({top:i+"px"})},update:(i=this,function(e,t){var n,r;return n=t.item.attr("idCustomField"),r=t.item.parent().children().index(t.item),i.board.customFieldList.get(n).move(r)})}),this},t.prototype.events={"click .js-add-field":"createCustomField","click .js-edit-field":"editCustomField"},t.prototype.createCustomField=function(e){return s.stop(e),a.pushView({elem:this.$(e.target),view:i,options:{model:this.model,modelCache:this.modelCache,board:this.board}})},t.prototype.editCustomField=function(e){var t,n,r;return r=(t=this.$(e.target).closest(".js-field")).attr("idCustomField"),n=this.board.customFieldList.get(r),a.pushView({elem:t,view:o,options:{model:this.model,modelCache:this.modelCache,board:this.board,customField:n}})},t}(l)},"./app/scripts/views/custom-field/option-editor-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d={}.hasOwnProperty;a=n("./node_modules/underscore/underscore.js"),n("./app/scripts/views/lib/confirm.coffee"),r=n("./app/scripts/models/custom-field-item.coffee"),s=n("./packages/keybindings/index.ts").isSubmitEvent,n("./app/scripts/views/lib/pop-over.coffee"),o=n("./app/scripts/views/internal/view.coffee"),i=n("./app/scripts/lib/util/index.coffee"),l=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("custom_fields"),c=l.renderable((function(e){var t,n;return n=e.options,t=e.colors,l.div((function(){if(l.label(".js-option-list-label",(function(){return l.format("options")})),l.div(".js-option-list",(function(){return n.map((function(e){return l.div(".field-list-option.js-list-option",{idOption:e.cid||e.id},(function(){return l.a(".field-list-option-color-swatch.is-clickable.js-option-pick-color.field-color-"+(e.color||"none"),{href:"#"}),l.a(".option-value.js-option",{href:"#",title:e.value.text},(function(){return l.text(e.value.text)})),l.input(".option-value.js-option",{type:"text",value:e.value.text}),l.a(".icon-sm.icon-trash.js-remove-option",{href:"#"})}))}))})),l.div(".hide.js-option-color-picker",(function(){return l.label(".field-color-picker-label",(function(){return l.format("select a color")})),l.div({style:"margin-left: 4px"},(function(){return t.map((function(e){return l.a(".field-list-option-color-swatch.field-color.is-clickable.field-color-"+e.color+".js-palette-color",{"data-color":e.color})}))}))})),n.length<50)return l.input(".js-add-option",{type:"text",placeholder:l.l("add item")})}))})),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)d.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.initialize=function(){var e,t;return this.customField=this.options.customField,this.options=null!=(e=null!=(t=this.customField)?t.get("options"):void 0)?e:[]},t.prototype.events={"click .js-option-pick-color":"toggleColorPicker","click .js-palette-color":"pickColor","click a.js-option":"startEditOption","click .js-remove-option":"removeOption","keydown .js-add-option":"addOption","keydown input[type=text].js-option":"blurOnEnter","focusout input[type=text].js-option":"updateOption"},t.prototype.render=function(){var e,t,n,i,o;return n=function(){var e,n,i,o;for(o=[],e=0,n=(i=r.colors).length;e<n;e++)t=i[e],o.push({color:t});return o}(),i=this.options,this.customField&&(i=this.customField.optionList.models.map((function(e){return a.extend({cid:e.cid},e.toJSON())}))),this.$el.html(c({colors:n,options:i})),e=this.$(".js-option-list"),i.length>1&&e.sortable({axis:"y",cursor:"move",delay:"75",distance:"5",tolerance:"pointer",placeholder:"field-list-option placeholder",items:".js-list-option",sort:(o=this,function(e,t){var n,r,i;return n=o.$el.closest(".js-options-container").parent().offset().top,r=o.$el.find(".js-option-list-label").first().outerHeight(),i=e.clientY-n-r,t.helper.css({top:i+"px"})}),update:function(e){return function(t,n){var r,i,o;return r=n.item.attr("idOption"),i=n.item.parent().children().index(n.item),e.customField?e.customField.getOptionByCId(r).move(i):(o=a.findIndex(e.options,(function(e){return e.id===r})),e.options.splice(i,0,e.options.splice(o,1)[0]))}}(this)}),this},t.prototype.getOption=function(e){return a.find(this.options,(function(t){return t.id===e}))},t.prototype.getOptions=function(){return this.options.map((function(e,t){return e.new?{color:e.color,value:e.value,pos:1024*(t+1)}:a.omit(e,"pos","idCustomField")}))},t.prototype.toggleColorPicker=function(e){var t,n,r;if((n=this.$(".js-option-color-picker")).hasClass("hide")){if(!(t=this.$(e.target).closest(".js-list-option")).hasClass("editing"))return r=t.attr("idOption"),this.targetOption=r,n.insertAfter('.js-list-option[idOption="'+r+'"]').removeClass("hide");t.children("input.js-option").blur()}else this.render()},t.prototype.pickColor=function(e){var t,n;return t=e.target.dataset.color,n=this.targetOption,this.customField?this.customField.getOptionByCId(n).update("color",t):this.getOption(n).color=t,this.render()},t.prototype.startEditOption=function(e){var t;if(!(t=this.$(e.target).closest(".js-list-option")).hasClass("editing"))return t.addClass("editing"),t.children('input[type="text"].js-option').first().select()},t.prototype.updateOption=function(e){var t,n;return n=e.target.value.trim(),t=this.$(e.target).closest(".js-list-option").attr("idOption"),this.customField?this.customField.getOptionByCId(t).get("value").text!==n&&this.customField.getOptionByCId(t).update("value",{text:n}):this.getOption(t).value.text=n,this.render()},t.prototype.blurOnEnter=function(e){if(s(e))return this.$(e.target).blur()},t.prototype.removeOption=function(e){var t,n;return t=this.$(e.target).closest(".js-list-option").attr("idOption"),this.customField&&null!=(n=this.customField.getOptionByCId(t))&&n.destroy(),this.render()},t.prototype.addOption=function(e){var t,n;if(s(e)){if(i.stop(e),!(t=e.target.value.trim()))return;return this.customField?this.customField.optionList.create({value:{text:t},pos:"bottom"}):this.options.push({id:a.uniqueId("field-option_"),color:"none",new:!0,pos:((null!=(n=a.last(this.options))?n.pos:void 0)||0)+5,value:{text:e.target.value.trim()}}),e.target.value="",this.render(),this.$(".js-add-option").focus()}},t}(o)},"./app/scripts/views/directory/base-directory-view.coffee":function(e,t,n){var r,i,o,a,s,l={}.hasOwnProperty;r=n("./packages/jquery/index.js"),i=n("./node_modules/react/index.js"),o=n("./packages/react-dom-wrapper/index.ts"),a=n("./app/scripts/views/internal/react-root-component.tsx").ReactRootComponent,s=n("./app/scripts/views/internal/view.coffee"),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)l.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.initialize=function(){return null!=this.$reactRoot?this.$reactRoot:this.$reactRoot=r("<div></div>")},t.prototype.renderContent=function(){throw new Error("BaseDirectoryView renderContent method is not defined.")},t.prototype.getReactRoot=function(){return i.createElement(a,{},this.renderContent())},t.prototype.render=function(){return this.$el.append(this.$reactRoot),o.render(this.getReactRoot(),this.$reactRoot[0]),this},t}(s)},"./app/scripts/views/directory/business-class-upsell-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p,m,f,h,g={}.hasOwnProperty;u=n("./packages/atlassian-analytics/index.ts"),r=u.Analytics,d=u.getScreenFromUrl,n("./app/scripts/views/board-menu/board-add-to-team-view.js"),n("./app/scripts/controller/index.js"),n("./app/scripts/db/model-loader.coffee"),i=n("./app/src/components/FreeTrial/index.ts").PlanSelectionOverlay,o=n("./app/scripts/views/lib/pop-over.coffee"),a=n("./node_modules/react/index.js"),s=n("./packages/react-dom-wrapper/index.ts"),p=n("./app/src/components/ComponentWrapper/index.ts"),m=p.renderComponent,p.ComponentWrapper,f=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("business_class_upsell"),h=n("./packages/analytics/index.ts").trackUe,l=n("./app/scripts/lib/util/index.coffee"),c=n("./app/scripts/views/internal/view.coffee"),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)g.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.events={"click .js-business-class-upsell-upgrade":"upgradePrompt","click .js-business-class-upsell-close":"onClose"},t.prototype.upgradePrompt=function(e){var t,n;return l.stop(e),n=document.createElement("span"),t=this.model.getOrganization(),r.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:"pupLimitBCUpsellInlineDialog",containers:{organization:{id:t.id}}}),m(a.createElement(i,{orgId:t.id,onContinue:function(){return window.location.assign("/business-class")},onClose:function(){return s.unmountComponentAtNode(n),n.remove()}}),n)},t.prototype.onClose=function(e){return l.stop(e),h("Power-Up BC upgrade popover ad","close","Power-Up BC upgrade popover ad"),o.hide()},t.prototype.render=function(){return r.sendScreenEvent({name:"pupLimitBCUpsellInlineDialog",containers:{board:{id:this.model.id},organization:{id:this.model.get("idOrganization")}},attributes:{location:d()}}),this.$el.html(f.render((function(){return f.div(".content",(function(){return f.a(".icon-close.icon-lg.js-business-class-upsell-close",{href:"#"}),f.h5((function(){return f.format("get-unlimited-power-ups")})),f.p((function(){return f.format("need-more-than-one-power-up-per-board-go-unlimited-with-business-class")})),f.span(".small-link.js-business-class-upsell-upgrade",(function(){return f.format("try-for-14-days")}))}))}))),this},t}(c)},"./app/scripts/views/directory/directory-enabled-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u=function(e,t){for(var n in t)p.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},p={}.hasOwnProperty;c=n("./node_modules/underscore/underscore.js"),s=n("./app/common/components/power-up/index.tsx").PowerUpItemType,r=n("./app/scripts/views/directory/base-directory-view.coffee"),a=n("./app/scripts/views/directory/directory-plugin-item-view.coffee"),n("./app/scripts/views/internal/plugins/plugin-io-cache.coffee"),l=n("./node_modules/react/index.js"),d=n("./app/scripts/views/internal/recup-with-helpers.coffee")("directory_enabled"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.displayName="Directory Enabled Power-Ups",t.prototype.render=d.renderable((function(){return d.div(".directory-content-body",(function(){return d.div(".directory-listing")}))})),t}(l.Component),o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.displayName="Directory Enabled Power-Ups Empty State",t.prototype.render=d.renderable((function(){return d.div(".directory-content-body.directory-enabled-empty",(function(){return d.div(".directory-enabled-empty-text",(function(){return d.p((function(){return d.formatText("there-are-no-power-ups-enabled-for-this-board")})),d.p((function(){return d.formatText("get-started-with-these-great-power-ups")}))})),d.div(".directory-listing")}))})),t}(l.Component),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.eventSource=function(){return"boardDirectoryEnabledScreen"},t.prototype.initialize=function(e){return this.plugins=e.plugins,this.currentPage=e.currentPage,this.directoryView=e.directoryView,t.__super__.initialize.apply(this,arguments),this.listenTo(this.model,"change:idOrganization change:powerUps",this.frameDebounce(this.render)),this.listenTo(this.model.boardPluginList,"add remove reset",this.frameDebounce(this.render))},t.prototype.getPluginSuggestions=function(){var e;return e=this.directoryView.filterOutHiddenPlugins(this.plugins),c.sample(e,3)},t.prototype.renderContent=function(){return this.enabledPlugins=this.directoryView.getEnabledPlugins(),this.enabledPlugins.length?l.createElement(i):l.createElement(o)},t.prototype.render=function(){var e,n,r,i,o,l,d;return t.__super__.render.apply(this,arguments),(e=this.$el.find(".directory-listing")).empty(),this.enabledPlugins.length>0?(r=this.enabledPlugins,n=c.map(this.enabledPlugins,(d=this,function(e){return d.subview(a,d.model,{atomType:s.Description,currentPage:d.currentPage,plugin:e,directoryView:d.directoryView},e.id)})),this.appendSubviews(n,e)):(r=o=this.getPluginSuggestions(),l=c.map(o,function(e){return function(t){return e.subview(a,e.model,{atomType:s.Description,currentPage:e.currentPage,plugin:t,directoryView:e.directoryView},t.id)}}(this)),this.appendSubviews(l,e)),i=c.intersection(c.map(r,"id"),c.map(this.enabledPlugins,"id")),this.directoryView.trackScreenEvent(this.eventSource(),{totalListed:r.length,totalListedEnabled:i.length,totalEnabled:this.enabledPlugins.length,allPowerUpsEnabled:c.map(this.enabledPlugins,"id")},i),this},t}(r)},"./app/scripts/views/directory/directory-header-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p,m,f,h,g,v,b=function(e,t){for(var n in t)y.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},y={}.hasOwnProperty;n("./node_modules/underscore/underscore.js"),r=n("./app/scripts/db/auth.coffee"),i=n("./app/scripts/views/directory/base-directory-view.coffee"),o=n("./app/scripts/views/board-menu/board-add-to-team-view.js"),a=n("./app/scripts/controller/index.js"),f=n("./packages/config/index.ts").dontUpsell,d=n("./app/scripts/db/model-loader.coffee"),h=n("./app/scripts/views/internal/plugins/plugins-changed-signal.coffee"),u=n("./app/scripts/views/lib/pop-over.coffee"),p=n("./node_modules/react/index.js"),g=n("./app/scripts/views/internal/recup-with-helpers.coffee")("directory"),v=n("./packages/analytics/index.ts").trackUe,m=n("./app/scripts/lib/util/index.coffee"),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return b(t,e),t.prototype.displayName="Directory Business Class Banner",t.prototype.render=g.renderable((function(){var e,t,n;return n=this.props,e=n.onDismissClick,t=n.onUpgradeClick,g.div(".directory-business-class-banner",(function(){return g.div(".banner-content",(function(){return g.icon("business-class",{class:"icon-lg light"}),g.format("this-board-has-reached-its-power-up-limit-upgrade-to-business-class-to-enable-additional-power-ups")})),g.div(".buttons-container",(function(){return g.a(".dismiss-link",{href:"#",onClick:e},(function(){return g.format("dismiss")})),g.a(".button-link.mod-upgrade",{href:"#",onClick:t},(function(){return g.format("upgrade")}))}))}))})),t}(p.Component),l=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return b(t,e),t.prototype.displayName="Directory Header",t.prototype.render=g.renderable((function(){var e,t,n,r,i;return t=this.props,r=t.title,n=t.showBackButton,e=t.navigateBack,i=t.toggleNavigationMenu,g.div(".directory-header",(function(){return g.div(".directory-header-toolbar",(function(){return g.h2(".directory-header-toolbar-title",(function(){return g.format(r)})),g.div(".directory-header-toolbar-left",(function(){return g.a(".icon-lg.icon-back.dark-hover.directory-back-btn",{href:"#",onClick:e,class:g.classify({hide:!n})}),g.a(".directory-hamburger",{href:"#",onClick:i},(function(){return g.text("")}))})),g.div(".directory-header-toolbar-right",(function(){return g.a(".icon-lg.icon-close.dark-hover.js-close-directory",{href:"#"})}))}))}))})),t}(p.Component),c=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return b(t,e),t.prototype.render=g.renderable((function(){var e,t,n,r,i,o,a,c;return r=this.props,o=r.title,i=r.showBackButton,e=r.navigateBack,a=r.toggleNavigationMenu,c=r.upsellEnabled,n=r.onUpgradeClick,t=r.onDismissClick,g.div((function(){if(g.tag(l,{title:o,showBackButton:i,navigateBack:e,toggleNavigationMenu:a}),c)return g.tag(s,{onUpgradeClick:n,onDismissClick:t})}))})),t}(p.Component),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return b(t,e),t.prototype.initialize=function(e){return this.directoryView=e.directoryView,t.__super__.initialize.apply(this,arguments),this.listenTo(this.model,{"change:powerUps":this.render}),this.listenTo(this.model.boardPluginList,{"add remove reset":this.render}),this.subscribe(h(this.model),(n=this,function(){return n.render()}));var n},t.prototype.onUpgradeClick=function(e){if(m.stop(e),v("Power-Up BC upgrade banner","clicks","upgrade button"),this.model.owned()){if(!this.model.hasOrganization())return d.loadMyOrganizations(),u.toggle({autoPosition:!0,elem:e.target,getViewTitle:function(){return"Upgrade to Business Class"},view:new o({model:this.model})});window.location=a.getBoardPowerUpsUpgradeUrl(this.model)}else window.location="/business-class"},t.prototype.onDismissClick=function(e){return m.stop(e),v("Power-Up BC upgrade","closes","Power-Up BC upgrade banner"),r.me().dismissAd("DirectoryBusinessClassBanner"),this.manuallyDismissed=!0,this.render(),this.directoryView.setBodyHeight(this.manuallyDismissed)},t.prototype.renderContent=function(){var e,t,n,i,o,a,s,l,d,u;return e=(o=this.directoryView).category,l=o.section,n=o.idPlugin,t=o.history,d="power-ups",null!=(s=o.search)&&s.length?d="power-ups":null!=e?d=e:null!=l&&(d=l),i=null!=(a=this.model.getOrganization())?a.isPremium():void 0,p.createElement(c,{title:d,upsellEnabled:!(this.model.canEnableAdditionalPowerUps()||i||this.manuallyDismissed||r.me().isAdDismissed("DirectoryBusinessClassBanner")||f),showBackButton:null!=l||null!=n||t.length,navigateBack:(u=this,function(){return u.directoryView.navigateBack()}),onUpgradeClick:function(e){return function(t){return e.onUpgradeClick(t)}}(this),onDismissClick:function(e){return function(t){return e.onDismissClick(t)}}(this),toggleNavigationMenu:function(e){return function(){return e.directoryView.toggleNavigationMenu()}}(this)})},t}(i)},"./app/scripts/views/directory/directory-home-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p,m,f=function(e,t){for(var n in t)h.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},h={}.hasOwnProperty;d=n("./node_modules/underscore/underscore.js"),l=n("./app/common/components/power-up/index.tsx").PowerUpItemType,n("./packages/jquery/index.js"),r=n("./app/scripts/views/directory/base-directory-view.coffee"),a=n("./app/scripts/views/directory/directory-plugin-item-view.coffee"),c=n("./node_modules/react/index.js"),m=n("./app/scripts/views/internal/recup-with-helpers.coffee")("directory_home"),s=n("./app/src/components/PowerUpDirectory/JSWCrossflowBanner.tsx").JSWCrossflowBanner,i=n("./app/src/components/PowerUpDirectory/ConfluenceCrossflowBanner.tsx").ConfluenceCrossflowBanner,p=n("./app/scripts/views/board/touchpoint-jsw-experiment-activation.js").isPowerUpStoreActive,u=n("./app/scripts/views/board/touchpoint-confluence-experiment-activation.js").isPowerUpStoreActive,o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return f(t,e),t.prototype.displayName="Directory Home",t.prototype.render=m.renderable((function(){var e,t;return e=null!=(t=this.props)?t.boardId:void 0,m.div((function(){return m.div(".directory-content-body",(function(){return p()?m.div(".directory-crossflow-wrapper",(function(){return m.tag(s,{boardId:e})})):u()&&m.div(".directory-crossflow-wrapper",(function(){return m.tag(i,{boardId:e})})),m.div(".directory-heading-wrapper",(function(){return m.h2((function(){return m.formatText("featured-power-ups")}))})),m.div(".directory-featured-powerups.js-featured-power-ups-container"),m.div(".directory-heading-wrapper",(function(){return m.h2((function(){return m.formatText("essential-power-ups")}))})),m.div(".directory-featured-powerups.js-essential-power-ups-container"),m.div(".directory-heading-wrapper",(function(){return m.h2((function(){return m.formatText("other-great-power-ups")}))})),m.div(".directory-featured-powerups.js-other-power-ups-container")}))}))})),t}(c.Component),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return f(t,e),t.prototype.initialize=function(e){return this.directoryView=e.directoryView,this.currentPage=e.currentPage,t.__super__.initialize.apply(this,arguments)},t.prototype.eventSource=function(){return"boardDirectoryFeaturedScreen"},t.prototype.renderContent=function(){return c.createElement(o,{boardId:this.model.id})},t.prototype.getPluginsByTags=function(e){return d.filter(this.directoryView.plugins,(function(t){return d.every(e,(function(e){return d.contains(t.get("tags"),e)}))}))},t.prototype.getFeaturedPlugins=function(){return null!=this.featuredPlugins?this.featuredPlugins:this.featuredPlugins=this.getPluginsByTags(["featured"])},t.prototype.getEssentialPlugins=function(){return null!=this.essentialPlugins?this.essentialPlugins:this.essentialPlugins=this.getPluginsByTags(["essential"])},t.prototype.getOtherPowerUps=function(){var e;return e=d.filter(this.directoryView.plugins,(function(e){var t;return!d.contains(e.get("tags"),"featured")&&!d.contains(e.get("tags"),"essential")&&!("hidden"===(t=e.get("moderatedState"))||"moderated"===t)})),d.sample(e,12)},t.prototype.render=function(){var e,n,r,i,o,s,c,u,p,m;return t.__super__.render.apply(this,arguments),o=this.directoryView.filterOutHiddenPlugins(this.getFeaturedPlugins()),r=this.directoryView.filterOutHiddenPlugins(this.getEssentialPlugins()),p=this.getOtherPowerUps(),e=this.directoryView.getEnabledPlugins(),s=d.flatten([o,r,p]),i=d.map(o,(m=this,function(e){return m.subview(a,m.model,{atomType:l.Featured,currentPage:m.currentPage,plugin:e,directoryView:m.directoryView},e.id)})),n=d.map(r,function(e){return function(t){return e.subview(a,e.model,{atomType:l.Featured,currentPage:e.currentPage,plugin:t,directoryView:e.directoryView},t.id)}}(this)),u=d.map(p,function(e){return function(t){return e.subview(a,e.model,{atomType:l.Description,currentPage:e.currentPage,plugin:t,directoryView:e.directoryView},t.id)}}(this)),this.appendSubviews(i,this.$el.find(".js-featured-power-ups-container")),this.appendSubviews(n,this.$el.find(".js-essential-power-ups-container")),this.appendSubviews(u,this.$el.find(".js-other-power-ups-container")),c=d.intersection(d.map(s,"id"),d.map(e,"id")),this.directoryView.trackScreenEvent(this.eventSource(),{totalListed:s.length,totalListedEnabled:c.length,totalEnabled:e.length,allPowerUpsEnabled:d.map(e,"id")},c),this},t}(r)},"./app/scripts/views/directory/directory-legacy-power-ups.coffee":function(e,t,n){var r,i,o,a;r=n("./app/scripts/views/power-ups/calendar-settings-view.coffee"),i=n("./app/scripts/views/power-ups/card-aging-settings-view.coffee"),o=n("./app/scripts/data/legacy-power-ups.coffee"),a=n("./app/scripts/views/power-ups/voting-settings-view.coffee"),e.exports=[{name:"voting",settingsView:function(e){return new a({model:e})},id:o.voting},{name:"cardAging",settingsView:function(e){return new i({model:e})},id:o.cardAging},{name:"calendar",settingsView:function(e){return new r({model:e})},id:o.calendar}]},"./app/scripts/views/directory/directory-listing-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p,m,f,h,g,v,b,y=function(e,t){for(var n in t)k.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},k={}.hasOwnProperty,w=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};d=n("./node_modules/underscore/underscore.js"),r=n("./app/scripts/views/directory/base-directory-view.coffee"),m=n("./app/scripts/views/directory/directory-legacy-power-ups.coffee"),o=n("./app/scripts/views/directory/directory-plugin-item-view.coffee"),a=n("./app/scripts/lib/markdown/format.coffee"),n("./app/scripts/lib/localize.coffee"),s=n("./app/scripts/views/internal/plugins/plugin-io-cache.coffee"),l=n("./app/common/components/power-up/index.tsx").PowerUpItemType,v=n("./app/scripts/views/internal/recup-with-helpers.coffee"),b=v("directory"),g=v("power_up_item_details"),u=v("directory_data_consent"),f=n("./resources/images/directory/icons/notCompliant.svg"),p=n("./resources/images/directory/icons/compliant.svg"),c=n("./node_modules/react/index.js"),n("./node_modules/xtend/immutable.js"),h=n("./app/scripts/lib/plugins/plugin-validators.coffee"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return y(t,e),t.prototype.displayName="Directory Listing",t.prototype.render=b.renderable((function(){var e,t,n,r,i,o,s,l,c;return l=this.props,c=l.supportEmail,t=l.description,n=l.displayName,i=l.isGrandfathered,r=l.isCompliant,s=l.privacyPolicy,e=l.categories,o=l.onCategoryClick,l.showSupportEmail,b.div(".directory-individual-listing",(function(){return b.div(".js-directory-listing"),c?b.div(".directory-listing-support",(function(){return b.div(".support-list",(function(){if(b.icon("email",{class:"icon-lg"}),b.a(".support-link",{href:"mailto:"+c+"?subject="+n},(function(){return b.format("contact-support")})),h.isValidHttp(s))return b.icon("information",{class:"icon-lg"}),b.a(".support-link",{href:s},(function(){return b.format("privacy-policy")}))}))})):b.div(".directory-listing-categories",(function(){return b.icon("information",{class:"icon-lg"}),b.div(".categories-list",(function(){return d.map(e,(function(e){return b.a(".category-link",{href:"#",onClick:function(){return o(e)}},(function(){return b.format(e)}))}))}))})),i&&b.p(".power-up-grandfathered",(function(){return g.format("power-up-was-enabled-on-this-board-before-some-recent-changes-we-made",{name:n}),b.text(" ")})),b.div(".directory-listing-content.markeddown",(function(){return b.raw(a.markdownAsHtml(t))})),b.div(".directory-listing-compliance",(function(){var e;return e=!1===r?f:p,u.img(".directory-listing-compliance-icon",{src:e,alt:"",role:"presentation"}),!1===r?u.format("power-up-does-not-comply-with-our-data-privacy-standards",{pluginName:n}):!0===r?u.format("power-up-stores-data-complies-with-our-data-privacy-standards",{pluginName:n}):u.format("power-up-complies-with-our-data-privacy-standards",{pluginName:n})}))}))})),t}(c.Component),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return y(t,e),t.prototype.className="directory-listing-wrapper",t.prototype.eventSource=function(){return"boardDirectoryPowerUpDetailsScreen"},t.prototype.initialize=function(e){var n,r;if(this.directoryView=e.directoryView,this.plugin=e.plugin,this.currentPage=e.currentPage,t.__super__.initialize.apply(this,arguments),r=d.findWhere(m,{id:this.plugin.id}))return n=r.name,this.isGrandfathered=w.call(this.model.get("powerUps"),n)>=0},t.prototype.navigateToCategory=function(e){return this.directoryView.navigate({section:"category",category:e})},t.prototype.renderContent=function(){var e,t;return e=s.get(this.plugin),c.createElement(i,{displayName:e.getName(),description:e.getDescription(),supportEmail:this.plugin.get("supportEmail"),privacyPolicy:this.plugin.get("privacyUrl"),categories:this.plugin.get("categories"),isGrandfathered:this.isGrandfathered,onCategoryClick:(t=this,function(e){return t.navigateToCategory(e)}),isCompliant:this.plugin.get("isCompliantWithPrivacyStandards")})},t.prototype.render=function(){var e;return t.__super__.render.apply(this,arguments),this.appendSubview(this.subview(o,this.model,{atomType:l.Listing,plugin:this.plugin,currentPage:this.currentPage,directoryView:this.directoryView},this.plugin.id),this.$(".js-directory-listing")),e=this.directoryView.getEnabledPlugins(),this.directoryView.trackScreenEvent(this.eventSource(),{powerUpId:this.plugin.id,isEnabled:!!d.some(e,{id:this.plugin.id})}),this},t}(r)},"./app/scripts/views/directory/directory-page-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d=function(e,t){for(var n in t)u.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},u={}.hasOwnProperty;l=n("./node_modules/underscore/underscore.js"),a=n("./app/common/components/power-up/index.tsx").PowerUpItemType,r=n("./app/scripts/views/directory/base-directory-view.coffee"),o=n("./app/scripts/views/directory/directory-plugin-item-view.coffee"),s=n("./node_modules/react/index.js"),c=n("./app/scripts/views/internal/recup-with-helpers.coffee")("directory"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return d(t,e),t.prototype.displayName="Directory Page",t.prototype.render=c.renderable((function(){return c.div(".directory-content-body",(function(){return c.div(".directory-listing")}))})),t}(s.Component),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return d(t,e),t.prototype.eventSource=function(){var e;return"custom"===(e=this.options.title)?"boardDirectoryCustomScreen":"made-by-trello"===e?"boardDirectoryMadeByTrelloScreen":"boardDirectoryCategoryScreen"},t.prototype.renderContent=function(){return s.createElement(i,{title:this.options.title})},t.prototype.render=function(){var e,n,r,i,s,c,d,u,p,m,f,h;return t.__super__.render.apply(this,arguments),(e=this.$el.find(".directory-listing")).empty(),p=(m=this.options).plugins,n=m.currentPage,r=m.directoryView,f=m.title,u=l.map(p,(h=this,function(e){return h.subview(o,h.model,{atomType:a.Description,currentPage:n,plugin:e,directoryView:r},e.id)})),this.appendSubviews(u,e),i=r.getEnabledPlugins(),d=l.intersection(l.map(p,"id"),l.map(i,"id")),c={totalListed:p.length,totalListedEnabled:d.length,totalEnabled:i.length,allPowerUpsEnabled:l.map(i,"id"),listedPowerUpsEnabled:d},s=this.eventSource(),"custom"!==f&&(c.categoryid=f),r.trackScreenEvent(s,c),this},t}(r)},"./app/scripts/views/directory/directory-plugin-enable-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p,m,f,h,g,v,b,y,k,w,x,C,_,j,S,O={}.hasOwnProperty,E=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};h=n("./node_modules/underscore/underscore.js"),n("./packages/atlassian-analytics/index.ts").Analytics,x=n("./app/common/components/power-up/index.tsx"),d=x.PowerUp,u=x.PowerUpItemType,g=n("./app/scripts/data/directory.coffee").atlassianPowerUps,r=n("./app/scripts/views/lib/alerts.coffee"),o=n("./app/scripts/views/directory/base-directory-view.coffee"),w=n("./app/scripts/views/internal/recup-with-helpers.coffee"),v=w("directory_data_consent"),k=n("./resources/images/directory/icons/notCompliant.svg"),b=n("./resources/images/directory/icons/compliant.svg"),y=n("./app/scripts/views/directory/directory-legacy-power-ups.coffee"),l=n("./app/scripts/views/internal/plugins/plugin-io-cache.coffee"),c=n("./app/scripts/views/internal/plugins/plugin-runner.coffee"),n("./node_modules/react/index.js"),C=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts").sendPluginTrackEvent,_=w("directory_power_up_item"),j=n("./packages/analytics/index.ts").trackUe,f=n("./app/scripts/lib/util/index.coffee"),S=n("./node_modules/xtend/immutable.js"),a=v.renderable((function(e){var t;return t=e.pluginName,v.div((function(){return v.p((function(){return v.format("by-you-clicking-add",{pluginName:t})})),v.ul((function(){return v.li((function(){return v.format("access-this-board")})),v.li((function(){return v.format("add-content-to-this-board-such-as-attachments-to-cards")})),v.li((function(){return v.format("take-actions-on-this-board-such-as-moving-sorting-filtering-cards-or-lists")})),v.li((function(){return v.format("access-user-information-such-as-username-avatar-initials-and-full-name-for-users-on-this-board")}))}))}))})),p=v.renderable((function(e){var t,n;return t=e.pluginName,(n=e.privacyPolicyUrl)?v.format("for-more-information-please-see-power-ups-privacy-policy",{pluginName:t,privacyPolicyUrl:n}):v.format("for-more-information-please-see-power-ups-privacy-practices",{pluginName:t})})),i=v.renderable((function(e){var t,n;return t=e.pluginName,n=e.privacyPolicyUrl,v.div(".directory-data-consent",(function(){return v.p((function(){return v.format("power-up-is-developed-and-maintained-by-another-company-within-the-atlassian-corporate-family",{pluginName:t})})),v.tag(a,{pluginName:t}),v.tag(p,{pluginName:t,privacyPolicyUrl:n})}))})),s=v.renderable((function(e){var t,n;return n=e.pluginName,t=e.isCompliant,v.div(".directory-compliance",(function(){return v.p((function(){var e;return e=!1===t?k:b,v.img(".directory-compliance-icon",{src:e,alt:"",role:"presentation"}),!1===t?v.format("power-up-does-not-comply-with-our-data-privacy-standards",{pluginName:n}):!0===t?v.format("power-up-stores-data-complies-with-our-data-privacy-standards",{pluginName:n}):v.format("power-up-complies-with-our-data-privacy-standards",{pluginName:n})}))}))})),m=v.renderable((function(e){var t,n,r,i;return r=e.pluginName,i=e.privacyPolicyUrl,n=e.isPublic,t=e.isCompliant,v.div(".directory-data-consent",(function(){return v.p((function(){return v.format("power-up-is-not-developed-or-maintained-by-trello",{pluginName:r})})),n&&v.tag(s,{pluginName:r,isCompliant:t}),v.tag(a,{pluginName:r}),v.tag(p,{pluginName:r,privacyPolicyUrl:i})}))})),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)O.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.className="directory-listing-wrapper",t.prototype.eventSource=function(){return"powerUpAddDetailsScreen"},t.prototype.initialize=function(e){var n,r;if(this.directoryView=e.directoryView,this.plugin=e.plugin,this.currentPage=e.currentPage,t.__super__.initialize.apply(this,arguments),this.io=l.get(this.plugin),this.pluginDetails={isLegacy:(r=this.plugin.id,E.call(h.pluck(y,"id"),r)>=0)},this.pluginDetails.isLegacy)return n=h.findWhere(y,{id:this.plugin.id}),this.pluginDetails=S(this.pluginDetails,n)},t.prototype.isGrandfathered=function(){var e;return this.pluginDetails.isLegacy&&(e=this.pluginDetails.name,E.call(this.model.get("powerUps"),e)>=0)},t.prototype.enable=function(e){var t,n;return f.stop(e),t=e.target,this.model.enablePlugin(this.plugin.id,h.contains(this.plugin.get("tags"),"promotional")).catch((n=this,function(e){return n.isGrandfathered()?n.model.pull("powerUps",n.pluginDetails.name):n.model.disablePlugin(n.plugin.id),f.isJsonString(e.textStatus)&&"PLUGIN_NOT_ALLOWED"===JSON.parse(e.textStatus).error?r.show("plugin not allowed","error","addpluginerror",4e3):r.show("could not add plugin","error","addpluginerror",2e3)})),j(this.currentPage,"enables","Power-Up","","","enable button",this.plugin.id),this.io.supports("on-enable")?c.one({plugin:this.plugin,command:"on-enable",board:this.model,el:t}).catch(function(e){return function(t){return"undefined"!=typeof console&&null!==console?console.warn("Failed to handle on-enable command.",{error:t.message,id:e.plugin.id}):void 0}}(this)).finally(function(e){return function(){return e.pluginEnabled()}}(this)):this.pluginEnabled()},t.prototype.pluginEnabled=function(){return C({idPlugin:this.plugin.id,idBoard:this.model.id,event:{action:"added",actionSubject:"powerUp",attributes:{installSource:"boardDirectory"},source:"addPowerUpButton"}}),this.directoryView.navigate({idPlugin:this.plugin.id})},t.prototype.cancel=function(){return this.directoryView.navigateBack()},t.prototype.renderContent=_.renderable((function(){var e,t,n,r,o,a,s,l,c;return a=this.io.getName(),t=this.io.getIconUrl(),e=this.plugin.get("author"),s=this.plugin.get("privacyUrl"),l=this.plugin.id,n=E.call(g,l)>=0,o=this.plugin.get("public"),r=this.plugin.get("isCompliantWithPrivacyStandards"),_.div(".directory-individual-listing",(c=this,function(){return _.div(".directory-listing-powerup",(function(){return _.tag(d,{type:u.Listing,atomProps:{subtitle:e,icon:{url:t},name:a}})})),n?_.tag(i,{pluginName:a,privacyPolicyUrl:s}):_.tag(m,{pluginName:a,privacyPolicyUrl:s,isPublic:o,isCompliant:r}),_.div(".directory-enable-page-buttons",(function(){return _.button(".button.link",{onClick:c.cancel.bind(c)},(function(){return _.formatText("cancel")})),_.button(".button.primary",{onClick:c.enable.bind(c)},(function(){return _.formatText("add")}))}))}))})),t.prototype.render=function(){return t.__super__.render.apply(this,arguments),this.directoryView.trackScreenEvent(this.eventSource(),{powerUpId:this.plugin.id}),this},t}(o)},"./app/scripts/views/directory/directory-plugin-item-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p,m,f,h,g,v,b,y,k,w,x,C,_,j,S,O,E,N,T,P,B,D,I,A,L,M,F,R={}.hasOwnProperty,z=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};w=n("./node_modules/underscore/underscore.js"),T=n("./app/common/components/power-up/index.tsx"),h=T.PowerUp,g=T.PowerUpItemType,n("./packages/jquery/index.js"),i=n("./app/scripts/db/auth.coffee"),r=n("./app/scripts/views/lib/alerts.coffee"),o=n("./app/scripts/views/directory/base-directory-view.coffee"),a=n("./app/scripts/views/directory/business-class-upsell-view.coffee"),j=n("./packages/config/index.ts").dontUpsell,l=n("./app/scripts/views/lib/confirm.coffee"),c=n("./app/scripts/controller/index.js"),d=n("./app/scripts/views/custom-field/custom-fields-button-view.coffee"),x=n("./resources/images/directory/icons/customIcon.png"),C=n("./app/scripts/views/directory/directory-legacy-power-ups.coffee"),O=n("./packages/config/index.ts").firstPartyPluginsOrg,u=n("./app/scripts/lib/markdown/format.coffee"),n("./app/scripts/lib/localize.coffee"),n("./app/scripts/db/model-loader.coffee"),n("./app/scripts/views/internal/plugins/plugin-io.coffee"),p=n("./app/scripts/views/internal/plugins/plugin-io-cache.coffee"),m=n("./app/scripts/views/internal/plugins/plugin-runner.coffee"),E=n("./app/scripts/views/internal/plugins/plugins-changed-signal.coffee"),f=n("./app/scripts/views/lib/pop-over.coffee"),b=n("./node_modules/bluebird/js/browser/bluebird.js"),y=n("./node_modules/react/index.js"),P=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),B=P.sendPluginScreenEvent,I=P.sendPluginUIEvent,D=P.sendPluginTrackEvent,L=n("./app/scripts/views/internal/recup-with-helpers.coffee")("directory_power_up_item"),M=n("./packages/analytics/index.ts").trackUe,k=n("./app/scripts/lib/util/index.coffee"),n("./app/scripts/views/internal/view.coffee"),F=n("./node_modules/xtend/immutable.js"),s=n("./packages/config/index.ts").customFieldsId,v=n("./packages/test-ids/index.ts").PowerUpTestIds,N=L.renderable((function(e){var t,n,r,i,o,a,s,l,c,d;return n=e.authorize,r=e.disable,d=e.supportsSettings,l=e.showSettings,c=e.supportsAuth,i=e.hasPersonalSettings,a=e.removeData,t=e.authStatus,s=e.showListingOption,o=e.navigateToListing,L.ul(".pop-over-list",(function(){return s&&L.li({onClick:o},(function(){return L.a((function(){return L.format("view-power-up")}))})),c&&t&&!t.authorized?L.li({onClick:n},(function(){return L.a((function(){return L.format("authorize-account")}))})):(d&&L.li({onClick:l},(function(){return L.a((function(){return L.format("edit-power-up-settings")}))})),i&&L.li({onClick:a},(function(){return L.a((function(){return L.format("remove-personal-settings")}))}))),L.li({"data-test-id":v.DisablePowerUpLink,onClick:r},(function(){return L.a((function(){return L.format("disable")}))}))}))})),S=L.renderable((function(e){var t;return t=e.onClick,L.button(".button.primary.directory-enable-button",{onClick:t},(function(){return L.formatText("add")}))})),_=L.renderable((function(e){var t,n;return t=e.enterpriseDisplayName,n=L.l("this-power-up-was-disabled-by-the-enterprise",{enterpriseDisplayName:t}),L.button(".button.primary.directory-disabled-button.disabled",{title:n},(function(){return L.formatText("add")}))})),A=L.renderable((function(e){var t;return t=e.onClick,L.a(".button.directory-settings-button",{onClick:t},(function(){return L.icon("gear"),L.formatText("settings")}))})),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)R.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.className="directory-listing-powerup",t.prototype.initialize=function(e){var n,r;return this.plugin=e.plugin,this.currentPage=e.currentPage,this.directoryView=e.directoryView,t.__super__.initialize.apply(this,arguments),this.canEnable=this.model.editable(),this.initialData={canEnable:this.model.editable(),isLegacy:(r=this.plugin.id,z.call(w.pluck(C,"id"),r)>=0)},this.io=p.get(this.plugin),this.pluginDetails={displayName:this.io.getName(),description:this.io.getDescription(),iconUrl:this.io.getIconUrl(),overview:this.io.getOverview(),author:this.plugin.get("author"),moderatedState:this.plugin.get("moderatedState")},this.initialData.isLegacy&&(n=w.findWhere(C,{id:this.plugin.id}),this.pluginDetails=F(this.pluginDetails,n)),this.listenTo(this.model,"change:idOrganization change:powerUps",this.frameDebounce(this.render)),this.listenTo(this.model.boardPluginList,"add remove reset",this.frameDebounce(this.render)),this.listenTo(this.model,"cancel-add-to-team",(function(){return f.hide()})),this.subscribe(this.model.boardPluginList.snoop(),this.frameDebounce(this.render)),this.subscribe(E(this.model),this.frameDebounce(this.render))},t.prototype.events={click:function(e){if(this.options.atomType!==g.Listing)return this.$(e.target).is("a, button")||I({idPlugin:this.plugin.id,idBoard:this.model.id,event:{action:"clicked",actionSubject:"card",actionSubjectId:"powerUpCard",source:"boardDirectory"}}),this.navigateToListing(e)}},t.prototype.showListingOption=function(){return!1},t.prototype.navigateToListing=function(e){var t;if(!this.$(e.target).is("a, button"))return f.isVisible&&f.hide(),null!=(t=this.directoryView)?t.navigate({idPlugin:this.plugin.id}):void 0},t.prototype.enable=function(e){var t,n,i;k.stop(e),t=e.target,n=w.contains(this.plugin.get("tags"),"promotional"),this.model.canEnableAdditionalPowerUps()||n?this.plugin.get("idOrganizationOwner")===O?(this.model.enablePlugin(this.plugin.id,n).catch((i=this,function(e){return i.isGrandfathered()?i.model.pull("powerUps",i.pluginDetails.name):i.model.disablePlugin(i.plugin.id),k.isJsonString(e.textStatus)&&"PLUGIN_NOT_ALLOWED"===JSON.parse(e.textStatus).error?r.show("plugin not allowed","error","addpluginerror",4e3):r.show("could not add plugin","error","addpluginerror",2e3)})),this.io.supports("on-enable")&&m.one({plugin:this.plugin,command:"on-enable",board:this.model,el:t}).catch(function(e){return function(t){return"undefined"!=typeof console&&null!==console?console.warn("Failed to handle on-enable command.",{error:t.message,id:e.plugin.id}):void 0}}(this)),D({idPlugin:this.plugin.id,idBoard:this.model.id,event:{action:"added",actionSubject:"powerUp",attributes:{installSource:"boardDirectory"},source:"boardDirectory"}}),M(this.currentPage,"enables","Power-Up","","","enable button",this.plugin.id)):this.directoryView.navigate({idPlugin:this.plugin.id,isEnabling:!0}):(this.model.hasOrganization()&&c.getBoardPowerUpsUpgradeUrl(this.model),this.model.owned()||"/business-class",f.toggle({autoPosition:!0,hideHeader:!0,elem:t,view:new a({model:this.model}),displayType:"directory-business-class-popover"}))},t.prototype.isGrandfathered=function(){var e;return this.initialData.isLegacy&&(e=this.pluginDetails.name,z.call(this.model.get("powerUps"),e)>=0)},t.prototype.disable=function(e){var t,n,r;return this.isGrandfathered()?(r=this,n=function(){return r.model.pull("powerUps",r.pluginDetails.name)},(null!=(t=this.model.getOrganization())?t.isFeatureEnabled("plugins"):void 0)?n():l.pushView("disable power up",{elem:e,model:this.model,confirmBtnClass:"negate",fxConfirm:n})):this.io.supports("on-disable")?m.one({plugin:this.plugin,command:"on-disable",board:this.model,timeout:500}).finally(function(e){return function(){return e.model.disablePlugin(e.plugin.id)}}(this)):this.model.disablePlugin(this.plugin.id),D({idPlugin:this.plugin.id,idBoard:this.model.id,event:{action:"disabled",actionSubject:"powerUp",source:"pupConfigurationInlineDialog"}}),M(this.currentPage,"disables","Power-Up","","","disable button",this.plugin.id)},t.prototype.getEnabledState=function(){return this.initialData.isLegacy?this.model.isPowerUpEnabled(this.pluginDetails.name):this.model.isPluginEnabled(this.plugin.id)},t.prototype.hasPersonalSettings=function(){var e;return e=w.extend(i.me().getPluginData(this.plugin.id),this.model.getPluginData(this.plugin.id)),w.any(e,(function(e){return null!=e.private}))},t.prototype.showPowerUpSettings=function(e){var t;M(this.currentPage,"opens","Power-Up","","","edit-settings",this.plugin.id),I({idPlugin:this.plugin.id,idBoard:this.model.id,event:{action:"clicked",actionSubject:"option",actionSubjectId:"editSettingsOption",source:this.showListingOption()?"boardSidebarPupInlineDialog":"boardDirectoryPUpInlineDialog"}}),this.directoryView&&this.directoryView.trackScreenEvent("powerUpEditInlineDialog",{powerUpId:this.plugin.id}),this.initialData.isLegacy?f.pushView({elem:e,view:this.pluginDetails.settingsView(this.model),autoPosition:!0}):this.plugin.id===s?f.pushView({elem:e,view:d,autoPosition:!0,options:{board:this.model}}):m.one({plugin:this.plugin,command:"show-settings",board:this.model,el:e}).catch((t=this,function(e){return"undefined"!=typeof console&&null!==console?console.warn("Failed to handle show-settings.",{error:e.message,id:t.plugin.id}):void 0})).done()},t.prototype.showAuthorization=function(e){var t;M(this.currentPage,"opens","Power-Up","","","show-authorization",this.plugin.id),I({idPlugin:this.plugin.id,idBoard:this.model.id,event:{action:"clicked",actionSubject:"option",actionSubjectId:"authorizeAccountOption",source:this.showListingOption()?"boardSidebarPupInlineDialog":"boardDirectoryPUpInlineDialog"}}),m.one({plugin:this.plugin,command:"show-authorization",board:this.model,el:e}).then((t=this,function(){return B({idPlugin:t.plugin.id,idBoard:t.model.id,screenName:"pupAuthorizationInlineDialog"})})).catch(function(e){return function(t){return"undefined"!=typeof console&&null!==console?console.warn("Failed to handle show-authorization.",{error:t.message,id:e.plugin.id}):void 0}}(this)).done()},t.prototype.clearData=function(e){var t;I({idPlugin:this.plugin.id,idBoard:this.model.id,event:{action:"clicked",actionSubject:"option",actionSubjectId:"removeDataOption",source:this.showListingOption()?"boardSidebarPupInlineDialog":"boardDirectoryPUpInlineDialog"}}),l.pushView("clear plugin data",{elem:e,model:this.model,confirmBtnClass:"negate",fxConfirm:(t=this,function(e){return M(t.currentPage,"clicks","Power-Up","","","remove-data",t.plugin.id),t.io.supports("remove-data")?m.one({board:t.model,plugin:t.plugin,command:"remove-data",timeout:1e3}).finally((function(){return t.model.clearPluginData(t.plugin.id),i.me().clearPluginData(t.plugin.id)})):(t.model.clearPluginData(t.plugin.id),i.me().clearPluginData(t.plugin.id))})})},t.prototype.toggleOptions=function(e){var t,n,r;return k.stop(e),n=e.target,r=this,t=function(e){return w.bind(e,r,n)},M(this.currentPage,"opens","Power-Up","","","show-settings",this.plugin.id),this.directoryView&&this.directoryView.trackScreenEvent("pupConfigurationInlineDialog",{powerUpId:this.plugin.id}),b.props({supportsAuth:this.io.supports("show-authorization"),supportsSettings:this.pluginDetails.settingsView||this.io.supports("show-settings"),hasPersonalSettings:this.hasPersonalSettings()}).then(function(e){return function(t){return t.supportsAuth?m.one({timeout:1e3,plugin:e.plugin,command:"authorization-status",board:e.model}).then((function(e){return F(t,{authStatus:e})})).catch((function(n){return"undefined"!=typeof console&&null!==console&&console.warn("Failed to get authorization-status.",{error:n.message,id:e.plugin.id}),t})):t}}(this)).then(function(e){return function(r){return f.toggle({autoPosition:!0,getViewTitle:function(){return e.io.getName()},elem:n,reactElement:y.createElement(N,{key:e.plugin.id,disable:function(t){return f.hide(),e.disable(t)},authorize:t(e.showAuthorization),showSettings:t(e.showPowerUpSettings),removeData:t(e.clearData),supportsSettings:r.supportsSettings,supportsAuth:r.supportsAuth,hasPersonalSettings:r.hasPersonalSettings,authStatus:r.authStatus,showListingOption:e.showListingOption(),navigateToListing:t(e.navigateToListing)})}),B({idPlugin:e.plugin.id,idBoard:e.model.id,screenName:"pupConfigurationInlineDialog"})}}(this))},t.prototype.getButton=function(e){var t,n,r,i,o;if(n=null!=(r=this.model.getOrganization())?r.isPremium():void 0,!j&&!n||this.model.canEnableAdditionalPowerUps()||this.isEnabled||w.contains(this.plugin.get("tags"),"promotional"))return this.model.isEnterpriseBoard()&&null!=this.model.getEnterprise()&&!this.model.getEnterprise().isPluginAllowed(this.plugin.id)?y.createElement(_,{enterpriseDisplayName:null!=(i=this.model.getEnterprise())?i.get("displayName"):void 0}):(t="powerUpCard",e===g.Listing&&(t="boardDirectoryPowerUpDetailsScreen"),this.isEnabled?y.createElement(A,{onClick:(o=this,function(e){return I({idPlugin:o.plugin.id,idBoard:o.model.id,event:{action:"clicked",actionSubject:"button",actionSubjectId:"powerUpEditButton",source:t}}),o.toggleOptions(e)})}):y.createElement(S,{onClick:function(e){return function(n){return I({idPlugin:e.plugin.id,idBoard:e.model.id,event:{action:"clicked",actionSubject:"button",actionSubjectId:"powerUpAddButton",source:t}}),e.enable(n)}}(this)}))},t.prototype.renderContent=function(){var e,t,n,r,i,o,a,s;return t=(a=this.pluginDetails).author,i=a.iconUrl,r=a.displayName,n=a.description,o=a.overview,this.isEnabled=this.getEnabledState({id:this.plugin.id}),e=this.options.atomType||g.Basic,y.createElement(h,{type:e,atomProps:{subtitle:e===g.Listing?t:void 0,overview:u.markdownAsText(o||n),icon:{url:i||x},heroImageUrl:this.plugin.get("heroImageUrl"),name:r,button:this.getButton(e),usage:(null!=(s=this.plugin.get("usageBrackets"))?s.boards:void 0)||0,promotional:w.contains(this.plugin.get("tags"),"promotional"),staffPick:(this.plugin.get("tags")||[]).includes("staff-pick")}})},t.prototype.render=function(){return t.__super__.render.apply(this,arguments),this.$el.data("idPlugin",this.plugin.id),this},t}(o)},"./app/scripts/views/directory/directory-search-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d=function(e,t){for(var n in t)u.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},u={}.hasOwnProperty;l=n("./node_modules/underscore/underscore.js"),a=n("./app/common/components/power-up/index.tsx").PowerUpItemType,r=n("./app/scripts/views/directory/base-directory-view.coffee"),i=n("./app/scripts/views/directory/directory-plugin-item-view.coffee"),s=n("./node_modules/react/index.js"),c=n("./app/scripts/views/internal/recup-with-helpers.coffee")("directory"),o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return d(t,e),t.prototype.displayName="Directory Search",t.prototype.render=c.renderable((function(){return c.div(".directory-content-body",(e=this,function(){return e.props.isEmpty?c.div(".directory-search-empty",(function(){return c.p((function(){return c.formatText("bummer-no-search-results-for"),c.span((function(){return c.text('"'+e.props.searchTerm+'"')}))}))})):c.div(".directory-listing")}));var e})),t}(s.Component),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return d(t,e),t.prototype.eventSource=function(){return"boardDirectorySearch"},t.prototype.renderContent=function(){return s.createElement(o,{searchTerm:this.options.searchTerm,isEmpty:l.isEmpty(this.options.plugins)})},t.prototype.render=function(){var e,n,r,o,s,c,d,u,p;return t.__super__.render.apply(this,arguments),(e=this.$el.find(".directory-listing")).empty(),d=(u=this.options).plugins,n=u.currentPage,r=u.directoryView,u.searchTerm,c=l.map(d,(p=this,function(e){return p.subview(i,p.model,{atomType:a.Description,currentPage:n,plugin:e,directoryView:r},e.id)})),this.appendSubviews(c,e),o=r.getEnabledPlugins(),s=l.intersection(l.map(d,"id"),l.map(o,"id")),r.trackScreenEvent(this.eventSource(),{totalListed:d.length,totalListedEnabled:s.length,totalEnabled:o.length,allPowerUpsEnabled:l.map(o,"id")},s),this},t}(r)},"./app/scripts/views/directory/directory-sidebar-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p,m,f,h,g=function(e,t){for(var n in t)v.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},v={}.hasOwnProperty;c=n("./node_modules/underscore/underscore.js"),r=n("./app/scripts/views/directory/base-directory-view.coffee"),d=n("./app/common/lib/util/i18n/formatters.ts").asNumber,f=n("./packages/keybindings/index.ts"),p=f.getKey,a=f.Key,m=n("./app/scripts/views/internal/plugins/plugins-changed-signal.coffee"),l=n("./node_modules/react/index.js"),h=n("./app/scripts/views/internal/recup-with-helpers.coffee")("directory"),s=n("./packages/test-ids/index.ts").PowerUpTestIds,u=n("./app/scripts/data/directory.coffee").categories,o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return g(t,e),t.prototype.displayName="Directory Sidebar Placeholder",t.prototype.render=h.renderable((function(){return h.div((function(){return h.div(".directory-search",(function(){return h.div(".directory-navigation-option.placeholder")})),h.ul((function(){return h.li((function(){return h.div(".directory-navigation-option.placeholder")})),h.li((function(){return h.div(".directory-navigation-option.placeholder")})),h.li((function(){return h.div(".directory-navigation-option.placeholder")})),h.li(".directory-categories",(function(){return h.div(".directory-categories-heading.placeholder",(function(){})),h.ul(".directory-navigation-categories-list",(function(){return c.forEach(u,(function(e){return h.li((function(){return h.div(".directory-navigation-option.placeholder")}))}))}))}))}))}))})),t}(l.Component),i=function(e){function t(e){t.__super__.constructor.call(this,e),this.directorySearchInput=null,this.focusDirectorySearchInput=this.focusDirectorySearchInput.bind(this)}return g(t,e),t.prototype.displayName="Directory Sidebar",t.prototype.componentDidMount=function(){return this.focusDirectorySearchInput()},t.prototype.focusDirectorySearchInput=function(){var e;return null!=(e=this.directorySearchInput)?e.focus():void 0},t.prototype.render=h.renderable((function(){var e,t,n,r,i,o,a,l,d,p,m,f,g,v,b;return b=this,g=function(e){return b.directorySearchInput=e},m=this.props,n=m.enabledCount,v=m.showCustomCategory,t=m.clearSearch,f=m.section,e=m.category,r=m.idPlugin,i=m.onCategoryClick,l=m.onHomeClick,a=m.onEnabledClick,o=m.onCustomClick,p=m.onSearchKeyUp,d=m.onMadeByTrelloClick,h.div((function(){return h.div(".directory-search",(function(){return h.input(".js-directory-search",{type:"text",placeholder:h.l("search"),onKeyUp:p,ref:g}),h.a(".icon-sm.icon-close.dark-hover.hide.js-directory-search-clear",{href:"#",onClick:t})})),h.div(".directory-navigation-section",(function(){return h.ul((function(){return h.li({onClick:l},(function(){return h.a(".directory-navigation-option",{href:"#",class:h.classify({active:!f&&!e&&!r})},(function(){return h.formatText("featured")}))})),h.li({onClick:a},(function(){return h.a(".directory-navigation-option.enable-option",{href:"#",class:h.classify({active:"enabled"===f}),"data-test-id":s.EnabledPowerUpsLink},(function(){return h.formatText("enabled"),h.span(".directory-navigation-power-up-count",(function(){return h.text(n)}))}))})),v&&h.li({onClick:o},(function(){return h.a(".directory-navigation-option",{href:"#",class:h.classify({active:"custom"===f})},(function(){return h.formatText("custom")}))})),h.li({onClick:d},(function(){return h.a(".directory-navigation-option.trello-option",{href:"#",class:h.classify({active:"made-by-trello"===f}),"data-test-id":s.TrelloPowerUpsLink},(function(){return h.formatText("made-by-trello"),h.span(".icon-md.icon-board")}))}))}))})),h.div(".directory-navigation-section",(function(){return h.ul((function(){return c.forEach(u,(function(t){return h.li({onClick:function(){return i(t)}},(function(){return h.a(".directory-navigation-option.category-link",{class:h.classify({active:e===t}),href:"#"},(function(){return h.format(t)}))}))}))}))}))}))})),t}(l.Component),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return g(t,e),t.prototype.className="directory-sidebar js-directory-sidebar",t.prototype.initialize=function(e){return this.directoryView=e.directoryView,t.__super__.initialize.apply(this,arguments),this.onSearchKeyUp=c.debounce(this.onSearchKeyUp,100),this.listenTo(this.model,{"change:powerUps":this.render}),this.listenTo(this.model.boardPluginList,{"add remove reset":this.render}),this.subscribe(m(this.model),(n=this,function(){return n.render()}));var n},t.prototype.updateSearch=function(e){var t;return this.directoryView.updateSearch(e),t=this.$(".js-directory-search-clear"),(null!=e?e.length:void 0)?t.removeClass("hide"):t.addClass("hide"),this.directoryView.headerView.render()},t.prototype.onSearchKeyUp=function(e){var t,n;if(n=e.target.value,(t=p(e))===a.Escape&&(n=null,this.emptySearchField()),t===a.Enter&&this.$el.hasClass("active")&&this.directoryView.toggleNavigationMenu(),n!==this.directoryView.search)return this.updateSearch(n)},t.prototype.emptySearchField=function(){return this.$(".js-directory-search").val("")},t.prototype.clearSearch=function(){return this.emptySearchField(),this.updateSearch(null)},t.prototype.navigateTo=function(e,t){if(this.directoryView.navigate({section:e,category:t}),this.$el.hasClass("active"))return this.directoryView.toggleNavigationMenu()},t.prototype.renderContent=function(){var e,t,n,r,a,s,u,p,m;return u=(a=this.directoryView).section,e=a.category,r=a.idPlugin,n=a.history,a.isLoading?l.createElement(o):(t="",(p=this.model.get("powerUps").length+this.model.powerUpsCount())>0&&(t=d(p)),l.createElement(i,{enabledCount:t,section:u,idPlugin:r,category:e||null!=r&&(null!=(s=c.last(n))?s.category:void 0),showCustomCategory:!c.isEmpty(this.directoryView.getCustomPlugins()),clearSearch:(m=this,function(){return m.clearSearch()}),onSearchKeyUp:function(e){return function(t){return t.persist(),e.onSearchKeyUp(t)}}(this),onCategoryClick:function(e){return function(t){return e.navigateTo("category",t)}}(this),onHomeClick:function(e){return function(){return e.navigateTo()}}(this),onEnabledClick:function(e){return function(){return e.navigateTo("enabled")}}(this),onCustomClick:function(e){return function(){return e.navigateTo("custom")}}(this),onMadeByTrelloClick:function(e){return function(){return e.navigateTo("made-by-trello")}}(this)}))},t}(r)},"./app/scripts/views/directory/directory-spinner-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u=function(e,t){for(var n in t)p.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},p={}.hasOwnProperty;c=n("./node_modules/underscore/underscore.js"),a=n("./app/common/components/power-up/index.tsx").PowerUpItemType,s=n("./app/common/components/power-up/loading-skeleton.tsx").PowerUpLoadingSkeleton,r=n("./app/scripts/views/directory/base-directory-view.coffee"),l=n("./node_modules/react/index.js"),d=n("./node_modules/recup/lib/recup.js"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.displayName="Directory Spinner",t.prototype.render=d.renderable((function(){return d.div(".directory-content-body",(e=this,function(){return d.div(".directory-listing",(function(){return c.times(e.props.numOfAtoms,(function(){return d.div(".directory-listing-powerup",(function(){return d.tag(s,{type:e.props.atomType})}))}))}))}));var e})),t}(l.Component),o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.displayName="Directory Spinner",t.prototype.render=d.renderable((function(){return d.div(".directory-listing",(function(){return d.div(".directory-spinner",(function(){return d.div(".spinner.loading.centered")}))}))})),t}(l.Component),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.eventSource=function(){return"boardDirectorySpinnerScreen"},t.prototype.renderContent=function(){var e,t,n,r;return r=(n=this.options).section,e=n.idPlugin,t=n.isEnabling,c.contains(["category","custom","enabled"],r)?l.createElement(i,{numOfAtoms:24,atomType:a.Description}):e||t?l.createElement(o):l.createElement(i,{numOfAtoms:6,atomType:a.Featured})},t}(r)},"./app/scripts/views/directory/directory-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p,m,f,h,g,v,b,y,k,w,x,C,_,j,S,O,E,N,T,P,B,D,I={}.hasOwnProperty,A=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};r=n("./packages/jquery/index.js"),k=n("./node_modules/underscore/underscore.js"),i=n("./packages/atlassian-analytics/index.ts").Analytics,o=n("./app/scripts/db/auth.coffee"),n("./app/scripts/views/directory/base-directory-view.coffee"),a=n("./app/scripts/controller/index.js"),C=n("./app/scripts/views/directory/directory-legacy-power-ups.coffee"),s=n("./app/scripts/views/directory/directory-enabled-view.coffee"),d=n("./app/scripts/views/directory/directory-listing-view.coffee"),l=n("./app/scripts/views/directory/directory-header-view.coffee"),c=n("./app/scripts/views/directory/directory-home-view.coffee"),m=n("./app/scripts/views/directory/directory-search-view.coffee"),h=n("./app/scripts/views/directory/directory-spinner-view.coffee"),u=n("./app/scripts/views/directory/directory-page-view.coffee"),p=n("./app/scripts/views/directory/directory-plugin-enable-view.coffee"),f=n("./app/scripts/views/directory/directory-sidebar-view.coffee"),_=n("./packages/config/index.ts").firstPartyPluginsOrg,S=n("./app/scripts/data/butler-id.coffee"),n("./packages/keybindings/index.ts").Key,n("./app/scripts/db/model-loader.coffee"),O=n("./app/scripts/views/internal/plugins/plugins-changed-signal.coffee"),v=n("./app/scripts/views/internal/plugins/plugin-io-cache.coffee"),n("./node_modules/bluebird/js/browser/bluebird.js"),E=n("./packages/analytics/index.ts"),P=E.track,B=E.trackUe,n("./node_modules/react/index.js"),N=n("./packages/keybindings/index.ts"),g=N.Key,T=N.registerShortcut,b=N.Scope,D=N.unregisterShortcut,y=n("./app/scripts/views/internal/view.coffee"),n("./node_modules/xtend/immutable.js"),x=n("./app/src/components/PowerUpDirectory/SearchHelper.ts").createSearchIndex,w=n("./app/scripts/data/directory.coffee").categories,j=function(e,t,n,r){var i;return i="home page",r?i="search":n?i="list page":"enabled"===e||"custom"===e||"made-by-trello"===e?i=e+" page":"category"===e&&(i="category "+t+" page"),"Power-Up directory "+i},e.exports=function(e){function t(e){t.__super__.constructor.call(this,e),this.onShortcut=this.onShortcut.bind(this),T(this.onShortcut,{scope:b.PowerUpsDirectory,key:g.Escape})}return function(e,t){for(var n in t)I.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.className="directory-wrapper",t.prototype.initialize=function(e){var n;return this.boardView=e.boardView,t.__super__.initialize.apply(this,arguments),this.featuredPlugins=[],this.history=[],this.isLoading=!0,this.plugins=[],this.search=null,this.headerView=this.subview(l,this.model,{directoryView:this}),this.sidebarView=this.subview(f,this.model,{directoryView:this}),this.category=this.options.category,this.section=this.options.section,this.idPlugin=this.options.idPlugin,this.isEnabling=this.options.isEnabling,null==this.section||k.contains(["enabled","category","custom","made-by-trello"],this.section)||this.navigate(),null==this.category||k.contains(w,this.category)||this.navigate(),this.preparePlugins(),this.makeDebouncedMethods("onOrganizationChange"),this.listenTo(this.model.boardPluginList,{"add remove reset":this.onPluginChange}),this.listenTo(this.model,{"change:powerUps":this.onPluginChange,"change:idOrganization":this.onOrganizationChangeDebounced}),this.subscribe(O(this.model),(n=this,function(){return n.onPluginChange()})),this.trackSearch=k.debounce(this.trackSearch,5e3,!0)},t.prototype.remove=function(){return D(this.onShortcut),t.__super__.remove.apply(this,arguments)},t.prototype.events={"click .js-directory-responsive-overlay":"toggleNavigationMenu"},t.prototype.onShortcut=function(){if(!this.$(".js-directory-search").is(":focus"))return this.boardView.closeDirectory(),P("Keyboard Shortcuts","Esc - Close Power-Ups Directory","Power-Ups Directory")},t.prototype.onOrganizationChange=function(){return this.isLoading=!0,this.sidebarView.render(),this.renderSubview(),this.model.loadPlugins().then((e=this,function(){return e.preparePlugins()}));var e},t.prototype.onPluginChange=function(e){return this.setBodyHeight()},t.prototype.toggleNavigationMenu=function(){var e,t;return e=r(".js-directory-sidebar"),t=r(".js-directory-responsive-overlay"),e.hasClass("active")?(e.removeClass("active"),t.removeClass("active")):(e.addClass("active"),t.addClass("active"))},t.prototype.preparePlugins=function(){var e,t;return this.boardView.reloadDirectoryPlugins?(e=this.model.loadPlugins(),this.boardView.reloadDirectoryPlugins=!1):e=this.model.getAvailablePlugins(),e.then((t=this,function(e){var n,r;if(t.plugins=e,t.index=x(t.plugins.map((function(e){return e.toJSON()}))),t.isLoading=!1,"custom"===t.section&&!t.getCustomPlugins().length||t.idPlugin&&!t.getPlugin())return t.navigate();if(t.idPlugin){if("hidden"===(r=(n=t.getPlugin()).get("moderatedState"))||"moderated"===r)return t.navigate();if(n.get("idOrganizationOwner")===_)return t.isEnabling=!1,t.navigate({section:t.section,idPlugin:t.idPlugin})}return t.sidebarView.render(),t.renderSubview()}))},t.prototype.getCommonTrackingAttributes=function(){return{boardId:this.model.id,organizationId:this.model.get("idOrganization"),boardPaidStatus:function(){var e;switch(!1){case!this.model.isEnterpriseBoard():return"enterprise";case!(null!=(e=this.model.getOrganization())?e.isBusinessClass():void 0):return"bc";default:return"free"}}.call(this),maxUserPaidStatus:function(){var e,t,n,r;switch(!1){case!!o.isLoggedIn():return"notLoggedIn";case!(null!=(e=o.me())&&null!=(t=e.enterpriseList)?t.length:void 0):return"enterprise";case!(null!=(n=o.me())?n.hasBCPowerUps():void 0):return"bc";case!(null!=(r=o.me())?r.isGold():void 0):return"gold";default:return"free"}}()}},t.prototype.getPlugin=function(){return k.find(this.plugins,(e=this,function(t){return t.id===e.idPlugin}));var e},t.prototype.getPluginsForCategory=function(){return k.chain(this.plugins).filter((e=this,function(t){var n;return n=e.category,A.call(t.get("categories"),n)>=0})).sortBy((function(e){return v.get(e).getName().toLowerCase()})).value();var e},t.prototype.getCustomPlugins=function(){return k.chain(this.plugins).filter((function(e){return!e.get("public")})).sortBy((function(e){return v.get(e).getName().toLowerCase()})).value()},t.prototype.getPluginsForSearch=function(){return this.index.search(this.search).map((e=this,function(t){return e.plugins.find((function(e){return e.id===t.id}))}));var e},t.prototype.getTrelloPlugins=function(){return k.chain(this.plugins).filter((function(e){return A.call(e.get("tags"),"made-by-trello")>=0})).sortBy((function(e){return v.get(e).getName().toLowerCase()})).value()},t.prototype.getEnabledPlugins=function(){var e,t;return e=k.flatten([this.model.idPluginsEnabled(),this.model.get("powerUps")]),k.chain(e).filter((t=this,function(e){return!t.model.isButlerCore()||e!==S})).map(function(e){return function(t){return k.find(e.plugins,(function(e){return e.id===t||k.findWhere(C,{id:e.id,name:t})}))}}(this)).compact().sortBy((function(e){return v.get(e).getName().toLowerCase()})).value()},t.prototype.filterOutHiddenPlugins=function(e){return k.filter(e,(function(e){var t;return"hidden"!==(t=e.get("moderatedState"))&&"moderated"!==t}))},t.prototype.updateSearch=function(e){if(e!==this.search)return this.search=e,this.renderSubview()},t.prototype.trackSearch=function(){return B(j(this.section,this.category,this.idPlugin),"opens",this.getCurrentPage())},t.prototype.trackScreenEvent=function(e,t){return i.sendScreenEvent({name:e,attributes:k.extend(t,this.getCommonTrackingAttributes())})},t.prototype.getCurrentPage=function(){return j(this.section,this.category,this.idPlugin,this.search)},t.prototype.navigate=function(e){var t,n,r,i,o,s,l,c;return c=(l=null!=e?e:{}).section,n=l.category,r=l.idPlugin,o=l.isNavigatingBack,i=l.isEnabling,o||k.isEqual({section:this.section,category:this.category,idPlugin:this.idPlugin,isEnabling:this.isEnabling},{section:c,category:n,idPlugin:r,isEnabling:i})||this.history.push({section:this.section,category:this.category,idPlugin:this.idPlugin,isEnabling:this.isEnabling}),t="power-ups",r?(t="power-up",B(this.getCurrentPage(),"opens",j(c,n,r),"","","",r)):B(this.getCurrentPage(),"opens",j(c,n)),this.section=c,this.category=n,this.idPlugin=r,this.isEnabling=!!i,s=[],null!=this.section&&s.push(this.section),null!=this.category&&s.push(this.category),null!=this.idPlugin&&(s.push(this.idPlugin),this.isEnabling&&s.push("enable")),a.setBoardLocation(this.model.id,t,s,{replace:!1}),this.search=null,this.sidebarView.clearSearch(),this.sidebarView.render(),this.headerView.render(),this.renderSubview()},t.prototype.navigateBack=function(){var e,t,n,r;return k.isEmpty(this.history)?this.navigate({isNavigatingBack:!0}):(r=(n=this.history.pop()).section,e=n.category,t=n.idPlugin,this.navigate({section:r,category:e,idPlugin:t,isNavigatingBack:!0}))},t.prototype.activeEventSource=function(){return this.activeSubview?this.activeSubview.eventSource():"boardDirectoryScreen"},t.prototype.setBodyHeight=function(e){return e||this.model.canEnableAdditionalPowerUps()?this.$(".js-directory-body").removeClass("has-upsell"):o.me().isAdDismissed("DirectoryBusinessClassBanner")?void 0:this.$(".js-directory-body").addClass("has-upsell")},t.prototype.homeSubview=function(){return this.subview(c,this.model,{currentPage:this.getCurrentPage(),directoryView:this})},t.prototype.enabledSubview=function(){return this.subview(s,this.model,{plugins:this.plugins,currentPage:this.getCurrentPage(),directoryView:this})},t.prototype.pluginListingSubview=function(){return this.subview(d,this.model,{plugin:this.getPlugin(),currentPage:this.getCurrentPage(),directoryView:this})},t.prototype.pluginEnableView=function(){return this.subview(p,this.model,{plugin:this.getPlugin(),currentPage:this.getCurrentPage(),directoryView:this})},t.prototype.searchSubview=function(){return this.trackSearch(),this.subview(m,this.model,{plugins:this.filterOutHiddenPlugins(this.getPluginsForSearch()),searchTerm:this.search,currentPage:this.getCurrentPage(),directoryView:this})},t.prototype.pageSubView=function(e,t){return this.subview(u,this.model,{title:e,plugins:this.filterOutHiddenPlugins(t),currentPage:this.getCurrentPage(),directoryView:this})},t.prototype.renderSubview=function(){return this.$contentContainer=this.$("#directory-content"),this.$contentContainer.empty(),null!=this.activeSubview&&this.deleteSubview(this.activeSubview),this.activeSubview=function(){switch(!1){case!this.isLoading:return this.subview(h,this.model,{section:this.section,idPlugin:this.idPlugin,isEnabling:this.isEnabling});case!this.search:return this.searchSubview();case!("category"===this.section&&this.category):return this.pageSubView(this.category,this.getPluginsForCategory());case"made-by-trello"!==this.section:return this.pageSubView(this.section,this.getTrelloPlugins());case"custom"!==this.section:return this.pageSubView(this.section,this.getCustomPlugins());case"enabled"!==this.section:return this.enabledSubview();case!(this.idPlugin&&this.isEnabling):return this.pluginEnableView();case!this.idPlugin:return this.pluginListingSubview();default:return this.homeSubview()}}.call(this),this.appendSubview(this.activeSubview,this.$contentContainer)},t.prototype.renderOnce=function(){return this.trackScreenEvent("boardDirectoryScreen",{totalEnabled:this.model.powerUpsCount(),allPowerUpsEnabled:this.model.idPluginsEnabled()}),this.appendSubview(this.headerView),this.$el.append('<div class="directory-body js-directory-body"></div>'),this.$directoryBody=this.$(".js-directory-body"),this.setBodyHeight(),this.$directoryBody.append('<div class="directory-responsive-overlay js-directory-responsive-overlay"></div>'),this.appendSubview(this.sidebarView,this.$directoryBody),this.$directoryBody.append('<div id="directory-content"></div>'),this.renderSubview(),this},t}(y)},"./app/scripts/views/emoji/emoji-provider-component.coffee":function(e,t,n){var r,i,o={}.hasOwnProperty;r=n("./app/scripts/lib/emoji-provider.coffee"),i=n("./node_modules/react/index.js"),e.exports=function(e){function t(e){t.__super__.constructor.call(this,e),this.state={data:r.getDataSync(),spinnerClass:e.isSmallSpinner?"spinner small":"spinner loading"}}return function(e,t){for(var n in t)o.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.defaultProps={isSmallSpinner:!1},t.prototype.componentDidMount=function(){if(this.mounted=!0,!this.state.data)return r.getData().then((e=this,function(t){if(e.mounted)return e.setState({data:t})}));var e},t.prototype.componentWillUnmount=function(){return this.mounted=!1},t.prototype.render=function(){var e,t,n,r;return e=this.props.children,t=(n=this.state).data,r=n.spinnerClass,null!=t?e(t):i.createElement("div",{className:"emoji-loading-spinner"},i.createElement("span",{className:r}))},t}(i.Component)},"./app/scripts/views/emoji/trello-emoji-picker.coffee":function(e,t,n){var r,i,o,a,s,l,c={}.hasOwnProperty;r=n("./app/scripts/lib/emoji-provider.coffee"),i=n("./app/scripts/views/emoji/emoji-provider-component.coffee"),o=n("./node_modules/emoji-mart/dist-es/components/picker/nimble-picker.js").default,a=n("./node_modules/react/index.js"),l=n("./app/scripts/views/internal/recup-with-helpers.coffee")("reactions"),s=n("./node_modules/underscore/underscore.js"),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)c.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.defaultProps={title:"",emoji:"",color:"#0079BF",set:"twitter",i18n:{search:l.l("search"),notfound:l.l("no-emoji-found"),skintext:l.l("skintext"),categories:{search:l.l("categories-search-results"),recent:l.l("categories-frequently-used"),people:l.l("categories-smileys-and-people").replace(/&amp;/g,"&"),nature:l.l("categories-animals-and-nature").replace(/&amp;/g,"&"),foods:l.l("categories-food-and-drink").replace(/&amp;/g,"&"),activity:l.l("categories-activity"),places:l.l("categories-travel-and-places").replace(/&amp;/g,"&"),objects:l.l("categories-objects"),symbols:l.l("categories-symbols"),flags:l.l("categories-flags"),custom:l.l("categories-custom")}},style:{width:"408px"},emojiSize:"28px",backgroundImageFn:r.getSpritesheetsUrl,skinEmoji:"v",autoFocus:!0,notFound:function(){return a.createElement("div",{className:"emoji-mart-no-results"},a.createElement("div",{className:"emoji-mart-no-results-label"},l.l("no-emoji-found")),a.createElement("img",{className:"emoji-mart-no-results-img",src:n("./resources/images/illos.png")}))}},t.prototype.componentDidMount=function(){return document.querySelector("#chrome-container").scrollTop=0},t.prototype.render=function(){return a.createElement("div",{onClick:function(e){return e.preventDefault()}},a.createElement(i,null,(e=this,function(t){return a.createElement(o,s.extend({},e.props,{data:t}))})));var e},t}(a.Component)},"./app/scripts/views/emoji/trello-emoji.coffee":function(e,t,n){var r,i,o,a,s,l={}.hasOwnProperty;r=n("./app/scripts/lib/emoji-provider.coffee"),i=n("./app/scripts/views/emoji/emoji-provider-component.coffee"),o=n("./node_modules/emoji-mart/dist-es/components/emoji/nimble-emoji.js").default,a=n("./node_modules/react/index.js"),s=n("./node_modules/underscore/underscore.js"),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)l.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.defaultProps={set:"twitter",size:16},t.prototype.render=function(){return a.createElement(i,{isSmallSpinner:!0},(e=this,function(t){return a.createElement(o,s.extend({},e.props,{data:t,backgroundImageFn:r.getSpritesheetsUrl}))}));var e},t}(a.Component)},"./app/scripts/views/feedback/collectors/get-suggestions-feedback.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"getSuggestionsFeedback",(function(){return l}));var r=n("./app/scripts/views/feedback/get-feedback.tsx");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s,l=(s={surveyName:"Suggestions Feedback"},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r.a)(o({},s,{},e))})},"./app/scripts/views/feedback/get-feedback.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("./app/common/lib/util/i18n/index.ts"),i=n("./app/src/components/Feedback/index.ts"),o=n("./app/scripts/views/lib/pop-over.coffee"),a=n.n(o),s=n("./node_modules/react/index.js"),l=n.n(s);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var d=Object(r.forNamespace)("view title");function u(e){return function(t){t.stopPropagation(),t.preventDefault();var n="function"==typeof e?e(t):e,r={elem:t.currentTarget,getViewTitle:function(){return d("feedback")},reactElement:l.a.createElement(i.Feedback,c({key:"feedback"},n,{onClose:function(){return a.a.popView()}}))};a.a.contains(t.currentTarget)?a.a.pushView(r):a.a.toggle(r)}}},"./app/scripts/views/internal/autocomplete/auto-insertion-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u;r=n("./packages/jquery/index.js"),o=n("./packages/browser/index.ts"),u=n("./packages/keybindings/index.ts"),c=u.getKey,d=u.isArrow,a=u.Key,s=n("./app/scripts/views/lib/pop-over.coffee"),l=n("./app/scripts/lib/util/index.coffee"),n("./node_modules/underscore/underscore.js"),i={checkInsert:function(e){var t,n,i,d,u,p,m,f;if(u=c(e),s.isVisible&&!o.isTouch())if(e.shiftKey&&(u===a.ArrowUp||u===a.ArrowDown)||e.altKey&&(u===a.ArrowUp||u===a.ArrowDown));else if(u===a.Escape)l.stop(e),s.hide();else for(i=0,p=(n=[{listClass:".js-available-members",itemClass:".js-select-member"},{listClass:".js-available-emoji",itemClass:".js-select-emoji"},{listClass:".js-card-list",itemClass:".js-select-card"}]).length;i<p;i++)if(m=(f=n[i]).listClass,d=f.itemClass,(t=r(".pop-over").find(m)).length>0){if(u===a.Enter||u===a.Tab)return l.stop(e),t.find(".item:first").hasClass("selected")&&(this.keyAutoMention(e),t=r(".pop-over").find(m)),t.find(".item.selected:first "+d).first().click(),s.hide(),!1;if(u===a.ArrowUp||u===a.ArrowDown)return l.stop(e),l.navMenuList(t,".item",u),!1}},keyAutoMention:function(e){var t,n,r;if(!o.isTouch()){if(d(c(e))||c(e)===a.Enter)return;return c(e)===a.Escape?void(s.isVisible&&l.stop(e)):(n=l.getWordFromCaret(this.getTextInput()),/^@\S/.test(n.str.substring(0,2))?this.getAutoMentionerView("input").then((r=this,function(e){0!==e.filterMentionablesForMatches(n.str.substring(1).toLowerCase()).length?(s.show({elem:r.getMentionTarget(),view:e,keepEdits:!0}),r.getTextInput().is(":focus")||r.getTextInput().focus()):s.hide()})):/^:[a-z0-9_]+$/.test(n.str)?(t=this.getEmojiCompleterView("input"),s.show({elem:this.getEmojiTarget(),view:t,keepEdits:!0}),void(this.getTextInput().is(":focus")||this.getTextInput().focus())):this.setTimeout((function(){return s.hide()}),5))}}},e.exports=i},"./app/scripts/views/internal/autocomplete/auto-mentioner-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p,m,f,h,g,v,b,y,k={}.hasOwnProperty,w=[].slice;r=n("./packages/jquery/index.js"),i=n("./app/scripts/db/auth.coffee"),g=n("./packages/keybindings/index.ts"),m=g.getKey,o=g.Key,f=n("./app/scripts/lib/localize.coffee"),a=n("./app/scripts/views/lib/pop-over.coffee"),l=n("./app/scripts/views/member/select-member-view.coffee"),s=n("./app/scripts/views/member/select-filterable-view.coffee"),c=n("./packages/storage/index.ts").TrelloStorage,d=n("./app/scripts/lib/util/index.coffee"),u=n("./app/scripts/views/internal/view.coffee"),p=n("./node_modules/underscore/underscore.js"),b=n("./app/scripts/views/internal/templates.coffee"),y=n("./packages/analytics/index.ts").track,v=n("./app/scripts/lib/util/text/search-filter.coffee"),h=c.get("recentMentions")||[],e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)k.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.viewTitleKey="mention",t.prototype.initialize=function(e){var t,n;if(this.board=e.board,this.card=e.card,t=null!=(n=this.board)?n.getOrganization():void 0)return this.listenTo(t.memberList,"add remove reset",this.frameDebounce(this.render))},t.prototype.events={"mouseenter .js-select-member":"hoverItem","click .js-select-member:not(.disabled)":"insertMember","click .js-select-all-card-members":"selectAllCardMembers","mouseenter .js-select-all-card-members":"deselectMember","click .js-select-all-board-members":"selectAllBoardMembers","mouseenter .js-select-all-board-members":"deselectMember",keydown:"keydownEvent","keyup .js-filter-mentionables":"keyupEvent"},t.prototype.render=function(){var e;return this,e={},this.options.input&&(e.input=!0),this.options.button&&(e.button=!0),this.$el.html(b.fill(n("./app/scripts/views/templates/popover_auto_mentioner.coffee"),e)),this.$mentionablesList=this.$(".js-available-members"),this.options.button?this.fillMentionables(this.getMentionables()):this.options.input&&this.filterMentionables(),this},t.prototype.getTextInput=function(){return r(this.options.target)},t.prototype.getExtraMentionables=function(e,t){var n,r;return r={type:"extra",text:"card",names:["all","card"],extraText:f(["automentioner","all-members-on-card"]),mentionCount:e.length},n={type:"extra",text:"board",names:["all","board"],extraText:f(["automentioner","all-members-on-board"]),mentionCount:t.length},null!=this.card?[r,n]:[n]},t.prototype.getMentionables=function(){var e,t,n,r,o,a,s,l,c,u,m,g,v;return l=i.myId(),v=this,g=function(e,t,n){var r;return r=h.indexOf(e.id),e.id===l?n.length:-1===r?h.length:r},n=(a=function(e,t){return null==t&&(t={}),p.chain(e).reject((function(e){return v.board.isDeactivated(v.modelCache.get("Member",e))})).map((function(e){return p.extend({},t,{id:e,names:d.getMemNameArrayFromId(v.modelCache,e),type:"member"})})).value()})(null!=(m=this.card)?m.getIdCardMems():void 0),t=a(this.board.getIdBoardMems()),u=null!=(c=this.board.getOrganization())?(o=[],r=[],e=c.memberList.filter((function(e){return!c.isDeactivated(e)})),this.board.isPrivate()?c.isFeatureEnabled("superAdmins")?(s=p.groupBy(e,(function(e){return c.ownedByMember(e)?"admin":"not-admin"})),o=p.pluck(s.admin,"id"),r=p.pluck(s["non-admin"],"id")):r=p.pluck(e,"id"):o=p.pluck(e,"id"),w.call(a(o)).concat(w.call(a(r,{disabled:!0,extraText:f(["mention member","board not team visible"])})))):[],p.chain(w.call(n).concat(w.call(t),w.call(u))).uniq((function(e){return e.id})).sortBy(g).concat(this.getExtraMentionables(n,t)).value()},t.prototype.clearMentionables=function(){return this.$mentionablesList.empty()},t.prototype.keydownEvent=function(e){var t;(t=m(e))!==o.Enter&&t!==o.Tab||(d.stop(e),this.$mentionablesList.find(".item.selected:first .js-select-member").click())},t.prototype.keyupEvent=function(e){var t;if((t=m(e))===o.Enter||t===o.Tab||t===o.ArrowLeft||t===o.ArrowRight);else{if(t!==o.ArrowUp&&t!==o.ArrowDown)return this.filterMentionables();d.stop(e),d.navMenuList(this.$mentionablesList,".item",t)}},t.prototype.filterMentionables=function(e){var t,n,i;if(this.clearMentionables(),this.options.button?i=r(".js-filter-mentionables").val().trim().toLowerCase():this.options.input&&(t=this.getTextInput(),i=d.getWordFromCaret(t).str.substring(1).toLowerCase()),n=this.filterMentionablesForMatches(i),!this.options.input||0!==n.length)return this.fillMentionables(n),d.selectMenuItem(this.$mentionablesList,".item",this.$mentionablesList.find(".item").first());this.setTimeout((function(){return a.hide()}),5)},t.prototype.filterMentionablesForMatches=function(e){var t;return t=v(e),p.filter(this.getMentionables(),(function(e){return t(e.names)}))},t.prototype.hoverItem=function(e){var t;return t=r(e.target).closest(".item"),d.selectMenuItem(this.$mentionablesList,".item",t)},t.prototype.deselectMember=function(e){return this.$mentionablesList.find(".item").removeClass("selected")},t.prototype.fillMentionables=function(e){var t,n,r,i,o,a,c,d,u,m,f,h,g;for(n=((e=p.groupBy(e,"type")).member||[]).slice(0,50).map((g=this,function(e){var t,n,r;return r=e.id,t=e.disabled,n=e.extraText,{member:g.modelCache.get("Member",r),disabled:t,extraText:n}})),this.$mentionablesList.empty(),m=[],o=0,c=n.length;o<c;o++)u=(f=n[o]).member,t=f.disabled,i=f.extraText,m.push(this.subview(l,u,{disabled:t,extraText:i}));if(this.appendSubviews(m,this.$mentionablesList),null!=e.extra)for(a=0,d=(h=e.extra).length;a<d;a++)r=h[a],this.$mentionablesList.append(new s(r).render().el);this.$(".js-empty-list").toggleClass("hide",p.keys(e).length>0)},t.prototype.insertMember=function(e){var t,n,i,o;d.stop(e),y("Card Detail","Mention Member Autocomplete","Insert"),n=r(e.currentTarget).attr("autocompleteText"),this.saveRecent(r(e.currentTarget).attr("idMember")),t=this.getTextInput(),this.options.input?(o=d.getWordFromCaret(t),d.insertSelection(t,"@"+n+" ",o.start,o.end)):(null!=(i=d.getCaretPosition(t))&&(o={start:i,end:i}),d.insertSelection(t,"@"+n+" ",null!=o?o.start:void 0,null!=o?o.end:void 0)),a.hide()},t.prototype.selectAllCardMembers=function(e){var t;d.stop(e),y("Card Detail","Mention Member Autocomplete","Insert - All Card Members"),t=this.getTextInput().focus(),d.insertSelection(t,"@card "),a.hide()},t.prototype.selectAllBoardMembers=function(e){var t;d.stop(e),y("Card Detail","Mention Member Autocomplete","Insert - All Board Members"),t=this.getTextInput().focus(),d.insertSelection(t,"@board "),a.hide()},t.prototype.saveRecent=function(e){var t;return t=c.get("recentMentions")||[],t=p.chain([e].concat(w.call(t))).uniq().first(16).value(),c.set("recentMentions",t),h=t},t}(u)},"./app/scripts/views/internal/autocomplete/completer-util.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p,m,f,h;r=n("./packages/jquery/index.js"),i=n("./app/scripts/views/card/attachment-type-picker-view.coffee"),o=n("./app/scripts/views/internal/autocomplete/auto-mentioner-view.coffee"),s=n("./app/scripts/views/internal/autocomplete/emoji-completer-view.coffee"),l=n("./app/scripts/db/model-loader.coffee"),c=n("./app/scripts/views/lib/pop-over.coffee"),u=n("./app/scripts/views/internal/autocomplete/trello-completer-view.coffee"),p=n("./app/scripts/lib/util/index.coffee"),h=n("./packages/analytics/index.ts").track,d=n("./node_modules/bluebird/js/browser/bluebird.js"),m=n("./node_modules/underscore/underscore.js"),f={},a={openEmojiCompleter:function(e){return p.stop(e),c.pushView({view:this.getEmojiCompleterView("button")})},openAutoMentioner:function(e){return p.stop(e),this.getAutoMentionerView("button").then((function(e){return c.pushView({view:e})})),h("Card Detail","Mention Autocomplete","Open Menu - With Click")},autoMentionerView:function(e,t,n){return new o({model:null!=t?t:n,button:"button"===e,input:"input"===e,target:this.getTextInput(),card:t,board:n,modelCache:this.modelCache})},getAutoMentionerView:function(e){var t,n,r,i,o,a;return n=null!=this.getCard?this.getCard():this.card,null!=(o=null!=(t=n?n.getBoard():this.board)?t.getOrganization():void 0)&&(!f[o.id]||Date.now()-f[o.id]>3e5)&&(f[o.id]=Date.now(),l.loadOrganizationMembersData(o.id)),i=this.modelCache.get("Board",t.id).get("memberships"),(r=m.indexBy(t.getIdBoardMems())).length!==i.length&&i.some((function(e){return!e.deactivated&&!r.hasOwnProperty(e.idMember)}))?l.loadBoardMembers(t.id).then((a=this,function(){return a.autoMentionerView(e,n,t)})):d.resolve(this.autoMentionerView(e,n,t))},getEmojiCompleterView:function(e){var t,n;return t=(n=null!=this.getCard?this.getCard():this.card)?n.getBoard():this.board,new s({model:null!=n?n:t,button:"button"===e,input:"input"===e,target:this.getTextInput(),card:n,modelCache:this.modelCache})},getTrelloCompleterView:function(){var e;return e=this.getCard(),new u({model:e,button:!0,target:this.getTextInput(),card:e,modelCache:this.modelCache})},commentAddAttachment:function(e){var t,n,o,a,s,l;p.stop(e),t=r(e.target).closest(".comment-box").find("textarea"),s=t.prop("selectionStart"),a=t.prop("selectionEnd"),o=t.val().substring(s,a),n=this.getCard(),(l=new i({model:this.model,modelCache:this.modelCache,defaultName:o})).on("attach",(function(e){var n,r,i;return i=e.url,r=(n=(n=e.name)||o)?"["+n+"]("+i+")":i,p.insertSelection(t,r+" ",s,a),t.trigger("autosize.resize")})),c.toggle({elem:r(e.currentTarget),keepEdits:!0,view:l,options:{model:n,modelCache:this.modelCache}}),h("Card Detail","Comment Box - Open Attachment Type Picker")},commentMentionMember:function(e){p.stop(e),this.getAutoMentionerView("button").then((function(t){return c.toggle({elem:r(e.currentTarget),keepEdits:!0,view:t})})),h("Card Detail","Comment Box - Mention Members")},commentAddEmoji:function(e){p.stop(e),c.toggle({elem:r(e.currentTarget),keepEdits:!0,view:this.getEmojiCompleterView("button")}),h("Card Detail","Comment Box - Add Emoji")},commentAddCard:function(e){p.stop(e),c.toggle({elem:r(e.currentTarget),keepEdits:!0,view:this.getTrelloCompleterView()}),h("Card Detail","Comment Box - Add Card")}},e.exports=a},"./app/scripts/views/internal/autocomplete/emoji-completer-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p,m,f,h,g,v,b,y={}.hasOwnProperty,k=[].slice;r=n("./packages/jquery/index.js"),i=n("./app/scripts/db/auth.coffee"),o=n("./app/scripts/views/internal/autocomplete/emoji-uploader-view.coffee"),g=n("./packages/keybindings/index.ts"),m=g.getKey,a=g.Key,n("./app/scripts/db/model-loader.coffee"),s=n("./app/scripts/views/lib/pop-over.coffee"),c=n("./app/scripts/lib/util/index.coffee"),d=n("./app/scripts/views/internal/view.coffee"),u=n("./node_modules/underscore/underscore.js"),v=n("./app/scripts/views/internal/templates.coffee"),b=n("./packages/analytics/index.ts").track,l=n("./app/common/data/emoji.ts").default,f=n("./app/scripts/lib/localize.coffee"),h=n("./app/scripts/views/templates/popover_emoji_completer.coffee"),p=n("./packages/config/index.ts").dontUpsell,e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)y.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.viewTitleKey="emoji",t.prototype.events={"mouseenter .js-select-emoji":"hoverItem","click .js-select-emoji":"selectEmoji",keydown:"keydownEvent","keyup .js-filter-emoji":"keyupEvent","click .js-upload-emoji":"openEmojiUploader"},t.prototype.initialize=function(){this._customEmoji={},i.me().isFeatureEnabled("customEmoji")&&(this.listenTo(i.me().customEmojiList,"change add remove reset",this.updateCustomEmoji),this.updateCustomEmoji())},t.prototype.render=function(){var e;return this,e={},this.options.input&&(e.input=!0),this.options.button&&(e.button=!0),e.upsellEnabled=!p||i.me().isFeatureEnabled("customEmoji"),this.$el.html(h(e)),this.$emojiList=this.$(".js-available-emoji"),this.options.input&&this.filterEmoji(this.getInput()),this.options.button&&this.fillDefaultEmojiList(),this},t.prototype.keyupEvent=function(e){var t,n;return(n=m(e))===a.ArrowUp||n===a.ArrowDown?(c.stop(e),void c.navMenuList(this.$emojiList,".item",n)):n!==a.Enter&&n!==a.Tab?(t=this.getInput(),this.filterEmoji(t)):void 0},t.prototype.keydownEvent=function(e){var t,n;if(((n=m(e))===a.Enter||n===a.Tab)&&(c.stop(e),(t=this.$emojiList.find(".item.selected:first .js-select-emoji")).length>0))return t.click()},t.prototype.updateCustomEmoji=function(){return this._customEmoji=u.object(i.me().customEmojiList.map((function(e){return[e.get("name"),e.get("url")]}))),this.render()},t.prototype.getTextInput=function(){return r(this.options.target)},t.prototype.getInput=function(){var e;return this.options.button?this.$(".js-filter-emoji").val():(e=this.getTextInput(),c.getWordFromCaret(e).str.substring(1))},t.prototype.filterEmoji=function(e){if(this.clearEmojiList(),this.fillEmojiList(e))return c.selectMenuItem(this.$emojiList,".item",this.$emojiList.find(".item").first())},t.prototype.renderEmojiList=function(e){var t,r,i,o,a;for(i=0,o=e.length;i<o;i++)t={name:r=e[i],image:null!=(a=this._customEmoji[r])?a:l[r]},this.$emojiList.append(v.fill(n("./app/scripts/views/templates/select_emoji.coffee"),t));return this},t.prototype.fillDefaultEmojiList=function(e){var t;t=["thumbsup","smile","warning","sunglasses","ballot_box_with_check","facepalm"],this.renderEmojiList(t)},t.prototype.fillEmojiList=function(e){var t,n;return n=e.replace(/\W+/g,""),""===e?(this.fillDefaultEmojiList(),!1):/[A-Z]/.test(n)&&this.options.input?(s.hide(),!1):(n=n.toLowerCase(),this.$(".js-upload-emoji").text(f("upload emoji named",{emojiName:n})).attr("data-emojiname",n),this.$(".js-no-matching-emoji-helper").text(f("no matching emoji helper",{emojiName:n})),(t=this.getEmojiSuggestions(n).slice(0,6)).length>0?(this.$(".js-results").removeClass("hide"),this.$(".js-no-results").addClass("hide"),this.renderEmojiList(t)):(this.$(".js-results").addClass("hide"),this.$(".js-no-results").removeClass("hide")),0!==t.length)},t.prototype.clearEmojiList=function(){return this.$emojiList.empty()},t.prototype.getEmojiSuggestions=function(e){var t,n,r,i,o,a,s,d,p,m;if(s=RegExp("^"+c.escapeForRegex(e)),t=function(){var e;for(o in e=[],this._customEmoji)s.test(o)&&e.push(o);return e}.call(this),p=function(){var e;for(o in e=[],l)s.test(o)&&e.push(o);return e}(),null==this._sortOverride)for(d=["thumbsup","smile","warning","sunglasses","facepalm","question","thumbsdown","wink","smiley","smile_cat","bowtie","heart","laughing","bug","cry","dancer","dancers","clap","shipit","white_check_mark","star","arrow_down","point_down","point_up","point_left","metal"],this._sortOverride={},i=r=0,a=d.length;r<a;i=++r)n=d[i],this._sortOverride[n]=i+1;return u.uniq(k.call(t).concat(k.call(p))).sort((m=this,function(e,t){var n,r;return n=m._sortOverride[e],r=m._sortOverride[t],n&&!r?-1:r&&!n?1:(n&&r&&(e=n,t=r),e<t?-1:e>t?1:0)}))},t.prototype.hoverItem=function(e){var t;return t=r(e.target).closest(".item"),c.selectMenuItem(this.$emojiList,".item",t)},t.prototype.selectEmoji=function(e){var t;c.stop(e),t=r(e.target).closest(".js-select-emoji").find(".emoji-name").text(),this.insertEmoji(t),s.hide()},t.prototype.insertEmoji=function(e){var t,n,r;return t=this.getTextInput(),this.options.input?r=c.getWordFromCaret(t):null!=(n=c.getCaretPosition(t))&&(r={start:n,end:n}),c.insertSelection(t,":"+(""+e).trim()+": ",null!=r?r.start:void 0,null!=r?r.end:void 0),b("Emoji Select",e)},t.prototype.openEmojiUploader=function(e){var t;c.stop(e),t=this.$(e.target).attr("data-emojiname"),s.pushView({keepEdits:!0,view:o,options:{model:i.me(),emojiName:t,completerView:this}}),b("Card Detail","Open Custom Emoji Uploader")},t}(d)},"./app/scripts/views/internal/autocomplete/emoji-uploader-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d={}.hasOwnProperty;r=n("./packages/jquery/index.js"),i=n("./app/scripts/views/lib/alerts.coffee"),o=n("./app/scripts/db/auth.coffee"),a=n("./app/scripts/views/lib/pop-over.coffee"),s=n("./app/scripts/lib/util/index.coffee"),l=n("./app/scripts/views/internal/view.coffee"),c=n("./app/scripts/views/internal/templates.coffee"),n("./app/scripts/lib/localize.coffee"),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)d.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.viewTitleKey="upload emoji",t.prototype.events=function(){return{"click .js-upload-emoji":"uploadEmoji","change .js-upload-emoji-file":"fileChange","input .js-emoji-name":"nameChange"}},t.prototype.initialize=function(e){var t,n,r,i,o;for(this.completerView=e.completerView,this.hasGold=this.model.isFeatureEnabled("customEmoji"),this.hasBCGold=!1,o=[],t=0,n=(i=this.model.organizationList.models).length;t<n&&(r=i[t],this.hasBCGold=r.isFeatureEnabled("goldMembers"),!this.hasBCGold);t++)o.push(void 0);return o},t.prototype.render=function(){var e;return this,(e=this.model.toJSON()).emojiName=this.options.emojiName,e.hasGold=this.hasGold,e.hasBCGold=this.hasBCGold,e.canUpload=this.hasGold||this.hasBCGold,this.$el.html(c.fill(n("./app/scripts/views/templates/popover_emoji_uploader.coffee"),e)),this._validate(),this.renderEmoji(),this},t.prototype.getName=function(){return this.$(".js-emoji-name").val().trim().toLowerCase().replace(/\s+/g,"_")},t.prototype.renderEmoji=function(){var e,t,n,r;return this.$(".js-emoji-preview-name").text(":"+(this.getName()||"???")+":"),this.$(".js-emoji-preview"),e=null!=(n=this.$(".js-upload-emoji-file").prop("files"))?n[0]:void 0,/^image\/.*/.test(null!=e?e.type:void 0)?((t=new FileReader).onload=(r=this,function(e){return r.$(".js-emoji-conversion").removeClass("hide"),r.$(".js-emoji-preview").attr("src",e.target.result)}),t.readAsDataURL(e)):this.$(".js-emoji-conversion").addClass("hide"),this},t.prototype.fileChange=function(e){var t,n,i,o,a,s;return n=this.$(".js-emoji-name"),t=this.$(".js-upload-emoji-file"),""===n.val()&&(r(e.target),null!=(i=null!=(a=t.prop("files"))?a[0]:void 0)?o=i.name:t.val()&&(o=null!=(s=/[^\/]+$/.exec(t.val()))?s[0]:void 0),null==o&&(o=""),o=(o=o.split(".")[0]).toLowerCase().replace(/[^a-z0-9_]/g,""),n.val(o),this.$(".js-emoji-name").focus().select()),this.renderEmoji(),this._validate()},t.prototype.nameChange=function(e){return this.renderEmoji(),this._validate()},t.prototype._validate=function(e){var t,n,r,i,o,a;return r=this.getName(),t=this.$(".js-upload-emoji-file"),i=/^[a-z0-9_\s]+$/.test(r),n=(null!=(o=t.prop("files"))?o.length:void 0)>0||t.val(),a=i&&n&&(this.hasGold||this.hasBCGold),this.$(".js-invalid-name").toggleClass("hide",i||""===r),this.$(".js-upload-emoji").toggleClass("disabled",!a)},t.prototype.uploadEmoji=function(e){var t,n,l,c,d,u,p,m;if(s.stop(e),!r(".js-upload-emoji").hasClass("disabled"))if(this.$(".error").addClass("hide"),l=null!=(p=(t=this.$(".js-upload-emoji-file")).prop("files"))?p[0]:void 0,c=this.getName(),m=this,d=function(){return m.completerView.insertEmoji(c),a.hide()},l||!t.val())if(null==l||s.validFileSize(l)){if(null!=l&&c)return u=new FileReader,(n=new FormData).append("token",o.myToken()),n.append("file",l),n.append("name",c),u.onload=function(e){return function(t){return e.model.customEmojiList.create({url:t.target.result,name:c},{data:n,processData:!1,contentType:!1,success:d,error:function(){return this.$(".error").removeClass("hide")}})}}(this),u.readAsDataURL(l)}else i.flash("file too large","error");else s.uploadFile(o.myToken(),t,d)},t}(l)},"./app/scripts/views/internal/autocomplete/trello-completer-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p,m,f,h,g,v,b,y,k,w,x,C,_={}.hasOwnProperty,j=[].slice;r=n("./packages/jquery/index.js"),o=n("./app/scripts/models/board.coffee"),a=n("./app/scripts/models/card.coffee"),y=n("./packages/keybindings/index.ts"),g=y.getKey,s=y.Key,v=n("./app/scripts/views/templates/popover_limit_exceeded.coffee"),l=n("./app/scripts/db/model-loader.coffee"),b=n("./app/scripts/lib/util/url/parse-trello-url.coffee"),c=n("./app/scripts/network/payloads.coffee"),n("./app/scripts/views/lib/pop-over.coffee"),d=n("./node_modules/bluebird/js/browser/bluebird.js"),u=n("./app/scripts/lib/recents.coffee"),m=n("./app/scripts/lib/util/index.coffee"),f=n("./app/scripts/views/internal/view.coffee"),h=n("./node_modules/underscore/underscore.js"),n("./app/scripts/lib/util/ninvoke.coffee"),k=n("./app/scripts/views/templates/select_board.coffee"),w=n("./app/scripts/views/templates/select_card.coffee"),p=n("./app/scripts/view-models/sidebar-state.coffee"),x=n("./app/scripts/views/templates/popover_trello_completer.coffee"),C=n("./packages/analytics/index.ts").track,i=n("./app/scripts/network/api-error.coffee"),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)_.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.viewTitleKey="add card or board",t.prototype.events={"mouseenter .js-select-card,.js-select-board":"hoverItem","click .js-select-card":"selectCard","click .js-select-board":"selectBoard",keydown:"keydownEvent","keyup .js-search":"keyupEvent","input .js-search":"updateSearch"},t.prototype.initialize=function(){return this.items=[],this.debouncedSearch=this.debounce(this.search,350).bind(this),this.search("")},t.prototype.render=function(){var e,t;return this,e={},this.model.canAttach()?(this.$el.html(x(e)),d.resolve(this._lastRenderPromise).then((t=this,function(){return t.renderItems()})).done(),this):(this.model.isOverLimit("attachments","perCard")?this.$el.html(v("perCard")):this.model.getBoard().isOverLimit("attachments","perBoard")&&this.$el.html(v("perBoard")),this)},t.prototype.renderItems=function(){var e,t,n,r,i,s,l,c,d,u,p,f,h,g;return this.$(".js-loading").addClass("hide"),p=new Set([this.model.get("shortLink")]),u=new Set,this.model.attachmentList.forEach((function(e){var t,n,r,i;switch(i=e.get("url"),r=(t=b(i)).type,n=t.shortLink,r){case"card":return p.add(n);case"board":return u.add(n)}})),c=this.items.filter((function(e){return e instanceof a&&!p.has(e.get("shortLink"))})),i=this.items.filter((function(e){return e instanceof o&&!u.has(e.get("shortLink"))})),t=this.$(".js-card-list").empty(),e=this.$(".js-board-list").empty(),c.length>0&&(l=function(){var e,t,r;for(r=[],e=0,t=c.length;e<t;e++)s=c[e],d=s.toJSON(),null!=(n=s.getBoard())&&(d.boardName=n.get("name")),r.push(w(d));return r}(),t.append(l)),i.length>0&&(r=function(){var e,t,r;for(r=[],e=0,t=i.length;e<t;e++)n=i[e],d=n.toJSON(),null!=(g=n.getOrganization())&&(d.orgName=g.get("displayName")),r.push(k(d));return r}(),e.append(r)),this.items.length>0&&m.selectMenuItem(this.$el,".item",this.$el.find(".item").first()),h=!this._lastQuery&&0===c.length,f=!this._lastQuery&&0===i.length,this.$(".js-card-results").toggleClass("hide",h),this.$(".js-board-results").toggleClass("hide",f),this.$(".js-no-card-results").toggleClass("hide",c.length>0),this.$(".js-no-board-results").toggleClass("hide",i.length>0),this},t.prototype.keyupEvent=function(e){var t;(t=g(e))!==s.ArrowUp&&t!==s.ArrowDown||(m.stop(e),m.navMenuList(this.$el,".item",t))},t.prototype.updateSearch=function(e){var t;return t=this.$(".js-search").val(),this.debouncedSearch(t)},t.prototype.keydownEvent=function(e){var t,n;if(((n=g(e))===s.Enter||n===s.Tab)&&(m.stop(e),(t=this.$el.find(".item.selected:first").find(".js-select-card,.js-select-board")).length>0))return t.click()},t.prototype.getTextInput=function(){return r(this.options.target)},t.prototype._renderSettledItems=function(e,t){var n;if(e===this._lastQuery)return this._lastRenderPromise=d.resolve(t).then((function(e){return h.isArray(e)?e:[e]})).catch(i,(function(){return[]})).tap((n=this,function(e){return n.items=e,n.renderItems()})).finally(function(e){return function(){return e._lastRenderPromise=null}}(this))},t.prototype.search=function(e){var t,n,r,i,o,a,s,f;if(e!==this._lastQuery){if(this._lastQuery=e,this.$(".js-card-results").addClass("hide"),this.$(".js-board-results").addClass("hide"),this.$(".js-loading").removeClass("hide"),""===e)return 5,i=h.chain(u.get("card",6)).without(this.model.id).first(5).value(),r=h.chain(p.getRecentBoards()).without(this.model.get("idBoard")).first(5).value(),a=d.props({recentCards:d.map(i,(g=this,function(e){return g.modelCache.getOrLoad({type:"Card",id:e,payload:c.cardCompleter,loader:function(e){return l.loadCardCompleterData(e)}})})),recentBoards:d.map(r,function(e){return function(t){return e.modelCache.getOrLoad({type:"Board",id:t,payload:c.boardCompleter,loader:function(e){return l.loadBoardCompleterData(e)}})}}(this))}).then((function(e){var t,n;return n=e.recentCards,t=e.recentBoards,h.compact(j.call(n).concat(j.call(t)))})),void this._renderSettledItems(e,a);var g;"card"!==(o=b(e.trim())).type?"board"!==o.type?m.isShortId(e)&&null!=(t=null!=(n=this.options.card)?n.getBoard():void 0)?null!=(s=t.getCard(e))?this._renderSettledItems(e,s):this._renderSettledItems(e,l.loadCardData(t.id,e)):(f={query:e,board_fields:"name,idOrganization,url",modelTypes:"cards,boards",partial:!0,card_board:!0},l.loadSearchData(f).nodeify(function(t){return function(n,r){var i,o;return null==n?(o=h.chain(r.cards).map((function(e){return t.modelCache.get("Card",e.id)})).sortBy((function(e){return e.get("idBoard")===t.model.get("idBoard")?0:1})).value(),i=h.chain(r.boards).map((function(e){return t.modelCache.get("Board",e.id)})).sortBy((function(e){return e.get("id")===t.model.get("idBoard")?1:0})).value(),t._renderSettledItems(e,j.call(o).concat(j.call(i)))):(t.items=[],t.renderItems())}}(this))):this._renderSettledItems(e,l.loadBoardCompleterData(o.shortLink)):this._renderSettledItems(e,l.loadCardCompleterData(o.shortLink))}},t.prototype.hoverItem=function(e){var t;return t=r(e.target).closest(".item"),m.selectMenuItem(this.$el,".item",t)},t.prototype.selectCard=function(e){var t,n;m.stop(e),n=this.$(e.target).closest(".js-select-card").attr("data-id"),null!=(t=this.modelCache.get("Card",n))&&this.insertItem(t)},t.prototype.selectBoard=function(e){var t,n;m.stop(e),n=this.$(e.target).closest(".js-select-board").attr("data-id"),null!=(t=this.modelCache.get("Board",n))&&this.insertItem(t)},t.prototype.insertItem=function(e){var t,n,r,i;if(!this.options.onStartUpload)return r=e.get("url"),t=this.getTextInput(),null!=(n=m.getCaretPosition(t))&&(i={start:n,end:n}),m.insertSelection(t,r+" ",null!=i?i.start:void 0,null!=i?i.end:void 0),C("Card Detail",e instanceof a?"Comment Box - Added Card":"Comment Box - Added Board","via menu");this.options.onStartUpload(e)},t}(f)},"./app/scripts/views/internal/board-display-helpers.coffee":function(e,t,n){var r,i;i=n("./app/scripts/lib/localize.coffee"),r={getPermLevelAltTextForBoard:function(e){var t;return t=e.getPermLevel(),i(["board perms",t,"short summary"])},getPermLevelAltTextForTemplate:function(e){var t;return t=e.getPermLevel(),i(["template perms",t,"short summary"])},getPermLevelIconClass:function(e){return"org"===e?"organization-visible":"enterprise"===e?"enterprise":e},getPermLevelIconClassForBoard:function(e){return r.getPermLevelIconClass(e.getPermLevel())}},e.exports=r},"./app/scripts/views/internal/collection-view.coffee":function(e,t,n){var r,i,o,a={}.hasOwnProperty,s=[].slice;n("./packages/jquery/index.js"),r=n("./app/scripts/views/internal/view.coffee"),i=n("./node_modules/underscore/underscore.js"),o=n("./app/scripts/debug/log.js"),e.exports=function(e){function t(e){t.__super__.constructor.call(this,e),this.sort=this.sort.bind(this)}return function(e,t){for(var n in t)a.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.initialize=function(){return this.listenPropagators={},this.makeDebouncedMethods("sort"),this.listenTo(this.collection,{sort:this.sortDebounced,add:this.addModel,remove:this.removeModel,reset:this.reset}),t.__super__.initialize.apply(this,arguments)},t.prototype.getModels=function(){return this.collection.models},t.prototype.subview=function(){var e,n,r,i;return r=t.__super__.subview.apply(this,arguments),null==(e=this.listenPropagators)[n=r.cid]&&(e[n]=this.listenTo(r,"all",(i=this,function(){var e,t;return t=arguments[0],e=2<=arguments.length?s.call(arguments,1):[],i.trigger.apply(i,[t,r].concat(s.call(e)))}))),r},t.prototype.addModel=function(e,t){var n;o("render","adding "+this.collection.model.name+" to "+this.viewType.name),n=this.subview(this.viewType,e),this.el&&this.insertSubview(n,i.indexOf(this.getModels(),e))},t.prototype.removeModel=function(e,t){return o("render","removing "+this.collection.model.name+" from "+this.viewType.name),this.removeSubview(this.viewForModel(e))},t.prototype.reset=function(e,t){var n,r,i,o,a,s,l,c;for(l=t.previousModels,i={},n=0,o=(c=e.models).length;n<o;n++)i[(s=c[n]).cid]=!0;for(r=0,a=l.length;r<a;r++)i[(s=l[r]).cid]||this.removeModel(s);return this.sort()},t.prototype.sort=function(){var e,t,n,r,i,o,a;for(o=Array.from(this.el.children).map((function(e,t){return e.matches(".placeholder,.card-composer")?t:null})).filter((function(e){return null!==e})),a=this.getModels(),n=t=0,r=a.length;t<r;n=++t)i=a[n],e=n+o.filter((function(e){return e<=n})).length,this.moveSubviewToPosition(this.subview(this.viewType,i),e)},t.prototype.render=function(){var e;return o("render","rendering "+this.getModels().length+" "+this.collection.model.name+"s into "+this.viewType.name),this.appendSubviews(function(){var t,n,r,i;for(i=[],t=0,n=(r=this.getModels()).length;t<n;t++)e=r[t],i.push(this.subview(this.viewType,e));return i}.call(this)),this},t.prototype.viewForModel=function(e){return this.existingSubview(this.viewType,e)},t.prototype.removeSubview=function(e){return this.deleteSubview(e)},t.prototype.insertSubview=function(e,t,n){null==n&&(n=this.$el),o("render","inserting "+e.$el.find("h2").text()+" at position "+t),"number"==typeof t?t=t<=0?n.children().eq(0):t<n.children().length?n.children().eq(t):void 0:t instanceof r&&(t=t.$el),e.$el.is(":empty")&&(e.delegateEvents(),e.render()),(null!=t?t.length:void 0)>0?e.$el.insertBefore(t):n.append(e.$el)},t.prototype.moveSubviewToPosition=function(e,t){var n;e.$el.is(":empty")?this.insertSubview(e,t,this.$el):(n=this.el.children,e.$el.index()!==t&&(0===t?this.$el.prepend(e.$el):t>=n.length?this.$el.append(e.$el):e.$el.insertAfter(n[t-1])))},t}(r)},"./app/scripts/views/internal/data-transfer/drag-drop-events.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p,m;n("./node_modules/underscore/underscore.js"),r=n("./app/scripts/lib/util/array/count-while.coffee"),u=n("./app/scripts/lib/util/event/trigger.coffee"),d=n("./app/scripts/views/internal/data-transfer/normalize.coffee"),a=d.getTypes,o=d.getDropped,p=function(e,t,n,r){var i,o,a;for(i=0,o=n.length;i<o;i++)a=n[i],u(e,t+":"+a,r)},i=function(e){var t;return e?((t=i(e.parentElement)).push(e),t):[]},s=[],l=null,m=function(e,t){var n,o,a,c,d,u,m,f,h;if(clearTimeout(l),!(s.length>0&&s[s.length-1]===e)){for(m=i(e),a=r(m,s,(function(e,t){return e===t})),o=0,d=(f=s.slice(a)).length;o<d;o++)n=f[o],p(n,"dd-leave",t,{bubbles:!1});for(c=0,u=(h=m.slice(a)).length;c<u;c++)n=h[c],p(n,"dd-enter",t,{bubbles:!1});return s=m}},(c=function(e,t){document.addEventListener(e,t)})("dragenter",(function(e){return m(e.target,a(e.dataTransfer)),e.preventDefault()})),c("dragover",(function(e){var t;return(t=a(e.dataTransfer)).length>0&&(e.dataTransfer.dropEffect="copy"),m(e.target,t),e.preventDefault()})),c("dragleave",(function(e){var t;return t=a(e.dataTransfer),l=setTimeout((function(){return m(null,t)}),200)})),c("dragend",(function(e){return m(null,[])})),c("drop",(function(e){var t;t=a(e.dataTransfer),o(e).then((function(n){var r,i;for(i in n)r=n[i],u(e.target,"dd-drop:"+i,{detail:r});return m(null,t)})),e.preventDefault()}))},"./app/scripts/views/internal/disable-submit-if-length-too-long.coffee":function(e,t,n){var r,i;r=n("./packages/jquery/index.js"),i={checkLength:function(e){var t,n,i,o;o=r(e.target).val(),i=this.maxLength||16384,n=!(t=0===o.length||/^\s*$/.test(o))&&o.length>i,null!=this.preventSubmit?this.preventSubmit(n,t):this._preventSubmit(n,t)},_preventSubmit:function(e,t){return this.$(".js-too-long-warning").toggleClass("hide",!e),this.$(".js-is-empty-warning").toggleClass("hide",!t),this.$('input[type="submit"]').prop("disabled",t||e)}},e.exports=i},"./app/scripts/views/internal/due-date-helpers.coffee":function(e,t,n){var r,i,o,a,s;s=n("./node_modules/moment/moment.js"),r=n("./node_modules/underscore/underscore.js"),o=n("./app/scripts/lib/localize.coffee"),i=function(e,t){var n,i,o,a,s;for(o=0,a=t.length;o<a;o++){if(i=t[o],!r.isArray(i))return i;if(n=i[0],s=i[1],e<=n)return s}throw new Error("no matching dispatch value for "+e+"!")},a=function(e){var t,n,r;return t=e.complete,r=e.incomplete,n=null,function(e,o){return o?t():(null==n&&(n=r()),i(s(new Date(e)).diff(s(),"hours",!0),n))}},e.exports={classForDueDate:a({complete:function(){return"is-due-complete"},incomplete:function(){return[[-36,"is-due-past"],[0,"is-due-now"],[24,"is-due-soon"],"is-due-future"]}}),titleForDueDate:a({complete:function(){return o("badge.due.complete")},incomplete:function(){return[[-36,o("badge.due.overdue")],[0,o("badge.due.recently overdue")],[1,o("badge.due.less than an hour")],[24,o("badge.due.less than a day")],o("badge.due.later")]}}),relativeInfoForDueDate:a({complete:function(){return o("badge.due.complete short")},incomplete:function(){return[[-36,o("badge.due.overdue short")],[0,o("badge.due.overdue short")],[24,o("badge.due.due soon short")],null]}})}},"./app/scripts/views/internal/friendly-links.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p,m,f;r=n("./app/scripts/db/known-services.coffee"),d=n("./app/scripts/lib/make-error-enum.coffee"),o=n("./app/scripts/views/internal/plugins/plugin-runner.coffee"),a=n("./node_modules/bluebird/js/browser/bluebird.js"),m=n("./app/scripts/views/internal/teacup-with-helpers.coffee")(),s=n("./node_modules/underscore/underscore.js"),i=n("./app/scripts/db/model-cache.coffee"),u=n("./node_modules/url-parse/index.js"),p=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts").sendPluginTrackEvent,d("FriendlyLink",["BoardRequired"]),l=new window.Map,c=new window.Map,f=m.renderable((function(e){var t,n,r,i;return t=e.icon,i=e.text,n=e.idPlugin,r=e.monochrome,m.img({class:m.classify({"known-service-icon":!0,"plugin-icon":null!=n,"mod-reset":!1===r}),src:t}),m.text(i)})),e.exports=function(e,t){var n;return n=null!=e.tagName==="A"?[e]:s.toArray(e.querySelectorAll("a")),a.map(n,(function(e){var n,s,d,m;if(s=u(e.href),m=e.textContent===s.origin?s.origin:s.href,(d=e.textContent)===m||d===decodeURIComponent(m))return n=(null!=t?t.id:void 0)+":"+m,a.try((function(){var e;if(!t)throw new o.Error.NotHandled("no board specified");return l.get(n)?l.get(n):c.get(n)?c.get(n):(e=o.one({command:"format-url",board:t,options:{url:m}}),c.set(n,e),e)})).catch(o.Error.NotHandled,(function(){return null})).then((function(o){return c.delete(n),null!=(null!=o?o.text:void 0)?(o.idPlugin&&p({idPlugin:o.idPlugin,idBoard:t.id,event:{action:"formatted",actionSubject:"url",source:"powerUpFormatUrl"}}),o):r.interpret(e.href,i)})).then((function(t){if(null!=t)return l.set(n,t),e.classList.add("known-service-link"),e.innerHTML=f(t)}))}))}},"./app/scripts/views/internal/model-cache-listener.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./app/scripts/db/model-cache.coffee"),d=n("./node_modules/react/index.js"),u=n("./node_modules/xtend/immutable.js");e.exports=function(e){return function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(g,t);var n,p,m,f,h=(n=g,function(){var e,t=l(n);if(s()){var r=l(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return a(this,e)});function g(e){var t;return r(this,g),(t=h.apply(this,arguments)).listeners=[],t.modelListeners=[],t}return p=g,(m=[{key:"listenTo",value:function(e,t){return c.on(e,t),this.listeners.push({events:e,callback:t})}},{key:"modelListener",value:function(e,t,n){return e.on(t,n),this.modelListeners.push({model:e,events:t,callback:n})}},{key:"clearModelListeners",value:function(){return this.modelListeners.forEach((function(e){var t=e.model,n=e.events,r=e.callback;return t.off(n,r)}))}},{key:"componentWillUnmount",value:function(){return this.listeners.forEach((function(e){var t=e.events,n=e.callback;return c.off(t,n)})),this.clearModelListeners()}},{key:"render",value:function(){var t=u(this.props,{listenTo:this.listenTo.bind(this),modelListener:this.modelListener.bind(this),clearModelListeners:this.clearModelListeners.bind(this)});return d.createElement(e,t)}}])&&i(p.prototype,m),f&&i(p,f),g}(d.Component)}},"./app/scripts/views/internal/paste-input.coffee":function(e,t,n){var r,i,o,a,s,l,c;r=n("./packages/jquery/index.js"),i=n("./app/scripts/lib/trello-clipboard.coffee"),n("./app/scripts/lib/util/index.coffee"),o=n("./node_modules/underscore/underscore.js"),s=n("./app/scripts/debug/log.js"),(l=n("./app/scripts/views/internal/data-transfer/normalize.coffee")).getTypes,a=l.getPasted,c=n("./app/scripts/lib/util/event/trigger-list.coffee"),e.exports=new(function(){function e(){var e,t,n;this.paste=(e=this.paste,t=this,function(){return e.apply(t,arguments)}),this._handlers={},r(document).on("paste",this.paste),i.on("pasteImage",(n=this,function(e){return n.triggerPasted("files",[e])}))}return e.prototype.precedence={list:4,card:5,dialog:10},e.prototype.addHandler=function(e,t){var n,r,i;return i=t.scope,null==(r=t.precedence)&&(r=this.precedence[i]),null==r&&(s("pasteinput","Missing precedence for "+i),r=this.precedence.default),null==(n=this._handlers)[i]&&(n[i]={}),this._handlers[i]={target:e,scope:i,precedence:r},s("pasteinput","Adding handler for "+i)},e.prototype.removeHandler=function(e){var t,n,r;for(r in n=[],t=this._handlers)e===t[r].target&&(s("pasteinput","Removing handler for "+r),n.push(delete this._handlers[r]));return n},e.prototype._sortedHandlers=function(){return o.sortBy(o.values(this._handlers),(function(e){return-e.precedence}))},e.prototype.paste=function(e){var t;a(e.originalEvent).then((t=this,function(n){var r,a,s,l,c;if(!o.isEmpty(n)&&(!n.text&&!n.url||"INPUT"!==(s=e.target.tagName)&&"TEXTAREA"!==s||i.isClipboard(e.target)))for(r=0,a=(l=["url","text","files"]).length;r<a;r++)if(n[c=l[r]]){t.triggerPasted(c,n[c]);break}}))},e.prototype.triggerPasted=function(e,t){var n;return n=o.compact(this._sortedHandlers().map((function(e){var t;return null!=(t=e.target)?t.el:void 0}))),c(n,"pasteinput:"+e,{detail:t})},e}())},"./app/scripts/views/internal/pasted-file-name.coffee":function(e,t,n){var r,i;i=n("./node_modules/moment/moment.js"),r=n("./app/scripts/lib/localize.coffee"),e.exports=function(){var e;return e=i(),r("pasted file name",{date:e.format("l"),time:e.format("LTS")})+".png"}},"./app/scripts/views/internal/react-root-component.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"ReactRootComponent",(function(){return L}));var r={};function i(e){var t=null;return function(){return null==t&&(t=e()),t}}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(r),n.d(r,"FILE",(function(){return h})),n.d(r,"URL",(function(){return g})),n.d(r,"TEXT",(function(){return v}));var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.entered=[],this.isNodeInDocument=t}var t,n,r;return t=e,(n=[{key:"enter",value:function(e){var t=this,n=this.entered.length;return this.entered=function(e,t){var n=new Set,r=function(e){return n.add(e)};e.forEach(r),t.forEach(r);var i=[];return n.forEach((function(e){return i.push(e)})),i}(this.entered.filter((function(n){return t.isNodeInDocument(n)&&(!n.contains||n.contains(e))})),[e]),0===n&&this.entered.length>0}},{key:"leave",value:function(e){var t,n,r=this.entered.length;return this.entered=(t=this.entered.filter(this.isNodeInDocument),n=e,t.filter((function(e){return e!==n}))),r>0&&0===this.entered.length}},{key:"reset",value:function(){this.entered=[]}}])&&o(t.prototype,n),r&&o(t,r),e}(),s=i((function(){return/firefox/i.test(navigator.userAgent)})),l=i((function(){return Boolean(window.safari)}));function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=t.length,i=[],o=0;o<r;o++)i.push(o);i.sort((function(e,n){return t[e]<t[n]?-1:1}));for(var a,s,l=[],c=[],d=[],u=0;u<r-1;u++)a=t[u+1]-t[u],s=n[u+1]-n[u],c.push(a),l.push(s),d.push(s/a);for(var p=[d[0]],m=0;m<c.length-1;m++){var f=d[m],h=d[m+1];if(f*h<=0)p.push(0);else{a=c[m];var g=c[m+1],v=a+g;p.push(3*v/((v+g)/f+(v+a)/h))}}p.push(d[d.length-1]);for(var b,y=[],k=[],w=0;w<p.length-1;w++){b=d[w];var x=p[w],C=1/c[w],_=x+p[w+1]-b-b;y.push((b-x-_)*C),k.push(_*C*C)}this.xs=t,this.ys=n,this.c1s=p,this.c2s=y,this.c3s=k}var t,n,r;return t=e,(n=[{key:"interpolate",value:function(e){var t=this.xs,n=this.ys,r=this.c1s,i=this.c2s,o=this.c3s,a=t.length-1;if(e===t[a])return n[a];for(var s,l=0,c=o.length-1;l<=c;){var d=t[s=Math.floor(.5*(l+c))];if(d<e)l=s+1;else{if(!(d>e))return n[s];c=s-1}}var u=e-t[a=Math.max(0,c)],p=u*u;return n[a]+r[a]*u+i[a]*p+o[a]*u*p}}])&&c(t.prototype,n),r&&c(t,r),e}();function u(e){var t=1===e.nodeType?e:e.parentElement;if(!t)return null;var n=t.getBoundingClientRect(),r=n.top;return{x:n.left,y:r}}function p(e){return{x:e.clientX,y:e.clientY}}function m(e,t,n,r,i){var o,a,c="IMG"===(o=t).nodeName&&(s()||!document.documentElement.contains(o)),p=u(c?e:t),m={x:n.x-p.x,y:n.y-p.y},f=e.offsetWidth,h=e.offsetHeight,g=r.anchorX,v=r.anchorY,b=function(e,t,n,r){var i=e?t.width:n,o=e?t.height:r;return l()&&e&&(o/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:o}}(c,t,f,h),y=b.dragPreviewWidth,k=b.dragPreviewHeight,w=i.offsetX,x=i.offsetY,C=0===x||x;return{x:0===w||w?w:new d([0,.5,1],[m.x,m.x/f*y,m.x+y-f]).interpolate(g),y:C?x:(a=new d([0,.5,1],[m.y,m.y/h*k,m.y+k-h]).interpolate(v),l()&&c&&(a+=(window.devicePixelRatio-1)*k),a)}}var f,h="__NATIVE_FILE__",g="__NATIVE_URL__",v="__NATIVE_TEXT__";function b(e,t,n){var r=t.reduce((function(t,n){return t||e.getData(n)}),"");return null!=r?r:n}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=(y(f={},h,{exposeProperties:{files:function(e){return Array.prototype.slice.call(e.files)},items:function(e){return e.items}},matchesTypes:["Files"]}),y(f,g,{exposeProperties:{urls:function(e,t){return b(e,t,"").split("\n")}},matchesTypes:["Url","text/uri-list"]}),y(f,v,{exposeProperties:{text:function(e,t){return b(e,t,"")}},matchesTypes:["Text","text/plain"]}),f);function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var x=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t,this.item={},Object.keys(this.config.exposeProperties).forEach((function(e){Object.defineProperty(n.item,e,{configurable:!0,enumerable:!0,get:function(){return console.warn("Browser doesn't allow reading \"".concat(e,'" until the drop event.')),null}})}))}var t,n,r;return t=e,(n=[{key:"mutateItemByReadingDataTransfer",value:function(e){var t=this,n={};e&&Object.keys(this.config.exposeProperties).forEach((function(r){n[r]={value:t.config.exposeProperties[r](e,t.config.matchesTypes)}})),Object.defineProperties(this.item,n)}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(e,t){return t===e.getSourceId()}},{key:"endDrag",value:function(){}}])&&w(t.prototype,n),r&&w(t,r),e}();function C(e){if(!e)return null;var t=Array.prototype.slice.call(e.types||[]);return Object.keys(k).filter((function(e){return k[e].matchesTypes.some((function(e){return t.indexOf(e)>-1}))}))[0]||null}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var j=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.globalContext=t}var t,n,r;return t=e,(n=[{key:"window",get:function(){return this.globalContext?this.globalContext:"undefined"!=typeof window?window:void 0}},{key:"document",get:function(){if(this.window)return this.window.document}}])&&_(t.prototype,n),r&&_(t,r),e}();function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(n,!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var T=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.getSourceClientOffset=function(e){return u(r.sourceNodes.get(e))},this.endDragNativeItem=function(){r.isDraggingNativeItem()&&(r.actions.endDrag(),r.registry.removeSource(r.currentNativeHandle),r.currentNativeHandle=null,r.currentNativeSource=null)},this.isNodeInDocument=function(e){return r.document&&r.document.body&&document.body.contains(e)},this.endDragIfSourceWasRemovedFromDOM=function(){var e=r.currentDragSourceNode;r.isNodeInDocument(e)||r.clearCurrentDragSourceNode()&&r.actions.endDrag()},this.handleTopDragStartCapture=function(){r.clearCurrentDragSourceNode(),r.dragStartSourceIds=[]},this.handleTopDragStart=function(e){if(!e.defaultPrevented){var t=r.dragStartSourceIds;r.dragStartSourceIds=null;var n=p(e);r.monitor.isDragging()&&r.actions.endDrag(),r.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:r.getSourceClientOffset,clientOffset:n});var i=e.dataTransfer,o=C(i);if(r.monitor.isDragging()){if(i&&"function"==typeof i.setDragImage){var a=r.monitor.getSourceId(),s=r.sourceNodes.get(a),l=r.sourcePreviewNodes.get(a)||s;if(l){var c=r.getCurrentSourcePreviewNodeOptions(),d=m(s,l,n,{anchorX:c.anchorX,anchorY:c.anchorY},{offsetX:c.offsetX,offsetY:c.offsetY});i.setDragImage(l,d.x,d.y)}}try{i.setData("application/json",{})}catch(e){}r.setCurrentDragSourceNode(e.target),r.getCurrentSourcePreviewNodeOptions().captureDraggingState?r.actions.publishDragSource():setTimeout((function(){return r.actions.publishDragSource()}),0)}else if(o)r.beginDragNativeItem(o);else{if(i&&!i.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}}},this.handleTopDragEndCapture=function(){r.clearCurrentDragSourceNode()&&r.actions.endDrag()},this.handleTopDragEnterCapture=function(e){if(r.dragEnterTargetIds=[],r.enterLeaveCounter.enter(e.target)&&!r.monitor.isDragging()){var t=C(e.dataTransfer);t&&r.beginDragNativeItem(t)}},this.handleTopDragEnter=function(e){var t=r.dragEnterTargetIds;(r.dragEnterTargetIds=[],r.monitor.isDragging())&&(r.altKeyPressed=e.altKey,s()||r.actions.hover(t,{clientOffset:p(e)}),t.some((function(e){return r.monitor.canDropOnTarget(e)}))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=r.getCurrentDropEffect())))},this.handleTopDragOverCapture=function(){r.dragOverTargetIds=[]},this.handleTopDragOver=function(e){var t=r.dragOverTargetIds;if(r.dragOverTargetIds=[],!r.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));r.altKeyPressed=e.altKey,r.actions.hover(t||[],{clientOffset:p(e)}),(t||[]).some((function(e){return r.monitor.canDropOnTarget(e)}))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=r.getCurrentDropEffect())):r.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=function(e){r.isDraggingNativeItem()&&e.preventDefault(),r.enterLeaveCounter.leave(e.target)&&r.isDraggingNativeItem()&&r.endDragNativeItem()},this.handleTopDropCapture=function(e){r.dropTargetIds=[],e.preventDefault(),r.isDraggingNativeItem()&&r.currentNativeSource.mutateItemByReadingDataTransfer(e.dataTransfer),r.enterLeaveCounter.reset()},this.handleTopDrop=function(e){var t=r.dropTargetIds;r.dropTargetIds=[],r.actions.hover(t,{clientOffset:p(e)}),r.actions.drop({dropEffect:r.getCurrentDropEffect()}),r.isDraggingNativeItem()?r.endDragNativeItem():r.endDragIfSourceWasRemovedFromDOM()},this.handleSelectStart=function(e){var t=e.target;"function"==typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))},this.options=new j(n),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new a(this.isNodeInDocument)}var t,n,i;return t=e,(n=[{key:"setup",value:function(){if(void 0!==this.window){if(this.window.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");this.window.__isReactDndBackendSetUp=!0,this.addEventListeners(this.window)}}},{key:"teardown",value:function(){void 0!==this.window&&(this.window.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.window),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&this.window.cancelAnimationFrame(this.asyncEndDragFrameId))}},{key:"connectDragPreview",value:function(e,t,n){var r=this;return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),function(){r.sourcePreviewNodes.delete(e),r.sourcePreviewNodeOptions.delete(e)}}},{key:"connectDragSource",value:function(e,t,n){var r=this;this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,n);var i=function(t){return r.handleDragStart(t,e)},o=function(e){return r.handleSelectStart(e)};return t.setAttribute("draggable","true"),t.addEventListener("dragstart",i),t.addEventListener("selectstart",o),function(){r.sourceNodes.delete(e),r.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",i),t.removeEventListener("selectstart",o),t.setAttribute("draggable","false")}}},{key:"connectDropTarget",value:function(e,t){var n=this,r=function(t){return n.handleDragEnter(t,e)},i=function(t){return n.handleDragOver(t,e)},o=function(t){return n.handleDrop(t,e)};return t.addEventListener("dragenter",r),t.addEventListener("dragover",i),t.addEventListener("drop",o),function(){t.removeEventListener("dragenter",r),t.removeEventListener("dragover",i),t.removeEventListener("drop",o)}}},{key:"addEventListeners",value:function(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"getCurrentSourceNodeOptions",value:function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return O({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var e=this.monitor.getSourceId();return O({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}},{key:"isDraggingNativeItem",value:function(){var e=this.monitor.getItemType();return Object.keys(r).some((function(t){return r[t]===e}))}},{key:"beginDragNativeItem",value:function(e){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(e){return new x(k[e])}(e),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"setCurrentDragSourceNode",value:function(e){var t=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.mouseMoveTimeoutTimer=setTimeout((function(){return t.window&&t.window.addEventListener("mousemove",t.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}},{key:"clearCurrentDragSourceNode",value:function(){return!!this.currentDragSourceNode&&(this.currentDragSourceNode=null,this.window&&(this.window.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.window.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)),this.mouseMoveTimeoutTimer=null,!0)}},{key:"handleDragStart",value:function(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}},{key:"handleDragEnter",value:function(e,t){this.dragEnterTargetIds.unshift(t)}},{key:"handleDragOver",value:function(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}},{key:"handleDrop",value:function(e,t){this.dropTargetIds.unshift(t)}},{key:"window",get:function(){return this.options.window}},{key:"document",get:function(){return this.options.document}}])&&N(t.prototype,n),i&&N(t,i),e}();var P=function(e,t){return new T(e,t)},B=n("./node_modules/react/index.js"),D=n.n(B),I=n("./node_modules/react-dnd/dist/esm/index.js"),A=n("./app/scripts/views/internal/global-click-handler.coffee"),L=function(e){var t=e.children;return D.a.createElement(I.DndProvider,{backend:P},D.a.createElement("div",{className:"js-react-root",onClick:function(e){e.isDefaultPrevented()||A(e)}},t))}},"./app/scripts/views/internal/view-with-actions.coffee":function(e,t,n){var r,i;n("./app/scripts/models/action.coffee"),r=n("./app/scripts/db/model-loader.coffee"),i={limit:50,nextPage:1,shortLoad:!1,loading:!1,idModels:null,loadMoreActions:function(){var e;if(!this.loading)return this.loading=!0,this.waitForId(this.model,(e=this,function(){var t;return r.loadMoreActionData(e.model.typeName.toLowerCase(),e.model.id,e.nextPage,e.limit,e.idModels,null!=(t="function"==typeof e.getActionsFilter?e.getActionsFilter():void 0)?t:"all").finally((function(){return e.loading=!1})).then((function(t){return e.shortLoad=t.length<e.limit,e.renderActions(),++e.nextPage})).done()}))},hasMoreActions:function(){return!this.loading&&!this.shortLoad&&this.getActions().length>=this.limit},getActions:function(){var e,t,n;return e=null!=(t="function"==typeof this.getFilteringModels?this.getFilteringModels():void 0)?t:[],(n=this.model).getActions.apply(n,e)}},e.exports=i},"./app/scripts/views/internal/warn-if-file-too-large.coffee":function(e,t,n){var r,i,o,a;r=n("./app/scripts/views/lib/alerts.coffee"),i=n("./app/scripts/db/auth.coffee"),o=n("./node_modules/underscore/underscore.js"),a=function(e){var t,n,o,a;return t=i.me().isFeatureEnabled("largeAttachments"),a=null!=(o=e.getOrganization())&&o.isFeatureEnabled("largeAttachments"),n=t||a?"file size exceeds 250mb":"file size exceeds 10mb",r.show(n,"error","upload",5e3)},e.exports=function(e,t){var n,r,s;for(o.isArray(t)||(t=[t]),r=0,s=t.length;r<s;r++)if(n=t[r],!i.me().canUploadAttachment(n))return a(e),!0;return!1}},"./app/scripts/views/invitation-link/display-invitation-link-view.coffee":function(e,t,n){var r,i,o,a,s,l;r=n("./packages/jquery/index.js"),n("./app/scripts/network/api-error.coffee"),o=n("./app/scripts/network/api-promise.coffee"),n("./app/scripts/lib/util/index.coffee"),(s=n("./packages/analytics/index.ts")).track,l=s.trackUe,i=n("./packages/atlassian-analytics/index.ts").Analytics,a={_secretUrl:function(){return this.model.url()+"/invitationSecret"},showInvitationLink:function(e){return this.$(".js-show-invitation-link").addClass("hide"),this.$(".js-invitation-link-container").removeClass("hide"),o({method:"post",url:this._secretUrl()}).get("secret").then((t=this,function(e){var n;return n=t.model.get("url").replace(/(\/b\/[^\/]+|\/[^\/]+$)(.*)$/,"/invite$1/"+e+"$2"),t.$(".js-invitation-link").val(n).focus().select()})).then(function(e){return function(){return l("board menu","opens","board invitation link","","","by clicking add members",{boardId:e.model.id}),i.sendClickedLinkEvent({linkName:"inviteToBoardCreateLink",source:"inviteToBoardInlineDialog",containers:{board:{id:e.model.id}}})}}(this)).done();var t},clickInvitationLink:function(e){return l("board menu","click","board invitation link","","","by clicking invitation link",{boardId:this.model.id}),i.sendClickedLinkEvent({linkName:"inviteToBoardLink",source:"inviteToBoardInlineDialog",containers:{board:{id:this.model.id}}}),r(".js-invitation-link").select()},deactivateInvitationLink:function(e){return this.$(".js-show-invitation-link").removeClass("hide"),this.$(".js-invitation-link-container").addClass("hide"),this.$(".js-invitation-link").val(""),l("board menu","disables","board invitation link","","","by clicking add members",{boardId:this.model.id}),i.sendClickedLinkEvent({linkName:"inviteToBoardDisableLink",source:"inviteToBoardInlineDialog",containers:{board:{id:this.model.id}}}),o({method:"delete",url:this._secretUrl()}).done()},copyInvitationLink:function(e){return r(".js-invitation-link").select(),l("board menu","copy","board invitation link","","","by clicking add members",{boardId:this.model.id}),i.sendClickedButtonEvent({buttonName:"inviteToBoardLinkCopyButton",source:"inviteToBoardInlineDialog",containers:{board:{id:this.model.id}}}),document.execCommand("copy"),clearTimeout(this.hideTimeout),r(".js-hide-on-copy").hide(),r(".js-show-on-copy").show(),this.hideTimeout=setTimeout((function(){return r(".js-hide-on-copy").show(),r(".js-show-on-copy").hide()}),2e3)}},e.exports=a},"./app/scripts/views/label/card-label-select-view.coffee":function(e,t,n){var r,i,o,a={}.hasOwnProperty;r=n("./app/scripts/views/label/labels-view.coffee"),i=n("./app/scripts/views/lib/pop-over.coffee"),o=n("./app/scripts/views/internal/view.coffee"),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)a.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.viewTitleKey="labels",t.prototype.el=function(){return this.labelsView=this.subview(r,this.model,{board:this.model.getBoard(),selectLabel:this.toggleLabel.bind(this),renderOn:[{source:this.model.labelList,events:"add remove reset change"},{source:this.model,events:"change:labels, change:idLabels"}],popOverMethod:"pushView",searchInit:this.options.searchInit}),this.labelsView.render().el},t.prototype.toggleLabel=function(e,t){this.model.toggleLabel(this.modelCache.get("Label",e)),this.options.hideOnSelect&&i.popView()},t}(o)},"./app/scripts/views/label/label-create-view.coffee":function(e,t,n){var r,i,o,a,s,l={}.hasOwnProperty,c=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};r=n("./app/scripts/models/label.coffee"),i=n("./app/scripts/views/label/label-edit-component.coffee"),o=n("./app/scripts/views/label/label-limits-error-view.coffee"),a=n("./app/scripts/views/lib/pop-over.coffee"),s=n("./app/scripts/views/internal/view.coffee"),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)l.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.viewTitleKey="create label",t.prototype.el=function(){var e,t,n;return this.options.board.isOverLimit("labels","perBoard")?(new o).render().el:(e=this.options.color,t=this.options.name,c.call(r.colors,t)>=0&&(e=t,t=""),new i({model:{name:t},submitTextKey:"create",color:e,onSubmit:(n=this,function(e,t){var r;if(!n.options.board.isOverLimit("labels","perBoard"))return"function"==typeof(r=n.options).onSubmit&&r.onSubmit(e,t),a.popView();a.pushView(new o)})}).render().el)},t}(s)},"./app/scripts/views/label/label-edit-component.coffee":function(e,t,n){var r,i,o,a,s,l,c={}.hasOwnProperty;r=n("./app/scripts/models/label.coffee"),i=n("./app/scripts/lib/util/index.coffee"),o=n("./app/scripts/views/internal/view.coffee"),a=n("./node_modules/underscore/underscore.js"),l=n("./app/scripts/views/internal/templates.coffee"),s=n("./app/scripts/lib/localize.coffee"),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)c.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.tagName="form",t.prototype.className="edit-label",t.prototype.events={"click .js-palette-color":"pickColor","click .js-submit":"submit",submit:"submit"},t.prototype.initialize=function(e){return this.accessoryView=e.accessoryView,this.color=e.color,this.onSubmit=e.onSubmit,this.submitTextKey=e.submitTextKey,t.__super__.initialize.apply(this,arguments)},t.prototype.renderOnce=function(){var e,t,i;return t=function(){var t,n,i,o;for(o=[],t=0,n=(i=r.colors).length;t<n;t++)e=i[t],o.push({color:e,selected:e===this.color});return o}.call(this),(i={label:{name:this.model.name},colors:t}).submitText=s(this.submitTextKey),i.noColor=null===this.color,this.$el.html(l.fill(n("./app/scripts/views/templates/label_edit_component.coffee"),i)),null!=this.accessoryView&&this.$(".js-accessory-view-holder").append(this.accessoryView.render().el),this},t.prototype.pickColor=function(e){var t;return i.stop(e),this.$(".js-palette-select").hide(),t=this.$(e.target).closest(".js-palette-color"),this.color=t.attr("data-color"),t.find(".js-palette-select").show()},t.prototype.submit=function(e){var t;if(i.stop(e),t=this.$(".js-label-name").val().trim(),!a.isEmpty(t)||!a.isEmpty(this.color))return this.onSubmit(t,a.isEmpty(this.color)?null:this.color)},t}(o)},"./app/scripts/views/label/label-edit-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p=function(e,t){for(var n in t)m.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},m={}.hasOwnProperty;i=n("./app/scripts/views/lib/confirm.coffee"),o=n("./app/scripts/views/label/label-edit-component.coffee"),a=n("./app/scripts/views/lib/pop-over.coffee"),s=n("./app/scripts/lib/util/index.coffee"),l=n("./app/scripts/views/internal/view.coffee"),u=n("./packages/analytics/index.ts").track,d=n("./app/scripts/lib/localize.coffee"),r=n("./packages/atlassian-analytics/index.ts").Analytics,c=n("./packages/feature-flag-client/index.ts").featureFlagClient,e.exports=function(e){var t;function n(){return n.__super__.constructor.apply(this,arguments)}return p(n,e),t=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.tagName="input",t.prototype.className="negate",t.prototype.attributes=function(){return{type:"submit",value:d("delete")}},t.prototype.events={click:function(e){return s.stop(e),this.options.onClick()}},t}(l),n.prototype.viewTitleKey="change label",n.prototype.initialize=function(){return this.sendGASEvent=c.get("dataeng.gasv3-event-tracking",!1)},n.prototype.el=function(){return new o({model:this.model.toJSON(),submitTextKey:"save",onSubmit:(e=this,function(t,n){var r;return e.model.update({color:n,name:t}),"function"==typeof(r=e.options).onSubmit&&r.onSubmit(),a.popView()}),color:this.model.get("color"),accessoryView:new t({onClick:this.confirmDeleteLabel.bind(this)})}).render().el;var e},n.prototype.confirmDeleteLabel=function(){return i.pushView("delete label",{model:this.model,confirmBtnClass:"negate",popOnClick:!0,popDepth:2,fxConfirm:(e=this,function(t){var n;if(e.model.destroy(),"function"==typeof(n=e.options).onSubmit&&n.onSubmit(),u("Label","Delete"),e.sendGASEvent)return r.sendTrackEvent({action:"deleted",actionSubject:"label",source:"labelEditScreen",containers:{board:{id:e.model.getBoard().id}}})})});var e},n}(l)},"./app/scripts/views/label/label-key-helper.coffee":function(e,t,n){var r,i,o;r=n("./packages/keybindings/index.ts").Key,i=n("./app/scripts/models/label.coffee"),o=n("./node_modules/underscore/underscore.js"),e.exports=function(){function e(){}return e.keyboardIndex=[o.last(i.colors)].concat(o.initial(i.colors)),e.keyNumberForColor=function(e){var t;return(t=this.keyboardIndex.indexOf(e))>=0?""+t:null},e.colorForKey=function(e){var t;return t=e-r.Zero,this.keyboardIndex[t]},e.setLabelFromKey=function(e,t,n){var r,i;i=this.colorForKey(e),1===(null!=(r=t.getBoard().labelsForColors()[i])?r.length:void 0)?t.toggleLabelColor(i):"function"==typeof n&&n(i)},e}()},"./app/scripts/views/label/label-limits-error-view.coffee":function(e,t,n){var r,i,o={}.hasOwnProperty;i=n("./app/scripts/views/internal/templates.coffee"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)o.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.tagName="span",t.prototype.className="error",t.prototype.renderOnce=function(){return this.$el.html(i.fill(n("./app/scripts/views/templates/label_limit_exceeded.coffee")))},t}(n("./app/scripts/views/internal/view.coffee")),e.exports=r},"./app/scripts/views/label/labels-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p,m,f,h,g,v,b,y,k,w,x,C,_,j={}.hasOwnProperty;r=n("./packages/jquery/index.js"),i=n("./packages/action-history/index.ts").ActionHistory,a=n("./app/scripts/db/auth.coffee"),s=n("./app/scripts/models/card.coffee"),b=n("./app/scripts/views/feedback/collectors/get-suggestions-feedback.ts").getSuggestionsFeedback,k=n("./packages/keybindings/index.ts"),v=k.getKey,l=k.Key,c=n("./app/scripts/models/label.coffee"),d=n("./app/scripts/views/label/label-create-view.coffee"),u=n("./app/scripts/views/label/label-edit-view.coffee"),p=n("./app/scripts/views/label/label-key-helper.coffee"),m=n("./app/scripts/views/lib/pop-over.coffee"),f=n("./app/scripts/lib/util/index.coffee"),h=n("./app/scripts/views/internal/view.coffee"),g=n("./node_modules/underscore/underscore.js"),x=n("./app/scripts/views/internal/templates.coffee"),w=n("./packages/analytics/index.ts"),C=w.track,_=w.trackDebounced,y=n("./app/scripts/lib/localize.coffee"),o=n("./packages/atlassian-analytics/index.ts").Analytics,e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)j.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),12,t.prototype.labelsToShow=12,t.prototype.events={"click .js-select-label":"clickLabel","click .js-toggle-color-blind-mode":"toggleColorBlindMode","click .js-edit-label":"clickEditLabel","click .js-add-label":"clickAddLabel","click .js-show-more":"showMore","click .js-suggested-actions-feedback":b({placement:"Labels Select"}),"input .js-label-search":"renderLabels","keyup .js-label-search":"keyUp","mouseover .card-label":"hoverLabel"},t.prototype.initialize=function(e){var n,r,i,o,s;for(this.selectLabel=e.selectLabel,this.board=e.board,this.modelCache=e.modelCache,this.renderOn=e.renderOn,this.popOverMethod=e.popOverMethod,this.searchInit=e.searchInit,this.onEditSubmit=e.onEditSubmit,this.makeDebouncedMethods("render","renderLabels"),this.listenTo(a.me(),{"change:prefs":this.renderDebounced}),this.listenTo(this.board.labelList,{"add remove reset change":this.renderLabelsDebounced}),n=0,r=(o=null!=(i=this.renderOn)?i:[]).length;n<r;n++)s=o[n],this.listenTo(s.source,s.events,this.renderLabelsDebounced);return this._keepVisible={},t.__super__.initialize.apply(this,arguments)},t.prototype.render=function(){var e,t,r,i;return t=this.board.labelColors(),r={editable:this.board.editable()},e={colors:t,isColorBlindEnabled:a.isLoggedIn()&&a.me().get("prefs").colorBlind,searchInit:null!=(i=this.searchInit)?i:""},this.searchInit=null,this.$el.html(x.fill(n("./app/scripts/views/templates/popover_change_labels.coffee"),e,r)),this.renderLabels()},t.prototype.renderLabels=function(){var e,t,r,i,o,a,l,c,d,u,p,m;return this.board.labelsForColors(),i=this._filteredLabels(),e=g.map(i,(m=this,function(e){return m.model.dataForLabel(e)})),d=function(e){return function(t){return t.isActive||e._keepVisible[t.id]}}(this),o=e.length>this.labelsToShow?(r=e.filter(d),l=this.labelsToShow-r.length,g.chain(e).filter((function(e){return d(e)||l-- >0})).first(this.labelsToShow).value()):e,this.$(".js-show-more").toggleClass("hide",o.length===e.length),t={labels:o},a={editable:this.board.editable()},this.$(".js-labels-list").empty().append(x.fill(n("./app/scripts/views/templates/select_labels.coffee"),t,a)),c=this._searchVal(),p=g.isEmpty(c)||i.length>0?y("create new label.unnamed"):y("create new label.named",{name:c},{raw:!0}),this.$(".js-add-label").text(p),!g.isEmpty(c)&&i.length>0&&this.selectFirstLabelInList(),u=!this._searchVal()&&this.model instanceof s&&o.length<e.length?this.getSuggestedLabels():[],this.$(".js-suggestions").toggleClass("hide",0===u.length),this.$(".js-suggested-labels-list").empty().append(x.fill(n("./app/scripts/views/templates/select_labels.coffee"),{labels:u},a)),u.length>0&&_.hour("Suggestions","Card Labels Menu","Displayed",u.length),this},t.prototype.getSuggestedLabels=function(){var e,t,n,r,o;return t=i.get(),e=this.model.getBoard(),n=this.model.get("idList"),r=new Set,t.filter((function(e){var t,r;return t=e.action,r=e.context,"add-label"===t.type&&r.idList===n})).filter((function(e){var t;return t=e.action,!r.has(t.idLabel)&&(r.add(t.idLabel),!0)})).filter((o=this,function(e){var t;return t=e.action,o.model.isValidSuggestion(t,!0)})).map(function(t){return function(n){var r,i;return r=n.action,i=e.labelList.get(r.idLabel),t.model.dataForLabel(i)}}(this)).slice(0,5)},t.prototype.highlightElement=function(e){return f.selectMenuItem(this.$(".js-labels-list,.js-suggested-labels-list"),".card-label",e)},t.prototype.getHighlightedElement=function(){return this.$(".js-labels-list,.js-suggested-labels-list").find(".card-label.selected").first()},t.prototype.selectFirstLabelInList=function(e){this.highlightElement(this.$(".js-labels-list,.js-suggested-labels-list").find(".card-label").first())},t.prototype.toggleColorBlindMode=function(e){var t;(t=a.me()).toggleColorBlindMode(),C(this.model.typeName,"Labels Menu","Toggle Color Blind Friendly Mode."),o.sendTrackEvent({action:"toggled",actionSubject:"colorBlindFriendlyMode",source:"cardLabelsScreen",containers:{card:{id:this.model.id}},attributes:{value:t.get("prefs").colorBlind}})},t.prototype.clickEditLabel=function(e){var t;return f.stop(e),t=r(e.target).closest(".js-edit-label").attr("data-idLabel"),this.editLabel(t)},t.prototype.selectLabelViaElem=function(e){var t,n;return n=e.attr("data-idLabel"),t=e.closest(".js-suggestions").length>0,this._keepVisible[n]=!0,this.selectLabel(n,t)},t.prototype.clickLabel=function(e){var t;return f.stop(e),t=r(e.target).closest(".js-select-label"),this.selectLabelViaElem(t)},t.prototype.findElementForLabel=function(e){return this.$(".js-edit-label").filter((function(t,n){return r(n).attr("data-idLabel")===e}))},t.prototype.editLabel=function(e){var t,n;return t=this.findElementForLabel(e),n=this.modelCache.get("Label",e),m[this.popOverMethod]({elem:t,view:u,options:{model:n,board:this.board,modelCache:this.modelCache,onSubmit:this.onEditSubmit}})},t.prototype.clickAddLabel=function(e){var t,n;f.stop(e),t=this._searchVal(),m[this.popOverMethod]({elem:this.$(".js-add-label"),view:d,options:{board:this.board,name:t,color:this._nextColor(),onSubmit:(n=this,function(e,t){return n.model.createLabel(e,t),n.clearSearch()})}})},t.prototype.showMore=function(){return this.labelsToShow+=12,this.renderLabels()},t.prototype.hoverLabel=function(e){this.highlightElement(r(e.target).closest(".card-label"))},t.prototype.keyUp=function(e){var t,n;return(n=v(e))===l.ArrowUp||n===l.ArrowDown?(f.stop(e),void f.navMenuList(this.$(".js-labels-list,.js-suggested-labels-list"),".card-label",n)):n===l.Enter?this._filteredLabels().length>0?((t=this.getHighlightedElement()).length>0&&(this.selectLabelViaElem(t),this.clearSearch()),C(this.model.typeName,"Labels Menu","Add By Filter"),this.sendGASEevent?o.sendTrackEvent({action:"added",actionSubject:"label",source:"cardLabelFilter",containers:{card:{id:this.model.id}}}):void 0):this.clickAddLabel():void 0},t.prototype.clearSearch=function(){return this.$(".js-label-search").val(""),this.renderLabels()},t.prototype._nextColor=function(){var e,t;return t=g.chain(this.board.getLabels()).map((function(e){return e.get("color")})).uniq().value(),null!=(e=g.difference(c.colors,t)[0])?e:""},t.prototype._searchVal=function(){var e,t;return null!=(e=null!=(t=this.$(".js-label-search").val())?t.trim():void 0)?e:""},t.prototype._filteredLabels=function(){var e;return e=this._searchVal().toLowerCase(),g.chain(this.board.getLabels()).filter((function(t){var n,r;return g.isEmpty(e)||(null!=(n=t.get("name"))?n.toLowerCase().indexOf(e):void 0)>-1||0===(null!=(r=t.get("color"))?r.toLowerCase().indexOf(e):void 0)||t.get("color")===p.keyboardIndex[parseInt(e)]})).value()},t}(h)},"./app/scripts/views/lib/confirm.coffee":function(e,t,n){var r,i,o,a,s,l,c={}.hasOwnProperty;r=n("./app/scripts/views/lib/pop-over.coffee"),i=n("./app/scripts/lib/util/index.coffee"),o=n("./app/scripts/views/internal/view.coffee"),a=n("./node_modules/underscore/underscore.js"),l=n("./app/scripts/views/internal/templates.coffee"),s=n("./app/scripts/lib/localize.coffee"),e.exports=function(e){var t,o;function d(e){var t,r,i,o,s,l,c,u,p,m,f,h,g,v,b,y,k,w;f=e.model,y=e.text,p=e.html,l=e.elem,w=e.top,o=e.confirmText,r=e.confirmBtnClass,i=e.confirmBtnTestId,t=e.cancelText,k=e.title,v=e.template,b=e.templateData,s=e.data,u=e.fxConfirm,c=e.fxCancel,g=e.popOnClick,h=e.popDepth,m=e.maxWidth,d.__super__.constructor.apply(this,arguments),this.model=f,this.elem=l,this.top=w,this.title=k,this.template=v,this.templateData=b,this.popOnClick=g,this.popDepth=h,null==this.template&&(this.template=n("./app/scripts/views/templates/confirm.coffee")),null==i&&(i=""),this.confirm=this._handleClick(u),this.cancel=c?this._handleClick(c):function(){},this.data=a.extend({text:y,html:p,confirmText:o,confirmBtnClass:r,confirmBtnTestId:i,cancelText:t},null!=s?s:{}),null==this.templateData&&(this.templateData={}),this.maxWidth=m,this.delegateEvents(this._events)}return function(e,t){for(var n in t)c.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(d,e),t=function(e,t){var n,r,i;for(n in r=a.clone(e),t)c.call(t,n)&&(i=t[n],n in r||(r[n]=i()));return r},o=function(e,n){var r;return"fxCancel"in(r=t(n,{title:function(){return s(["confirm",e,"title"],n.templateData)},html:function(){return s(["confirm",e,"text"],n.templateData)},confirmText:function(){return s(["confirm",e,"confirm"],n.templateData)}}))&&!("cancelText"in r)&&(r.cancelText=s(["confirm",e,"cancel"],n.templateData)),r},d.toggle=function(e,t){return t=1===arguments.length?e:o(e,t),r.toggle({elem:t.elem,top:t.top,alignRight:t.alignRight,view:this,options:t})},d.pushView=function(e,t){return t=1===arguments.length?e:o(e,t),r.pushView({view:this,options:t})},d.prototype.getViewTitle=function(){return this.title},d.prototype._events={"click .js-confirm":"confirm","click .js-cancel":"cancel"},d.prototype.render=function(){var e;return this.$el.html(l.fill(this.template,this.data,{},{member:l.member})),setTimeout((e=this,function(t){return e.$el.find(".js-confirm").focus(),0})),this},d.prototype._handleClick=function(e){return t=this,function(n){return i.stop(n),t.popOnClick?r.popView(t.popDepth):r.hide(),"function"==typeof e&&e(n),t.remove(),!1};var t},d}(o)},"./app/scripts/views/lib/drag-sort.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p,m,f,h,g,v,b,y,k,w,x,C,_=[].slice;r=n("./packages/jquery/index.js"),i=n("./packages/browser/index.ts"),o=n("./app/scripts/controller/index.js"),l=n("./app/scripts/views/lib/pop-over.coffee"),c=n("./app/scripts/views/lib/post-render.coffee"),d=n("./app/scripts/view-models/sidebar-state.coffee"),u=n("./app/scripts/lib/util/index.coffee"),p=n("./node_modules/underscore/underscore.js"),C=n("./packages/analytics/index.ts").track,w=function(e,t){var n,r,i;return i=e.x,n=t.left,r=t.right,n<=i&&i<r},y=function(e,t,n){var r,i;return i=e.top,r=e.left,{top:i+n,bottom:e.bottom-n,left:r+t,right:e.right-t}},g=function(e){return{x:e.pageX,y:e.pageY}},m=function(){var e;return e=1<=arguments.length?_.call(arguments,0):[],function(){var t,n,r;for(n=0,r=e.length;n<r;n++)null!=(t=e[n])&&t.apply(this,arguments)}},x=function(e,t){return m(t,e)},a=function(){function e(e){this.scrollBoard=e.scrollBoard,this.scrollLists=e.scrollLists,this.scrollCard=e.scrollCard,this.commitEvent=e.commitEvent,this.cancelMethod=e.cancelMethod,this._queue=[]}return e.prototype.hasMousedLeft=!1,e.prototype.hasMousedRight=!1,e.prototype.stopped=!1,e.prototype.aborted=!1,e.prototype.start=function(e,t){this.$helper=t.helper,this.$target=r(e.target),this.initialMousePosition=g(e),this.lockModelCache(),d.hideSidebar(),this.startTrackingMouse(),this.hidePopoversForSomeReason(),this.boardElement=r("#board")[0],this.boardCanvasElement=r(".board-canvas")[0],this.windowOverlayElement=r(".window-overlay")[0],this.cachedHoveredList=this.getHoveredListForPoint(this.initialMousePosition),(this.scrollLists||this.scrollBoard||this.scrollCard)&&this.startAutoscrolling(),s.sorting=!0,this.onStop((function(){return p.defer((function(){return s.sorting=!1}))}))},e.prototype.lockModelCache=function(){var e,t;if(null==(t=o.getCurrentModelCache()))throw new Error("Attempt to use DragInfo on a page with no modelCache!");return e=t.lock("DragSort.startSort"),this.onStop((function(){return t.unlock(e)}))},e.prototype.hidePopoversForSomeReason=function(){0===this.$target.closest(".pop-over").length&&l.hide()},e.prototype.startAutoscrolling=function(){var e,t;return e=Math.floor(1e3/60),t=setInterval(this.autoscroll.bind(this),e),this.onStop((function(){return clearInterval(t)}))},e.prototype.getHoveredListForPoint=function(e){var t,n,i,o;for(n=0,i=(o=r(".js-list")).length;n<i;n++)if(t=o[n],w(e,t.getBoundingClientRect()))return r(t).find(".list-cards")[0];return null},e.prototype.startTrackingMouse=function(){var e,t;return e=p.throttle((t=this,function(e){if(!t.stopped)return t.cachedHoveredList=t.getHoveredListForPoint(e)}),100),20,r(document).on("mousemove.dragsort",function(t){return function(n){var r;(r=g(n)).x<t.initialMousePosition.x-20&&(t.hasMousedLeft=!0),r.x>t.initialMousePosition.x+20&&(t.hasMousedRight=!0),e(r)}}(this)),this.onStop((function(){return r(document).off("mousemove.dragsort")}))},e.prototype.onStop=function(e){return this._queue.push(e)},e.prototype.stop=function(e,t){var n,r,i;for(this.stopped=!0,n=0,r=(i=this._queue).length;n<r;n++)i[n].call(this);delete this._queue,this.aborted||this.$target.trigger(this.commitEvent,t)},e.prototype.scrollDeltaForOverhang=function(e){return.1*e},e.prototype.autoscrollBoard=function(){var e,t,n,r,i,o;e=(n=this.$helper[0].getBoundingClientRect()).left,r=n.right,(t=(o=y(this.boardCanvasElement.getBoundingClientRect(),100,0)).left-e)>0&&this.hasMousedLeft&&(this.boardElement.scrollLeft-=this.scrollDeltaForOverhang(t)),(i=r-o.right)>0&&this.hasMousedRight&&(this.boardElement.scrollLeft+=this.scrollDeltaForOverhang(i))},e.prototype.autoscrollLists=function(){var e,t,n,r,i,o;i=(n=this.$helper[0].getBoundingClientRect()).top,e=n.bottom,(o=(r=y(this.cachedHoveredList.getBoundingClientRect(),0,50)).top-i)>0&&(this.cachedHoveredList.scrollTop-=this.scrollDeltaForOverhang(o)),(t=e-r.bottom)>0&&(this.cachedHoveredList.scrollTop+=this.scrollDeltaForOverhang(t))},e.prototype.autoscrollCard=function(){var e,t,n,r,i,o;i=(n=this.$helper[0].getBoundingClientRect()).top,(e=n.bottom)-i>64&&(e=i+64),(o=(r=y(this.windowOverlayElement.getBoundingClientRect(),0,100)).top-i)>0&&(this.windowOverlayElement.scrollTop-=this.scrollDeltaForOverhang(o)),(t=e-r.bottom)>0&&(this.windowOverlayElement.scrollTop+=this.scrollDeltaForOverhang(t))},e.prototype.autoscroll=function(){this.scrollBoard&&this.autoscrollBoard(),this.scrollLists&&null!=this.cachedHoveredList&&this.autoscrollLists(),this.scrollCard&&this.autoscrollCard()},e.prototype.abort=function(){var e;return this.aborted=!0,null!=(e=r.ui.ddmanager.current)&&(e.currentContainer=e),this.$target[this.cancelMethod]("cancel")},e}(),f=null,k=function(e,t){return t=p.defaults({},t,{distance:7,scroll:!1}),e.scrollLists&&(t.custom={refreshContainers:function(){var e,t,n,i;this.containers=function(){var o,a,s,l,c,d,u;for(u=[],o=0,s=(c=this.containers).length;o<s;o++)if(e=c[o],r.contains(document,e.element[0])){for(t=e.element.closest(".js-list")[0],i=t.getBoundingClientRect(),a=0,l=(d=["left","top","width","height"]).length;a<l;a++)n=d[a],e.containerCache[n]=i[n];u.push(e)}return u}.call(this)}}),t.start=x(t.start,(function(t,n){if(null!=f)throw new Error("Attempt to start a drag event while another is in progress!");(f=new a(e)).start(t,n)})),t.stop=x(t.stop,(function(e,t){u.stopPropagation(e),f.stop(e,t),f=null})),t},h=function(e){return{width:e.outerWidth(),height:e.outerHeight()}},b=function(e,t,n){var o,a;i.isTouch()||(o=null,a=!("helper"in n)||"original"===n.helper,n.start=x(n.start,(function(e,r){var i,s,l,c;a&&"appendTo"in n&&(r.helper.appendTo(n.appendTo),o.sortable("refreshPositions",!0)),c=(l=(null!=(s=t.calcSize)?s:h)(r.item)).width,i=l.height,r.placeholder.width(c),r.placeholder.height(i)})),t=p.extend({commitEvent:"sortcommit",cancelMethod:"sortable"},t),n=k(t,n),c.enqueue((function(){return(o=r(e)).sortable(n)})))},v=function(e,t,n){i.isTouch()||(t=p.extend({commitEvent:"dragcommit",cancelMethod:"draggable"},t),n=k(t,n),c.enqueue((function(){return r(e).draggable(n)})))},e.exports=s={refreshListSortable:function(){return b(".js-list-sortable",{scrollBoard:!0,scrollLists:!1,calcSize:function(e){var t;return{width:(t=e.children(".list")).outerWidth(),height:t.outerHeight()}}},{handle:".list-header",tolerance:"pointer",placeholder:"list-wrapper placeholder",items:".js-list",appendTo:"#trello-root"})},refreshCalendarCardSortable:function(){return b(".js-calendar-sortable",{scrollBoard:!1,scrollLists:!1},{connectWith:".js-calendar-sortable",placeholder:"list-card placeholder-none",items:".list-card:not(.placeholder-none, .hide, .js-composer), .js-draggable-calendar-check-item",helper:"clone",appendTo:"#trello-root",over:function(e,t){return r(e.target).closest(".calendar-day").addClass("drop")},out:function(e,t){return r(e.target).closest(".calendar-day").removeClass("drop")}})},refreshListCardSortable:function(){return b(".js-sortable",{scrollBoard:!0,scrollLists:!0},{connectWith:".js-sortable:not(.card-limits-full)",placeholder:"list-card placeholder",items:".list-card:not(.placeholder, .hide, .js-composer)",appendTo:"#trello-root"})},refreshDraggableSidebarMembers:function(){return v(".js-list-draggable-board-members .member:not(.js-member-deactivated)",{scrollBoard:!0,scrollLists:!0},{revert:"invalid",revertDuration:150,appendTo:"#trello-root",zIndex:100,helper:"clone",start:function(e,t){C("Board Menu","Drag Member from Sidebar"),r(".list-card.active-card").removeClass("active-card")}})},refreshDraggableStickers:function(){return v(".js-draggable-sticker:not(.disabled)",{scrollBoard:!0,scrollLists:!0},{revert:"invalid",revertDuration:150,appendTo:"#trello-root",zIndex:100,helper:"clone",start:function(e,t){var n;C("Board Menu","Drag Sticker from Sidebar"),n=20*Math.random()-10,t.helper.find(".sticker-select-fixed").css({transform:"rotate("+n+"deg)","-webkit-transform":"rotate("+n+"deg)"})}})},refreshCardSortable:function(e,t){return b(e,{scrollCard:!0},t)},abort:function(){if(null==f)throw new Error("Abort called while not dragging!");return f.abort()},refreshIfInitialized:function(e){if(null!=e?e.hasClass("ui-sortable"):void 0)return e.sortable("refresh")}}},"./app/scripts/views/lib/limit-error-popover.coffee":function(e,t,n){var r,i,o,a;r=n("./app/scripts/views/lib/confirm.coffee"),i=n("./app/scripts/views/lib/pop-over.coffee"),o=n("./app/scripts/lib/localize.coffee"),a=n("./packages/analytics/index.ts").track,e.exports=function(e){var t,n,s,l;return l=e.trackingArea,t=e.elem,n=e.message,s=e.params,a(l,"Denied",n),r.toggle(n,{elem:t,html:o("confirm."+n+".text",s),fxConfirm:function(){return i.hide()}})}},"./app/scripts/views/lib/tooltip.coffee":function(e,t,n){var r,i,o;r=n("./packages/jquery/index.js"),o=n("./app/scripts/views/internal/templates.coffee"),e.exports=i=new(function(){function e(){this.tooltip=null}return e.prototype.show=function(e,t,i,a){var s,l,c,d,u,p,m,f,h;if(null==i&&(i=!0),null==a&&(a=this.STYLE.DEFAULT),r(window).on("click",t[0],this.windowClick),clearTimeout(this.emptyTimer),"function"==typeof e.renderOnce&&(e=e.renderOnce().$el.html()),(null!=(m=this.tooltip)?m.tooltipHtml:void 0)!==e||(null!=(f=this.tooltip)?f.$anchor[0]:void 0)!==t[0])return s=r(o.fill(n("./app/scripts/views/templates/tooltip_content.coffee"),{tooltipHtml:e,closeable:i,style:a})),l=r("."+this.TOOLTIP_CONTAINER).attr("class",this.TOOLTIP_CONTAINER),a!==this.STYLE.DEFAULT&&l.addClass("tooltip-"+a),l.html(s),this.tooltip={tooltipHtml:e,$anchor:t,$elem:s},d=(h=t.offset()).left,u=h.top,c=t.outerHeight(),p=window.innerWidth-l.outerWidth(),l.css({left:Math.min(Math.max(d-5,5),p),top:Math.max(u+c,5)}),s.addClass("active")},e.prototype.windowClick=function(e){var t;if(t=r(e.target),e.target!==e.data&&0===t.closest(".js-tooltip-content").length||0!==t.closest(".js-tooltip-close-button").length)return i.hide()},e.prototype.hide=function(){var e;return this.tooltip=null,(e=r("."+this.TOOLTIP_CONTAINER)).find(".tooltip-content").removeClass("active"),this.emptyTimer=setTimeout((function(){return e.empty()}),300),r(window).off("click",this.windowClick)},e.prototype.STYLE={DEFAULT:"default",MENU:"menu",BILLING:"billing"},e.prototype.TOOLTIP_CONTAINER="tooltip-container",e}())},"./app/scripts/views/list/inline-list-composer-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u={}.hasOwnProperty;r=n("./packages/jquery/index.js"),o=n("./app/scripts/views/lib/pop-over.coffee"),a=n("./app/scripts/lib/util/index.coffee"),s=n("./app/scripts/views/internal/view.coffee"),c=n("./app/scripts/views/templates/list_add.coffee"),d=n("./packages/analytics/index.ts").track,i=n("./packages/atlassian-analytics/index.ts").Analytics,l=n("./packages/feature-flag-client/index.ts").featureFlagClient,e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)u.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.className="js-add-list list-wrapper mod-add is-idle",t.prototype.initialize=function(){return this.sendGASEvent=l.get("dataeng.gasv3-event-tracking",!1),this.listenTo(this.model.viewState,"change:listComposerOpen",this.frameDebounce(this.renderListComposer)),this.listenTo(this.model,"change:limits",this.render),this.listenTo(this.model.listList,"add remove",this.render),this.handleClickOutside=this.handleClickOutside.bind(this),r(document).on("click",this.handleClickOutside)},t.prototype.remove=function(){return r(document).off("click",this.handleClickOutside),t.__super__.remove.apply(this,arguments)},t.prototype.events={"click .js-open-add-list":"setOpen","click .js-cancel-edit":"setClose",submit:"addList"},t.prototype.handleClickOutside=function(e){if(this.model.viewState.get("listComposerOpen"))return 0===r(event.target).closest(".js-add-list").length?this.setClose(e):void 0},t.prototype.render=function(){var e;return e=0===this.model.listList.length,this.$el.html(c({tooManyTotalLists:this.model.isOverLimit("lists","totalPerBoard"),tooManyOpenLists:this.model.isOverLimit("lists","openPerBoard"),isFirstList:e})),this.renderListComposer(),this.model.editable()&&this.$el.removeClass("fade hide"),this},t.prototype.setOpen=function(e){var t,n,r;this.sendGASEvent&&i.sendClickedButtonEvent({buttonName:"addAnotherListButton",source:"boardScreen",containers:{board:{id:null!=(t=this.model)?t.id:void 0},organization:{id:null!=(n=this.model)&&null!=(r=n.getOrganization())?r.id:void 0}}}),this.$(".js-open-add-list").attr("tabindex","-1"),a.stop(e),this.model.viewState.set("listComposerOpen",!0)},t.prototype.setClose=function(e){this.$(".js-open-add-list").removeAttr("tabindex"),a.stop(e),this.model.viewState.set("listComposerOpen",!1)},t.prototype.renderListComposer=function(){var e,t,n;return!this.model.viewState.get("listComposerOpen")||this.model.isOverLimit("lists","totalPerBoard")||this.model.isOverLimit("lists","openPerBoard")?this.renderClose():(this.sendGASEvent&&i.sendScreenEvent({name:"inlineListComposerInlineDialog",containers:{board:{id:null!=(e=this.model)?e.id:void 0},organization:{id:null!=(t=this.model)&&null!=(n=t.getOrganization())?n.id:void 0}}}),this.renderOpen())},t.prototype.renderOpen=function(e){var t;a.stop(e),this.$el.removeClass("is-idle"),this.defer((t=this,function(){return t.$(".list-name-input").blur().focus().select()})),o.hide()},t.prototype.renderClose=function(e){a.stop(e),this.$el.addClass("is-idle")},t.prototype.addList=function(e){var t,n,r,o,s;if(a.stop(e),t=this.$(".list-name-input"),o=this.model.listList.length+1,""!==(r=t.val().trim()))return n=this.model.listList.create({name:r,pos:this.model.calcPos(o),closed:!1},{success:(s=this,function(e){var t,n,r;if(d("Board View","Add List - via Inline List Composer"),s.sendGASEvent)return i.sendTrackEvent({action:"created",actionSubject:"list",source:"inlineListComposerInlineDialog",containers:{board:{id:null!=(t=s.model)?t.id:void 0},organization:{id:null!=(n=s.model)&&null!=(r=n.getOrganization())?r.id:void 0}}})}),error:function(e){return function(){return e.model.listList.remove(n)}}(this)}),t.val(""),this.renderOpen(),this;t.focus().select()},t}(s)},"./app/scripts/views/list/list-bulk-move-cards-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p={}.hasOwnProperty;r=n("./packages/jquery/index.js"),c=n("./app/scripts/views/card/card-limits-error.coffee").maybeDisplayLimitsErrorOnCardAdd,o=n("./app/scripts/views/lib/pop-over.coffee"),a=n("./app/scripts/views/internal/view.coffee"),s=n("./node_modules/underscore/underscore.js"),d=n("./app/scripts/views/internal/templates.coffee"),u=n("./packages/analytics/index.ts").track,i=n("./packages/atlassian-analytics/index.ts").Analytics,l=n("./packages/feature-flag-client/index.ts").featureFlagClient,e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)p.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.viewTitleKey="move all cards in list",t.prototype.events={"click .js-select-list":"selectList"},t.prototype.initialize=function(){var e,t,n,r,o,a;if(this.sendGASEvent=l.get("dataeng.gasv3-event-tracking",!1),this.sendGASEvent)return i.sendScreenEvent({name:"moveAllCardsInListInlineDialog",containers:{list:{id:null!=(e=this.model)?e.id:void 0},board:{id:null!=(t=this.model)&&null!=(n=t.getBoard())?n.id:void 0},organization:{id:null!=(r=this.model)&&null!=(o=r.getBoard())&&null!=(a=o.getOrganization())?a.id:void 0}}})},t.prototype.render=function(){var e,t,r,i,o,a;for((t=this.model.toJSON()).lists=[],r=0,i=(a=this.model.getBoard().listList.models).length;r<i;r++)o=a[r],(e=s.clone(o.toJSON())).id===this.model.id&&(e.current=!0),t.lists.push(e);return this.$el.html(d.fill(n("./app/scripts/views/templates/list_bulk_card_move.coffee"),t)),this},t.prototype.selectList=function(e){var t,n,a,l,d,p,m,f,h,g,v,b,y;if(y=(t=r(e.target).closest(".js-select-list")).attr("name"),!t.hasClass("disabled")){if(d=this.modelCache.get("List",y),(n=s.clone(this.model.openCards().models)).length>0){if(p={$elem:r(e.target),destinationList:d},c(p))return;for(u("Card","Moved in Bulk via List Menu"),this.sendGASEvent&&i.sendTrackEvent({action:"moved",actionSubject:"card",source:"moveAllCardsInListInlineDialog",attributes:{listSourceId:(null!=(m=this.model)?m.id:void 0)||""},containers:{list:{id:y||""},board:{id:(null!=(f=this.model)&&null!=(h=f.getBoard())?h.id:void 0)||""},organization:{id:(null!=(g=this.model)&&null!=(v=g.getBoard())&&null!=(b=v.getOrganization())?b.id:void 0)||""}}}),a=0,l=n.length;a<l;a++)n[a].moveToList(d,1e3)}o.hide()}},t}(a)},"./app/scripts/views/list/list-copy-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p,m,f={}.hasOwnProperty;u=n("./packages/keybindings/index.ts"),c=u.getKey,i=u.Key,d=n("./app/scripts/views/card/card-limits-error.coffee").maybeDisplayLimitsErrorOnCardAdd,o=n("./app/scripts/views/lib/pop-over.coffee"),a=n("./app/scripts/lib/util/index.coffee"),s=n("./app/scripts/views/internal/view.coffee"),p=n("./app/scripts/views/templates/list_copy.coffee"),m=n("./packages/analytics/index.ts").track,r=n("./packages/atlassian-analytics/index.ts").Analytics,l=n("./packages/feature-flag-client/index.ts").featureFlagClient,e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)f.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.viewTitleKey="copy list",t.prototype.tagName="form",t.prototype.events={"click .js-submit":"submit",submit:"submit",'keydown textarea[name="name"]':"keydownEvent"},t.prototype.initialize=function(){var e,t,n,i,o,a;return this.sendGASEvent=l.get("dataeng.gasv3-event-tracking",!1),this.sendGASEvent&&r.sendScreenEvent({name:"copyListInlineDialog",containers:{list:{id:null!=(e=this.model)?e.id:void 0},board:{id:null!=(t=this.model)&&null!=(n=t.getBoard())?n.id:void 0},organization:{id:null!=(i=this.model)&&null!=(o=i.getBoard())&&null!=(a=o.getOrganization())?a.id:void 0}}}),this.listenTo(this.model.getBoard(),"change:limits",this.render)},t.prototype.render=function(){var e;return e=this.model.getBoard(),this.$el.html(p({canCopyTotal:!e.isOverLimit("lists","totalPerBoard"),canCopyOpen:!e.isOverLimit("lists","openPerBoard"),name:this.model.get("name")})),this},t.prototype.keydownEvent=function(e){c(e)===i.Enter&&(a.stop(e),this.submit(e))},t.prototype.submit=function(e){var t,n,i,s,l,c,u,p,f,h,g,v,b,y,k;a.stop(e),""!==(c=this.$('textarea[name="name"]')).val().trim()?(s=(t=this.model.getBoard()).isOverLimit("lists","totalPerBoard")||t.isOverLimit("lists","openPerBoard"),this.$(".js-limit-exceeded").toggleClass("hide",!s),s||this.model.cardList.length>0&&(n=i=!1,this.model.cardList.forEach((function(e){return n=n||e.attachmentList.length>0,i=i||e.checklistList.length>0})),f={$elem:this.$(e.target),hasChecklists:i,hasAttachments:n,destinationBoard:t},d(f))||(l=t.listList.calcPos(this.model.getIndexInList()+1,this.model,!0),p={idListSource:this.model.id,idBoard:this.model.get("idBoard"),pos:l,name:c.val().trim(),closed:!1},u=t.listList.create(p,{error:function(){return t.listList.remove(u)}}),o.hide(),m("List","Copy List"),this.sendGASEvent&&r.sendTrackEvent({action:"copied",actionSubject:"list",source:"copyListInlineDialog",attributes:{listSourceId:(null!=(h=this.model)?h.id:void 0)||""},containers:{list:{id:(null!=u?u.id:void 0)||""},board:{id:(null!=(g=this.model)&&null!=(v=g.getBoard())?v.id:void 0)||""},organization:{id:(null!=(b=this.model)&&null!=(y=b.getBoard())&&null!=(k=y.getOrganization())?k.id:void 0)||""}}}))):c.focus().select()},t}(s)},"./app/scripts/views/list/list-list-view.coffee":function(e,t,n){var r,i,o,a,s,l={}.hasOwnProperty;r=n("./app/scripts/views/internal/collection-view.coffee"),i=n("./app/scripts/views/lib/drag-sort.coffee"),o=n("./app/scripts/views/list/inline-list-composer-view.coffee"),a=n("./app/scripts/views/list/list-view.coffee"),s=n("./app/scripts/lib/assert/index.coffee"),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)l.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.viewType=a,t.prototype.initialize=function(e){return this.resetCallback=e.resetCallback,t.__super__.initialize.apply(this,arguments),s(null!=this.resetCallback),this.listenTo(this.collection,{reset:this.resetCallback,"change:idBoard":this.boardChange})},t.prototype.render=function(){var e,t,n;return e=Math.max(3,Math.ceil(window.innerWidth/270)),t=this.getModels().map((n=this,function(t,r){return n.subview(n.viewType,t,{deferCards:r>=e})})),this.model.editable()&&t.push(this.subview(o,this.model)),this.ensureSubviews(t),this.resetCallback()},t.prototype.boardChange=function(e,t){if(t!==this.collection.board.get("id"))return this.collection.remove(e),i.refreshIfInitialized(this.$el)},t.prototype.addModel=function(){return t.__super__.addModel.apply(this,arguments),this.resetCallback()},t.prototype.removeSubview=function(){t.__super__.removeSubview.apply(this,arguments),i.refreshListCardSortable()},t.prototype.insertSubview=function(e){t.__super__.insertSubview.apply(this,arguments),e.$el.find(".ui-sortable").length>0?i.refreshIfInitialized(this.$el):i.refreshListCardSortable()},t}(r)},"./app/scripts/views/list/list-menu-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p,m,f,h,g,v,b,y,k,w,x,C,_,j,S={}.hasOwnProperty;i=n("./app/scripts/views/lib/confirm.coffee"),a=n("./app/scripts/views/list/list-bulk-move-cards-view.coffee"),s=n("./app/scripts/views/list/list-copy-view.coffee"),l=n("./app/scripts/views/list/list-move-view.coffee"),c=n("./app/scripts/views/list/list-set-limit-view.coffee"),d=n("./app/scripts/views/list/list-sort-view.coffee"),p=n("./app/scripts/views/internal/plugins/plugin-io-cache.coffee"),m=n("./app/scripts/views/internal/plugins/plugin-runner.coffee"),f=n("./app/scripts/views/plugin/plugin-view.coffee"),h=n("./app/scripts/views/lib/pop-over.coffee"),g=n("./node_modules/bluebird/js/browser/bluebird.js"),v=n("./app/scripts/lib/util/index.coffee"),C=n("./app/scripts/views/templates/list_menu.coffee"),w=n("./packages/analytics/index.ts"),u=w.Noun,b=w.Verb,_=w.track,j=w.trackUe,k=n("./packages/feature-flag-client/index.ts").featureFlagClient,y=n("./node_modules/underscore/underscore.js"),x=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts").sendPluginUIEvent,r=n("./packages/atlassian-analytics/index.ts").Analytics,o=n("./packages/config/index.ts").listLimitsPowerUpId,e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)S.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.viewTitleKey="list actions",t.prototype.initialize=function(){var e,t,n,i,o,a;return this.makeDebouncedMethods("render"),this.sendGASEvent=k.get("dataeng.gasv3-event-tracking",!1),this.sendGASEvent&&r.sendScreenEvent({name:"listMenuInlineDialog",containers:{list:{id:null!=(e=this.model)?e.id:void 0},board:{id:null!=(t=this.model)&&null!=(n=t.getBoard())?n.id:void 0},organization:{id:null!=(i=this.model)&&null!=(o=i.getBoard())&&null!=(a=o.getOrganization())?a.id:void 0}}}),this.listenTo(this.model,"change:subscribed",this.renderDebounced),this.retain(this.options.pluginActions)},t.prototype.events={"click .js-add-card":"addCard","click .js-move-list":"moveList","click .js-copy-list":"copyList","click .js-list-subscribe":"toggleSubscribe","click .js-move-cards":"moveCards","click .js-archive-cards":"archiveCards","mouseenter .js-sort-cards":"preloadSortBy","click .js-sort-cards":"sortBy","click .js-close-list":"closeList","click .js-plugin-list-action":"runPluginAction","click .js-set-list-limit":"setListLimit"},t.prototype.render=function(){return this.pluginActions=y.chain(this.options.pluginActions).filter((function(e){return y.isString(e.text)&&e.text.length&&y.isFunction(e.callback)})).map((function(e){return y.extend(e,{icon:p.fromId(e.idPlugin).getIconUrl(),name:p.fromId(e.idPlugin).getName()})})).sortBy("text").value(),this.$el.html(C({editable:this.model.editable(),hasSortableCards:this.model.cardList.length>1,subscribed:this.model.get("subscribed"),canCopyList:!this.model.isOverLimit("lists","totalPerBoard")&&!this.model.isOverLimit("lists","openPerBoard"),pluginActions:this.pluginActions,listLimitsEnabled:this.model.getBoard().isListLimitsPowerUpEnabled(),isTemplate:this.model.getBoard().isTemplate()})),this},t.prototype.addCard=function(e){var t,n,i,o,a,s;v.stop(e),h.hide(),this.model.getBoard().composer.save({list:this.model,index:0,vis:!0}),_("List Menu","Add Card"),this.sendGASEvent&&r.sendUIEvent({action:"clicked",actionSubject:"menuItem",actionSubjectId:"addCardMenuItem",source:"listMenuInlineDialog",containers:{list:{id:null!=(t=this.model)?t.id:void 0},board:{id:null!=(n=this.model)&&null!=(i=n.getBoard())?i.id:void 0},organization:{id:null!=(o=this.model)&&null!=(a=o.getBoard())&&null!=(s=a.getOrganization())?s.id:void 0}}}),_("Card Composer","Open","Via List Menu")},t.prototype.moveList=function(e){var t,n,i,o,a,s;v.stop(e),_("List Menu","Open Move List Popover"),this.sendGASEvent&&r.sendUIEvent({action:"clicked",actionSubject:"menuItem",actionSubjectId:"moveListMenuItem",source:"listMenuInlineDialog",containers:{list:{id:(null!=(t=this.model)?t.id:void 0)||""},board:{id:(null!=(n=this.model)&&null!=(i=n.getBoard())?i.id:void 0)||""},organization:{id:(null!=(o=this.model)&&null!=(a=o.getBoard())&&null!=(s=a.getOrganization())?s.id:void 0)||""}}}),h.pushView({view:new l({model:this.model,modelCache:this.modelCache})})},t.prototype.copyList=function(e){var t,n,i,o,a,l;v.stop(e),_("List Menu","Open Copy List Popover"),this.sendGASEvent&&r.sendUIEvent({action:"clicked",actionSubject:"menuItem",actionSubjectId:"copyListMenuItem",source:"listMenuInlineDialog",containers:{list:{id:(null!=(t=this.model)?t.id:void 0)||""},board:{id:(null!=(n=this.model)&&null!=(i=n.getBoard())?i.id:void 0)||""},organization:{id:(null!=(o=this.model)&&null!=(a=o.getBoard())&&null!=(l=a.getOrganization())?l.id:void 0)||""}}}),h.pushView({view:new s({model:this.model,modelCache:this.modelCache})})},t.prototype.toggleSubscribe=function(e){var t,n,i,o,a,s,l,c,d,u,p,m;v.preventDefault(e),this.model.get("subscribed")?(this.model.subscribe(!1),this.sendGASEvent&&r.sendUIEvent({action:"unsubscribed",actionSubject:"list",source:"listMenuInlineDialog",containers:{list:{id:(null!=(t=this.model)?t.id:void 0)||""},board:{id:(null!=(a=this.model)&&null!=(s=a.getBoard())?s.id:void 0)||""},organization:{id:(null!=(l=this.model)&&null!=(c=l.getBoard())&&null!=(d=c.getOrganization())?d.id:void 0)||""}}}),_("List Menu","Subscribe","Unsubscribe")):(this.model.subscribe(!0),this.sendGASEvent&&r.sendUIEvent({action:"subscribed",actionSubject:"list",source:"listMenuInlineDialog",containers:{list:{id:(null!=(u=this.model)?u.id:void 0)||""},board:{id:(null!=(p=this.model)&&null!=(m=p.getBoard())?m.id:void 0)||""},organization:{id:(null!=(n=this.model)&&null!=(i=n.getBoard())&&null!=(o=i.getOrganization())?o.id:void 0)||""}}}),_("List Menu","Subscribe","Subscribe"))},t.prototype.moveCards=function(e){var t,n,i,o,s,l;v.stop(e),this.sendGASEvent&&r.sendUIEvent({action:"clicked",actionSubject:"menuItem",actionSubjectId:"moveAllCardsMenuItem",source:"listMenuInlineDialog",containers:{list:{id:(null!=(t=this.model)?t.id:void 0)||""},board:{id:(null!=(n=this.model)&&null!=(i=n.getBoard())?i.id:void 0)||""},organization:{id:(null!=(o=this.model)&&null!=(s=o.getBoard())&&null!=(l=s.getOrganization())?l.id:void 0)||""}}}),_("List Menu","Open Move All Cards in List"),h.pushView({view:new a({model:this.model,modelCache:this.modelCache})})},t.prototype.archiveCards=function(e){var t,n,o,a,s,l,c;v.stop(e),this.sendGASEvent&&r.sendUIEvent({action:"clicked",actionSubject:"menuItem",actionSubjectId:"archiveAllCardsMenuItem",source:"listMenuInlineDialog",containers:{list:{id:(null!=(t=this.model)?t.id:void 0)||""},board:{id:(null!=(n=this.model)&&null!=(o=n.getBoard())?o.id:void 0)||""},organization:{id:(null!=(a=this.model)&&null!=(s=a.getBoard())&&null!=(l=s.getOrganization())?l.id:void 0)||""}}}),_("List Menu","Open Archive All Cards in List"),i.pushView("archive all cards",{model:this.model,confirmBtnClass:"negate",fxConfirm:(c=this,function(e){var t,n,r;for(h.hide(),t=0,n=(r=y.clone(c.model.cardList.models)).length;t<n;t++)r[t].set({closed:!0});return c.model.run("archiveAllCards",{},c.listViewListen)})})},t.prototype.loadPluginSorters=function(e){return m.all({command:"list-sorters",board:this.model.getBoard(),list:this.model,timeout:e}).catch((function(){return[]})).then((function(e){return y.chain(e).groupBy("idPlugin").map((function(e,t){return e.slice(0,5)})).flatten().value()}))},t.prototype.preloadSortBy=function(e){if(null==this.pluginSortersPromise)return this.pluginSortersPromise=this.loadPluginSorters(500).then((t=this,function(e){return t.pluginSortersPromise=null,t.pluginListSorters=e,t.pluginListSortersExpiry=Date.now()+5e3,e}));var t},t.prototype.sortBy=function(e){var t,n,i,o,a,s,l,c;return v.stop(e),_("List Menu","Open Sort Cards in List"),this.sendGASEvent&&r.sendUIEvent({action:"clicked",actionSubject:"menuItem",actionSubjectId:"sortListMenuItem",source:"listMenuInlineDialog",containers:{list:{id:(null!=(n=this.model)?n.id:void 0)||""},board:{id:(null!=(i=this.model)&&null!=(o=i.getBoard())?o.id:void 0)||""},organization:{id:(null!=(a=this.model)&&null!=(s=a.getBoard())&&null!=(l=s.getOrganization())?l.id:void 0)||""}}}),t=[],t=null!=this.pluginListSorters&&this.pluginListSortersExpiry>Date.now()?this.pluginListSorters:null!=this.pluginSortersPromise?this.pluginSortersPromise:this.loadPluginSorters(150),g.resolve(t).then((c=this,function(e){return h.pushView({view:new d({model:c.model,modelCache:c.modelCache,pluginListSorters:e})}),c.pluginListSorters=null}))},t.prototype.setListLimit=function(e){return v.stop(e),j(u.LIST_MENU,b.OPENS,u.POWER_UP,"","","list-action",o),x({idPlugin:o,idBoard:this.model.getBoard().id,event:{action:"clicked",actionSubject:"option",actionSubjectId:"powerUpListAction",source:"listMenuInlineDialog"}}),h.pushView({view:new c({model:this.model,modelCache:this.modelCache})})},t.prototype.runPluginAction=function(e){var t,n;return v.stop(e),t=(n=this.pluginActions[this.$(e.target).closest(".js-plugin-list-action").data("index")]).idPlugin,j(u.LIST_MENU,b.OPENS,u.POWER_UP,"","","list-action",t),x({idPlugin:t,idBoard:this.model.getBoard().id,event:{action:"clicked",actionSubject:"option",actionSubjectId:"powerUpListAction",source:"listMenuInlineDialog"}}),"function"==typeof n.callback?n.callback({el:this.el,list:this.model}):void 0},t.prototype.closeList=function(e){var t,n,i,o,a,s,l;return v.stop(e),this,t=this.model,this.sendGASEvent&&r.sendTrackEvent({action:"archived",actionSubject:"list",source:"listMenuInlineDialog",containers:{list:{id:null!=(n=this.model)?n.id:void 0},board:{id:null!=(i=this.model)&&null!=(o=i.getBoard())?o.id:void 0},organization:{id:null!=(a=this.model)&&null!=(s=a.getBoard())&&null!=(l=s.getOrganization())?l.id:void 0}}}),_("List Menu","Archive List"),h.hide(),t.close(),!1},t}(f)},"./app/scripts/views/list/list-move-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p,m,f,h,g,v,b,y={}.hasOwnProperty;r=n("./packages/jquery/index.js"),i=n("./app/scripts/views/lib/alerts.coffee"),o=n("./packages/atlassian-analytics/index.ts").Analytics,a=n("./app/scripts/db/auth.coffee"),l=n("./app/scripts/db/model-loader.coffee"),c=n("./app/scripts/network/payloads.coffee"),g=n("./app/scripts/views/card/card-limits-error.coffee").maybeDisplayLimitsErrorOnCardAdd,s=n("./app/scripts/views/label/label-limits-error-view.coffee"),d=n("./app/scripts/views/lib/pop-over.coffee"),u=n("./app/scripts/lib/util/index.coffee"),p=n("./app/scripts/views/internal/view.coffee"),m=n("./node_modules/underscore/underscore.js"),v=n("./app/scripts/views/templates/popover_move_list.coffee"),b=n("./packages/analytics/index.ts").track,h=n("./app/scripts/lib/localize.coffee"),f=n("./packages/feature-flag-client/index.ts").featureFlagClient,e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)y.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.viewTitleKey="move list",t.prototype.tagName="form",t.prototype.events={"change .js-select-list-pos":"renderValues","change .js-select-board":"updateBoardData","click .js-commit-position":"commitChange",submit:"commitChange"},t.prototype.initialize=function(){var e,t,n,r,i,a;if(this.sendGASEvent=f.get("dataeng.gasv3-event-tracking",!1),this.sendGASEvent)return o.sendScreenEvent({name:"moveListInlineDialog",containers:{list:{id:null!=(e=this.model)?e.id:void 0},board:{id:null!=(t=this.model)&&null!=(n=t.getBoard())?n.id:void 0},organization:{id:null!=(r=this.model)&&null!=(i=r.getBoard())&&null!=(a=i.getOrganization())?a.id:void 0}}})},t.prototype.render=function(){var e,t,n,r,i,o,s,l,c,d,u,p;for(this,c=this.model,n={},t=this.model.getBoard(),r=this.model.getBoard().getEnterprise(),t.isGuest(a.me())&&t.get("enterpriseOwned")?(n.hasEnterprise=!0,n.enterpriseName=null!=r?r.get("displayName"):void 0,n.restrictToCurrentBoard=!0,n.organizations=[{displayName:(null!=(d=t.getOrganization())?d.get("displayName"):void 0)||h("member boards.boards"),boards:[m.extend(t.toJSON(),{selected:!0})]}]):null!=r?(n.hasEnterprise=!0,t=null==this.model.getBoard().getMembershipFor(a.me())?t:null,n.organizations=a.me().getOpenBoardsInEnterpriseByOrg(!0,r.get("id"),t),n.enterpriseName=r.get("displayName")):(t=this.model.getBoard().isEditableByTeamMemberAndIsNotABoardMember()?t:null,n.organizations=a.me().getOpenBoardsByOrg(!0,t)),i=0,s=(u=n.organizations).length;i<s;i++)for(o=0,l=(p=u[i].boards).length;o<l;o++)(e=p[o]).id===c.get("idBoard")&&(e.selected=!0);return this.$el.html(v(n)),this.updateBoardData(),this},t.prototype.renderValues=function(){var e,t,n,i;n=(e=r(this.el)).find(".js-select-board option:selected").val(),i=parseInt(e.find(".js-select-list-pos option:selected").text(),10),t=this.modelCache.get("Board",n).get("name"),e.find(".js-board-value").text(t),e.find(".js-pos-value").text(String(i))},t.prototype.updateBoardData=function(){var e,t,n,i,o,a,s,d,u;if(n=(e=r(this.el)).find(".js-select-board"),(i=n.find("option:selected").val())===this.model.getBoard().id){for(this._boardData=this.model.getBoard(),o=0,a=(d=this._boardData.listList.models).length;o<a;o++)(s=d[o]).cardCount=this._boardData.listList.get(s.id).openCards().length;this.updateListList()}else(t=e.find(".select-list,.select-position")).attr("disabled","disabled"),l.loadBoardData(i,c.listsMinimal).then((u=this,function(){return u._boardData=u.modelCache.get("Board",i),u.updateListList(),t.removeAttr("disabled")})).done()},t.prototype.updateListList=function(){var e,t,n,i,o,a,s,l,c,d,u,p,f,g,v,b;for(this,p=this.model,(i=this.$(".js-select-list-pos")).empty(),f=this._boardData.listList.models,(d=this._boardData.id===this.model.getBoard().id)?(a=m.indexOf(f,this.model),o=f.length):(a=-1,o=f.length+1),l=u=0,v=o;0<=v?u<v:u>v;l=0<=v?++u:--u)c=String(l+1),s=l===a?h("current position",{index:c}):c,g=this._boardData.listList.calcPos(l,p),n=r("<option>").val(g).text(s).appendTo(i),l===a&&n.attr("selected","selected");return e=this.$(".js-commit-position"),t=this.$(".js-list-limit-exceeded"),d?(e.toggleClass("disabled",!1).prop("disabled",!1),t.toggleClass("hide",!0)):(b=this._boardData.isOverLimit("lists","totalPerBoard")||this._boardData.isOverLimit("lists","openPerBoard"),e.toggleClass("disabled",b).prop("disabled",b),t.toggleClass("hide",!b)),this.renderValues()},t.prototype.commitChange=function(e){var t,n,a,l,c,p,m,f,h,v,y,k,w,x,C,_,j,S,O,E;if(u.stop(e),t=this.$(".js-select-list-pos"),c=parseInt(t.find("option:selected").val(),10),l=this.$(".js-select-board option:selected").val(),this.model.getBoard().composer.save("vis",!1),f=this.model.getBoard().id,h=this.model.get("pos"),l===f)this.model.update({pos:c}),b("List Menu","Move Menu","Successfully Moved"),this.sendGASEvent&&o.sendTrackEvent({action:"moved",actionSubject:"list",source:"moveListInlineDialog",containers:{list:{id:(null!=(v=this.model)?v.id:void 0)||""},board:{id:(null!=(y=this.model)&&null!=(k=y.getBoard())?k.id:void 0)||""},organization:{id:(null!=(w=this.model)&&null!=(x=w.getBoard())&&null!=(C=x.getOrganization())?C.id:void 0)||""}}});else if(null!=l&&null!=c){if(this.model.cardList.length>0&&(n=a=!1,this.model.cardList.forEach((function(e){return n=n||e.attachmentList.length>0,a=a||e.checklistList.length>0})),m={$elem:r(e.target),hasChecklists:a,hasAttachments:n,destinationBoard:this._boardData},g(m)))return;if(this.model.cardList.filter((function(e){return e.getLabels().length>0}))&&this._boardData.isOverLimit("labels","perBoard"))return void d.pushView(new s);E=this,p=function(e){var t,n;if(null!=(null!=e?e.message:void 0))return"BOARD_TOO_MANY_CUSTOM_FIELDS"===(t=null!=(n=JSON.parse(e.message))?n.error:void 0)?i.show("too many custom fields","error","movelist",8e3):"CUSTOM_FIELD_TOO_MANY_OPTIONS"===t&&i.show("too many custom options","error","movelist",8e3),E.model.set({idBoard:f,pos:h},p)},this.model.update({idBoard:l,pos:c},p),b("List Menu","Move Menu","Changed Board"),this.sendGASEvent&&o.sendTrackEvent({action:"moved",actionSubject:"list",source:"moveListInlineDialog",attributes:{boardSourceId:f},containers:{list:{id:(null!=(_=this.model)?_.id:void 0)||""},board:{id:l||""},organization:{id:(null!=(j=this.model)&&null!=(S=j.getBoard())&&null!=(O=S.getOrganization())?O.id:void 0)||""}}})}d.hide()},t}(p)},"./app/scripts/views/list/list-set-limit-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p,m,f={}.hasOwnProperty;o=n("./app/scripts/views/lib/pop-over.coffee"),p=n("./app/scripts/views/templates/popover_set_list_limit.coffee"),a=n("./app/scripts/lib/util/index.coffee"),l=n("./app/scripts/views/internal/view.coffee"),u=n("./packages/analytics/index.ts"),i=u.Noun,s=u.Verb,m=u.trackUe,r=n("./packages/atlassian-analytics/index.ts").Analytics,c=n("./packages/feature-flag-client/index.ts").featureFlagClient,n("./packages/config/index.ts").listLimitsPowerUpId,d=function(e){return null===e||!isNaN(e)&&e>=0&&e<=5e3},e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)f.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.viewTitleKey="set list limit",t.prototype.tagName="form",t.prototype.events={"click .js-submit":"submit",submit:"submit","click .js-remove-limit":"removeLimit","keyup .js-list-limit-input":"limitChanged"},t.prototype.initialize=function(){var e,t,n,i,o,a;if(this.sendGASEvent=c.get("dataeng.gasv3-event-tracking",!1),this.sendGASEvent)return r.sendScreenEvent({name:"listLimitInlineDialog",containers:{list:{id:null!=(e=this.model)?e.id:void 0},board:{id:null!=(t=this.model)&&null!=(n=t.getBoard())?n.id:void 0},organization:{id:null!=(i=this.model)&&null!=(o=i.getBoard())&&null!=(a=o.getOrganization())?a.id:void 0}}})},t.prototype.getValue=function(){var e;return(e=this.$(".js-list-limit-input").val()).length?parseInt(e):null},t.prototype.limitChanged=function(e){var t,n;return n=this.getValue(),t=d(n),this.$(".js-list-limit-input").toggleClass("is-invalid",!t),this.$(".js-submit").attr("disabled",!t)},t.prototype.submit=function(e){var t,n,l,c,u,p,f;if(a.stop(e),f=this.getValue(),d(f))return this.sendGASEvent&&r.sendTrackEvent({action:"updated",actionSubject:"listLimit",source:"listLimitInlineDialog",attributes:{value:f},containers:{list:{id:null!=(t=this.model)?t.id:void 0},board:{id:null!=(n=this.model)&&null!=(l=n.getBoard())?l.id:void 0},organization:{id:null!=(c=this.model)&&null!=(u=c.getBoard())&&null!=(p=u.getOrganization())?p.id:void 0}}}),m(i.LIST_LIMIT_MENU,s.SETS,i.LIST_LIMIT,"","","by clicking the save button",{change:f}),this.model.setSoftLimit(f),o.hide()},t.prototype.removeLimit=function(e){var t,n,l,c,d,u;return a.stop(e),this.sendGASEvent&&r.sendTrackEvent({action:"removed",actionSubject:"listLimit",source:"listLimitInlineDialog",containers:{list:{id:null!=(t=this.model)?t.id:void 0},board:{id:null!=(n=this.model)&&null!=(l=n.getBoard())?l.id:void 0},organization:{id:null!=(c=this.model)&&null!=(d=c.getBoard())&&null!=(u=d.getOrganization())?u.id:void 0}}}),m(i.LIST_LIMIT_MENU,s.REMOVES,i.LIST_LIMIT,"","","by clicking the remove button"),this.model.setSoftLimit(null),o.hide()},t.prototype.render=function(){var e;return this,e={limit:this.model.get("softLimit")},this.$el.html(p(e)),this},t}(l)},"./app/scripts/views/list/list-sort-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p,m,f,h,g,v,b,y,k,w,x,C,_,j={}.hasOwnProperty,S=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},O=[].slice;m=n("./node_modules/underscore/underscore.js"),r=n("./app/scripts/views/lib/alerts.coffee"),i=n("./packages/atlassian-analytics/index.ts").Analytics,h=n("./packages/feature-flag-client/index.ts").featureFlagClient,s=n("./app/scripts/views/internal/plugins/plugin-io-cache.coffee"),l=n("./app/scripts/views/internal/plugins/plugin-model-serializer.coffee"),n("./app/scripts/views/internal/plugins/plugin-runner.coffee"),c=n("./app/scripts/views/plugin/plugin-view.coffee"),d=n("./app/scripts/views/lib/pop-over.coffee"),u=n("./node_modules/bluebird/js/browser/bluebird.js"),a=n("./app/scripts/data/legacy-power-ups.coffee"),w=n("./app/scripts/views/templates/list_sort.coffee"),y=n("./packages/analytics/index.ts"),C=y.track,_=y.trackUe,p=n("./app/scripts/lib/util/index.coffee"),b=n("./app/scripts/lib/localize.coffee"),k=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts").sendPluginUIEvent,o=n("./packages/config/index.ts").customFieldsId,f=function(e){var t,n,r,i,o,a,s,l;for(o=e.list,s=e.posBefore,a=e.posAfter,e.count,l=[],n=r=0,i=o.length;r<i;n=++r)t=o[n],l.push({card:t,pos:s+(n+1)*(a-s)/(o.length+1)});return l},v=function(e,t){var n,r;return r=e.length-1,m.flatten(function(){var i;for(i=[];r>=0;){for(n=r,r--;r>=0&&t[e[r].id]>t[e[n].id];)r--;i.push(f({list:e.slice(r+1,n),posBefore:r>=0?t[e[r].id]:0,posAfter:t[e[n].id]}))}return i}())},g=function(e,t){var n,r;return n=0,m.flatten(function(){var i;for(i=[];n<e.length;){for(r=n,n++;n<e.length&&t[e[n].id]<t[e[r].id];)n++;i.push(f({list:e.slice(r+1,n),posBefore:t[e[r].id],posAfter:n<e.length?t[e[n].id]:t[e[r].id]+p.spacing*(n-r)}))}return i}())},x=function(e,t){var n,r,i,o;return r=t.fx,o=t.updatesPerMinute,n=t.concurrency,i=n*(6e4/o),u.map(e,(function(e){var t;return t=Date.now(),u.resolve(r(e)).then((function(){var e;if((e=i-(Date.now()-t))>0)return u.delay(e)}))}),{concurrency:n})},e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)j.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.viewTitleKey="sort list",t.prototype.initialize=function(){var e,t,n,r,o,a;return this.sendGASEvent=h.get("dataeng.gasv3-event-tracking",!1),this.sendGASEvent&&i.sendScreenEvent({name:"sortListInlineDialog",containers:{list:{id:null!=(e=this.model)?e.id:void 0},board:{id:null!=(t=this.model)&&null!=(n=t.getBoard())?n.id:void 0},organization:{id:null!=(r=this.model)&&null!=(o=r.getBoard())&&null!=(a=o.getOrganization())?a.id:void 0}}}),this.retain(this.options.pluginListSorters)},t.prototype.events={"click .js-sort-by-due-date":"sortByDueDate","click .js-sort-newest-first":"sortNewestFirst","click .js-sort-oldest-first":"sortOldestFirst","click .js-sort-by-card-name":"sortByCardName","click .js-plugin-list-sort-action":"sortByPluginSort"},t.prototype.render=function(){var e;return e=(e=m.chain(this.options.pluginListSorters).filter((function(e){return m.isString(e.text)&&e.text.length&&m.isFunction(e.callback)})).map((function(e){return m.extend(e,{image:s.fromId(e.idPlugin).getIconUrl(),name:s.fromId(e.idPlugin).getName()})})).value()).concat(this.getCustomFieldSorts()),this.model.getBoard().isPowerUpEnabled("voting")&&e.push({callback:this.sortByVotes(),text:b("templates.list_sort.most-votes"),image:n("./resources/images/powerups/voting-icon.svg"),name:b("power ups.voting.name")}),this.pluginListSorters=m.sortBy(e,"text"),this.$el.html(w({canSortByDueDate:this.model.cardList.any((function(e){return e.get("due")})),pluginListSorters:this.pluginListSorters})),this},t.prototype.getCustomFieldSorts=function(){return this.model.getBoard().isCustomFieldsEnabled()?m.chain(this.model.getBoard().customFieldList.models).filter((function(e){return e.isSortable()&&e.visible()})).map((e=this,function(t){return"number"===t.get("type")?[{callback:e.sortByCustomField(t.id),text:b("templates.list_sort.field-ascending",{field:t.get("name")}),image:s.fromId(o).getIconUrl(),name:b("view title.custom fields")},{callback:e.sortByCustomField(t.id,!0),text:b("templates.list_sort.field-descending",{field:t.get("name")}),image:s.fromId(o).getIconUrl(),name:b("view title.custom fields")}]:{callback:e.sortByCustomField(t.id),text:t.get("name"),image:s.fromId(o).getIconUrl(),name:b("view title.custom fields")}})).flatten().value():[];var e},t.prototype.sortByDueDate=function(e){var t,n,r,o,a,s,l;return p.stop(e),d.hide(),C("List Menu","Sort Cards By Date"),this.sendGASEvent&&i.sendTrackEvent({action:"sorted",actionSubject:"list",source:"sortListInlineDialog",attributes:{method:"by due date"},containers:{list:{id:null!=(t=this.model)?t.id:void 0},board:{id:null!=(n=this.model)&&null!=(r=n.getBoard())?r.id:void 0},organization:{id:null!=(o=this.model)&&null!=(a=o.getBoard())&&null!=(s=a.getOrganization())?s.id:void 0}}}),this.applySort((l=this,function(){return l.model.cardList.sortBy((function(e){var t,n;return t=e.get("due"),n=e.get("dueComplete"),[t?n?"1":"0":"2",null!=t?t:""].join(":")}))}))},t.prototype.sortNewestFirst=function(e){var t,n,r,o,a,s,l;return p.stop(e),d.hide(),this.sendGASEvent&&i.sendTrackEvent({action:"sorted",actionSubject:"list",source:"sortListInlineDialog",attributes:{method:"by newest first"},containers:{list:{id:null!=(t=this.model)?t.id:void 0},board:{id:null!=(n=this.model)&&null!=(r=n.getBoard())?r.id:void 0},organization:{id:null!=(o=this.model)&&null!=(a=o.getBoard())&&null!=(s=a.getOrganization())?s.id:void 0}}}),C("List Menu","Sort Newest First"),this.applySort((l=this,function(){return l.model.cardList.sortBy((function(e){return e.id}))}),{reverse:!0})},t.prototype.sortOldestFirst=function(e){var t,n,r,o,a,s,l;return p.stop(e),d.hide(),this.sendGASEvent&&i.sendTrackEvent({action:"sorted",actionSubject:"list",source:"sortListInlineDialog",attributes:{method:"by oldest first"},containers:{list:{id:null!=(t=this.model)?t.id:void 0},board:{id:null!=(n=this.model)&&null!=(r=n.getBoard())?r.id:void 0},organization:{id:null!=(o=this.model)&&null!=(a=o.getBoard())&&null!=(s=a.getOrganization())?s.id:void 0}}}),C("List Menu","Sort Oldest First"),this.applySort((l=this,function(){return l.model.cardList.sortBy((function(e){return e.id}))}))},t.prototype.sortByCardName=function(e){var t,n,r,o,a,s,l;return p.stop(e),d.hide(),this.sendGASEvent&&i.sendTrackEvent({action:"sorted",actionSubject:"list",source:"sortListInlineDialog",attributes:{method:"by card name"},containers:{list:{id:null!=(t=this.model)?t.id:void 0},board:{id:null!=(n=this.model)&&null!=(r=n.getBoard())?r.id:void 0},organization:{id:null!=(o=this.model)&&null!=(a=o.getBoard())&&null!=(s=a.getOrganization())?s.id:void 0}}}),C("List Menu","Sort By Card Name"),this.applySort((l=this,function(){var e;return e=l.model.cardList.comparator,l.model.cardList.comparator=function(e,t){return e.get("name").localeCompare(t.get("name"))},l.model.cardList.sort(),l.model.cardList.comparator=e,l.model.cardList.models}))},t.prototype.sortByCustomField=function(e,t){return n=this,function(){var r,a,s,l,c,d,u,p,f;return n.sendGASEvent&&i.sendTrackEvent({action:"sorted",actionSubject:"list",source:"sortListInlineDialog",attributes:{method:"by custom fields"},containers:{list:{id:null!=(r=n.model)?r.id:void 0},board:{id:null!=(a=n.model)&&null!=(s=a.getBoard())?s.id:void 0},organization:{id:null!=(l=n.model)&&null!=(c=l.getBoard())&&null!=(d=c.getOrganization())?d.id:void 0}}}),_("list menu","opens","Power-Up","","","list-sorters",o),p=[],f=[],m.forEach(n.model.cardList.models,(function(t){var n;return null==(n=t.customFieldItemList.find((function(t){return t.get("idCustomField")===e})))||n.isEmpty()?f.push(t.id):p.push({id:t.id,value:n.getParsedValue()})})),u=m.chain(p).sortBy((function(e){return e.value})).map((function(e){return e.id})).value(),t&&(u=u.reverse()),u=u.concat(f),u=m.chain(u).map((function(e,t){return[e,t]})).object().value(),n.applySort((function(){return n.model.cardList.sortBy((function(e){return u[e.id]}))}))};var n},t.prototype.sortByVotes=function(){return e=this,function(){var t,n,r,o,s,l;return e.sendGASEvent&&i.sendTrackEvent({action:"sorted",actionSubject:"list",source:"sortListInlineDialog",attributes:{method:"by votes"},containers:{list:{id:null!=(t=e.model)?t.id:void 0},board:{id:null!=(n=e.model)&&null!=(r=n.getBoard())?r.id:void 0},organization:{id:null!=(o=e.model)&&null!=(s=o.getBoard())&&null!=(l=s.getOrganization())?l.id:void 0}}}),_("list menu","opens","Power-Up","","","list-sorters",a.voting),e.applySort((function(){return e.model.cardList.sortBy((function(e){return-1*e.get("badges").votes}))}))};var e},t.prototype.sortByPluginSort=function(e){var t,n,i;return p.stop(e),C("List Menu","Sort Cards By Plugin"),t=this.$(e.target).closest(".js-plugin-list-sort-action").data("index"),(n=this.pluginListSorters[t]).idPlugin?(_("list menu","opens","Power-Up","","","list-sorters",n.idPlugin),k({idPlugin:n.idPlugin,idBoard:this.model.getBoard().id,event:{action:"clicked",actionSubject:"option",actionSubjectId:"powerUpListSorter",source:"listMenuInlineDialog"}}),r.show("sorting list","warning","listsort"),n.callback({options:{cards:l.cards(this.model.cardList.models,["all"])}}).catch((function(){return{}})).then((i=this,function(e){var t,n,o;return o=null!=e?e.sortedIds:void 0,t=i.model.cardList.models,null!=o&&m.all(o,(function(e){return m.isString(e)&&/^[a-f0-9]{24}$/.test(e)}))&&m.all(t,(function(e){var t;return t=e.id,S.call(o,t)>=0}))?(n=m.chain(o).map((function(e,t){return[e,t]})).object().value(),i.applySort((function(){return i.model.cardList.sortBy((function(e){return n[e.id]}))}))):(r.hide("listsort"),r.show("invalid sort order returned","warning","listsort",5e3),void d.hide())})),d.hide()):(n.callback(),d.hide())},t.prototype.applySort=function(e,t){var n,i,o,a,s,l,c,d,p;if(null==t&&(t={}),!(this.model.cardList.length<=1)){for(r.show("sorting list","warning","listsort"),o=e(),t.reverse&&o.reverse(),a=m.chain(o).map((function(e){return[e.id,e.get("pos")]})).object().value(),10,s=0,l=(n=m.chain(function(){p=[];for(var e=0;e<=10;e++)p.push(e);return p}.apply(this)).map((function(e){return Math.round((o.length-1)*e/10)})).uniq().map((function(e){return O.call(v(o.slice(0,+e+1||9e9),a)).concat(O.call(g(o.slice(e),a)))})).sortBy((function(e){return e.length})).first().value()).length;s<l;s++)i=(d=n[s]).card,c=d.pos,i.set("pos",c);return u.using(this.modelCache.getLock(),(function(){return x(n,{fx:function(e){var t;return t=e.card,e.pos,u.fromNode((function(e){return t.update("pos",t.get("pos"),e)}))},updatesPerMinute:300,concurrency:5})})).then((function(){return r.hide("listsort"),r.show("list sorted","info","listsort",3e3)}))}},t}(c)},"./app/scripts/views/list/list-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p,m,f,h,g,v,b,y,k,w,x,C,_,j,S,O,E,N,T,P,B,D,I,A,L,M,F,R,z,V,U,H,$,W,G,q,K,Y,J,X,Q={}.hasOwnProperty;r=n("./packages/jquery/index.js"),i=n("./app/scripts/views/lib/alerts.coffee"),a=n("./app/scripts/db/auth.coffee"),s=n("./packages/browser/index.ts"),l=n("./app/scripts/views/card-composer/card-composer-inline-view.coffee"),H=n("./app/scripts/views/card/card-limits-error.coffee"),F=H.maybeDisplayLimitsErrorOnCardAdd,N=H.canAddCard,c=n("./app/scripts/views/card/card-list-view.coffee"),u=n("./app/scripts/controller/index.js"),n("./app/scripts/views/internal/data-transfer/drag-drop-events.coffee"),p=n("./app/scripts/views/lib/drag-sort.coffee"),O=n("./app/scripts/views/internal/view.coffee"),h=n("./app/scripts/views/list/list-menu-view.coffee"),k=n("./app/scripts/views/lib/pop-over.coffee"),_=n("./app/scripts/lib/trello-clipboard.coffee"),z=n("./app/scripts/lib/util/url/parse-trello-url.coffee"),V=n("./node_modules/url-parse/index.js"),y=n("./app/scripts/views/internal/plugins/plugin-runner.coffee"),w=n("./node_modules/bluebird/js/browser/bluebird.js"),b=n("./app/scripts/views/internal/paste-input.coffee"),j=n("./app/scripts/lib/util/index.coffee"),E=n("./node_modules/underscore/underscore.js"),M=n("./app/scripts/debug/log.js"),n("./app/scripts/views/internal/templates.coffee"),A=n("./app/scripts/views/templates/list.coffee"),$=n("./packages/analytics/index.ts"),Y=$.track,J=$.trackUe,v=$.Noun,S=$.Verb,L=n("./app/scripts/lib/localize-count.coffee"),X=n("./app/scripts/views/internal/warn-if-file-too-large.coffee"),U=n("./app/scripts/views/internal/pasted-file-name.coffee"),W=n("./packages/keybindings/index.ts"),B=W.getKey,f=W.Key,I=n("./app/scripts/lib/localize.coffee"),P=n("./packages/feature-flag-client/index.ts").featureFlagClient,T=n("./node_modules/effing/lib/index.js"),R=n("./app/scripts/lib/util/ninvoke.coffee"),G=n("./app/scripts/lib/util/removeAllRanges.coffee"),K=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts").sendPluginTrackEvent,m=n("./app/scripts/db/id-cache.coffee"),g=n("./app/scripts/db/model-loader.coffee"),x=n("./node_modules/react/index.js"),C=n("./packages/react-dom-wrapper/index.ts"),q=n("./app/src/components/ComponentWrapper/index.ts").renderComponent,d=n("./app/src/components/CardTemplatesPopover/index.ts").CardTemplatesButton,D=n("./app/scripts/views/card/SeparatorCard/SeparatorCard.ts").getSeparatorClassName,o=n("./packages/atlassian-analytics/index.ts").Analytics,e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)Q.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.className="js-list list-wrapper",t.prototype.events={"mouseenter .js-open-list-menu":"preloadMenu","click .js-open-list-menu":"openMenu","mousedown .list-cards":"eventStopPropagation","click .js-open-card-composer":"openCardComposer","keydown  .js-list-name-input":"keyDownEvent","blur     .js-list-name-input":"stopEditing","click    .js-editing-target":"startEditing","focus    .js-list-name-input":"startEditing",movelist:"moveList",sortreceive:"sortReceive",sortcommit:"sortCommit","dd-drop:files":"dropFiles","dd-drop:text":"dropText","dd-drop:url":"dropUrl",mouseenter:"mouseenter",mouseleave:"mouseleave",mousemove:"mousemove","pasteinput:text":"dropText","pasteinput:files":"dropFiles","pasteinput:url":"dropUrl"},t.prototype.initialize=function(){var e,n,i,o,a;for(t.__super__.initialize.apply(this,arguments),this.fEditingName=!1,this.sendGASEvent=P.get("dataeng.gasv3-event-tracking",!1),this.makeDebouncedMethods("render","toggleComposerLink","renderComposer","renderCardCount","renderName","renderAddButton","renderListLimit"),this.listenTo(this.model,{"change:limits":this.renderLimits,"change:name":this.renderNameDebounced,"change:subscribed":this.renderSubscribed,"change:softLimit":this.renderListLimit,"change:id":this.renderCardTemplateButton}),this.listenTo(this.model.cardList,{"add remove change:idList change:closed reset":function(){return this.renderCardCountDebounced(),this.renderAddButtonDebounced(),this.renderListLimitDebounced()}}),this.listenTo(this.model.getBoard().boardPluginList,"add remove",(a=this,function(){return a.renderListLimitDebounced()})),this.listenTo(this.model.getBoard(),"permChange",this.renderEditable),this.listenTo(this.model.getBoard().composer,{"change:list change:index change:vis":this.renderComposerDebounced,"change:list change:vis":function(){return this.toggleComposerLinkDebounced()}}),this.listenTo(this.model.getBoard(),{"change:prefs.isTemplate":this.renderDebounced}),this.cardListView=this.collectionSubview(c,this.model.cardList,{className:"list-cards u-fancy-scrollbar u-clearfix js-list-cards",deferCards:this.options.deferCards}),r(window).on("resize."+this.uniqueId(),T(this,"hackFlexboxForSadBrowsers")),o=["mouseEnterCardView","mouseLeaveCardView","mouseMoveCardView"],e=function(e){return function(t){return e.listenTo(e.cardListView,t,(function(e){return this.trigger(t,e)}))}}(this),n=0,i=o.length;n<i;n++)e(o[n])},t.prototype.renderLimits=function(){var e;return e=!N({destinationList:this.model}),this.cardListView.$el.toggleClass("card-limits-full",e),this},t.prototype.render=function(){var e;return M("render","rendering list "+this.model.get("name")),this.cardListView.$el.detach(),this.$el.html(A({name:this.model.get("name"),subscribed:this.model.get("subscribed"),loggedIn:a.isLoggedIn(),editable:this.model.editable(),isTemplate:this.model.isTemplate()})),this.cardListView.$el.insertAfter(this.$(".js-list-header")),this.cardListView.render(),this.cardListView.$el.toggleClass("js-sortable",this.model.editable()),this.renderLimits(),this.renderListLimit(),this.toggleComposerLinkDebounced(),this.renderComposerDebounced(),this.renderCardCount(),this.renderEditable(),this.renderAddButton(),this.renderCardTemplateButton(),this.hackFlexboxForSadBrowsers(),E.defer((e=this,function(){return e.$(".js-list-name-input").autosize({append:!1})})),this},t.prototype.remove=function(){return r(window).off("."+this.uniqueId()),this.removeCardTemplateButton(),t.__super__.remove.apply(this,arguments)},t.prototype.renderName=function(){return this.$(".js-list-name-assist").text(this.model.get("name")),this.fEditingName||this.$(".js-list-name-input").val(this.model.get("name")).trigger("autosize.resize",!1),this},t.prototype.renderSubscribed=function(){return this.$(".js-list-subscribed").toggleClass("hide",!this.model.get("subscribed")),this.$(".js-list-header").toggleClass("is-subscribe-shown",this.model.get("subscribed")),this.$(".js-list-name-input").trigger("autosize.resize",!1),this},t.prototype.renderEditable=function(){var e;return e=this.model.editable(),this.$(".js-list-cards").toggleClass("js-sortable",e),e?this.$(".js-list-name-input").removeAttr("disabled"):this.$(".js-list-name-input").attr("disabled","disabled"),this.$(".js-open-card-composer").toggleClass("hide",!e),p.refreshListCardSortable(),this},t.prototype.hackFlexboxForSadBrowsers=function(){var e,t;"explorer-10"!==(e=s.browserVersionStr)&&"explorer-11"!==e||this.defer((t=this,function(){var e,n,i;return t.$el,i=t.$(".list-header").outerHeight(),e=t.$(".open-card-composer").outerHeight(),n=r("#board").height()-i-e-20,t.$(".list-cards").css({"max-height":n})}))},t.prototype.saveListName=function(e){var t,n,r;t=this.$(".js-list-name-input"),n=this.model.get("name"),(r=(r=t.val()).replace(/\s+/g," ").trim())!==n&&(r.length>16384||0!==r.trim().length&&this.model.update("name",r))},t.prototype.keyDownEvent=function(e){if(B(e)===f.Enter)return j.stop(e),void this.stopEditing();B(e)!==f.Escape||this.stopEditing()},t.prototype.startEditing=function(e){var t;j.stop(e),this.fEditingName||!this.model.editable()||p.sorting||(this.fEditingName=!0,this.$(".js-editing-target").addClass("is-hidden"),E.defer((t=this,function(){return t.$(".js-list-name-input").focus().select().addClass("is-editing")})))},t.prototype.stopEditing=function(e){var t;this.fEditingName&&(this.$(".js-editing-target").removeClass("is-hidden"),(t=this.$(".js-list-name-input").removeClass("is-editing")).is(":focus")&&t.blur(),G(),this.fEditingName=!1,this.saveListName(),this.renderNameDebounced())},t.prototype.toggleComposerLink=function(){return this.$(".js-open-card-composer").toggleClass("hide",this.composerOpen()||!this.model.editable()),this.$(".js-card-composer-container").toggleClass("hide",this.composerOpen()||!this.model.editable())},t.prototype.composerOpen=function(){var e,t;return null!=(e=null!=(t=this.model.getBoard())?t.composer:void 0)&&e.get("vis")&&e.get("list")===this.model},t.prototype.renderComposer=function(){var e,t;return this.composerOpen()&&(e=this.model.getBoard().composer,t=u.getCurrentBoardView().subview(l,e),this.insertComposerAtIndex(e.get("index"),t),t.scrollIntoView(),E.debounce(t.delegateEvents(),150)),this},t.prototype.insertComposerAtIndex=function(e,t){var n,r;0===e?this.$(".list-cards").prepend(t.render().el):((r=e-1)>=(n=this.$(".list-card").not(".js-composer")).length&&(r=n.length-1),n.eq(r).after(t.render().el))},t.prototype.renderCardCount=function(){return this.$(".js-num-cards").text(L("cards",this.model.openCards().length))},t.prototype.openCardComposer=function(e){var t,n,i,a;j.stop(e),k.hide(),t=this.model.getBoard(),n={$elem:r(e.target),destinationBoard:t,destinationList:this.model},F(n)||(t.composer.save({list:this.model,index:this.model.openCards().length,vis:!0}),Y("Card Composer","Open","Via Bottom of List"),this.sendGASEvent&&o.sendClickedButtonEvent({buttonName:"addAnotherCardButton",source:"listFooter",containers:{board:{id:null!=t?t.id:void 0},list:{id:null!=(i=this.model)?i.id:void 0},organization:{id:null!=t&&null!=(a=t.getOrganization())?a.id:void 0}}}))},t.prototype.triggerOnItem=function(e,t,n){var r;j.stopPropagation(e),this.defer((r=this,function(){return t.item.trigger(n,[t,r])}))},t.prototype.sortReceive=function(e,t){this.triggerOnItem(e,t,"moveto")},t.prototype.sortCommit=function(e,t){this.triggerOnItem(e,t,"movein")},t.prototype.loadPluginActions=function(e,t){return y.all({timeout:t,command:"list-actions",el:e,board:this.model.getBoard(),list:this.model}).catch((function(){return[]})).then((function(e){return E.chain(e).groupBy("idPlugin").map((function(e,t){return e.slice(0,3)})).flatten().value()}))},t.prototype.preloadMenu=function(e){if(!p.sorting&&null==this.pluginActionsPromise)return this.pluginActionsPromise=this.loadPluginActions(e.currentTarget,500).then((t=this,function(e){return t.pluginActionsPromise=null,t.pluginActions=e,t.pluginActionsExpiry=Date.now()+5e3,e}));var t},t.prototype.openMenu=function(e){var t,n,r,i,a,s,l,c;if(this,!p.sorting)return j.preventDefault(e),Y("List Menu","Open List Menu"),this.sendGASEvent&&o.sendClickedButtonEvent({buttonName:"listMenuButton",source:"listHeader",containers:{board:{id:null!=(n=this.model)&&null!=(r=n.getBoard())?r.id:void 0},list:{id:null!=(i=this.model)?i.id:void 0},organization:{id:null!=(a=this.model)&&null!=(s=a.getBoard())&&null!=(l=s.getOrganization())?l.id:void 0}}}),t=[],t=null!=this.pluginActions&&this.pluginActionsExpiry>Date.now()?this.pluginActions:null!=this.pluginActionsPromise?this.pluginActionsPromise:this.loadPluginActions(e.currentTarget,150),w.resolve(t).then((c=this,function(t){return k.toggle({elem:e.currentTarget,view:new h({model:c.model,modelCache:c.modelCache,pluginActions:t})}),c.pluginActions=null})),!1},t.prototype.moveList=function(e,t){var n;j.stop(e),n=t.item.parent().children().index(t.item),this.model.move(n)},t.prototype.eventStopPropagation=function(e){j.stopPropagation(e)},t.prototype.scrollToCard=function(e){var t;t=this.cardListView.viewForModel(e),j.scrollElementIntoView(this.$(".js-list-cards")[0],t.el,{vertical:!0,animated:!0})},t.prototype.mouseenter=function(e){return this.trigger("mouseEnterListView"),b.addHandler(this,{scope:"list"})},t.prototype.mouseleave=function(e){return this.trigger("mouseLeaveListView"),b.removeHandler(this,{scope:"list"})},t.prototype.mousemove=function(e){return this.trigger("mouseMoveListView")},t.prototype.dropText=function(e){var t,n,i;if(this.model.editable()&&(t=this.model.getBoard(),n={$elem:r(e.target),destinationBoard:t,destinationList:this.model,hasAttachments:!0},!F(n)))return i=e.detail,this.model.uploadText(i)},t.prototype.dropUrl=function(e){var t,n,i,o;this.model.editable()&&(t=this.model.getBoard(),n={$elem:r(e.target),destinationBoard:t,destinationList:this.model,hasAttachments:!0},F(n)||(e.stopPropagation(),o=e.detail,t.attachmentUrlRestricted(o)||("card"===(i=z(o)).type?this.handlePastedCardUrl(i.shortLink,o):this.createCardFromUrl(o))))},t.prototype.handlePastedCardUrl=function(e,t){return w.try((n=this,function(){var t,r,i;return r=null!=(i=m.getId("Card",e))?i:e,null!=(t=n.modelCache.get("Card",r))?t:g.loadCardData(r)})).then(function(n){return function(r){return w.try((function(){var e,t;return(null!=(e=r.getBoard())&&null!=(t=e.get("memberships"))?t.length:void 0)?e:g.loadBoardMinimal(n.get("idBoard"))})).then((function(r){var o,s,l,c,d;if(r.get("enterpriseOwned")){if(r.isGuest(a.me())&&r.get("id")!==n.model.getBoard().get("id"))return void i.show(["can only copy within board",{boardName:r.get("name")}],"error","trello-clipboard",5e3);if((null!=(c=r.getOrganization())?c.get("idEnterprise"):void 0)!==(null!=(d=n.model.getBoard().getOrganization())?d.get("idEnterprise"):void 0))return void i.show(["can only copy within enterprise",{enterpriseName:r.getEnterprise().get("displayName")}],"error","trello-clipboard",5e3)}if(o=_.isCut(t)&&r.editable()?"moveCard":"copyCard",n.trigger(o,{shortLink:e,idList:n.model.id}),(s=a.me())&&(l="pasteAlert-"+o,!s.isDismissed(l)))return s.dismiss(l)}))}}(this)).catch(function(e){return function(n){return e.createCardFromUrl(t)}}(this));var n},t.prototype.createCardFromUrl=function(e){var t,n,r;if(n=V(e),null!=(t=n.host))return y.one({timeout:2e3,command:"card-from-url",list:this.model,board:this.model.getBoard(),options:{url:e}}).catch(y.Error.NotHandled,(function(){return{}})).then((r=this,function(n){var i,o;return o=I("loading from domain",{domain:t}),i=E.pick(n,"name","desc"),(null!=n?n.idPlugin:void 0)&&J("board view","creates","Power-Up","","","card-from-url",n.idPlugin),R(r.model,"uploadUrl",e,i,o).then((function(e){if(null!=n?n.idPlugin:void 0)return K({idPlugin:n.idPlugin,idBoard:r.model.getBoard().id,event:{action:"created",actionSubject:"card",source:"powerUpCardFromUrl"}})}))})).done()},t.prototype.dropFiles=function(e){var t,n,i,o;if(this.model.editable()&&(!(t=this.model.getBoard()).attachmentTypeRestricted("computer")&&!(i={$elem:r(e.target),destinationBoard:t,destinationList:this.model,hasAttachments:!0},F(i)||(n=e.detail,X(this.model.getBoard(),n)))))return w.resolve(n).each((o=this,function(e){var t;return t=e.name||U(),R(o.model,"upload",e,t)})).catch((function(){})).done()},t.prototype.renderAddButton=function(){var e;return e=0===this.model.cardList.length,this.$(".js-add-a-card").toggleClass("hide",!e),this.$(".js-add-another-card").toggleClass("hide",e)},t.prototype.renderListLimit=function(){var e,t,n,r,i,o;return e=this.$(".js-list-content"),n=this.$(".js-list-limit-badge"),t=this.$(".js-list-header"),this.model.getBoard().isListLimitsPowerUpEnabled()&&null!=(o=this.model.get("softLimit"))?(i=(r=this.model.cardList.filter((function(e){return!D(e.get("name"))})).length)>o,n.text(r+" / "+o),t.addClass("is-list-limit-shown"),n.removeClass("hide"),e.toggleClass("exceeds-list-limit",i),n.toggleClass("mod-warning",i)):(e.removeClass("exceeds-list-limit"),n.addClass("hide"),t.removeClass("is-list-limit-shown"))},t.prototype.createCardFromTemplate=function(e,t,n){return null==n&&(n=[]),new w((r=this,function(i,o){var a;return a=r.model.cardList.create({name:e,idCardSource:t,keepFromSource:n.join(",")},{error:function(){return r.model.cardList.remove(card),o()},success:function(e){return i((function(){return r.cardListView.scrollToCardView(e)}))}}),r.model.getBoard().filter.addNewCard(a)}));var r},t.prototype.renderCardTemplateButton=function(){var e;return null!=this.model.id&&q(x.createElement(d,{idList:this.model.id,idBoard:this.model.getBoard().id,createCard:(e=this,function(t,n,r){var i,a,s,l,c,d;return e.sendGASEvent&&o.sendTrackEvent({action:"created",actionSubject:"card",source:"createCardFromTemplateInlineDialog",attributes:{cardSourceId:n},containers:{board:{id:null!=(i=e.model)&&null!=(a=i.getBoard())?a.id:void 0},list:{id:null!=(s=e.model)?s.id:void 0},organization:{id:null!=(l=e.model)&&null!=(c=l.getBoard())&&null!=(d=c.getOrganization())?d.id:void 0}}}),J({category:v.CARD_TEMPLATES,verb:S.COMPLETES,directObj:v.CREATE_CARD_FROM_TEMPLATE_MENU,context:{entry:v.LIST}}),e.createCardFromTemplate(t,n,r)})}),this.$(".js-card-templates-button")[0]),this},t.prototype.removeCardTemplateButton=function(){if(this.$(".js-card-templates-button").length)return C.unmountComponentAtNode(this.$(".js-card-templates-button")[0])},t}(O)},"./app/scripts/views/member-menu-profile/activity-member-menu-view.coffee":function(e,t,n){var r,i={}.hasOwnProperty;r=n("./app/scripts/views/member-menu-profile/member-mini-profile-view.coffee"),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.renderMenu=function(){},t}(r)},"./app/scripts/views/member-menu-profile/board-member-menu-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p,m,f,h,g,v,b,y,k={}.hasOwnProperty;i=n("./app/scripts/views/member/add-to-team-popover-view.coffee"),o=n("./app/scripts/views/lib/alerts.coffee"),a=n("./app/scripts/db/auth.coffee"),s=n("./app/scripts/views/member/change-role-popover-view.coffee"),l=n("./app/scripts/views/lib/confirm.coffee"),c=n("./app/scripts/controller/index.js"),n("./packages/feature-flag-client/index.ts").featureFlagClient,d=n("./app/scripts/views/member-menu-profile/member-mini-profile-view.coffee"),u=n("./app/scripts/views/lib/pop-over.coffee"),p=n("./app/scripts/lib/util/index.coffee"),r=n("./packages/jquery/index.js"),m=n("./node_modules/underscore/underscore.js"),h=n("./app/scripts/lib/localize.coffee"),g=n("./app/scripts/debug/log-error.ts").logError,y=n("./app/scripts/views/internal/templates.coffee"),v=n("./app/scripts/views/organization/member-limits-error.coffee").maybeDisplayOrgMemberLimitsError,f=n("./packages/config/index.ts").dontUpsell,b=n("./app/scripts/controller/navigate.js").navigate,e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)k.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.className="board-member-menu",t.prototype.initialize=function(){return this.board=this.options.board,this.listenTo(this.board,"change:prefs",this.render),t.__super__.initialize.apply(this,arguments)},t.prototype.events={"click .js-remove-member":"removeMember","click .js-add-to-team":"addMemberToTeam","click .js-add-to-team a":"addMemberToTeamUpgrade","click .js-change-role":"changeRole","click .js-view-member-activity":"viewMemberActivity"},t.prototype.addMemberToTeamUpgrade=function(e){if(e.stopPropagation(),!f)return e.preventDefault(),b(e.target.pathname,{trigger:!0})},t.prototype.renderMenu=function(){var e,t,r,i;return t=m.extend(this.model.toJSON(),"function"==typeof(e=this.board).premiumFeatures?e.premiumFeatures():void 0,this.model.getMembershipData(this.board)),i=this.board.getOrganization(),t.boardProfileUrl=c.getMemberBoardProfileUrl(this.model.get("username"),this.board.id),r=this.board.getMemberType(this.model,{ignoreEntAdminStatus:!0}),t.canInviteMemberToTeam=i&&this.canInviteMemberToTeam(i),t.isGhost="virtual"===r,t.type=h(["member types",r]),t.isTemplate=this.board.isTemplate(),t.isFreeTeam=i&&!i.isPremium(),t.orgBillingUrl=(null!=i?i.get("name"):void 0)&&(null!=i?i.getBillingUrl():void 0),"superadmin"!==r&&"deactivated"!==r||(t.canChangeRole=!1),this.$el.append(y.fillMenu(n("./app/scripts/views/templates/member_on_board_menu.coffee"),t,{editable:this.board.editable(),owned:this.board.owned()})),this},t.prototype.viewMemberActivity=function(){return u.hide()},t.prototype.canInviteMemberToTeam=function(e){var t,n,r,i,o,s;return!e.hasActiveMembership(this.model)&&(o=a.me(),i=e.ownedByMember(o),n=e.belongsToRealEnterprise(),t=e.get("idEnterprise"),r=(null!=(s=o.get("idEnterprisesAdmin"))?s.indexOf(t):void 0)>=0,i||n&&r)},t.prototype.changeRole=function(e){p.stop(e),u.pushView({view:new s({model:this.model,parent:this.board,modelCache:this.modelCache})})},t.prototype.removeMember=function(e,t){return p.stop(e),l.pushView(this.model.removeMembershipConfirmationKey(this.board),{confirmBtnClass:"negate",fxConfirm:(n=this,function(e){return n.board.removeMember(n.model),u.hide()})});var n},t.prototype.showError=function(e){var t;return g(new Error("Unknown server error message '"+e+"'")),t=h(["server error","unknown"]),o.showLiteralText(t,"error","alert",5e3)},t.prototype.addMemberToTeam=function(e,t){var n,o,a,s;if(p.stop(e),o=(a=this.board.getOrganization()).belongsToRealEnterprise(),n=a.isBusinessClass(),o||n)u.pushView({view:new i({isBC:n,isEnterprise:o,model:this.model,org:a})});else{if(v(r(e.target),a,this.model))return;a.addMember(this.model).then((function(){return u.hide()})).catch((s=this,function(e){return s.showError(e.message),u.hide()}))}},t}(d)},"./app/scripts/views/member-menu-profile/card-member-menu-view.coffee":function(e,t,n){var r,i,o,a={}.hasOwnProperty;r=n("./app/scripts/views/member-menu-profile/member-mini-profile-view.coffee"),i=n("./app/scripts/views/lib/pop-over.coffee"),o=n("./app/scripts/views/internal/templates.coffee"),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)a.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.events={"click .js-remove-member":"removeMember"},t.prototype.initialize=function(){t.__super__.initialize.apply(this,arguments),this.card=this.options.card},t.prototype.renderMenu=function(){return this.$el.append(o.fillMenu(n("./app/scripts/views/templates/member_on_card_menu.coffee"),this.model.toJSON(),{editable:this.card.editable()})),this},t.prototype.removeMember=function(e){var t;i.hide(),t=this.model.id,this.card.removeMember(t)},t}(r)},"./app/scripts/views/member-menu-profile/large-avatar-view.coffee":function(e,t,n){var r,i,o={}.hasOwnProperty;n("./app/scripts/views/lib/pop-over.coffee"),r=n("./app/scripts/views/internal/view.coffee"),i=n("./app/scripts/views/templates/member_large_avatar.coffee"),n("./packages/analytics/index.ts").track,e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)o.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.getViewTitle=function(){return this.model.get("fullName")},t.prototype.displayType="mod-avdetail",t.prototype.render=function(){var e;return e=this.model.toJSON(),this.$el.html(i(e)),this},t}(r)},"./app/scripts/views/member-menu-profile/member-mini-profile-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p,m,f={}.hasOwnProperty;i=n("./app/scripts/db/auth.coffee"),o=n("./app/scripts/views/member-menu-profile/large-avatar-view.coffee"),a=n("./app/scripts/db/model-loader.coffee"),s=n("./app/scripts/views/lib/pop-over.coffee"),l=n("./app/scripts/lib/util/index.coffee"),c=n("./app/scripts/views/internal/view.coffee"),d=n("./node_modules/underscore/underscore.js"),p=n("./app/scripts/views/templates/mini_profile.coffee"),m=n("./packages/analytics/index.ts").track,r=n("./packages/atlassian-analytics/index.ts").Analytics,u=n("./packages/feature-flag-client/index.ts").featureFlagClient,e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)f.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.initialize=function(){return t.__super__.initialize.apply(this,arguments),this.listenTo(this.model,"change change:avatarUrl change:avatarSource",this.frameDebounce(this.render)),this.sendGASEvent=u.get("dataeng.gasv3-event-tracking",!1)},t.prototype.viewTitleKey="member",t.prototype.displayType="mod-mini-profile",t.prototype.delegateEvents=function(e){var n;return n={"click .js-profile":"showProfile","click .js-view-large":"viewLarge"},t.__super__.delegateEvents.call(this,d.extend(n,e||this.events))},t.prototype.render=function(){var e,t,n;return(e=this.model.toJSON()).isMe=i.isMe(this.model),e.showEmail=null!=e.email&&!e.isMe,e.isDeactivated=null!=(t=this.options)&&null!=(n=t.board)?n.isDeactivated(this.model):void 0,null!=e.email||"ghost"!==this.model.get("memberType")||this.loaded||this.loadEmail(),this.$el.html(p(e)),this.renderMenu(),this},t.prototype.renderMenu=function(){},t.prototype.loadEmail=function(){return a.loadMemberEmail(this.model.id).then((e=this,function(){return e.loaded=!0})).done();var e},t.prototype.showProfile=function(){m("Mini Profile","Click Profile"),this.sendGASEvent&&r.sendClickedLinkEvent({linkName:"fullNameProfileLink",source:"miniProfileInlineDialog"})},t.prototype.viewLarge=function(e){l.stop(e),m("Mini Profile","View Large Avatar"),this.sendGASEvent&&r.sendUIEvent({action:"clicked",actionSubject:"avatar",actionSubjectId:"miniProfileAvatar",source:"miniProfileInlineDialog"}),s.pushView({elem:this.$(e.target),view:new o({model:this.model,modelCache:this.modelCache})})},t}(c)},"./app/scripts/views/member-menu-profile/member-on-board-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p={}.hasOwnProperty;n("./packages/jquery/index.js"),r=n("./app/scripts/db/auth.coffee"),i=n("./app/scripts/views/member-menu-profile/board-member-menu-view.coffee"),o=n("./app/scripts/views/lib/drag-sort.coffee"),a=n("./app/scripts/views/lib/pop-over.coffee"),s=n("./app/scripts/lib/util/index.coffee"),l=n("./app/scripts/views/internal/view.coffee"),c=n("./app/scripts/lib/assert/index.coffee"),d=n("./app/scripts/debug/log.js"),u=n("./app/scripts/views/templates/member.coffee"),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)p.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.tagName="a",t.prototype.className="member js-member",t.prototype.viewTitleKey="change permissions",t.prototype.attributes={tabindex:0},t.prototype.zIndex=0,t.prototype.events={click:"showMenu",keydown:"showMenu"},t.prototype.initialize=function(e){this.board=e.board,this.notClickable=e.notClickable,this.small=e.small,this.hideBadges=e.hideBadges,this.zIndex=e.zIndex,c(null!=this.model,"You cannot have a deleted member as a board member!"),this.listenTo(this.model,"change",this.render),this.listenTo(this.board,"change:memberships",this.render)},t.prototype.render=function(){var e,t,n,i,o;return d("render","rendering "+this.constructor.name+" "+this.model.get("fullName")),e=this.model.toJSON(),o=this,t=function(e){var t;return"admin"===(null!=(t=e.getMembershipFor(o.model))?t.memberType:void 0)},e.isBoardAdmin=t(this.board)||(null!=(n=this.board.getOrganization())?n.isPremOrgAdmin(this.model):void 0),e.isGhost="ghost"===this.model.get("memberType"),e.isDeactivated=this.board.isDeactivated(this.model),e.hideBadges=this.hideBadges,this.$el.html(u(e)).css("z-index",this.zIndex),this.model.isFeatureEnabled("crown")&&this.$el.addClass("has-crown"),this.small&&this.$el.addClass("m-member-mod-24"),this.notClickable&&this.$el.addClass("m-member-mod-no-click"),this.$el.toggleClass("member-deactivated js-member-deactivated",e.isDeactivated),this.$el.toggleClass("member-virtual-invitee","ghost"===e.memberType&&(null==e.idMemberReferrer||e.idMemberReferrer===r.me().id)),this.$el.toggleClass("long-initials",(null!=(i=e.initials)?i.length:void 0)>2),e.isGhost&&this.$el.addClass("member-virtual"),this.$el.data("id",this.model.id),this},t.prototype.showMenu=function(e){var t;if(!o.sorting&&!this.notClickable){if("keydown"===e.type){if(s.stopPropagation(e)," "!==e.key&&"Enter"!==e.key)return}else s.stop(e);t=this.options.pushView?"pushView":"toggle",a[t]({elem:e.currentTarget,view:new i({board:this.board,model:this.model,modelCache:this.modelCache})})}},t}(l)},"./app/scripts/views/member/add-to-team-popover-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p={}.hasOwnProperty;i=n("./app/scripts/views/lib/alerts.coffee"),o=n("./app/scripts/views/lib/pop-over.coffee"),a=n("./app/scripts/lib/util/index.coffee"),s=n("./app/scripts/views/internal/view.coffee"),r=n("./packages/jquery/index.js"),l=n("./app/scripts/views/templates/popover_add_to_team.coffee"),c=n("./app/scripts/lib/localize.coffee"),d=n("./app/scripts/lib/localize-server-error.coffee"),u=n("./app/scripts/views/organization/member-limits-error.coffee").maybeDisplayOrgMemberLimitsError,e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)p.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.viewTitleKey="add to team",t.prototype.events={"click .js-add-to-team":"addToTeam"},t.prototype.render=function(){var e;return e=c(["products",this.options.isBC?"bc":"enterprise"]),this.$el.html(l({teamType:e})),this},t.prototype.showError=function(e){var t;return t=d(e),i.showLiteralText(t,"error","alert",5e3)},t.prototype.addToTeam=function(e){var t;if(a.preventDefault(e),this.$(".js-add-to-team").attr("disabled",!0).addClass("disabled"),!u(r(e.target),this.options.org,this.model))return this.options.isOrgView?this.options.org.addMembers(this.model).then(function(e){return function(t){var n;return t[t._categories.ADDED]&&(null!=(n=e.options).showAlert?n.showAlert:n.showAlert=!1)&&i.show("added to team","confirm","info",3e3),o.hide()}}(this)):this.options.org.addMember(this.model).then((t=this,function(){var e;if(null!=(e=t.options).showAlert?e.showAlert:e.showAlert=!1)return i.show("added to team","confirm","info",3e3)})).catch(function(e){return function(t){return e.showError(t.message)}}(this)).finally((function(){return o.hide()}))},t}(s)},"./app/scripts/views/member/change-role-popover-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u={}.hasOwnProperty;r=n("./packages/jquery/index.js"),n("./app/scripts/network/api-ajax.coffee"),i=n("./app/scripts/db/auth.coffee"),o=n("./app/scripts/views/lib/confirm.coffee"),a=n("./app/scripts/views/lib/pop-over.coffee"),s=n("./app/scripts/lib/util/index.coffee"),l=n("./app/scripts/views/internal/view.coffee"),n("./node_modules/underscore/underscore.js"),d=n("./app/scripts/views/internal/templates.coffee"),n("./packages/analytics/index.ts").track,c=n("./app/scripts/lib/localize.coffee"),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)u.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.viewTitleKey="change permissions",t.prototype.initialize=function(){this.parent=this.options.parent,this.listenTo(this.parent,"change:memberships",this.render)},t.prototype.events={"click .js-make-admin":"makeAdmin","click .js-make-member":"makeMember","click .js-make-observer":"makeObserver"},t.prototype.render=function(){var e,t,r,i,o,a;for(this,(e=this.model.getMembershipData(this.parent)).showObserver=this.parent.hasObservers(),e.canMakeAdmin=this.model.get("confirmed"),i=function(){if("Organization"===this.parent.typeName)return"org roles";if("Board"===this.parent.typeName)return"board roles";throw new Error("A fragile abstraction has broken")}.call(this),t=0,r=(o=this.parent.getAvailableRoles()).length;t<r;t++)e["roleText_"+(a=o[t])]=c([i,a,"text"]);return null==e.roleText_admin&&(e.roleText_admin=e.roleText_superadmin),this.$el.html(d.fill(n("./app/scripts/views/templates/popover_change_roles.coffee"),e)),this},t.prototype.apiChangeRole=function(e){this.$el.find("ul a").addClass("disabled"),this.parent.changeMemberRole(this.model,{type:e}).done(),a.hide()},t.prototype.getMemberType=function(){return this.parent.getExplicitMemberType(this.model)},t.prototype.isAdminAndMe=function(){return"admin"===this.getMemberType()&&i.isMe(this.model)},t.prototype.isEnterpriseAdmin=function(){var e,t;return"function"==typeof(e=this.parent).getEnterprise&&null!=(t=e.getEnterprise())?t.isAdmin(this.model):void 0},t.prototype.makeAdmin=function(e){s.stop(e),r(e.target).closest("a").hasClass("disabled")||"admin"!==this.getMemberType()&&this.apiChangeRole("admin")},t.prototype.makeMember=function(e){var t;(s.stop(e),r(e.target).closest("a").hasClass("disabled"))||"normal"!==this.getMemberType()&&(this.isAdminAndMe()&&!this.isEnterpriseAdmin()?o.pushView("demote admin to normal member",{fxConfirm:(t=this,function(e){return t.apiChangeRole("normal")})}):this.apiChangeRole("normal"))},t.prototype.makeObserver=function(e){var t;(s.stop(e),r(e.target).closest("a").hasClass("disabled"))||"observer"!==this.getMemberType()&&(this.isAdminAndMe()?o.pushView("demote admin to observer",{fxConfirm:(t=this,function(e){return t.apiChangeRole("observer")})}):this.apiChangeRole("observer"))},t}(l)},"./app/scripts/views/member/member-avatar-react.coffee":function(e,t,n){var r,i,o,a={}.hasOwnProperty;i=n("./app/scripts/lib/util/naive-should-component-update.coffee"),r=n("./node_modules/react/index.js"),o=n("./app/scripts/views/internal/recup-with-helpers.coffee")("member"),e.exports=function(e){function t(e){t.__super__.constructor.call(this,e)}return function(e,t){for(var n in t)a.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.displayName="MemberAvatar",t.prototype.shouldComponentUpdate=i,t.prototype.render=o.renderable((function(){var e,t,n,r,i,a,s,l,c;return s=this.props,e=s.avatarUrl,t=s.email,l=s.username,s.fullName,n=s.initials,i=s.isDeactivated,r=s.isBoardAdmin,a=s.isOrganizationAdmin,s.onClick,c=s.viewTitle,o.div(".autocomplete-member-avatar",(function(){var s,d,u;return u=c,e?(s=[e,"30.png"].join("/"),d=[e,"50.png"].join("/"),o.img({class:"member-avatar",height:"30",width:"30",src:s,srcSet:s+" 1x, "+d+" 2x",alt:u,title:u})):null!=n&&""!==n?o.span(".member-initials",{title:u},(function(){return o.text(n)})):null!=l?o.div(".member-icon-container",(function(){return o.icon("member")})):null!=t&&o.span(".member-initials",{title:u},(function(){return o.text(t[0].toUpperCase())})),i||(r&&o.span(".member-type.admin",{title:o.l("this-member-is-an-admin-of-this-board")}),a&&o.span(".member-type.admin",{title:o.l("this-member-is-an-admin-of-this-organization")})),o.span(".member-gold-badge",{title:o.l("this-member-has-trello-gold")})}))})),t}(r.Component)},"./app/scripts/views/member/member-board-profile-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u={}.hasOwnProperty;n("./app/scripts/models/action.coffee"),r=n("./app/scripts/models/collections/action-list.coffee"),i=n("./app/scripts/views/action/action-list-view.coffee"),a=n("./app/scripts/network/payloads.coffee"),l=n("./app/scripts/views/internal/view-with-actions.coffee"),s=n("./app/scripts/views/internal/view.coffee"),d=n("./app/scripts/views/internal/templates.coffee"),c=n("./node_modules/underscore/underscore.js"),o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)u.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.events={"click .js-more-actions":"loadMoreActions"},t.prototype.initialize=function(){var e;return this.board=this.options.board,this.listenTo(this.board.memberList,"add remove reset",this.frameDebounce(this.render)),this.actionListView=this.collectionSubview(i,new r(this.model.getActions(this.board),{modelCache:this.modelCache}),{renderOpts:{context:this.model,readOnly:!0}}),this.listenTo(this.modelCache,"add:Action:"+this.model.id+" remove:Action:"+this.model.id,(e=this,function(){return e.actionListView.collection.reset(e.model.getActions(e.board),{silent:!0}),e.renderActions()})),this.idModels=[this.board.id],this.nextPage=0,this.loadMoreActions()},t.prototype.render=function(){return this.$el.html(d.fill(n("./app/scripts/views/templates/board_member_profile.js"),this.model.toJSON())),this.actionListView.setElement(this.$(".list-actions")[0]),this.renderActions()},t.prototype.renderActions=function(){return this.actionListView.render(),this.$(".js-more-actions").toggle(this.hasMoreActions()),this},t.prototype.getActionsFilter=function(){return a.memberActions},t}(s),c.extend(o.prototype,l),e.exports=o},"./app/scripts/views/member/member-multi-select-autocomplete-component.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p,m,f,h,g,v,b=function(e,t){for(var n in t)y.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},y={}.hasOwnProperty;u=n("./node_modules/underscore/underscore.js"),r=n("./packages/jquery/index.js"),o=n("./app/scripts/views/organization/invite-member-autocomplete-avatar.coffee"),i=n("./app/scripts/views/organization/invite-member-autocomplete-multi-board-guest-alert.coffee"),l=n("./node_modules/bluebird/js/browser/bluebird.js"),c=n("./node_modules/react/index.js"),n("./packages/react-dom-wrapper/index.ts"),h=n("./app/scripts/views/internal/recup-with-helpers.coffee")("org_members"),f=n("./app/scripts/lib/localize.coffee"),m=n("./packages/browser/index.ts").isDesktop(),s=n("./app/src/components/InfiniteList/index.ts").InfiniteList,g=n("./app/common/lib/util/non-public-fields-filter.ts").useNonPublicIfAvailable,d=n("./packages/test-ids/index.ts").TeamTestIds,p=/([^"@\s\[\]\(\),:;<>\\]+@[-a-z0-9\.]+\.[a-z]+)/gi,v=/^@[a-z0-9_]{3,}$/,a=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return b(t,e),t.prototype.shouldComponentUpdate=function(e){return e.isActive},t.prototype.render=function(){var e,t,n,r,i,a,l,d;return r=this.props,t=r.displayDetails,n=r.displayOrg,d=r.selectedOptions,e=r.activeIndex,i=r.searchResults,a=r.selectMemberOption,i.length?(l=d.map((function(e){return e.id})),c.createElement(s,{itemCount:i.length,pageSize:20,awaitMore:!1,renderItem:function(r,s){var d,u,p;return u=i[r],p=l.includes(u.id),d=e===r,c.createElement(o,{onMouseDown:function(e){return a(e,u)},displayDetails:t,displayOrg:n,activeMember:d,member:u,selected:p,isDesktop:m,key:s})}})):null},t}(c.Component),e.exports=function(e){var t,s;function y(e){y.__super__.constructor.call(this,e),this.isUnmounted=!1,this.updateSearchResultList=u.debounce(this.updateSearchResultList,250),this.searchForMembersPromise=null,this.searchForMembers=this.searchForMembers.bind(this),this.selectMemberOption=this.selectMemberOption.bind(this),this.onInputChange=this.onInputChange.bind(this),this.onInputFocus=this.onInputFocus.bind(this),this.onInputBlur=this.onInputBlur.bind(this),this.onInputKeyUp=this.onInputKeyUp.bind(this),this.onInputKeyDown=this.onInputKeyDown.bind(this),this.onInputPaste=this.onInputPaste.bind(this),this.onAutocompleteKeyDown=this.onAutocompleteKeyDown.bind(this),this.onAutocompleteSubmit=this.onAutocompleteSubmit.bind(this),this.searchCache={},this.searchInput=c.createRef(),this.onDocumentClick=this.onDocumentClick.bind(this),this.searchInputFocusPending=null,this.state={activeIndex:-1,isOpen:!1,isFetching:e.loadingOrg,processingMembers:!1,isActive:!0,isTyping:!1,searchResults:[],searchText:"",shouldFocusOnUpdate:!1,showMultiBoardGuestAlert:!1}}return b(y,e),t=function(e){return r.trim(e).toLowerCase().match(p)},s=function(e){return r.trim(e).toLowerCase().replace(/@/g,"")},y.prototype.componentDidMount=function(){var e;return this.searchInputFocusPending=setTimeout((e=this,function(){var t;return null!=(t=e.searchInput.current)?t.focus():void 0}),100),document.addEventListener("click",this.onDocumentClick)},y.prototype.componentDidUpdate=function(e){var t;if(!e.loadingOrg||this.props.loadingOrg||this.state.searchText||this.setState({shouldFocusOnUpdate:!0},(t=this,function(){return t.searchForMembers(t.state.searchText)})),this.state.shouldFocusOnUpdate&&(this.searchInput.current.focus(),this.setState({shouldFocusOnUpdate:!1})),this.state.isActive&&document.activeElement!==this.searchInput.current)return this.setState({isOpen:!1,isActive:!1})},y.prototype.componentWillUnmount=function(){var e;return null!=this.searchInputFocusPending&&(clearTimeout(this.searchInputFocusPending),this.searchInputFocusPending=null),this.isUnmounted=!0,null!=(e=this.searchForMembersPromise)&&e.cancel(),document.removeEventListener("click",this.onDocumentClick)},y.prototype.updateSearchResultList=function(e){var t;if(e)return(t=this.searchCache[e])?this.receiveSearchResults(t):this.searchForMembers(e)},y.prototype.searchForMembers=function(e,n){var r,i,o;return r=this.props.onAutocompleteSearch,null!=(i=this.searchForMembersPromise)&&i.cancel(),this.searchForMembersPromise=l.try((o=this,function(){return v.test(e)?e=s(e):p.test(e)&&(e=t(e)[0]),o.setState({isFetching:!0,isOpen:!0}),r(e)})).cancellable().then(function(t){return function(n){return null==n&&(n=[]),n.forEach((function(e){var t;if(e.id)return t={avatarUrl:g(e,"avatarUrl"),fullName:g(e,"fullName"),initials:g(e,"initials")},u.extend(e,t)})),t.searchCache[e]=n,t.receiveSearchResults(n,e)}}(this)).catch(l.CancellationError,function(e){return function(){return e.setState({isFetching:!1})}}(this)).catch(function(e){return function(t){return e.setState({isFetching:!1,error:t})}}(this))},y.prototype.receiveSearchResults=function(e,t){return this.props.emptySearchText,e=u.filter(e,(function(e){return e.email||e.username})),this.setState({isOpen:this.state.isTyping,isFetching:!1,searchResults:e})},y.prototype.selectMemberOption=function(e,t){var n,r,i,o;return e.preventDefault(),n=(r=this.props).onSelectMemberOption,o=r.shouldFocusOnSelectMemberOption,null!=(i=this.searchForMembersPromise)&&i.cancel(),this.setState({searchText:"",isOpen:!1,shouldFocusOnUpdate:o||!1}),n(t)},y.prototype.onDocumentClick=function(e){if(0===r(e.target).closest(".autocomplete-search-results.is-empty, .autocomplete-option").length&&this.state.showMultiBoardGuestAlert)return this.setState({showMultiBoardGuestAlert:!1})},y.prototype.onInputBlur=function(e){if(document.activeElement!==this.searchInput.current)return p.test(e.target.value)&&this.selectMemberOption(e,u.map(t(e.target.value),(function(e){return{email:e}}))),this.setState({isOpen:!1,isActive:!1})},y.prototype.onInputChange=function(e){var t;return e.persist(),t=e.target.value,this.setState({searchText:t,isOpen:!1,error:void 0,showMultiBoardGuestAlert:!1}),this.updateSearchResultList(t)},y.prototype.onInputFocus=function(e){return this.setState({isActive:!0})},y.prototype.onInputKeyUp=function(e){var n,r,i;return this.state.searchText,i=this.props.selectedOptions,"Enter"!==(n=e.key)&&","!==n&&" "!==n||!p.test(e.target.value)?!1===e.key||e.target.value||!i.length?this.setState({isTyping:!0}):void 0:(e.preventDefault(),this.setState({isOpen:!1,isTyping:!1}),null!=(r=this.searchForMembersPromise)&&r.cancel(),this.selectMemberOption(e,u.map(t(e.target.value),(function(e){return{email:e}}))))},y.prototype.onInputKeyDown=function(e){var t,n,r;if(t=(n=this.props).onRemoveMemberOption,r=n.selectedOptions,"Backspace"===e.key&&!e.target.value&&r.length)return t(r.length-1),this.setState({shouldFocusOnUpdate:!0})},y.prototype.onInputPaste=function(e){var n;if(n=e.clipboardData.getData("Text"),p.test(n))return this.selectMemberOption(e,u.map(t(n),(function(e){return{email:e}})))},y.prototype.onAutocompleteKeyDown=function(e){var t,n,r,i,o;switch(t=(i=this.state).activeIndex,o=i.searchResults,e.key){case"Enter":if(o[t]&&!o[t].joined)return this.setState({activeIndex:-1}),this.selectMemberOption(e,o[t]);break;case"ArrowRight":case"ArrowDown":return n=t===o.length-1?-1:t+1,this.setState({activeIndex:n});case"ArrowLeft":case"ArrowUp":return r=-1===t?o.length-1:t-1,this.setState({activeIndex:r});default:return null}},y.prototype.onAutocompleteSubmit=function(e){return n=this,function(r){var i,o,a,s;return a=n.state.searchText,i=(o=n.props).onSubmit,o.selectedOptions,s=o.submitDisabled,p.test(a)&&n.selectMemberOption(r,u.map(t(a),(function(e){return{email:e}}))),n.setState({processingMembers:!0}),i(e).then((function(){if(!n.isUnmounted&&!s)return n.setState({processingMembers:!1})})).catch((function(e){if(!n.isUnmounted)return n.setState({processingMembers:!1,error:e})}))};var n},y.prototype.render=h.renderable((function(){var e,t,r,s,l,c,g,v,b,y,k,w,x,C,_,j,S,O,E,N,T,P,B,D,I,A,L,M,F,R,z,V,U;return T=this.state,e=T.activeIndex,C=T.isActive,_=T.isFetching,j=T.isOpen,N=T.processingMembers,B=T.searchResults,D=T.searchText,b=T.error,A=T.showMultiBoardGuestAlert,P=this.props,E=P.placeholder,c=P.displayDetails,g=P.displayOrg,v=P.emptySearchText,z=P.submitText,l=P.children,y=P.extraSearchOption,I=P.selectedOptions,O=P.onRemoveMemberOption,k=P.fullWidthButton,R=P.submitAlwaysEnabled,w=P.hideDefaultButton,x=P.hideInviteLink,F=P.showMultiboardGuestWarning,S=P.isTemplate,V=D.match(p),r=I.length>0,t=u.some(I,(function(e){return e.blockInvite})),L=t&&g&&g.owned(),M=t&&g&&!g.owned(),s=(!r&&V||r)&&!N&&(!t||L)||R,h.div(".multi-select-autocomplete-container",(U=this,function(){if(h.div(".autocomplete-input-container",{class:h.classify({active:C,processing:N,"is-empty":!I.length}),onKeyDown:U.onAutocompleteKeyDown},(function(){if(h.div(".autocomplete-selected",(function(){return I.length&&I.map((function(e,t){return h.createElement(o,{displayDetails:!1,onRemoveClick:function(e){return e.preventDefault(),O(t)},onShowMultiBoardGuestAlert:function(e){return U.setState({showMultiBoardGuestAlert:e})},member:e})})),h.input(".autocomplete-input",{type:"text",onBlur:U.onInputBlur,onChange:U.onInputChange,onKeyUp:U.onInputKeyUp,onKeyDown:U.onInputKeyDown,onFocus:U.onInputFocus,onPaste:U.onInputPaste,disabled:N,placeholder:I.length?"":E,value:D,style:{minWidth:Math.min(8*(null!=D?D.length:void 0)+2,264)+"px"},ref:U.searchInput,"data-test-id":d.AddMemberInput})})),j){if(_)return h.div(".autocomplete-search-results",(function(){return h.div(".spinner.loading")}));if(B.length>0)return h.div(".autocomplete-search-results",{className:null!=y?"has-extra-option":""},(function(){if(h.div(".autocomplete-search-scroll",(function(){return h.tag(a,{isActive:C,displayDetails:c,displayOrg:g,selectedOptions:I,activeIndex:e,searchResults:B,selectMemberOption:U.selectMemberOption})})),y)return h.addElement(y)}));if(null!=v)return h.div(".autocomplete-search-results.is-empty",(function(){if(h.div(".is-empty-text",{class:h.classify({"is-empty-text-mod-padding":null!=y})},(function(){return h.text(v)})),y)return h.addElement(y)}))}else{if(null!=b)return h.div(".autocomplete-search-results.is-empty",(function(){return h.text(b.message)}));if(A)return h.div(".autocomplete-search-results.is-empty",(function(){return h.createElement(i,{displayOrg:g,isDesktop:m})}))}})),h.addElement(l),x||(h.div(".invite-link-actions",(function(){return h.span(".invite-with-link",(function(){return h.img(".invite-with-link-icon",{src:n("./resources/images/icon-link.svg")}),h.text(f(["templates","board_member_add_multiple","invite-with-link"]))})),h.a(".action-link.js-show-invitation-link",{href:"#"},(function(){return h.text(f(["templates","board_member_add_multiple","create-link"]))})),h.a(".action-link.js-deactivate-link.hide.js-invitation-link-container",{href:"#"},(function(){return h.text(f(["templates","board_member_add_multiple","disable-link"]))}))})),h.p(".quiet.invite-with-link-description",(function(){return F?(h.text(f(["templates","board_member_add_multiple","guests-that-are-already-on-another-team"])),m?void 0:(h.text(" "),h.a({href:"https://help.trello.com/article/1123-multi-board-guests",target:"_blank"},(function(){return f(["templates","select_member","learn-more"])})))):S?h.text(f(["templates","board_member_add_multiple","anyone-with-link-can-join-as-template-member"])):h.text(f(["templates","board_member_add_multiple","anyone-with-link-can-join-as-board-member"]))})),h.div(".manage-member-invitation-link.hide.js-invitation-link-container",(function(){return h.input(".js-invitation-link",{type:"text",readOnly:"readonly",placeholder:f(["templates","board_member_add_multiple","loading"])}),h.button(".primary.js-copy-invitation-link.js-hide-on-copy",(function(){return h.text(f(["templates","board_member_add_multiple","copy"]))})),h.button(".primary.js-copy-invitation-link.js-show-on-copy.hide",(function(){return h.text(f(["templates","board_member_add_multiple","copied"]))}))}))),(L||M)&&h.div(".multi-board-guest-message",(function(){return h.format("invite-multi-board-guests-confirmation-message")})),!w)return h.button(".autocomplete-btn.primary",{class:h.classify({disabled:!s,fullWidthButton:k}),disabled:!s,onClick:U.onAutocompleteSubmit(L),"data-test-id":d.TeamInviteSubmitButton},(function(){return N?h.div(".spinner.loading"):L?h.format("invite-multi-board-guests-confirmation-button"):h.text(z)}))}))})),y}(c.Component)},"./app/scripts/views/member/select-filterable-view.coffee":function(e,t,n){var r,i,o,a={}.hasOwnProperty;n("./app/scripts/views/internal/templates.coffee"),r=n("./app/scripts/views/internal/view.coffee"),i=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("select_member"),o=i.renderable((function(e){var t,n,r;return r=e.text,t=e.extraText,n=e.mentionCount,i.li({class:"item js-member-item"},(function(){return i.a({href:"#",class:"js-select-member ",title:r,autocompleteText:r},(function(){return i.span(".text",{title:"card"},(function(){return i.text(t+" ("+n+")")}))}))}))})),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)a.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.render=function(){return this.$el.html(o(this.options)),this},t}(r)},"./app/scripts/views/member/select-member-on-card-view.coffee":function(e,t,n){var r,i,o,a={}.hasOwnProperty,s=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};r=n("./app/scripts/views/member/select-member-view.coffee"),i=n("./packages/feature-flag-client/index.ts").featureFlagClient,o=function(){return i.get("remarkable.new-select-member",!1)},e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)a.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.initialize=function(){return this.listenTo(this.options.card,"change:idMembers",this.renderActive)},t.prototype.renderActive=function(){var e,t;return o()?this.$el.toggleClass("active",(e=this.model.id,s.call(this.options.card.get("idMembers"),e)>=0)):this.$(".js-member-item").toggleClass("active",(t=this.model.id,s.call(this.options.card.get("idMembers"),t)>=0))},t.prototype.render=function(){return t.__super__.render.apply(this,arguments),this.renderActive(),this},t}(r)},"./app/scripts/views/member/select-member-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d={}.hasOwnProperty;l=n("./app/scripts/views/internal/templates.coffee"),r=n("./app/scripts/views/internal/view.coffee"),a=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("select_member"),o=n("./app/scripts/views/templates/member.coffee"),i=n("./packages/feature-flag-client/index.ts").featureFlagClient,s=a.renderable((function(e){var t,n,r,i,s,l,c,d,u;return c=e.url,t=e.extraText,r=e.id,u=e.viewTitle,e.username,s=e.isVirtual,n=e.fullName,d=e.username,i=e.inactive,l=e.unconfirmed,a.a(".name.js-select-member",{href:c||"#",class:a.classify({"multi-line":t}),idMember:r,title:u,autocompleteText:d},(function(){if(a.span(".member.js-member",{class:a.classify({virtual:s})},(function(){return o(e)})),a.span(".full-name",{name:n+(d?" ("+d:""),"aria-hidden":!0},(function(){if(a.text(n),a.text(" "),d)return a.span(".username",(function(){return a.text("("+d+")")}))})),t&&a.div(".extra-text.quiet",(function(){return a.format("extratext",{extraText:t})})),a.icon("check",{class:"checked-icon","aria-label":a.l("added-to-card")}),a.icon("forward",{class:"light option js-open-option"}),i&&a.span(".quiet.sub-name",(function(){return a.format("inactive-account")})),l)return a.span(".quiet.sub-name",(function(){return a.format("unconfirmed-user")}))}))})),c=function(){return i.get("remarkable.new-select-member",!1)},e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)d.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.tagName=function(){return c()?"li":"div"},t.prototype.className=function(){if(c())return"item js-member-item"},t.prototype.initialize=function(){},t.prototype.render=function(){var e;return e=this.model.toJSON(),"ghost"===this.model.get("memberType")&&(e.isVirtual=!0),e.unconfirmed=this.options.showUnconfirmed&&!e.isVirtual&&!e.confirmed,e.inactive=this.options.showInactive&&!e.active,e.isKnownMember=this.options.isKnownMember,e.extraText=this.options.extraText,e.disabled=this.options.disabled,this.options.linkName?e.url="/"+this.model.get("username"):delete e.url,c()?(this.el.innerHTML=s(e),this.$el.toggleClass("active",Boolean(e.isActive)).toggleClass("unconfirmed",Boolean(e.unconfirmed)).toggleClass("inactive",Boolean(e.inactive)).toggleClass("js-autoselect",Boolean(e.isKnownMember)).toggleClass("disabled",Boolean(e.disabled))):this.$el[0].innerHTML=l.fill(n("./app/scripts/views/templates/select_member.coffee"),e,{},{member:l.member}),this.$(".js-member").data("id",this.model.id),this},t}(r)},"./app/scripts/views/onboarding/inspiration-popover.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p,m,f,h,g,v={}.hasOwnProperty;s=n("./node_modules/underscore/underscore.js"),a=n("./node_modules/react/index.js"),r=n("./app/scripts/db/auth.coffee"),i=n("./app/scripts/controller/index.js"),u=n("./app/scripts/debug/log-error.ts").logError,f=n("./app/scripts/views/internal/recup-with-helpers.coffee")("onboarding"),h=n("./packages/analytics/index.ts").trackUe,g=n("./app/scripts/views/onboarding/constants.coffee").verticals,p=n("./app/scripts/views/onboarding/helpers.coffee"),l=p.copyBoardFromVertical,d=p.getVertical,m=p.removeBoard,c=p.getLocale,o=n("./app/common/components/controls/icon/index.tsx").IconName,e.exports=function(e){function t(){var e,n,r,i,o;t.__super__.constructor.apply(this,arguments),n=c(),e=Object.keys(g).map((function(e){return Object.assign(g[e],{key:e})})),o=(r=s.partition(e,(function(e){return!isNaN(e.sortId)})))[0],i=r[1],this.verticals=o.sort((function(e,t){return e.sortId-t.sortId})).concat(s.shuffle(i)).filter((function(e){return e.inspirationBoards[n]})),this.state={copyingBoard:!1,selectedVertical:d(this.props.boardId)}}return function(e,t){for(var n in t)v.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.displayName="InspirationPopover",t.prototype.UNSAFE_componentWillReceiveProps=function(e){if(e.boardId!==this.props.boardId)return this.setState({selectedVertical:d(e.boardId)})},t.prototype.handleChangeSelect=function(e){var t,n;return t=e.target.value,h("Inspiration Board Popover","changes","vertical","","","",{boardId:this.props.boardId,lastVertical:this.state.selectedVertical,nextVertical:t}),this.setState({copyingBoard:!0,selectedVertical:t},(n=this,function(){return l(n.props.modelCache,t).then((function(){return n.setState({copyingBoard:!1})})).catch((function(e){return u(e,{vertical:t,message:"Error copying board",feature:"Personalized Onboarding",source:"Inspiration Popover"}),n.setState({copyingBoard:!1})}))}))},t.prototype.handleKeepBoard=function(){return h("Inspiration Board Popover","clicks","keep board","","","",{boardId:this.props.boardId,vertical:this.state.selectedVertical}),m(this.props.boardId),this.props.onClose()},t.prototype.handleGetStarted=function(){var e;return h("Inspiration Board Popover","clicks","get started","","","",{boardId:this.props.boardId,vertical:this.state.selectedVertical}),e="other"===this.state.selectedVertical?"default":this.state.selectedVertical,i.navigate("/create-first-board?selectedVertical="+e,{trigger:!0})},t.prototype.render=f.renderable((function(){var e,t,i,a;return t=this.state,e=t.copyingBoard,i=t.selectedVertical,f.div(".inspiration-popover",(a=this,function(){return f.div(".inspiration-popover--taco",(function(){return f.div(".inspiration-popover--taco-inner",(function(){return f.img({src:n("./resources/images/taco.png")})}))})),f.div(".inspiration-popover--content",(function(){return f.h2((function(){return f.format("welcome-to-trello-wave",{name:r.me().get("fullName")})})),f.div(".inspiration-popover--select",(function(){return e&&f.div(".spinner"),f.icon(o.Down),f.select({onChange:function(e){return a.handleChangeSelect(e)},defaultValue:i},(function(){var e,t,n,r,o,s;for(o=[],e=0,n=(r=a.verticals).length;e<n;e++)t=r[e].key,s=t===i?f.l(["exploring-trello-for"],{vertical:f.l(t)},{raw:!0}):f.l(t),o.push(f.option(".inspiration-popover--select-option",{value:t},(function(){return f.text(s)})));return o}))})),f.p((function(){return f.format("heres-an-example-of-how-to-use",{vertical:f.l(i)})})),f.p((function(){return f.format("this-is-just-an-example")})),f.button(".button.primary",{onClick:function(){return a.handleKeepBoard()},disabled:e,class:f.classify({disabled:e})},(function(){return f.format("keep-this-board")})),f.button(".button",{onClick:function(){return a.handleGetStarted()},disabled:e,class:f.classify({disabled:e})},(function(){return f.format("help-me-get-started")}))}))}))})),t}(a.Component)},"./app/scripts/views/organization/create-org-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p,m,f,h,g,v,b,y,k,w,x,C,_,j,S={}.hasOwnProperty;i=n("./app/scripts/db/auth.coffee"),o=n("./app/scripts/models/board.coffee"),a=n("./app/scripts/controller/index.js"),s=n("./app/scripts/db/model-loader.coffee"),c=n("./app/scripts/views/lib/pop-over.coffee"),u=n("./node_modules/bluebird/js/browser/bluebird.js"),k=n("./app/scripts/views/organization/member-limits-error.coffee").maybeDisplayOrgMemberLimitsError,f=n("./app/scripts/lib/util/index.coffee"),g=n("./app/scripts/views/internal/view.coffee"),C=n("./app/scripts/views/internal/templates.coffee"),y=n("./packages/browser/index.ts").isDesktop,w=n("./packages/analytics/index.ts"),_=w.track,j=w.trackUe,l=w.Noun,h=w.Verb,v=n("./packages/feature-flag-client/index.ts").featureFlagClient,n("./packages/organizations/index.ts").allUsersAreAdminsEnabled,m=n("./app/src/components/TeamTypeSelect/index.ts").TeamTypeSelect,x=n("./app/src/components/ComponentWrapper/index.ts").renderComponent,p=n("./node_modules/react/index.js"),d=n("./app/scripts/views/lib/post-render.coffee"),r=n("./packages/jquery/index.js"),b=function(e){return e?"("+e+")":""},e.exports=function(e){function t(e){t.__super__.constructor.call(this,e),this.onChangeTeamType=this.onChangeTeamType.bind(this),this.renderTeamTypeSelect=this.renderTeamTypeSelect.bind(this)}return function(e,t){for(var n in t)S.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.viewTitleKey="create organization",t.prototype.initialize=function(e){var t,n;return this.createOpts=e.createOpts,this.trackingOpts=e.trackingOpts,null==this.trackingOpts&&(this.trackingOpts={category:null,method:null,context:{}}),null==this.createOpts&&(this.createOpts={isBusinessClass:!1,boardToAddToOrg:!1,isEnterprise:!1}),(n=(i.me().get("email")||"").split("@"))[0],t=n[1],this.emailDomain=t||"",this.teamTypeValue="",this},t.prototype.events={"click .js-save":"submit","submit form":"submit","click .js-business-class":"clickBusinessClassMore","click .js-enterprise-learn-more":"clickEnterpriseLearnMore","input .js-display-name":function(){return this.updateSubmitButton()}},t.prototype.getValue=function(e){var t;return null!=(t=this.$("[name="+e+"]").val())?t.trim():void 0},t.prototype.render=function(){var e,t,r,o;return e=v.get("fv.domain-level-free-team-restricted",!1),this.createOpts.isEnterprise?(r=n("./app/scripts/views/templates/org_create_enterprise.coffee"),o={enterprises:i.me().enterpriseList,dontUpsell:y()}):(r=n("./app/scripts/views/templates/org_create.coffee"),o={freeTeamLimitExceeded:e,dontUpsell:y(),emailDomain:b(this.emailDomain),boardToAddToOrg:this.createOpts.boardToAddToOrg,memberCount:null!=(t=this.model.memberList)?t.length:void 0,isPrivateTemplate:this.createOpts.isPrivateTemplate}),this.$el.html(C.fill(r,o)),this.updateSubmitButton(),this.renderTeamTypeSelect(),e&&j({category:l.BOARD_HEADER,verb:h.SHOWS,directObj:l.FREE_TEAM_LIMIT_BLOCKED_POPOVER,context:{domainName:this.emailDomain,context:y()?"desktop":"web"}}),this},t.prototype.updateSubmitButton=function(){var e;return e=0===this.getValue("displayName").length||""===this.teamTypeValue,this.$(".js-save").prop("disabled",e)},t.prototype.submit=function(e){var t,n,l,d,p;if(f.stop(e),!k(r(e.target),null,i.me())){for(t={},this.$(".js-save").prop("disabled",!0).addClass("disabled"),n=0,l=(p=["displayName","desc","enterprise"]).length;n<l;n++)t[d=p[n]]=this.getValue(d);var m;""!==this.teamTypeValue&&(t.teamType=this.teamTypeValue),i.me().organizationList.create(t,{modelCache:this.modelCache,silent:!0,success:(m=this,function(e){return m.createOpts.boardToAddToOrg&&(m.createOpts.boardToAddToOrg.update({idOrganization:e.id}),m.createOpts.isPrivateTemplate&&m.model.setPref("isTemplate",!1).save()),s.loadOrganizationMembersMinimal(e.id).then((function(){var e;if(m.$(".js-add-members").prop("checked"))return e=m.model.getOrganization(),u.map(m.model.memberList.models,(function(t){if(!e.isMember(t))return e.changeMemberRole(t,{type:"normal"})}),{concurrency:3})})).then((function(){var t,n;t=m.createOpts.context?m.createOpts.context:{},n=Object.assign(t,{teamId:e.id}),m.model instanceof o&&(n.boardId=m.model.get("id")),m.createOpts.isBusinessClass?(a.organizationBillingView(e.get("name")),_("New Team","Create Business Class Team",void 0,e.id),j(m.trackingOpts.category,"adds","business class team","","",m.trackingOpts.method,n)):m.createOpts.isEnterprise?(a.organizationAccountView(e.get("name")),_("New Team","Create Enterprise Team",void 0,e.id),j(m.trackingOpts.category,"adds","enterprise team","","",m.trackingOpts.method,n)):(a.organizationBoardsView(e.get("name")),_("New Team","Create Team",void 0,e.id),j(m.trackingOpts.category,"adds","team","","",m.trackingOpts.method,n)),c.hide()})).done()})})}},t.prototype.clickBusinessClassMore=function(){return _("New Org","Click Business Class Link")},t.prototype.clickEnterpriseLearnMore=function(){return j({category:l.BOARD_HEADER,verb:h.CLICKS,directObj:l.FREE_TEAM_LIMIT_BLOCKED_POPOVER_ENTERPRISE_LINK,context:{domainName:this.emailDomain,context:y()?"desktop":"web"}})},t.prototype.onChangeTeamType=function(e){return this.teamTypeValue=e,this.updateSubmitButton()},t.prototype.renderTeamTypeSelect=function(){return d.enqueue((e=this,function(){var t,n;return t=p.createElement(m,{onChange:e.onChangeTeamType}),n=e.$(".js-team-type-select")[0],x(t,n)}));var e},t}(g)},"./app/scripts/views/organization/invite-member-autocomplete-avatar.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p={}.hasOwnProperty,m=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};n("./app/scripts/lib/util/naive-should-component-update.coffee"),s=n("./node_modules/react/index.js"),a=n("./app/scripts/views/member/member-avatar-react.coffee"),r=n("./app/scripts/views/organization/invite-member-autocomplete-multi-board-guest-alert.coffee"),d=n("./app/scripts/views/internal/recup-with-helpers.coffee")("select_member"),n("./app/scripts/lib/localize.coffee"),u=n("./packages/analytics/index.ts").trackUe,c=n("./node_modules/underscore/underscore.js").debounce,l=n("./packages/test-ids/index.ts").TeamTestIds,i=n("./app/scripts/views/organization/constants.coffee").BoardInviteRestrictValues,o={JOINED:"joined",INVITED:"invited",BLOCKED:"blocked",RESTRICT_ORG:"org-restrict-org",RESTRICT_MANAGED:"org-restrict-managed",RESTRICT_MANAGED_OR_ORG:"org-restrict-managed-or-org"},e.exports=function(e){function t(e){t.__super__.constructor.call(this,e),this.onRemoveClick=this.onRemoveClick.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onMouseOver=c(this.onMouseOver.bind(this)),this.state={mgbAlertSeen:!1}}return function(e,t){for(var n in t)p.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.displayName="AutocompleteMemberAvatar",t.prototype.getDisabledReason=function(){var e,t,n,r,a,s,l;if(s=this.props,e=s.displayOrg,(r=s.member).joined)return null!=r.memberType==="ghost"?o.INVITED:o.JOINED;if(r.activityBlocked||r.isDeactivated)return o.BLOCKED;if(e&&(a=e.getPref("boardInviteRestrict"))){if(n=null!=(l=r.idOrganizations)?l.some((function(t){return t===e.get("id")})):void 0,t=null!=r.idEnterprise&&r.idEnterprise===e.get("idEnterprise"),a===i.ORG)return!n&&o.RESTRICT_ORG;if(a===i.MANAGED)return!t&&o.RESTRICT_MANAGED;if(a===i.ORG_OR_MANAGED)return!(n||t)&&o.RESTRICT_MANAGED_OR_ORG}},t.prototype.render=d.renderable((function(){var e,t,n,i,o,s,c,u,p,f,h,g,v,b,y,k,w,x,C,_,j;return w=this.props,y=w.member,k=w.onRemoveClick,w.onMouseDown,s=w.displayDetails,c=w.displayOrg,u=w.displayUsername,t=w.activeMember,w.onShowMultiBoardGuestAlert,b=w.isDesktop,e=y.active,C=y.username,p=y.email,i=y.confirmed,y.joined,f=y.fullName,g=y.idOrganizations,_=y.wouldBecomeBillableGuest,h=y.hasError,n=y.blockInvite,o=this.getDisabledReason(),v=this.isClickable(),u?x=f+" ("+C+")":(x=f||p)===C&&(x="@"+x),d.div(".autocomplete-option",{onMouseDown:this.onMouseDown,onMouseOver:this.onMouseOver,class:d.classify({disabled:!v,active:t&&v,"has-links":_&&!o,"has-error":h||n}),"data-test-id":l.TeamInviteeOption},(j=this,function(){if(d.div(".member-container",(function(){if(s&&d.div(".member",{class:d.classify({"member-deactivated":y.activityBlocked})},(function(){return d.createElement(a,j.props.member)})),d.div(".member-info",(function(){var t;if(d.div(".full-name",(function(){return d.text(x)})),null!=c&&s&&g&&(t=c.id,m.call(g,t)>=0)&&d.span(".quiet.sub-name",{style:{marginRight:4}},(function(){return d.text(c.get("displayName"))})),s&&o&&d.span(".quiet.sub-name",(function(){return d.format(o)})),s&&!o){if(!1===i)return d.span(".quiet.sub-name",(function(){return d.format("unconfirmed-user")}));if(!1===e)return d.span(".quiet.sub-name",(function(){return d.format("inactive-account")}))}})),k)return d.a(".icon-sm .icon-close",{onClick:j.onRemoveClick,href:"#"})})),j.showMultiBoardGuestAlert())return d.div(".multi-board-guest-autocomplete-alert",(function(){return d.createElement(r,{displayOrg:c,isDesktop:b})}))}))})),t.prototype.showMultiBoardGuestAlert=function(){var e,t,n;return t=(n=this.props).onRemoveClick,e=n.member,n.displayOrg,!t&&e.wouldBecomeBillableGuest&&null==this.getDisabledReason()},t.prototype.isClickable=function(){var e,t,n,r,i,o,a,s,l,c;return e=null!=(t=this.props.displayOrg)?t.getAvailableLicenseCount():void 0,!this.getDisabledReason()&&!this.props.selected&&!((null!=(n=this.props)&&null!=(r=n.member)?r.wouldBecomeBillableGuest:void 0)&&(!(null!=(i=this.props.displayOrg)?i.owned():void 0)||(null!=(o=this.props)?o.isDesktop:void 0)))&&((null!=(a=this.props)&&null!=(s=a.member)?s.wouldBecomeBillableGuest:void 0)&&e>0||!(null!=(l=this.props)&&null!=(c=l.member)?c.wouldBecomeBillableGuest:void 0))},t.prototype.onMouseDown=function(e){var t,n,r,i,o;return(r=this.props).onRemoveClick,n=r.onShowMultiBoardGuestAlert,t=r.member,o=-1!==e.target.className.indexOf("icon-close"),null!=n&&t.blockInvite&&!o&&n(!0),this.isClickable()?(null!=(i=this.props)?i.onMouseDown:void 0)?this.props.onMouseDown(e):void 0:e.preventDefault()},t.prototype.onMouseOver=function(e){var t;if(!this.state.mgbAlertSeen&&this.showMultiBoardGuestAlert())return this.setState({mgbAlertSeen:!0}),u("invite to board","shows","mbg alert","","","by hovering over the guest in the dropdown",{organizationid:null!=(t=this.props.displayOrg)?t.id:void 0,memberid:this.props.member.id})},t.prototype.onRemoveClick=function(e){var t,n,r;return t=(r=this.props).onRemoveClick,n=r.onShowMultiBoardGuestAlert,r.member.blockInvite&&null!=n&&n(!1),t(e)},t}(s.Component)},"./app/scripts/views/organization/invite-member-autocomplete-multi-board-guest-alert.coffee":function(e,t,n){var r,i,o,a,s,l={}.hasOwnProperty;o=n("./app/scripts/lib/util/naive-should-component-update.coffee"),r=n("./node_modules/react/index.js"),a=n("./app/scripts/views/internal/recup-with-helpers.coffee")("select_member"),i=n("./app/scripts/lib/localize-count.coffee"),s=n("./packages/analytics/index.ts").trackUe,e.exports=function(e){function t(e){t.__super__.constructor.call(this,e)}return function(e,t){for(var n in t)l.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.displayName="AutoCompleteMultiBoardGuestAlert",t.prototype.shouldComponentUpdate=o,t.prototype.render=a.renderable((function(){var e,t,n,r,o;return r=this.props,e=r.displayOrg,t=r.isDesktop,n=null!=e?e.owned():void 0,o=null!=e?e.get("url"):void 0,a.div({onMouseDown:this.onMouseDown.bind(this)},(function(){var r,l,c;if(n&&e&&!t?e.getAvailableLicenseCount()>0?a.format("multi-board-guest-alert-as-admin"):a.format("multi-board-guest-alert-as-admin-no-seats"):t?a.format("multi-board-guest-alert-desktop"):null!=e?1===(r=e.adminList.map((function(e){return e.get("fullName")||e.get("username")}))).length?a.format("multi-board-guest-alert-as-member-with-1-admin",{admin1:r[0]}):2===r.length?a.format("multi-board-guest-alert-as-member-with-2-admins",{admin1:r[0],admin2:r[1]}):3===r.length?a.format("multi-board-guest-alert-as-member-with-3-admins",{admin1:r[0],admin2:r[1],admin3:r[2]}):(c=i("others",r.length-3),a.format("multi-board-guest-alert-as-member-with-more-admins",{admin1:r[0],admin2:r[1],admin3:r[2],others:c,othersUrl:o+"/members"})):a.format("multi-board-guest-alert-as-guest"),!t)return a.text(" "),l="https://help.trello.com/article/1123-multi-board-guests",a.a({href:l,target:"_blank",onMouseDown:function(t){return window.open(l,"_blank"),s("invite to board","clicks","mbg learn more link","","","by clicking on learn more link",{organizationid:e.id}),t.preventDefault(),t.stopPropagation()}},(function(){return a.format("learn-more")}))}))})),t.prototype.onMouseDown=function(e){if(e.target.classList.contains("stop-propagation")&&(e.preventDefault(),e.target.href))return window.open(e.target.href,"_blank")},t}(r.Component)},"./app/scripts/views/organization/member-limits-error.coffee":function(e,t,n){var r,i,o,a;i=n("./node_modules/underscore/underscore.js"),r=n("./app/scripts/db/auth.coffee"),o=n("./app/scripts/views/lib/limit-error-popover.coffee"),a=function(e,t,n){var a;return null!=(a=(null!=t?t.isOverLimit("orgs","totalMembersPerOrg"):void 0)?{message:"members exceeds total per org limit",params:{orgName:t.get("name")}}:(null!=n?n.isOverLimit("orgs","totalPerMember"):void 0)?r.isMe(n)?{message:"your orgs exceed total per member limit"}:{message:"orgs exceeds total per member limit",params:{memberName:n.get("name")}}:void 0)&&(o(i.extend({trackingArea:"Member Limits",elem:e},a)),!0)},e.exports={maybeDisplayOrgMemberLimitsError:a}},"./app/scripts/views/plugin/plugin-badge-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p={}.hasOwnProperty;n("./app/scripts/views/internal/plugins/plugin-runner.coffee"),i=n("./app/scripts/views/plugin/plugin-view.coffee"),n("./node_modules/bluebird/js/browser/bluebird.js"),o=n("./node_modules/underscore/underscore.js"),c=n("./app/scripts/views/internal/teacup-with-helpers.coffee")(),u=n("./node_modules/xtend/immutable.js"),r=n("./packages/nachos/tokens.ts").IconQuietColor,d=c.renderable((function(e){var t,n,r,i;if(t=e.icon,i=e.text,n=e.iconColor,r=e.iconColorClass,null!=t&&c.span(".badge-icon.icon-sm.plugin-icon"+r,{style:c.stylify({"background-image":c.urlify(c.addRecolorParam(t,"?color="+n))})}),i)return c.span(".badge-text",(function(){return c.text(i)}))})),s={blue:"plugin-color-blue",green:"plugin-color-green",orange:"plugin-color-orange",red:"plugin-color-red",yellow:"plugin-color-yellow",purple:"plugin-color-purple",pink:"plugin-color-pink",sky:"plugin-color-sky",lime:"plugin-color-lime","light-gray":"plugin-color-light-gray"},a=o.values(s).join(" "),l=function(e){return s[e]},e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)p.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.tagName="div",t.prototype.className="badge",t.prototype.initialize=function(e){this.pluginBadge=e.pluginBadge},t.prototype.renderBadge=function(e){return this.$el.html(d(e)),this.$el},t.prototype.render=function(){var e,t,n,i,o,s;return t=this.pluginBadge,i=(s=null!=(n=l(t.color))&&"light-gray"!==t.color)?"fff":r.substr(1).toLowerCase(),o=s?".mod-invert":".mod-quiet",!1===t.monochrome&&(o=".mod-reset"),(e=this.renderBadge(u(t,{iconColor:i,iconColorClass:o}))).removeClass(a),null!=n&&e.addClass(n),this},t.prototype.updateBadge=function(e){if(!o.isEqual(this.pluginBadge,e))return this.pluginBadge=e,this.render(e)},t}(i)},"./app/scripts/views/plugin/plugin-badges-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p,m,f,h,g,v,b,y,k,w,x={}.hasOwnProperty;g=n("./app/scripts/views/internal/plugins/plugins-changed-signal.coffee"),v=n("./app/scripts/lib/plugins/plugin-validators.coffee"),o=n("./app/scripts/views/plugin/plugin-badge-view.coffee"),a=n("./app/scripts/views/internal/plugins/plugin-model-serializer.coffee"),s=n("./app/scripts/views/internal/plugins/plugin-runner.coffee"),l=n("./app/scripts/views/plugin/plugin-view.coffee"),c=n("./app/scripts/views/lib/post-render.coffee"),d=n("./node_modules/bluebird/js/browser/bluebird.js"),b=n("./app/scripts/data/dropbox.coffee"),i=b.DropboxPluginId,r=b.DropboxClaimedHosts,y=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts").sendPluginViewedComponentEvent,k=n("./packages/analytics/index.ts").trackUe,u=n("./node_modules/underscore/underscore.js"),(p=n("./resources/images/dropbox-mark.svg")).startsWith("https://")||(p=window.location.origin+p),f=function(e){try{return new URL(e).host}catch(t){return e}},m={},h=null,w={},e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)x.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.tagName="span",t.prototype.badgeView=o,t.prototype.isDetailView=function(){return!1},t.prototype.runnerOptions=function(){return{command:"card-badges",board:this.model.getBoard(),card:this.model,timeout:1e4,options:{attachments:a.attachments(this.model.attachmentList.models,["id","name","url"])}}},t.prototype._cacheKey=function(){var e,t,n,r;return n=(r=this.runnerOptions()).command,e=r.board,t=r.card,[n,null!=e?e.id:void 0,null!=t?t.id:void 0].join(":")},t.prototype.requestBadges=function(){return s.all(this.runnerOptions()).then((e=this,function(t){var n,o,a,l,c,h,g;return g=u.filter(t,v.isValidBadge),e.isDetailView()||(null!=(l=e.model.getBoard())?l.isPluginEnabled(i):void 0)||(n=e.model.attachmentList.filter((function(e){return r.includes(f(e.get("url")))})).length)>0&&g.push({icon:p,text:n,idPlugin:i}),o=(e.latestRun||0)+1,e.latestRun=o,h=[],a=function(){return e.latestRun===o},c=function(){if(a())return e.renderResolvedBadges(h),m[e._cacheKey()]=h.map((function(e){return u.omit(e,"callback")}))},e.cancelOnRemove(d.map(g,(function(t,n){var r;return e.retain(t),null!=t.dynamic?(r=function(){var i;return i=t.dynamic().cancellable().then((function(t){var i;return v.isValidBadge(t)?(h[n]=t,c(),t.refresh&&a()?(i=Math.max(10,t.refresh),i+=2*Math.random()-1,e.setTimeout(r,1e3*i)):void 0):(h[n]=void 0,void c())})).catch(s.Error.NotHandled,(function(){return null})),e.cancelOnRemove(i),i})():h[n]=t}))).cancellable().then((function(){return c()})).catch(d.CancellationError,(function(){}))}));var e},t.prototype.vigor=t.VIGOR.NONE,t.prototype.renderOnce=function(){var e,t,n,r;return null!=(e=m[this._cacheKey()])&&this.renderResolvedBadges(e),(t=null!=(n=this.model.getBoard())?n.id:void 0)&&t!==h&&(h=t,w={}),c.enqueue("plugin_badges_render_"+this.cid,(r=this,function(){var e,t,n;return n=r.runnerOptions(),r.latestRun=0,t=u.debounce((function(){return r.requestBadges()}),500),r.listenTo(r.model,"change:dateLastActivity",t),r.listenTo(r.model.attachmentList,"add remove reset change",t),e=g(n.board,n.card),r.subscribe(e,u.after(2,(function(e){return t()}))),r.waitForId(r.model,(function(){return r.requestBadges()}))})),this},t.prototype.trackBadges=function(e){if(!w[e])return w[e]=!0,k("board view","views","Power-Up","","","card-badges",e),y({idPlugin:e,idBoard:this.model.getBoard().id,idCard:this.model.id,event:{componentType:"badge",componentName:"pupCardBadge",source:"boardScreen"}})},t.prototype.renderResolvedBadges=function(e){var t,n,r;return t=this.isDetailView(),n=u.filter(e,(function(e){return v.isRenderableBadge(e,t)})).map((r=this,function(e,t){var n;return r.trackBadges(e.idPlugin),(n=r.subview(r.badgeView,r.model,{pluginBadge:e},t)).updateBadge(e),n})),this.ensureSubviews(n)},t}(l)},"./app/scripts/views/plugin/plugin-button-view.coffee":function(e,t,n){var r,i,o,a,s={}.hasOwnProperty;n("./node_modules/underscore/underscore.js"),a=n("./app/scripts/lib/plugins/plugin-validators.coffee"),r=n("./app/scripts/views/plugin/plugin-view.coffee"),i=n("./app/scripts/views/lib/pop-over.coffee"),o=n("./app/scripts/lib/util/index.coffee"),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)s.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.tagName=function(){return null!=this.options.pluginButton.url?"a":"span"},t.prototype.attributes=function(){var e,t,n;if(n=(e=this.options.pluginButton).url,t=e.target,n&&a.isValidUrlForIframe(n))return{href:n,target:null!=t?t:n,rel:"noreferrer nofollow noopener"}},t.prototype.initialize=function(e){return this.pluginButton=e.pluginButton,this.retain(this.pluginButton)},t.prototype.events={click:function(e){var t;if(o.stopPropagation(e),"function"==typeof this.trackClick&&this.trackClick(this.pluginButton),null!=this.pluginButton.callback)return t=e.target.closest(".button-link")||e.target.closest(".board-header-btn")||e.target.closest("a")||e.target,this.isPopOverShowing(t)?i.hide():this.pluginButton.callback({el:t}).done()}},t.prototype.template=function(){throw Error("no template specified")},t.prototype.isPopOverShowing=function(e){return i.contains(e)||i.toggledBy(e)},t.prototype.renderOnce=function(){return this.$el.html(this.template(this.pluginButton)),this},t}(r)},"./app/scripts/views/plugin/plugin-buttons-view.coffee":function(e,t,n){var r,i,o,a,s,l={}.hasOwnProperty;a=n("./node_modules/underscore/underscore.js"),r=n("./app/scripts/db/auth.coffee"),i=n("./app/scripts/views/internal/plugins/plugin-runner.coffee"),s=n("./app/scripts/views/internal/plugins/plugins-changed-signal.coffee"),o=n("./app/scripts/views/plugin/plugin-view.coffee"),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)l.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.buttonsSelector=".js-button-list",t.prototype.buttonView=null,t.prototype.initialize=function(){return this.requestButtonsDebounced=a.debounce((e=this,function(){return e.requestButtons()}),500);var e},t.prototype.hideContainer=function(e){return null==e||0===e.length},t.prototype.renderContainer=function(){return this.$el},t.prototype.runnerOptions=function(){throw Error("runnerOptions not specified")},t.prototype.renderButtons=function(e){var t,n,r;return t=this.renderContainer(e),this.$el.toggleClass("hide",this.hideContainer(e)),this.removeSubviews(),n=a.sortBy(e,"text").map((r=this,function(e,t){return null!=e.view?r.subview(e.view,r.model,{},t):r.subview(r.buttonView,r.model,{pluginButton:e},t)})),this.appendSubviews(n,t)},t.prototype.requestButtons=function(){return i.all(this.runnerOptions()).then((e=this,function(t){return t=a.filter(t,(function(t){if(a.isArray(t)||!a.isObject(t)||!(null!=t?t.text:void 0))return!1;if(null==t.condition)return e.model.editable();switch(t.condition){case"admin":return"Card"===e.model.typeName?e.model.getBoard().owned():"Board"===e.model.typeName&&e.model.owned();case"edit":return e.model.editable();case"readOnly":return!e.model.editable();case"signedIn":return r.isLoggedIn();case"signedOut":return!r.isLoggedIn();case"always":return!0;default:return!1}})),e.renderButtons(t)})).catch((function(){return"undefined"!=typeof console&&null!==console?console.warn("Failed to request Power-Up buttons."):void 0}));var e},t.prototype.vigor=t.VIGOR.NONE,t.prototype.renderOnce=function(){var e;return e=this.runnerOptions(),this.subscribe(s(e.board,e.card),this.requestButtonsDebounced),this},t}(o)},"./app/scripts/views/plugin/plugin-header-button-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u={}.hasOwnProperty;i=n("./node_modules/underscore/underscore.js"),r=n("./app/scripts/views/plugin/plugin-button-view.coffee"),s=n("./app/scripts/views/internal/teacup-with-helpers.coffee")(),o=n("./packages/analytics/index.ts"),c=o.track,d=o.trackUe,a=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts").sendPluginUIEvent,l=s.renderable((function(e){var t,n,r,o,a,l,c;n=e.icon,c=e.text,a=e.monochrome,o="light"===this.model.get("prefs").backgroundBrightness,t=i.isString(n)?(r=o?"000":"fff",s.addRecolorParam(n,"?color="+r)):o&&i.isString(null!=n?n.light:void 0)?n.light:!o&&i.isString(null!=n?n.dark:void 0)?n.dark:void 0,l=i.isString(n)||!1!==a,null!=t&&s.span(".board-header-btn-icon.icon-sm.plugin-icon",{class:s.classify({recolorable:l,"mod-reset":!1===a,"mod-invert":l&&!o}),style:s.stylify({"background-image":s.urlify(t)})}),s.span(".board-header-btn-text",(function(){return s.text(c)}))})),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)u.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.className=function(){var e;return null!=(null!=(e=this.options.pluginButton)?e.icon:void 0)?"board-header-btn":"board-header-btn board-header-btn-without-icon"},t.prototype.template=l,t.prototype.trackClick=function(e){return c("Board Header","Board Plugin Button",e.text),d("board view","opens","Power-Up","","","board-button",e.idPlugin),a({idPlugin:e.idPlugin,idBoard:this.model.id,event:{action:"clicked",actionSubject:"button",actionSubjectId:"powerUpBoardButton",source:"boardScreen"}})},t}(r)},"./app/scripts/views/plugin/plugin-header-buttons-view.coffee":function(e,t,n){var r,i,o={}.hasOwnProperty;r=n("./app/scripts/views/plugin/plugin-buttons-view.coffee"),i=n("./app/scripts/views/plugin/plugin-header-button-view.coffee"),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)o.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.tagName="span",t.prototype.className="board-header-plugin-btns",t.prototype.buttonView=i,t.prototype.runnerOptions=function(){return{command:"board-buttons",timeout:1e4,board:this.model}},t}(r)},"./app/scripts/views/power-ups/calendar-settings-view.coffee":function(e,t,n){var r,i,o,a,s,l={}.hasOwnProperty;r=n("./packages/jquery/index.js"),i=n("./app/scripts/db/auth.coffee"),o=n("./app/scripts/lib/util/index.coffee"),a=n("./app/scripts/views/internal/view.coffee"),s=n("./app/scripts/views/templates/power_ups_calendar_prefs.coffee"),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)l.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.viewTitleKey="calendar settings",t.prototype.initialize=function(){return this.generating=!1,this.listenTo(this.model,{"change:prefs":this.render,"change:myPrefs.calendarKey":this.generationComplete})},t.prototype.events={"click .js-calendar-pref-feed:not(.disabled)":"selectFeedEnabled","click .js-calendar-feed-url:not(:disabled)":"focusInput","click .js-regen-calendar-url:not(.disabled)":"generateNewFeedURL"},t.prototype.generationComplete=function(){return this.generating=!1,this.render()},t.prototype.generateNewFeedURL=function(e){return o.stop(e),this.generating=!0,this.model.generateCalendarKey(),this.render()},t.prototype.render=function(){var e,t,n;return n=this.model.toJSON({prefs:!0}).prefs,t=this.model.getPref("calendarKey"),e="https://"+location.host+"/calendar/"+i.me().id+"/"+this.model.id+"/"+t+".ics",t||(this.generating=!0,this.model.generateCalendarKey()),this.$el.html(s({isEnabled:n.calendarFeedEnabled,isGenerated:null!=t&&!this.generating,url:e,canChange:this.model.editable()})),this},t.prototype.focusInput=function(e){return this.$(".js-calendar-feed-url").focus().select()},t.prototype.selectFeedEnabled=function(e){var t;return o.stop(e),t="enabled"===r(e.target).closest("a").attr("name"),this.model.setPref("calendarFeedEnabled",t)},t}(a)},"./app/scripts/views/power-ups/card-aging-settings-view.coffee":function(e,t,n){var r,i,o,a,s={}.hasOwnProperty;r=n("./packages/jquery/index.js"),i=n("./app/scripts/lib/util/index.coffee"),o=n("./app/scripts/views/internal/view.coffee"),a=n("./app/scripts/views/templates/power_ups_card_aging_prefs.coffee"),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)s.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.viewTitleKey="card aging settings",t.prototype.initialize=function(){return this.listenTo(this.model,{"change:prefs":this.render})},t.prototype.events={"click .js-select:not(.disabled)":"selectMode"},t.prototype.render=function(){return this.$el.html(a({agingMode:this.model.getPref("cardAging"),canChange:this.model.editable()})),this},t.prototype.selectMode=function(e){var t;return i.stop(e),t=r(e.target).closest(".js-select").attr("name"),this.model.setPref("cardAging",t)},t}(o)},"./app/scripts/views/power-ups/voting-settings-view.coffee":function(e,t,n){var r,i,o,a,s,l={}.hasOwnProperty;r=n("./packages/jquery/index.js"),i=n("./packages/atlassian-analytics/index.ts").Analytics,n("./packages/feature-flag-client/index.ts").featureFlagClient,o=n("./app/scripts/lib/util/index.coffee"),a=n("./app/scripts/views/internal/view.coffee"),s=n("./app/scripts/views/templates/power_ups_voting_prefs.coffee"),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)l.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.viewTitleKey="voting settings",t.prototype.initialize=function(){return this.listenTo(this.model,{"change:prefs":this.render})},t.prototype.events={"click .js-voting-select:not(.disabled)":"selectPerm","click .js-vote-count-select:not(.disabled)":"hideVotes"},t.prototype.render=function(){var e;return this.$el.html(s({canChange:this.model.editable(),canSetObservers:null!=(e=this.model.getOrganization())?e.isFeatureEnabled("observers"):void 0,canSetOrganization:this.model.hasOrganization(),canSetPublic:this.model.isPublic(),votingMode:this.model.getPref("voting"),hideVotes:this.model.getPref("hideVotes")})),this},t.prototype.selectPerm=function(e){var t,n;return o.stop(e),n=r(e.target).closest(".js-voting-select").attr("name"),this.model.setPref("voting",n),i.sendUpdatedBoardFieldEvent({field:"votingPref",value:n,source:"votingSettingsInlineDialog",containers:{board:{id:this.model.id},organization:{id:null!=(t=this.model.getOrganization())?t.id:void 0}},attributes:{previous:this.model.getPref("voting")}})},t.prototype.hideVotes=function(e){var t;return o.stop(e),r(e.target).closest(".js-vote-count-select"),this.model.setPref("hideVotes",!this.model.getPref("hideVotes")),i.sendUpdatedBoardFieldEvent({field:"hideVotesPref",value:this.model.getPref("hideVotes"),source:"votingSettingsInlineDialog",containers:{board:{id:this.model.id},organization:{id:null!=(t=this.model.getOrganization())?t.id:void 0}}})},t}(a)},"./app/scripts/views/reactions/reaction-icon.coffee":function(e,t,n){var r,i,o={}.hasOwnProperty;r=n("./node_modules/react/index.js"),i=n("./app/scripts/views/internal/recup-with-helpers.coffee")("reactions"),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)o.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.displayName="ReactionIcon",t.prototype.render=i.renderable((function(){var e,t,n,r,o;return t=(r=this.props).disabled,r.icon,o=r.withBorder,e=r.active,n=r.onClick,i.span({class:i.classify({"reactions-add":!0,"is-disabled":t,"mod-with-border":o,"is-active":e}),onClick:n},(function(){return i.icon("add-reaction",{class:i.classify({"reactions-add-icon":!0}),title:i.l("add-reaction")})}))})),t}(r.Component)},"./app/scripts/views/reactions/reaction-piles.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p,m,f,h,g,v,b,y,k,w,x,C,_={}.hasOwnProperty,j=[].slice;r=n("./packages/jquery/index.js"),i=n("./app/scripts/views/lib/alerts.coffee"),a=n("./app/scripts/db/auth.coffee"),n("./app/scripts/views/emoji/trello-emoji.coffee"),w=n("./app/scripts/lib/localize.coffee"),s=n("./app/scripts/db/model-cache.coffee"),l=n("./app/scripts/views/internal/model-cache-listener.js"),c=n("./app/scripts/views/lib/pop-over.coffee"),x=n("./app/scripts/views/internal/recup-with-helpers.coffee")("reactions"),C=n("./packages/analytics/index.ts").trackUe,g=n("./app/scripts/views/lib/tooltip.coffee"),v=n("./app/scripts/views/emoji/trello-emoji.coffee"),d=n("./node_modules/react/index.js"),u=n("./packages/react-dom-wrapper/index.ts"),p=n("./app/scripts/views/reactions/reaction-icon.coffee"),f=n("./app/scripts/views/reactions/reaction-selector.coffee"),h=n("./app/scripts/views/reactions/reaction-tooltip.coffee"),n("./app/scripts/views/internal/view.coffee"),b=n("./app/scripts/lib/util/index.coffee"),y=n("./node_modules/underscore/underscore.js"),o=n("./packages/atlassian-analytics/index.ts").Analytics,k=y.once((function(){var e,t;return e=r("<div></div>"),u.render(d.createElement(v,{emoji:"heart_decoration",size:11}),e[0]),t=e.html(),u.unmountComponentAtNode(e[0]),e.remove(),t})),m=function(e){function t(e){t.__super__.constructor.call(this,e),this.state={reactionSelectorOpen:!1,reactionList:this.props.reactionList},this.toggleReaction=this.toggleReaction.bind(this),this.showReactionTooltip=this.showReactionTooltip.bind(this),this.handleEmojiClick=this.handleEmojiClick.bind(this),this.handleEmojiOver=this.handleEmojiOver.bind(this),this.openReactionSelector=this.openReactionSelector.bind(this),this.renderInlineReactIcon=this.renderInlineReactIcon.bind(this),this._listen()}return function(e,t){for(var n in t)_.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.displayName="ReactionPiles",t.prototype._listen=function(){var e;return this._alertEvent("uniqueReactionLimit","unique-reaction-limit-exceeded"),this._alertEvent("totalReactionLimit","total-reaction-limit-exceeded"),this._alertEvent("addReactionError","add-reaction-error"),this._alertEvent("removeReactionError","remove-reaction-error"),this.props.modelListener(this.props.reactionList,"add remove reset",(e=this,function(){return e.props.onReactionChanged&&e.props.onReactionChanged(),e.setState({reactionList:e.props.reactionList})})),this.props.modelListener(this.props.reactionList,"add remove reset",function(e){return function(){return e.setState({reactionList:e.props.reactionList})}}(this))},t.prototype._alertEvent=function(e,t){return this.props.modelListener(this.props.reactionList,e,(function(e){var n;return n=e?x.l(t,{number:null!=e?e.disableAt:void 0,heart:k()},{raw:!0}):x.l(t),i.showHtml(n,"error","alert",3e3)}))},t.prototype.trackWithData=function(e,t,n,r,i){var o,a;return a=this.props.trackingContext.category,o=JSON.stringify(y.omit(this.props.trackingContext,"category")),C(a,e,t,n,r,i,o)},t.prototype.toggleReaction=function(e,t){var n,r;if(b.stop(t),this.props.canReact)return r=this,n=function(t){var n,i,a,s,l,c,d,u,p,m,f,h;return t?o.sendTrackEvent({action:"added",actionSubject:"reaction",source:"reactionSelectorInlineDialog",containers:{card:{id:null!=(n=r.props)&&null!=(i=n.trackingContext)?i.cardId:void 0},list:{id:null!=(l=r.props)&&null!=(c=l.trackingContext)?c.listId:void 0},board:{id:null!=(d=r.props)&&null!=(u=d.trackingContext)?u.boardId:void 0}},attributes:{addedTo:"comment",fromPile:!0}}):o.sendTrackEvent({action:"removed",actionSubject:"reaction",source:"reactionSelectorInlineDialog",containers:{card:{id:null!=(p=r.props)&&null!=(m=p.trackingContext)?m.cardId:void 0},list:{id:null!=(f=r.props)&&null!=(h=f.trackingContext)?h.listId:void 0},board:{id:null!=(a=r.props)&&null!=(s=a.trackingContext)?s.boardId:void 0}},attributes:{removedFrom:"comment",fromPile:!0}}),r.trackWithData(t?"adds":"removes","reaction",e.id,t?"to a comment":"from a comment","by clicking the pile")},this.props.reactionList.toggleReaction(this.props.actionId,e,n)},t.prototype.showReactionTooltip=function(e,t){var n,i,o,l,c;return n=r(t.currentTarget),l=e.colons,i=!1,o=this.props.reactionList.chain().filter((function(e){return e.toEmojiMart().colons===l})).omit((function(e){var t;return(t=e.get("idMember")===a.myId())&&(i=!0),t})).map((function(e){var t;return null!=(t=s.get("Member",e.get("idMember")))?t.get("fullName"):void 0})).compact().value(),i&&(o=[w("You")].concat(j.call(o))),c=new h({names:o,reaction:l}),g.show(c,n,!1,g.STYLE.MENU)},t.prototype.hideReactionTooltip=function(){return g.hide()},t.prototype.mapReactionListToPiles=function(){return this.props.reactionList.chain().groupBy((function(e){return e.toEmojiMart().colons})).pairs().map((function(e){var t;return{reaction:e[0],count:(t=e[1]).length,mine:y.any(t,(function(e){return e.get("idMember")===a.myId()}))}})).value()},t.prototype.handleEmojiClick=function(e,t){return this.hideReactionTooltip(),this.toggleReaction(e,t),this.props.onEmojiClick&&this.props.onEmojiClick(e,t)},t.prototype.handleEmojiOver=function(e,t){return this.showReactionTooltip(e,t),this.props.onEmojiOver&&this.props.onEmojiOver(e,t)},t.prototype.openReactionSelector=function(e){var t,n,i,a,s,l,d,u,p,m,h,g,v,k,w,x;return this.shouldSuppressTracking=!1,t=r(e.currentTarget),b.stop(e),this.setState({reactionSelectorOpen:!0}),n="by clicking the picker button "+(t.parents(".inline-add-reaction").length>0?"inline":"next to reactions"),this.state.reactionSelectorOpen?(this.shouldSuppressTracking=!0,c.popView(),this.setState({reactionSelectorOpen:!1}),this.sendGASEvent&&o.sendClosedComponentEvent({componentType:"inlineDialog",componentName:"reactionSelectorInlineDialog",source:"cardDetailScreen",attributes:{method:"clicked picker button"},containers:{card:{id:null!=(a=this.props)&&null!=(s=a.trackingContext)?s.cardId:void 0},list:{id:null!=(u=this.props)&&null!=(p=u.trackingContext)?p.listId:void 0},board:{id:null!=(m=this.props)&&null!=(h=m.trackingContext)?h.boardId:void 0}}}),void this.trackWithData("closes","reaction selector","","",n)):(this.sendGASEvent&&o.sendScreenEvent({name:"reactionSelectorInlineDialog",containers:{card:{id:null!=(g=this.props)&&null!=(v=g.trackingContext)?v.cardId:void 0},list:{id:null!=(k=this.props)&&null!=(w=k.trackingContext)?w.listId:void 0},board:{id:null!=(l=this.props)&&null!=(d=l.trackingContext)?d.boardId:void 0}}}),this.trackWithData("opens","reaction selector","","",n),i={actionId:this.props.actionId,reactionList:this.props.reactionList,trackingContext:this.props.trackingContext,onReactionClick:(x=this,function(e,t){return b.stop(e),x.shouldSuppressTracking=!0,x.setState({reactionSelectorOpen:!1}),c.popView()})},c.show({elem:r(e.currentTarget),hideHeader:!0,displayType:"mod-reaction-selector",view:new f(i),showImmediately:!0,hidden:function(e){return function(){return y.defer((function(){var t,n,r,i,a,s;if(e.setState({reactionSelectorOpen:!1}),!e.shouldSuppressTracking)return e.sendGASEvent&&o.sendClosedComponentEvent({componentType:"inlineDialog",componentName:"reactionSelectorInlineDialog",source:"cardDetailScreen",attributes:{method:"clicked outside the inline dialog"},containers:{card:{id:null!=(t=e.props)&&null!=(n=t.trackingContext)?n.cardId:void 0},list:{id:null!=(r=e.props)&&null!=(i=r.trackingContext)?i.listId:void 0},board:{id:null!=(a=e.props)&&null!=(s=a.trackingContext)?s.boardId:void 0}}}),e.trackWithData("closes","reaction selector","","","by clicking outside")}))}}(this)}))},t.prototype.renderReactIcon=function(){return x.div(".reaction-pile-selector",(e=this,function(){return x.createElement(p,{disabled:!e.props.canReact,withBorder:!0,onClick:e.openReactionSelector,active:e.state.reactionSelectorOpen})}));var e},t.prototype.renderInlineReactIcon=function(){return x.span(".inline-add-reaction.meta-add-reaction.quiet",(e=this,function(){return x.createElement(p,{disabled:!e.props.canReact,withBorder:!1,onClick:e.openReactionSelector,active:e.state.reactionSelectorOpen})}));var e},t.prototype.render=x.renderable((function(){var e,t,n,r,i;return e=(n=this.props).canReact,n.onEmojiClick,n.onEmojiOver,r=n.renderReactIconWithBorder,t=this.mapReactionListToPiles(),x.div(".reaction-piles",{class:x.classify({"reaction-piles-empty":!t.length,disabled:!e})},(i=this,function(){var e,n,o,a,s,l;for(n=0,o=t.length;n<o;n++)l=t[n],s=l.reaction,e=l.count,a=l.mine,x.div(".reaction-pile-item",{class:x.classify({"my-reaction":a}),"data-reaction":s},(function(){return x.addElement(d.createElement(v,{emoji:s,onClick:i.handleEmojiClick,onOver:i.handleEmojiOver,onLeave:i.hideReactionTooltip})),x.span(".reaction-pile-count",(function(){return e=e>99?"99+":e,x.text(e)}))}));return t.length||r?i.renderReactIcon():i.renderInlineReactIcon()}))})),t}(d.Component),e.exports=l(m)},"./app/scripts/views/reactions/reaction-selector.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u={}.hasOwnProperty;r=n("./packages/jquery/index.js"),l=n("./app/scripts/views/internal/view.coffee"),d=n("./packages/analytics/index.ts").trackUe,c=n("./node_modules/underscore/underscore.js"),o=n("./node_modules/react/index.js"),a=n("./packages/react-dom-wrapper/index.ts"),s=n("./app/scripts/views/emoji/trello-emoji-picker.coffee"),n("./app/scripts/views/internal/react-root-component.tsx").ReactRootComponent,i=n("./packages/atlassian-analytics/index.ts").Analytics,e.exports=function(e){function t(e){t.__super__.constructor.call(this,e),this.trackWithData=this.trackWithData.bind(this)}return function(e,t){for(var n in t)u.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.render=function(){return a.render(this.getEmojiPicker(),this.$el[0]),this.trackReactionClickEvents(),this},t.prototype.remove=function(){return a.unmountComponentAtNode(this.$el[0]),t.__super__.remove.apply(this,arguments)},t.prototype.trackWithData=function(e,t,n,r,i){var o,a;return a=this.options.trackingContext.category,o=JSON.stringify(c.omit(this.options.trackingContext,"category")),d(a,e,t,n,r,i,o)},t.prototype.trackReactionClickEvents=function(){var e,t;return e=".emoji-mart, .emoji-mart-anchor, .emoji-mart-skin-swatch-selected, .emoji-mart-skin-swatches-opened .emoji-mart-skin",r(document).off("click",e).on("click",e,(t=this,function(e){var n,o,a,s,l,c,d,u,p,m,f,h;if(e.stopPropagation(),h=(a=(n=r(e.currentTarget)).is(".emoji-mart-anchor"))?"reaction selector category button":n.is(".emoji-mart-skin-swatch")?"reaction selector skin tone button":n.is(".emoji-mart-skin")?"reaction selector skin tone menu":void 0)return s="by clicking the "+h,o=a?"reaction selector category":"reaction selector skin tone menu",l=a?n.attr("title"):n.is(".emoji-mart-skin")?"skin-tone-"+n.data("skin"):"",i.sendUIEvent({action:"clicked",actionSubject:"icon",actionSubjectId:"reactionMenuIcon",source:"reactionSelectorInlineDialog",attributes:{target:h},containers:{card:{id:null!=(c=t.options)&&null!=(d=c.trackingContext)?d.cardId:void 0},board:{id:null!=(u=t.options)&&null!=(p=u.trackingContext)?p.boardId:void 0},list:{id:null!=(m=t.options)&&null!=(f=m.trackingContext)?f.listId:void 0}}}),t.trackWithData("opens",o,l,"",s)})),r(document).on("input",".emoji-mart-search input",c.debounce(function(e){return function(t){var n,o,a,s,l,c;return t.stopPropagation(),r(t.currentTarget),i.sendTrackEvent({action:"searched",actionSubject:"reaction",source:"reactionSelectorInlineDialog",containers:{card:{id:null!=(n=e.options)&&null!=(o=n.trackingContext)?o.cardId:void 0},board:{id:null!=(a=e.options)&&null!=(s=a.trackingContext)?s.boardId:void 0},list:{id:null!=(l=e.options)&&null!=(c=l.trackingContext)?c.listId:void 0}}}),e.trackWithData("searches","reaction selector","","for emoji","by typing in the reaction selector search box")}}(this),1e3))},t.prototype.handleReactionClick=function(e,t){var n,r;return r=this,n=function(e){var n,o,a,s,l,c,d,u,p,m,f,h;return e?i.sendTrackEvent({action:"added",actionSubject:"reaction",source:"reactionSelectorInlineDialog",containers:{card:{id:null!=(n=r.options)&&null!=(o=n.trackingContext)?o.cardId:void 0},list:{id:null!=(l=r.options)&&null!=(c=l.trackingContext)?c.listId:void 0},board:{id:null!=(d=r.options)&&null!=(u=d.trackingContext)?u.boardId:void 0}},attributes:{addedTo:"comment",emoji:t.id,fromPile:!1}}):i.sendTrackEvent({action:"removed",actionSubject:"reaction",source:"reactionSelectorInlineDialog",containers:{card:{id:null!=(p=r.options)&&null!=(m=p.trackingContext)?m.cardId:void 0},list:{id:null!=(f=r.options)&&null!=(h=f.trackingContext)?h.listId:void 0},board:{id:null!=(a=r.options)&&null!=(s=a.trackingContext)?s.boardId:void 0}},attributes:{removedFrom:"comment",emoji:t.id,fromPile:!1}}),r.trackWithData(e?"adds":"removes","reaction",t.id,e?"to a comment":"from a comment","by picking a reaction")},this.options.reactionList.toggleReaction(this.options.actionId,t,n),this.options.onReactionClick&&this.options.onReactionClick(e,t)},t.prototype.getEmojiPicker=function(){return o.createElement(s,{onClick:(e=this,function(t,n){return e.handleReactionClick(n,t)})});var e},t.prototype.willBePopped=function(){return r(".js-open-reactions").removeClass("active"),r(document).off("click",".emoji-mart, .emoji-mart-anchor, .emoji-mart-skin-swatch-selected, .emoji-mart-skin-swatches-opened .emoji-mart-skin"),r(document).off("input",".emoji-mart-search input")},t}(l)},"./app/scripts/views/reactions/reaction-tooltip.coffee":function(e,t,n){var r,i,o,a,s,l,c,d={}.hasOwnProperty;s=n("./app/scripts/lib/localize.coffee"),l=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("reactions"),r=n("./app/scripts/views/internal/view.coffee"),a=n("./node_modules/joinn/lib/joinn.js"),i=function(e){return l.render((function(){return l.span(".reaction-fullname",(function(){return l.text(e)}))}))},o=function(e){return l.render((function(){return l.strong((function(){return l.text(e)}))}))},c=l.renderable((function(e){var t,n,r;return n=e.names,r=e.reaction,t=(null!=n?n[0]:void 0)===s("You")&&1===n.length,n=n.map(i),l.div(".reaction-tooltip",(function(){return""!==n&&null==r?l.raw(a(n,", "," "+l.l("and")+" ")):t?l.raw(l.l("reaction-tooltip-you",{reaction:o(r)},{raw:!0})):1===n.length?l.raw(l.l("reaction-tooltip",{name:n[0],reaction:o(r)},{raw:!0})):n.length>1?l.raw(l.l("reaction-tooltip-plural",{names:a(n,", "," "+l.l("and")+" "),reaction:o(r)},{raw:!0})):l.raw(o(r))}))})),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)d.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.renderOnce=function(){var e,t,n;return e=(n=this.options).names,t=n.reaction,null==e&&(e=[]),this.$el.append(c({names:e,reaction:t})),this},t}(r)},"./app/scripts/views/stickers/sticker-edit-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u={}.hasOwnProperty;r=n("./packages/jquery/index.js"),o=n("./app/scripts/views/lib/pop-over.coffee"),a=n("./app/scripts/views/stickers/sticker-view.coffee"),s=n("./app/scripts/lib/util/index.coffee"),l=n("./node_modules/underscore/underscore.js"),d=n("./packages/analytics/index.ts").track,i=n("./packages/atlassian-analytics/index.ts").Analytics,c=n("./packages/feature-flag-client/index.ts").featureFlagClient,e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)u.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.initialize=function(){return this.listenTo(this.model,"stopEditing",this.stopEditing),this.listenTo(this.model,"startEditing",this.editSticker),this.listenTo(this.model,"disableEditing",this.disableEditing),this.listenTo(this.model,"enableEditing",this.enableEditing)},t.prototype.events={mouseenter:"mouseenter",mouseleave:"mouseleave",mousedown:"editSticker","mousedown .js-remove-sticker":"removeSticker","mousedown .js-rotate-sticker":"startRotate","mousedown .js-move-sticker":"startMove"},t.prototype.showEditControls=function(){return!0},t.prototype.disableEditing=function(){return this.$el.addClass("editing-disabled")},t.prototype.enableEditing=function(){return this.$el.removeClass("editing-disabled")},t.prototype.endCurrentEdit=function(){return r(document).off(".stickerrotate .stickermove .stickerautomove"),this.$el.removeClass("moving rotating"),r(".quick-card-editor").removeClass("invalid dragging")},t.prototype.stopEditing=function(e){var t,n,i,o,a;if(s.stop(e),this.isEditing()){for(this.endCurrentEdit(),this.$el.removeClass("editing"),r(".quick-card-editor").removeClass("quick-card-editor-editing-stickers"),o=[],t=0,n=(i=this.model.collection.models).length;t<n;t++)a=i[t],o.push(a.trigger("enableEditing"));return o}},t.prototype.isEditing=function(){return this.$el.is(".moving, .rotating, .editing")},t.prototype.isEditingDisabled=function(){return this.$el.is(".editing-disabled")},t.prototype.isMovingOrRotating=function(){return this.$el.is(".moving, .rotating")},t.prototype.saveStickerAttrs=function(e){var t,n,r,i,o,a,l,c;r=e.position,i=e.rotation,o=function(e){return Math.round(100*e)/100},c={zIndex:this.model.collection.nextZIndex(this.model)},r&&(l=(t=this.$el.closest(".list-card").find(".js-card-stickers")).width(),a=t.height(),c.left=o(parseFloat(this.$el.css("left"))/l*100),c.top=o(parseFloat(this.$el.css("top"))/a*100)),i&&(n=s.getElemTransformMatrix(this.$el.find(".sticker-image")),c.rotate=o(s.getMatrixDegrees(n)%360)),this.model.update(c)},t.prototype.mouseenter=function(e){this.isEditingDisabled()||this.isEditing()||this.isMovingOrRotating()||this.$el.addClass("hover")},t.prototype.mouseleave=function(e){this.$el.removeClass("hover")},t.prototype.editSticker=function(e){var t,n,i,a,c,d,u,p;if(null==e||1===e.which){var m;for(s.stop(e),!1,null!=e&&"mousedown"===e.type&&(c=e.pageX,d=e.pageY,n=function(){return r(document).off(".stickerautomove"),clearTimeout(t)},r(document).on("mousemove.stickerautomove",(m=this,function(e){if(Math.pow(e.pageX-c,2)+Math.pow(e.pageY-d,2)>25)return!0,n(),m.startMove(e)})),r(document).on("mouseup.stickerautomove",n),t=this.setTimeout(n,1e3)),i=0,a=(p=l.clone(this.model.collection.models)).length;i<a;i++)(u=p[i])!==this.model&&(u.trigger("stopEditing"),u.trigger("disableEditing"));this.defer(function(e){return function(){return o.hide(),e.$el.addClass("editing"),r(".quick-card-editor").addClass("quick-card-editor-editing-stickers")}}(this))}},t.prototype.startRotate=function(e){var t,n,i,o,a,l;if(this.isEditing())return s.preventDefault(e),a={x:this.$el.offset().left+this.$el.width()/2,y:this.$el.offset().top+this.$el.height()/2},i={x:e.pageX,y:e.pageY},s.calcDistanceFromCenter(this.$el,i.x,i.y),o=0,null!=(n=s.getElemTransformMatrix(this.$el.find(".sticker-image")))&&(o=s.getMatrixDegrees(n)),t=!1,r(document).on("mousemove.stickerrotate",(l=this,function(e){var n,c,d,u,p,m;t||(l.$el.removeClass("hover").addClass("rotating"),r(".quick-card-editor").addClass("dragging"),t=!0),p={x:e.pageX,y:e.pageY},s.calcDistanceFromCenter(l.$el,p.x,p.y),c=p.x-a.x,d=p.y-a.y,u=s.getDegrees(i.y-a.y,i.x-a.x),n=s.getDegrees(d,c),m=o+(n-u),l.$el.find(".sticker-image").css({transform:"rotate("+m+"deg)","-webkit-transform":"rotate("+m+"deg)"})})),r(document).on("mouseup.stickerrotate",function(e){return function(){return t?(e.saveStickerAttrs({rotation:!0}),e.endCurrentEdit()):r(document).off(".stickerrotate")}}(this)),!1},t.prototype.startMove=function(e){var t,n,i,o,a,l,c,d,u,p,m,f,h;if(this.isEditing())return s.stop(e),p=(t=this.$el.closest(".list-card").find(".js-card-stickers")).offset(),c=p.left,d=p.top,f=this.$el.width(),m=this.$el.height(),u=t.width(),l=t.height(),n={left:-40,right:u-10,top:-40,bottom:l-10},null!=e?(o=this.$el.offset().left+this.$el.width()/2-e.pageX,a=this.$el.offset().top+this.$el.height()/2-e.pageY):(o=0,a=0),i=!1,r(document).on("mousemove.stickermove",(h=this,function(e){var t,s,l;return i||(h.$el.removeClass("hover").addClass("moving"),r(".quick-card-editor").addClass("dragging"),i=!0),t=e.pageX-c-f/2+o,s=e.pageY-d-m/2+a,l=!0,t>n.right&&(t=n.right,l=!1),t<n.left&&(t=n.left,l=!1),s>n.bottom&&(s=n.bottom,l=!1),s<n.top&&(s=n.top,l=!1),r(".quick-card-editor").toggleClass("invalid",!l),h.$el.css({left:t,top:s})})),r(document).on("mouseup.stickermove",function(e){return function(){return i?(e.saveStickerAttrs({position:!0}),e.endCurrentEdit()):r(document).off(".stickermove")}}(this)),!1},t.prototype.removeSticker=function(e){var t,n;this.isEditing()&&(t=l.once((n=this,function(){d("Card","Sticker","Remove via Edit"),c.get("dataeng.gasv3-event-tracking",!1)&&i.sendTrackEvent({action:"removed",actionSubject:"sticker",source:"stickerEditView"}),n.stopEditing(),n.model.destroy(),n.$el.remove()})),this.$el.one("transitionEnd webkitTransitionEnd",t),this.setTimeout(t,100),this.$el.addClass("fade-out"))},t}(a)},"./app/scripts/views/stickers/sticker-view.coffee":function(e,t,n){var r,i,o,a,s,l,c,d,u,p,m,f,h,g,v,b={}.hasOwnProperty;i=n("./packages/browser/index.ts"),s=n("./app/scripts/lib/util/index.coffee"),l=n("./app/scripts/views/internal/view.coffee"),n("./app/scripts/views/internal/templates.coffee"),f=n("./app/scripts/data/sticker-size.coffee"),m=n("./app/scripts/lib/util/sticker-clip.coffee"),h=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("sticker_on_card"),n("./packages/jquery/index.js"),o=n("./node_modules/bluebird/js/browser/bluebird.js"),v=n("./packages/analytics/index.ts").track,r=n("./packages/atlassian-analytics/index.ts").Analytics,c=n("./packages/feature-flag-client/index.ts").featureFlagClient,a=i.supportsFancyPeel(),g=h.renderable((function(e){var t,r,i,o,s,l;return l=e.url,i=e.rotate,t=e.image,o=e.showEditControls,s=e.showRemoveUI,r=e.isGiphySticker,s?(h.div({class:h.classify({"sticker-removing":!0,"giphy-sticker":r})},(function(){return h.div(".sticker-removing-highlight",{style:"transform: rotate("+i+"deg)"}),a?(h.img(".sticker-remove-image.sticker-removing-residue",{src:n("./resources/images/stickers/residue.png"),style:"--sticker-rotation: "+i+"deg; mask-image: "+h.urlify(l)+"; -webkit-mask-image: "+h.urlify(l)+";"}),h.img(".sticker-remove-image.sticker-removing-shadow",{src:l,style:"--sticker-rotation: "+i+"deg"}),h.img(".sticker-remove-image.sticker-removing-fixed",{src:l,style:"--sticker-rotation: "+i+"deg;"}),h.img(".sticker-remove-image.sticker-removing-peel",{src:l,style:"--sticker-rotation: "+i+"deg"})):h.img(".sticker-remove-image.sticker-removing-fixed",{src:l,style:"transform: rotate("+i+"deg)"})})),h.span(".sticker-control-btn.remove-btn.js-remove-sticker",{style:"display: none"},(function(){return h.format("remove")}))):(h.img({class:h.classify({"sticker-image":!0,"giphy-sticker":r}),src:l,style:"-webkit-transform: rotate("+i+"deg);transform: rotate("+i+"deg);",alt:t}),o?h.div(".sticker-controls",(function(){return h.span(".sticker-control-btn.rotate-btn.js-rotate-sticker",(function(){return h.format("rotate")})),h.span(".sticker-control-btn.move-btn.js-move-sticker",(function(){return h.format("move")})),h.span(".sticker-control-btn.remove-btn.js-remove-sticker",(function(){return h.format("remove")}))})):void 0)})),u=function(e,t){var n,r,i,o,a;return null==t&&(t={}),r=(i=e.getBoundingClientRect()).left,a=i.top,o=t.fixedWidth?r+t.fixedWidth():i.right,{left:r,top:a,bottom:n=t.fixedHeight?a+t.fixedHeight():i.bottom,right:o,width:o-r,height:n-a,x:r+(o-r)/2,y:a+(n-a)/2}},d=function(e){var t,n,r,i,o,a,l,c,d,u,p,m,f,h;return c=e.rect,n=e.containerRect,r=e.controlRect,e.currentX,e.currentY,i=e.deltaX,o=e.deltaY,e.interval,t=s.getPositiveDegrees(-o,i),a=function(e){return e-45<t&&t<e+45},h=8-r.height,f=(c.height-r.height)/2,m=c.height-8,d=8-r.width,u=(c.width-r.width)/2,p=c.width-8,(l=[{left:u,top:m,avoid:a(270)},{left:u,top:h,avoid:a(90)},{left:p,top:f,avoid:a(0)||a(360)},{left:d,top:f,avoid:a(180)},{left:d,top:m,avoid:a(225)},{left:p,top:m,avoid:a(315)},{left:d,top:h,avoid:a(135)},{left:p,top:h,avoid:a(45)}].map((function(e){var t,i,o,a,s;return o=e.left+(c.left-n.left),s=e.top+(c.top-n.top),a=o+r.width,i=s+r.height,t=(Math.min(a,n.width)-Math.max(0,o))*(Math.min(i,n.height)-Math.max(0,s)),Object.assign({},e,{visibleArea:t})})).sort((function(e,t){return t.visibleArea-e.visibleArea}))).filter((function(e){return!e.avoid}))[0]||l.filter((function(e){return e.avoid}))[0]||l[0]},p=null,e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)b.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.className="sticker",t.prototype.initialize=function(){return t.__super__.initialize.apply(this,arguments),this.listenTo(this.model,"change",this.render)},t.prototype.showEditControls=function(){return!1},t.prototype.events=function(){return this.options.canRemove?{mouseenter:function(e){if(!this.showRemoveUI)return this.showRemoveUI=!0,this.render()},mouseleave:"mouseLeave",mousemove:"mouseMove",mousedown:function(e){if(!this.$(e.target).closest(".js-remove-sticker").length)return this.removeRemove()},"left-sticker":"removeRemove","mousemove .js-remove-sticker":function(e){return s.stop(e)},"mouseenter .js-remove-sticker":function(e){return this.$el.addClass("peeling")},"mouseleave .js-remove-sticker":function(e){return this.$el.removeClass("peeling")},"click .js-remove-sticker":function(e){return s.stop(e),this.removeSticker()}}:{}},t.prototype.render=function(){var e,t,n;return(e=this.model.toJSON()).url=null!=(t=null!=(n=s.smallestPreviewBiggerThan(e.imageScaled,f))?n.url:void 0)?t:e.imageUrl,e.showEditControls=this.showEditControls(),e.showRemoveUI=this.showRemoveUI,this.$el.html(g(e)).css({left:m(e.left)+"%",top:m(e.top)+"%"}),this},t.prototype.mouseMove=function(e){return e.buttons?this.removeRemove():this.showingRemove?this.clearTimeouts():this.hoverTimeout?(this.currentX=e.offsetX,this.currentY=e.offsetY):(this.$el.siblings().trigger("left-sticker"),this.currentX=this.startX=e.offsetX,this.currentY=this.startY=e.offsetY,this.hoverTimeout=this.setTimeout((t=this,function(){return t.showRemove()}),350));var t},t.prototype.showRemove=function(){var e,t,n,r;if(!this.showingRemove)return this.showingRemove=!0,t=this.currentX-this.startX,n=this.currentY-this.startY,this.$el.addClass("hover"),e=this.$(".js-remove-sticker"),o.try((r=this,function(){return p||(e.css({display:"inline-block"}),new o((function(t){return r.requestAnimationFrame((function(){return p=u(e.get(0)),e.css({display:"none"}),t(p)}))})))})).then(function(r){return function(i){var o,a,s;return o=(a=d({rect:u(r.el),containerRect:u(r.$el.closest(".js-stickers-area").get(0),{fixedWidth:r.options.fixedWidth,fixedHeight:r.options.fixedHeight}),controlRect:i,currentX:r.currentX,currentY:r.currentY,deltaX:t,deltaY:n,interval:350})).left,s=a.top,e.css({display:"inline-block",top:s,left:o})}}(this)).done()},t.prototype.removeRemove=function(e){if(this.showingRemove)return this.showingRemove=!1,this.clearTimeouts(),this.$(".js-remove-sticker").css({display:"none"}),this.$el.removeClass("hover peeling")},t.prototype.mouseLeave=function(e){return this.clearTimeouts(),this.removeTimeout=this.setTimeout((t=this,function(){return t.removeRemove()}),200);var t},t.prototype.clearTimeouts=function(){return clearTimeout(this.hoverTimeout),this.hoverTimeout=null,clearTimeout(this.removeTimeout),this.removeTimeout=null},t.prototype.removeSticker=function(){return v("Card","Sticker","Remove via Hover"),c.get("dataeng.gasv3-event-tracking",!1)&&r.sendTrackEvent({action:"removed",actionSubject:"sticker",source:"stickerHoverView"}),this.clearTimeouts(),this.$el.remove(),this.model.destroy()},t}(l)},"./app/scripts/views/templates/action.coffee":function(e,t,n){var r,i,o,a,s,l,c=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};r=n("./node_modules/underscore/underscore.js"),l=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("action"),a=n("./app/scripts/views/templates/entity.coffee"),s=n("./app/scripts/views/templates/member_avatar.coffee"),i=n("./app/scripts/views/templates/action_footer.coffee"),o=["attachmentPreview","comment","checkList"],e.exports=l.renderable((function(e,t,n){var d,u,p,m,f,h,g,v,b,y,k,w;return p=e.entities,h=e.saved,u=e.dateLastEdited,d=e.date,b=e.url,m=t.member,v=t.showReactions,g=t.showInlineReactionButton,k=n.useEmbedly,y=n.useCommentUnfurl,w=n.usePreviews,f=!0,l.div(".phenom-creator",(function(){return m?l.div(".member.js-show-mem-menu",{class:l.classify({"member-deactivated":m.isDeactivated||m.activityBlocked}),idmember:m.id},(function(){return s(m)})):l.span(".icon-lg.icon-member")})),l.div(".phenom-desc",(function(){var e,r,i,s;for(r=0,i=p.length;r<i;r++)s=(e=p[r]).type,c.call(o,s)>=0&&(f=!1,l.span(".inline-spacer",(function(){return l.text(" ")})),l.span(".phenom-date.quiet",(function(){if(h&&(b?l.a(".date.js-hide-on-sending.js-highlight-link.past",{dt:d,href:b}):l.span(".date.js-hide-on-sending.past",{dt:d,href:b})),u)return l.span(".js-date-title.js-hide-on-sending.past",{dt:u},(function(){return l.text(" "),l.format("edited")}))}))),a(e,t,n);if(k&&l.div(".hide.embedly.js-embedly"),y&&l.div(".hide.unfurled-comment.comment-preview"),w)return l.div(".hide.previews.js-previews")})),v?l.div(".phenom-reactions",(function(){return l.div(".js-reaction-piles.reaction-piles-container",{class:l.classify({last:g,"reaction-piles-container-full":!g})}),i(e,t,r.extend(n,{needsDate:f}))})):i(e,t,r.extend(n,{needsDate:f}))}))},"./app/scripts/views/templates/action_footer.coffee":function(e,t,n){var r;r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("action"),e.exports=r.renderable((function(e,t,n){var i,o,a,s,l,c,d,u,p,m,f,h,g;return f=e.saved,u=e.dateLastEdited,d=e.date,g=e.url,i=t.board,m=t.organization,l=t.canReply,c=t.canReplyAll,a=t.canDelete,s=t.canEdit,o=t.canAttachLink,t.showInlineReactionButton,t.canReact,h=n.showOptions,p=n.needsDate,r.div(".phenom-meta.quiet",(function(){var e,n,v,b;if(p&&(f&&(g?r.a(".date.js-hide-on-sending.js-highlight-link.past",{dt:d,href:g}):r.span(".date.js-hide-on-sending.past",{dt:d,href:g})),u&&r.span(".js-date-title.js-hide-on-sending.past",{dt:u},(function(){return r.text(" "),r.format("edited")}))),r.span({class:r.classify({"js-spinner":!0,hide:f})},(function(){return r.format("sending-ellipsis"),r.raw("&nbsp;")})),i&&(e=t.boardPLevelAltText,n=t.boardPLevelIconClass,r.text(" - "),r.format("on-board-name",{url:i.url,name:i.name,boardPLevelAltText:e,boardPLevelIconClass:n})),m&&(v=t.orgPLevelAltText,b=t.orgPLevelIconClass,r.text(" - "),r.format("on-organization-name",{url:m.url,name:m.name,orgPLevelAltText:v,orgPLevelIconClass:b})),h)return r.span(".js-hide-on-sending.middle",(function(){var e,t;return e=!1,t=function(){return e?r.text(" - "):e=!0},l&&(t(),r.a({href:"#",class:c?"js-reply-to-all-action":"js-reply-to-action"},(function(){return r.format("reply")}))),s&&(t(),r.a(".js-edit-action",{href:"#"},(function(){return r.format("edit")}))),o&&(t(),r.a(".js-attach-link",{href:"#"},(function(){return r.format("attach link")}))),a&&(t(),r.a(".js-confirm-delete-action",{href:"#"},(function(){return r.format("delete")}))),r.span(".edits-warning.quiet",(function(){return t(),r.format("you-have-unsaved-edits-on-this-field")}))}))}))}))},"./app/scripts/views/templates/board.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("board");e.exports=function(){return r.div(".board-main-content",(function(){return r.div(".board-header.u-clearfix.js-board-header"),r.div(".board-warnings.u-clearfix.js-board-warnings"),r.div(".board-canvas")})),r.div(".board-menu.js-fill-board-menu")}},"./app/scripts/views/templates/board_closed.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("board_closed");e.exports=r.renderable((function(e){var t=e.name,n=e.deleting,i=e.canReopen,o=e.canDelete,a=e.isDesktop,s=e.isAtOrOverLimit,l=e.orgName,c=e.billingUrl;return r.div(".big-message.quiet.closed-board",(function(){return r.h1((function(){return r.format("name-is-closed",{name:t})})),n?r.format("deleting"):(s?r.p(".messaging",(function(){return!a&&l&&c?r.format("cannot-reopen-board-limit-reached",{orgName:l,billingUrl:c}):r.format("cannot-reopen-board-limit-reached-desktop")})):i||o||r.p(".messaging",(function(){return r.format("you-re-a-member-of-this-board-but-only-board-admins-are-able-to-re-open-it")})),i&&!s&&r.p((function(){return r.a(".js-reopen",{href:"#"},(function(){return r.format("reopen")}))})),o?r.p(".delete-container",(function(){return r.a(".quiet.js-delete",{href:"#"},(function(){return r.format("permanently-delete-board")}))})):void 0)}))}))},"./app/scripts/views/templates/board_copy.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("board_copy");e.exports=function(){return r.mustacheBlock("loading",(function(){return r.div(".spinner.loading")})),r.mustacheBlockInverted("loading",(function(){return r.form((function(){return r.label({for:"boardNewTitle"},(function(){return r.format("title")})),r.input(".non-empty.js-autofocus",{id:"boardNewTitle",type:"text",name:"name",placeholder:r.mustacheVar("placeholder"),value:r.mustacheVar("boardNameInputValue"),dir:"auto"}),r.div({class:r.mustacheBlock("hideOrg",(function(){return"hide"}))},(function(){return r.div(".u-clearfix",(function(){return r.label(".u-float-left",{style:"margin-right: 8px;"},(function(){return r.format("organization")})),r.mustacheBlock("canAddToOrgs",(function(){return r.a(".icon-sm.icon-information.dark-hover.js-helper-add-org",{href:"#"})}))})),r.mustacheBlock("hasEnterprise",(function(){return r.mustacheBlock("enterpriseName",(function(){if(!r.mustacheVar("showPrivateBoardsOptionForEntBoards"))return r.p(".quiet",(function(){return r.format("board-can-only-be-copied-to-teams-within-org",{enterpriseName:r.mustacheVar("enterpriseName")})}))}))})),r.mustacheBlockInverted("canAddToOrgs",(function(){return r.p(".quiet",{style:"margin-bottom: 16px;"},(function(){return r.format("organization-whisk-n-tsk"),r.text(" "),r.a(".js-create-org",{href:"#"},(function(){return r.format("create-an-organization")}))}))})),r.select({name:"org-id",class:r.mustacheBlockInverted("canAddToOrgs",(function(){return"hide"}))},(function(){return r.mustacheVar("hasEnterprise")&&!r.mustacheVar("showPrivateBoardsOptionForEntBoards")||r.option({value:""},(function(){return r.format("none")})),r.mustacheBlock("orgs",(function(){return r.optionSelected(r.mustacheVar("selectOrg"),{value:r.mustacheVar("id")},(function(){return r.text(r.mustacheVar("displayName"))}))}))}))})),r.div(".board-limits-upgrade-ad.js-board-limits-upgrade-ad.hide",(function(){return r.p((function(){return r.mustacheVar("isDesktop")?r.format("board-cant-be-copied-because-of-board-limits-desktop"):r.format("board-cant-be-copied-because-of-board-limits")}))})),r.div(".js-permissions.hide",(function(){return r.input({type:"hidden",name:"permissionLevel",value:r.mustacheVar("pLevel")}),r.p(".quiet.js-vis-display"),r.ul(".pop-over-list.js-vis-chooser.hide"),r.p(".error.u-bottom.js-no-valid-org-privs.u-clearfix.hide"),r.div(".js-confirm-public-message.hide",(function(){return r.p(r.mustacheVar("publicConfirmationText")),r.input(".pop-over-confirmation-button.primary.js-confirm-public",{type:"button",value:r.mustacheVar("publicConfirmationConfirm")}),r.input(".pop-over-confirmation-button.js-cancel-public",{type:"button",value:r.mustacheVar("publicConfirmationCancel")})})),r.div(".check-div.u-clearfix",{style:"margin-top: 10px;"},(function(){return r.input({type:"checkbox",id:"idKeepCards",name:"cards",checked:!0}),r.label({for:"idKeepCards"},(function(){return r.format("keep-cards")}))})),r.div(".check-div.u-clearfix",{style:"margin-top: 10px;"},(function(){return r.input({type:"checkbox",id:"idKeepTemplateCards",name:"templates",checked:!0}),r.label({for:"idKeepTemplateCards"},(function(){return r.format("keep-template-cards")}))})),r.p(".quiet",(function(){return r.format("activity-and-members-will-not-be-copied")})),r.mustacheBlock("willRemovePowerUps",(function(){return r.p(".quiet",(function(){return r.format("power-ups-will-not-be-copied")}))}))})),r.input(".primary.wide.js-submit.disabled",{type:"submit",value:r.l("create")})}))}))}},"./app/scripts/views/templates/board_copy_vis.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("board_copy_vis");e.exports=function(){return r.format("this-board-will-be-visdisplaytext",{visIconClass:r.mustacheVar("visIconClass"),visDisplayText:r.mustacheVar("visDisplayText")}),r.text(" "),r.a(".js-change-vis",{href:"#"},(function(){return r.format("change")}))}},"./app/scripts/views/templates/board_header.js":function(e,t,n){var r=n("./app/scripts/lib/localize-count.coffee"),i=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("board_header");e.exports=i.renderable((function(e){var t=e.canRename,n=e.orgLogoUrl,o=e.orgLogoUrl2x,a=(e.hasBusinessClass,e.isBusinessClass),s=e.isEnterprise,l=e.orgDisplayName,c=e.name,d=e.orgName,u=e.isLoggedIn,p=e.isAdmin,m=e.isMember,f=e.isPrivateTeam,h=e.isUntitled,g=e.canJoin,v=e.canInviteMembers,b=(e.selfJoin,e.canAssign),y=e.showCopyButton,k=e.boardCardCount,w=e.workspacesPreambleEnabled,x=e.isPrivateTeamForEnterpriseVisibleBoard,C=e.isTemplate,_=e.starTooltipKey,j=e.boardViewsButtonEnabled,S=e.currentBoardView,O=a?"BC":s?"ENT":"Free",E={"board-header-btn":!0,"mod-board-name":!0,"inline-rename-board":!0,"js-rename-board":t,"no-edit":!t,"should-rename":h&&t},N={"board-header-btn":!0,"board-header-btn-org-name":!0,"js-open-org-menu":!0,"board-header-btn-without-icon":!n};if(j){var T=i.classify({"icon-sm":!0,"board-header-btn-icon":!0,"icon-calendar":"calendar"===S,"icon-map":"map"===S,"icon-list":"list"===S});i.div(".js-board-views-btn-container",(function(){return i.a(".board-header-btn",{href:"#"},(function(){return i.span({class:T})}))}))}return i.div({href:"#",class:i.classify(E)},(function(){return i.span(".js-board-editing-target.board-header-btn-text",{dir:"auto"},(function(){return i.text(c)})),i.input(".board-name-input.js-board-name-input",{"aria-label":c,spellcheck:"false",dir:"auto",maxLength:512,value:c})})),C&&i.div(".board-header-btn-template-badge.js-board-template-badge"),u&&i.a(".board-header-btn.js-star-board",{href:"#",title:i.l(_),"aria-label":i.l("star-or-unstar-board")},(function(){return i.icon("star",{class:"board-header-btn-icon"})})),i.div(".js-board-header-btn-org-wrapper.board-header-btn-org-wrapper",(function(){return l&&(i.span(".board-header-btn-divider"),i.a({href:"/".concat(d),class:i.classify(N),data:{boardtype:O}},(function(){return n&&i.div(".board-header-btn-name-org-logo-container",(function(){return i.img({class:"board-header-btn-name-org-logo",src:n,srcSet:"".concat(n," 1x, ").concat(o," 2x")})})),i.span(".board-header-btn-text",(function(){return i.text(l),i.span(".org-label",(function(){return i.text(O)}))}))})),i.span(".board-header-btn-divider")),i.div(".board-header-btns.mod-left",(function(){if(!l&&!C){if(i.span(".board-header-btn-divider"),m&&f||x)return i.span(".board-header-btn.board-header-btn-without-icon.board-header-btn-text.no-edit",(function(){return i.format("private-team")})),i.span(".board-header-btn-divider");if(!f&&!C)return w?i.span("#workspaces-preamble-board-header-button"):(i.div("#teamless-collaboration-prompt-target",{style:"display: none"}),i.a(".board-header-btn.board-header-btn-without-icon.js-add-board-to-team",{href:"#",class:i.classify({"no-edit":!p})},(function(){return i.span(".board-header-btn-text",(function(){return i.format("personal")}))}))),i.span(".board-header-btn-divider")}})),i.a(".board-header-btn.perms-btn.js-change-vis",{href:"#",id:"permission-level"})})),i.span(".board-header-btn-divider"),i.div(".board-header-btns.mod-left",(function(){if(i.div(".board-header-facepile.js-fill-facepile",{class:i.classify({"js-list-draggable-board-members":b})}),i.a("#member-count.board-header-btn.board-header-btn-member-count.js-open-show-all-board-members.js-fill-board-member-count",{href:"#"},(function(){})),i.span("#member-count-notifications"),v&&(w?i.span("#workspaces-preamble-invite-button"):i.a(".board-header-btn.board-header-btn-invite.board-header-btn-without-icon.js-open-manage-board-members",{href:"#",title:i.l("invite-to-board")},(function(){return i.span(".board-header-btn-text",(function(){return i.format("invite")}))}))),g&&!C)return i.a(".board-header-btn.board-header-btn-without-icon.board-header-btn-join-board.js-join-board",{href:"#",title:i.l("org-members-can-join-this-board")},(function(){return i.span(".board-header-btn-text",(function(){return i.format("join-board")}))}))})),i.div(".board-header-btns.mod-right",(function(){return i.a(".board-header-btn.mod-filter-indicator.hide.js-filter-cards-indicator.board-header-btn-without-icon",{href:"#"},(function(){return i.span(".board-header-btn-text",(function(){return i.text(r("search-results",k))})),i.icon("close",{class:"board-header-btn-icon-close js-filter-card-clear"})})),i.a(".board-header-btn.sub-btn.hide.js-board-header-subscribed",{href:"#"},(function(){return i.icon("subscribe",{class:"board-header-btn-icon"}),i.span(".board-header-btn-text",(function(){return i.format("watch")}))})),j||(i.span(".js-calendar-board-btn board-header-btn-react-container"),i.a(".board-header-btn.hide.js-map-btn",{href:"#"},(function(){return i.span(".icon-sm.icon-location.board-header-btn-icon"),i.span(".board-header-btn-text",(function(){return i.format("map")}))}))),i.span(".js-plugin-header-btns"),i.span(".js-pup-board-btn board-header-btn-react-container"),u&&y&&!C&&i.a(".board-header-btn.js-copy-board",{href:"#"},(function(){return i.icon("board",{class:"board-header-btn-icon"}),i.span(".board-header-btn-text",(function(){return i.format("copy-board")}))})),i.a(".board-header-btn.mod-show-menu.js-show-sidebar",{href:"#"},(function(){return i.icon("overflow-menu-horizontal",{class:"board-header-btn-icon"}),i.span(".board-header-btn-text",(function(){return i.format("show-menu")}))}))})),i.span("#board-header-notification")}))},"./app/scripts/views/templates/board_header_permissions.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("board_header_permissions");e.exports=r.renderable((function(e){var t=e.permIconClass,n=e.permText;return r.span({class:r.classify({"board-header-btn-icon":!0,"icon-sm":!0,["icon-".concat(t)]:!0})}),r.span(".board-header-btn-text",(function(){return r.text(n)}))}))},"./app/scripts/views/templates/board_header_warnings.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("board_header_warnings");e.exports=r.renderable((function(e){var t=e.canDismiss,n=e.warning,i=n.key,o=n.dismiss;return r.div(".board-warning",(function(){if(r.format(i),t)return r.span(".js-dismiss-warning.board-warning-close.icon-sm.icon-close",{"data-dismiss":o})}))}))},"./app/scripts/views/templates/board_member_profile.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("board_member_profile");e.exports=function(){return r.div(".window-header.u-clearfix",(function(){return r.span(".window-header-icon.icon-lg.icon-activity"),r.h2(".window-title",(function(){return r.text(r.mustacheVar("fullName")),r.span(".quiet",{style:"margin-left: 3px"},(function(){return r.text("(".concat(r.mustacheVar("username"),")"))}))}))})),r.div(".window-main-col.window-main-col-full",(function(){return r.div(".list-actions",(function(){return r.p(".js-board-member-profile-no-activity",(function(){return r.format("this-member-has-no-board-activity")}))})),r.a(".show-more.js-more-actions",{href:"#"},(function(){return r.format("load-more-activity")}))}))}},"./app/scripts/views/templates/board_menu_vis.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("board_menu_vis");n("./packages/feature-flag-client/index.ts").featureFlagClient;e.exports=r.renderable((function(e){var t=e.current,n=e.isNewBoard,i=e.canChange,o=e.mustChange,a=e.hasSuperAdmins,s=e.hasOrg,l=e.orgName,c=e.privateRestricted,d=e.orgRestricted,u=e.enterpriseRestricted,p=e.publicRestricted,m=e.hasEnterprise,f=e.enterpriseName,h=e.isTemplate,g=e.isOrgPremium;o&&l&&r.p(".quiet",(function(){return r.format("illegal org visibility",{orgName:l})}));var v=m?"with enterprise":a?"with super admins":s?"with organization":"without organization",b={private:{iconClass:"icon-private",restricted:c,invalid:!g&&h},org:{iconClass:"icon-organization",restricted:d,invalid:n&&!s},enterprise:{iconClass:"icon-enterprise",restricted:m&&u,noEnterprise:!m,invalid:n&&!s},public:{iconClass:"icon-public",restricted:p}};return function(){var e=[];for(var o in b){var a=b[o],s=a.restricted,c=a.invalid,d=a.iconClass,u=a.noEnterprise;e.push(r.li((function(){var e=s||c||!i||u;return r.a(".js-select",{class:r.classify({disabled:e}),href:"#",name:o},(function(){return r.span(".icon-sm.vis-icon",{class:d},(function(){})),r.check(t===o,o),r.span(".sub-name",(function(){var e=f?{enterpriseName:f,orgName:l}:l?{orgName:l}:{},t=h?"is template ":"";if(r.format(["permission subtext","".concat(t).concat(v),o],e),i&&s)return r.raw(" "),r.span(".error",(function(){return n?r.format(["illegal visibility","create"]):r.format(["illegal visibility","change"])}))}))}))})))}return e}()}))},"./app/scripts/views/templates/cant_add_board_to_org.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("cant_add_board_to_org");e.exports=function(){return r.p(".quiet",(function(){return r.mustacheBlock("isOrgAdmin",(function(){return r.format("organization-displayname-does-not-allow-new-boards-you-can-change-this-on-the-organization-settings-page-by-clicking-on-board-creation-restrictions",{"organization.displayName":r.mustacheVar("organization.displayName"),orgSettingsUrl:r.mustacheVar("orgSettingsUrl")})})),r.mustacheBlockInverted("isOrgAdmin",(function(){return r.format("organization-displayname-does-not-allow-new-boards-only-an-admin-of-the-organization-can-change-this-setting",{"organization.displayName":r.mustacheVar("organization.displayName")})}))}))}},"./app/scripts/views/templates/card_attach_links.coffee":function(e,t,n){var r;r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("card_attach_links"),e.exports=r.renderable((function(e){return r.div(".card-attach-link-list",(function(){var t,n,i,o,a,s,l,c;for(s=[],i=0,o=e.length;i<o;i++)a=e[i],c=a.url,l=a.text,n=a.domain,t=a.attached,s.push(r.div(".card-attach-link-list-item",{class:r.classify({attached:t})},(function(){return r.div(".card-attach-link-list-item-title",(function(){return l?r.text(l):r.format("link to domain",{domain:n})})),r.div(".card-attach-link-list-item-url.quiet",(function(){return r.text(c)})),t?r.div(".card-attach-link-list-item-attached.quiet",(function(){return r.span(".icon-lg.icon-check")})):r.button(".card-attach-link-list-item-attach.js-attach",{"data-url":c,"data-text":l},(function(){return r.format("attach")}))})));return s}))}))},"./app/scripts/views/templates/card_composer_inline.coffee":function(e,t,n){var r,i;r=n("./packages/browser/index.ts"),i=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("card_composer_inline"),e.exports=function(){var e;return e=i.mustacheVar("placeholder"),i.mustacheVar("distinctLists"),i.div(".list-card.js-composer",(function(){return i.div(".list-card-details.u-clearfix",(function(){return i.div(".list-card-labels.u-clearfix.js-list-card-composer-labels"),i.textarea(".list-card-composer-textarea.js-card-title",{dir:"auto",placeholder:e},(function(){var t;return i.text("explorer-10"===(t=r.browserVersionStr)||"explorer-11"===t?e:i.mustacheVar("title"))})),i.div(".list-card-members.js-list-card-composer-members")}))})),i.div(".cc-controls.u-clearfix",(function(){return i.div(".cc-controls-section",(function(){return i.input(".primary.confirm.mod-compact.js-add-card",{type:"submit",value:i.l("add-card")}),i.a(".icon-lg.icon-close.dark-hover.js-cancel",{href:"#"})})),i.div(".cc-controls-section.mod-right",(function(){return i.a(".icon-lg.icon-overflow-menu-horizontal.dark-background-hover.js-cc-menu",{href:"#"})}))}))}},"./app/scripts/views/templates/card_copy.coffee":function(e,t,n){var r;r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("card_copy"),e.exports=function(){return r.mustacheBlock("loading",(function(){return r.div(".spinner.loading.js-loading-card-actions")})),r.mustacheBlockInverted("loading",(function(){return r.form((function(){return r.label((function(){return r.format("title")})),r.textarea(".js-autofocus",{name:"name"},(function(){return r.text(r.mustacheVar("name"))})),r.mustacheBlock("hasStuff",(function(){return r.label((function(){return r.format("keep-ellipsis")})),r.mustacheBlock("hasChecklists",(function(){return r.div(".check-div.u-clearfix",(function(){return r.input({id:"idKeepChecklists",type:"checkbox",name:"checklists",checked:!0}),r.label({for:"idKeepChecklists"},(function(){return r.format("checklists-numchecklists",{numChecklists:r.mustacheVar("numChecklists")})}))}))})),r.mustacheBlock("hasLabels",(function(){return r.div(".check-div.u-clearfix",(function(){return r.input({id:"idKeepLabels",type:"checkbox",name:"labels",checked:!0}),r.label({for:"idKeepLabels"},(function(){return r.format("labels-numlabels",{numLabels:r.mustacheVar("numLabels")})}))}))})),r.mustacheBlock("hasMembers",(function(){return r.div(".check-div.u-clearfix",(function(){return r.input({id:"idKeepMembers",type:"checkbox",name:"members",checked:!0}),r.label({for:"idKeepMembers"},(function(){return r.format("members-nummembers",{numMembers:r.mustacheVar("numMembers")})}))}))})),r.mustacheBlock("hasAttachments",(function(){return r.div(".check-div.u-clearfix",(function(){return r.input({id:"idKeepAttachments",type:"checkbox",name:"attachments",checked:!0}),r.label({for:"idKeepAttachments"},(function(){return r.format("attachments-numattachments",{numAttachments:r.mustacheVar("numAttachments")})}))}))})),r.mustacheBlock("hasComments",(function(){return r.div(".check-div.u-clearfix",(function(){return r.input({id:"idKeepComments",type:"checkbox",name:"comments",checked:!0}),r.label({for:"idKeepComments"},(function(){return r.format("comments-numcomments",{numComments:r.mustacheVar("numComments")})}))}))})),r.mustacheBlock("hasStickers",(function(){return r.div(".check-div.u-clearfix",(function(){return r.input({id:"idKeepStickers",type:"checkbox",name:"stickers",checked:!0}),r.label({for:"idKeepStickers"},(function(){return r.format("stickers-numstickers",{numStickers:r.mustacheVar("numStickers")})}))}))}))})),r.label((function(){return r.format("copy-to-ellipsis")})),r.mustachePartial(n("./app/scripts/views/templates/move_card_controls.coffee")),r.input(".primary.wide.js-submit",{type:"submit",value:r.l("create-card")})}))}))}},"./app/scripts/views/templates/card_in_list.coffee":function(e,t,n){var r,i,o,a;a=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("card_in_list"),i=n("./app/scripts/views/templates/label.coffee"),o=n("./app/scripts/views/templates/member_on_card.coffee"),r=n("./app/scripts/views/templates/card_in_list_cover.coffee"),e.exports=a.renderable((function(e){var t,n,s,l,c,d,u,p,m,f,h;return c=e.hasStickers,u=e.labels,f=e.quickEdit,m=e.name,p=e.members,h=e.showEditor,n=e.badgesHTML,l=e.hasCover,s=e.cover,d=e.hideCover,t=e.attachmentCoverUrl,r({cover:s,hasCover:l,hideCover:d,hasStickers:c,attachmentCoverUrl:t}),h&&a.icon("edit",{class:"list-card-operation dark-hover js-open-quick-card-editor js-card-menu"}),a.div(".list-card-stickers-area.js-stickers-area",{class:a.classify({hide:!c})},(function(){return a.div(".stickers.js-card-stickers")})),a.div(".list-card-details.js-card-details",(function(){return a.div(".list-card-labels.js-card-labels",(function(){var e,t,n,r;for(r=[],e=0,n=u.length;e<n;e++)t=u[e],r.push(i({name:t.name,color:t.color,extraClasses:["mod-card-front"]}));return r})),f?a.textarea(".list-card-edit-title.js-edit-card-title",{dir:"auto"},(function(){return a.text(m)})):a.span(".list-card-title.js-card-name",{dir:"auto"}),a.div(".badges",(function(){return a.span(".js-badges",(function(){return a.raw(n)})),a.span(".custom-field-front-badges.js-custom-field-badges"),a.span(".js-plugin-badges")})),a.div(".list-card-members.js-list-card-members",(function(){var e,t,n,r;for(r=[],e=0,t=p.length;e<t;e++)n=p[e],r.push(o(n));return r}))})),a.p(".list-card-dropzone",(function(){return a.format("drop-files-to-upload")})),a.p(".list-card-dropzone-limited",(function(){return a.format("too-many-attachments")})),a.p(".list-card-dropzone-restricted",(function(){return a.format("attachments-restricted")}))}))},"./app/scripts/views/templates/card_in_list_cover.coffee":function(e,t,n){var r,i,o,a;r=n("./packages/browser/index.ts"),a=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("card_in_list"),i=n("./app/scripts/lib/util/index.coffee"),o=n("./packages/feature-flag-client/index.ts").featureFlagClient,e.exports=a.renderable((function(e){var t,n,s,l,c,d,u,p,m,f,h,g,v,b,y,k,w;return c=e.cover,u=e.hasCover,m=e.hideCover,p=e.hasStickers,t=e.attachmentCoverUrl,b=o.get("remarkable.prerender-covers",!1),l=o.get("remarkable.rmk-239",!1),b&&null!=c&&!m&&u?(f=c.idAttachment,h=c.idUploadedBackground,s=c.color,w=c.scaled,d=c.edgeColor,c.sharedSourceUrl,"full"===c.size?a.div(".list-card-cover.js-card-cover"):s&&l?(n=p?64:32,a.div(".list-card-cover.js-card-cover.color-card-cover.color-card-cover-"+s+".is-covered",{style:a.stylify({height:n+"px"})})):f||h?(v=r.isHighDPI()?600:300,null==(y=null!=(k=i.smallestPreviewBiggerThan(w,v))?k:i.biggestPreview(w))&&f&&(y={url:t}),g=Math.min(y.height,260),n=245*y.height/y.width,a.div(".list-card-cover.js-card-cover.is-covered",{style:a.stylify({height:n+"px","background-color":null!=d?d:"transparent","background-image":'url("'+y.url+'")',"background-size":n<=g?"cover":"contain"})})):void 0):a.div(".list-card-cover.js-card-cover")}))},"./app/scripts/views/templates/card_title_on_card_front.coffee":function(e,t,n){var r;r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("card_title_on_card_front"),e.exports=r.renderable((function(e){var t,n,i;return t=e.idShort,n=e.name,i=e.separatorClassName,t&&r.span(".card-short-id.hide",(function(){return r.format("idshort",{idShort:t})})),i?r.div("."+i):r.text(n)}))},"./app/scripts/views/templates/comment-unfurl-preview.coffee":function(e,t,n){var r,i,o,a,s,l,c,d={}.hasOwnProperty;o=n("./node_modules/underscore/underscore.js"),a=n("./app/scripts/lib/plugins/plugin-validators.coffee"),i=n("./app/scripts/views/plugin/plugin-view.coffee"),r=n("./app/scripts/views/internal/plugins/plugin-io-cache.coffee"),l=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("plugin_section"),s=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts").sendPluginUIEvent,c=l.renderable((function(e){var t,n,i,o,s,c,d,u;n=e.icon,d=e.text,o=e.image,e.url,c=e.subtext,u=e.thumbnail,i=e.idPlugin,t=e.actions,s=r.fromId(i),l.div(".comment-unfurl.js-comment-unfurl",(function(){var e;return l.div(".comment-unfurl-thumb",{style:l.stylify({"background-image":u?l.urlify(u):(null!=o?o.url:void 0)?l.urlify(o.url):n?l.urlify(n):a.isValidUrlForCSSImage(null!=s&&null!=(e=s.icon)?e.url:void 0)?l.urlify(s.icon.url):void 0,"background-position-y":"top"===(null!=o?o.y:void 0)?"0px":void 0,"background-position-x":"left"===(null!=o?o.x:void 0)?"0px":void 0,"background-size":function(){if(!u&&!(null!=o?o.url:void 0))return"auto 40px";switch(null!=o?o.size:void 0){case"contain":return"contain";case"original":return"inherit";default:return"cover"}}()})}),l.div(".comment-unfurl-meta",(function(){return l.span(".comment-unfurl-title",(function(){return l.text(d)})),l.span(".comment-unfurl-subtext",{title:c},(function(){return l.text(c)})),l.div(".comment-unfurl-media",(function(){return l.div(".comment-unfurl-plugin-icon",(function(){var e;return a.isValidUrlForImage(null!=s&&null!=(e=s.icon)?e.url:void 0)&&l.img({src:s.icon.url}),l.span(".comment-unfurl-plugin-name",(function(){return l.text(r.fromId(i).name)}))})),l.div(".comment-unfurl-button-block",(function(){return null!=t?t.map((function(e,t){return e.url?l.a({href:e.url,title:d,rel:"noopener noreferrer",target:"_blank"},(function(){return e.text})):l.button(".js-comment-preview-button",{"data-index":t,title:e.text},e.text)})):void 0}))}))}))}))})),e.exports=function(e){function t(e){t.__super__.constructor.call(this,e),this.render=this.render.bind(this)}return function(e,t){for(var n in t)d.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.initialize=function(e){return this.commentUnfurl=e.commentUnfurl,this.retain(this.commentUnfurl)},t.prototype.render=function(){return this.$el.html(c(this.commentUnfurl)),this},t.prototype.events={"click .js-comment-unfurl":"clickCommentUnfurl","click .js-comment-preview-button":"executeActionCallback"},t.prototype.clickCommentUnfurl=function(e){return o.isFunction(this.commentUnfurl.callback)?(e.preventDefault(),this.commentUnfurl.callback({el:e.currentTarget})):"A"!==e.target.tagName?window.open(this.commentUnfurl.url):void 0},t.prototype.executeActionCallback=function(e){var t,n;if(e.stopPropagation(),n=parseInt(this.$(e.currentTarget).attr("data-index"),10),t=this.commentUnfurl.actions[n],s(this.commentUnfurl.idPlugin,{action:"clicked",actionSubject:"button",source:"cardDetailScreen",actionSubjectId:"unfurlActionButton",objectType:"powerUp",objectId:this.commentUnfurl.idPlugin}),null!=t.callback)return e.preventDefault(),t.callback({el:e.currentTarget})},t}(i)},"./app/scripts/views/templates/comment_edit_controls.coffee":function(e,t,n){var r;r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("comment_edit_controls"),e.exports=function(){return r.div(".comment-controls.u-clearfix",(function(){return r.input(".primary.confirm.mod-no-top-bottom-margin.js-save-edit",{type:"submit",value:r.l("save"),tabindex:"2"}),r.a(".js-discard-comment-edits.icon-lg.icon-close.dark-hover.cancel",{href:"#"})})),r.div(".comment-controls-errors.u-clearfix",(function(){return r.div(".js-too-long-warning.hide",(function(){return r.p((function(){return r.format("your-comment-is-too-long")}))})),r.div(".js-is-empty-warning.hide",(function(){return r.p((function(){return r.format("must-have-at-least-one-character")}))}))}))}},"./app/scripts/views/templates/comment_options.coffee":function(e,t,n){var r;r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("comment_options"),e.exports=r.renderable((function(e){return r.div(".comment-box-options",(function(){return e&&r.a(".comment-box-options-item.js-comment-add-attachment",{href:"#",title:r.l("add-an-attachment-ellipsis")},(function(){return r.icon("attachment")})),r.a(".comment-box-options-item.js-comment-mention-member",{href:"#",title:r.l("mention-a-member-ellipsis")},(function(){return r.icon("mention")})),r.a(".comment-box-options-item.js-comment-add-emoji",{href:"#",title:r.l("add-emoji-ellipsis")},(function(){return r.icon("emoji")})),r.a(".comment-box-options-item.js-comment-add-card",{href:"#",title:r.l("add-card-ellipsis")},(function(){return r.icon("card")}))}))}))},"./app/scripts/views/templates/confirm.coffee":function(e,t,n){var r;r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("confirm"),e.exports=function(){return r.p((function(){return r.mustacheVar("html")?r.raw(r.mustacheVar("html")):r.text(r.mustacheVar("text"))})),r.input(".js-confirm.full",{type:"submit",class:r.mustacheVar("confirmBtnClass"),value:r.mustacheVar("confirmText"),"data-test-id":r.mustacheVar("confirmBtnTestId")}),r.mustacheBlock("cancelText",(function(){return r.input(".js-cancel.full",{type:"submit",value:r.mustacheVar("cancelText")})}))}},"./app/scripts/views/templates/date_picker.coffee":function(e,t,n){var r;r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("date_picker"),e.exports=r.renderable((function(e){var t,n,i,o,a;return a=e.upsellEnabled,t=e.canChangePowerUps,n=e.canEnableAdditionalPowerUps,i=e.customReminderSettings,o=e.selectedReminderSetting,r.div(".datepicker-select.u-clearfix",(function(){return r.div(".datepicker-select-date",(function(){return r.label(".datepicker-select-label",(function(){return r.format("date"),r.input(".datepicker-select-input.js-dpicker-date-input.js-autofocus",{type:"text",placeholder:r.l("enter-date"),tabindex:101})}))})),r.div(".datepicker-select-time",(function(){return r.label(".datepicker-select-label",(function(){return r.format("time"),r.input(".datepicker-select-input.js-dpicker-time-input",{type:"text",placeholder:r.l("enter-time"),tabindex:102})}))}))})),r.div(".pickers.js-dpicker-cal"),i&&(r.label((function(){return r.format("set-reminder")})),r.select(".js-custom-reminder",(function(){var e,t,n,a,s;for(s=[],e=0,n=i.length;e<n;e++)t=(a=i[e]).value===o,s.push(r.optionSelected(t,{value:a.value},(function(){return r.text(a.text)})));return s})),r.div(".reminder-clarification",(function(){return r.format("reminder-clarification")}))),r.div(".datepicker-confirm-btns",(function(){return r.input(".primary.wide.confirm",{type:"submit",value:r.l("save"),tabindex:103}),r.button(".negate.remove-date.js-remove-date",{type:"button",tabindex:104},(function(){return r.format("remove")}))})),r.div(".js-enable-cal.hide",(function(){return r.hr(),n?(r.p((function(){return r.a(".quiet-button.mod-with-image.js-enable-calendar-powerup",{href:"#"},(function(){return r.icon("power-up","enable-the-calendar-power-up",{class:"quiet-button-icon"})}))})),r.p(".u-bottom.quiet",(function(){return r.format("you-ll-get-a-calendar-view-of-your-cards-and-an-ical-feed-woo")}))):a?r.p(".u-bottom.quiet",(function(){return r.format("upgrade-to-business-class-to-enable-the-calendar-power-up"),r.text(" "),r.format("you-ll-get-a-calendar-view-of-your-cards-and-an-ical-feed-woo")})):void 0})),r.div(".js-cal-enabled.hide",(function(){return r.hr(),r.p(".helper",(function(){return t?r.format("click-the-calendar-button-in-the-board-header-to-open-the-calendar-to-change-calendar-settings-click-power-ups-in-the-board-menu"):r.format("click-the-calendar-button-in-the-board-header-to-open-the-calendar")}))}))}))},"./app/scripts/views/templates/embedly.coffee":function(e,t,n){var r;r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("embedly"),e.exports=function(){return r.div({class:"embed embed-"+r.mustacheVar("type")+" embed-provider-"+r.mustacheVar("provider_name")},(function(){return r.mustacheBlockInverted("type_photo",(function(){return r.mustacheBlock("requireHttps",(function(){return r.raw(r.mustacheVar("htmlHttps"))})),r.mustacheBlockInverted("requireHttps",(function(){return r.raw(r.mustacheVar("html"))}))})),r.mustacheBlock("type_photo",(function(){return r.a({href:r.mustacheVar("originalUrl"),target:"_blank"},(function(){return r.img({src:r.mustacheVar("url")})}))}))}))}},"./app/scripts/views/templates/entity.coffee":function(e,t,n){var r,i,o;o=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("entity"),r=n("./app/scripts/views/templates/comment_edit_controls.coffee"),i=n("./app/scripts/views/templates/comment_options.coffee"),e.exports=o.renderable((function(e,t,n){var a,s,l,c,d,u,p,m,f,h,g,v,b,y,k,w,x,C,_,j,S,O,E,N;switch(O=e.type,C=e.text,O){case"text":case"list":case"checklist":case"plugin":case"date":return o.text(C);case"card":return E=e.url,o.a(".action-card",{href:E},(function(){return o.text(C)}));case"board":return E=e.url,o.a({href:E},(function(){return o.text(C)}));case"organization":return E=e.url,o.a({href:E},C||o.l("an-organization"));case"checkItem":return(b=e.nameHtml)?o.raw(b):o.text(C);case"comment":return _=e.textHtml,s=t.canEdit,S=n.truncateComment,p=n.extremeTruncation,o.div(".comment-container",(function(){var e;return e={"action-comment":!0,"can-edit":s,markeddown:!0,"js-comment":!0,"is-truncated":S,"extreme-truncation":p},o.div({class:o.classify(e),dir:"auto"},(function(){if(S&&o.div(".action-comment-fade-button.js-expand-comment"),o.div(".current-comment.js-friendly-links.js-open-card",(function(){return o.raw(_)})),s)return o.div(".comment-box.mod-editing-comment",(function(){return o.textarea(".comment-box-input.js-text",{tabindex:"1"},(function(){return o.text(C)})),r(),i(!0)}))}))}));case"customField":case"customFieldItem":return o.text(C);case"label":return(l={"card-label":!0})[(c=e.color)+"-label"]=!0,j=C||c+" label (default)",o.span({class:o.classify(l),title:j},(function(){return C?o.text(C):o.raw("&nbsp;")}));case"attachment":return v=e.link,E=e.url,g=e.isTrelloAttachment,h=e.isTrello,m=e.id,f=e.isFriendly,v||f?g?o.a(".js-open-attachment-viewer",{href:E,"data-idattachment":m},(function(){return o.text(C)})):h?o.a(".js-friendly-links",{href:E},(function(){return o.text(C)})):o.a(".js-friendly-links",{href:E,target:"_blank",rel:"noopener noreferrer"},(function(){return o.text(C)})):o.span(".attachment-deleted",(function(){return o.text(C)}));case"attachmentPreview":return w=e.previewUrlForRes,y=e.originalUrl,m=e.id,x=n.showCompactAttachmentPreview,w?(l={"js-open-attachment-viewer":!x,"js-open-card":x,"js-friendly-links":!0},k={"attachment-image-preview":!0,"mod-compact-image-preview":x},o.a({class:o.classify(l),href:y,target:"_blank","data-idattachment":m},(function(){return o.img({class:o.classify(k),src:w})}))):o.raw("&nbsp;");case"member":return m=e.id,a=e.avatarUrl,N=e.username,o.span(".inline-member.js-show-mem-menu",{idMember:m},(function(){return a&&(j=C+" ("+N+")",o.img(".inline-member-av",{src:[a,"30.png"].join("/"),alt:j,title:j})),o.span(".u-font-weight-bold",(function(){return o.text(C)}))}));case"relDate":return u=e.date,d=e.current,o.span(".rel-date",{dt:u,text:C},(function(){return o.text(d)}));case"plugin":return o.text(o.mustacheVar("text"))}}))},"./app/scripts/views/templates/invite_add_name.coffee":function(e,t,n){var r;r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("invite_add_name"),e.exports=r.renderable((function(e){var t,n,i,o,a,s,l,c,d,u,p;if(i=e.email,a=e.fullName,n=e.canAddAsObserver,d=e.modelType,l=e.isLoading,c=e.isOrgAdmin,p=e.wouldBecomeBillableGuest,t=e.availableLicenseCount,o=e.error,s=e.isDesktop,l&&r.div(".spinner.loading"),o&&r.div(".error",(function(){return r.text(o)})),u=c&&!s,p&&r.div(".card-back-billable-guests-alert.js-billable-guests-alert",{class:r.classify({"as-admin":u,"as-non-admin":!u})}),!l&&!o&&(!p||u)&&!(p&&t<1))return r.p(".quiet",(function(){if("Board"===d)return r.format("click-send-below");if("Organization"===d)return r.format("we dont know that personteam",{email:i});throw new Error("Expected either Board or Organization as modelType; got "+d)})),r.p(".error.hide.js-name-error",(function(){return r.format("full name too short")})),r.p(".error.hide.js-name-error-url",(function(){return r.format("full name must not contain a url")})),r.form(".js-email-data",(function(){return r.label((function(){return r.format("full-name")})),r.input(".js-autofocus.js-full-name",{type:"text",value:a}),r.input(".js-email",{type:"hidden",value:i}),n&&r.span(".check-div.quiet.u-clearfix",{style:r.stylify({"margin-left":"24px","padding-top":"2px","font-size":"12px","line-height":"15px"})},(function(){return r.input({type:"checkbox",id:"addAsObserver"}),r.label({for:"addAsObserver"},(function(){return r.format("include-this-member-as-a-view-only-observer")}))})),r.input(".wide.primary.js-send-email-invite",{type:"submit",value:r.l("send")})}))}))},"./app/scripts/views/templates/invitee-orientation.coffee":function(e,t,n){var r;r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("invitee_orientation"),e.exports=r.renderable((function(e){var t,n,i,o,a,s,l;return l=e.visibleMembersCount,e.maxVisible,n=e.firstMemberFullName,t=e.boardName,i=e.inviterAvatarUrl,o=e.inviterFullName,s=e.inviterUsername,a=e.inviterInitials,r.div(".invitee-orientation-message-container.arrow",(function(){return r.a(".js-close-orientation.pop-over-header-close-btn.close-invitee-orientation.icon-sm.icon-close",{href:"#"}),r.h1((function(){return r.format("welcome-to-trello-wave")})),r.div((function(){return r.div(".orientation-header",(function(){return r.div(".board-header-facepile.invitee-orientation-facepile.js-invitee-orientation-facepile"),r.div(".orientation-facepile-text",(function(){if(l>0)return r.b((function(){return r.text(n),r.raw("&nbsp;")})),1===l?r.format("is-also-here"):2===l?r.format("one-other-is-here"):r.format("count-others-are-here",{count:l-1})}))})),r.div(".invitee-orientation-text.u-clearfix",(function(){return r.p((function(){return r.format("main-message",{boardName:t})})),r.p((function(){return r.format("that-s-all")}))}))}))})),r.div(".invitee-orientation-avatar-container",(function(){return i?r.img(".invitee-orientation-avatar",{src:[i,"50.png"].join("/"),alt:o,title:o+" ("+s+")"}):r.div(".invitee-orientation-initials-wrapper",(function(){return r.span(".invitee-orientation-initials",(function(){return r.text(a)}))}))}))}))},"./app/scripts/views/templates/jsw-crossflow-popover.coffee":function(e,t,n){var r;r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("jsw_crossflow_popover"),e.exports=r.renderable((function(){return r.div(".jsw-crossflow-popover-message-container.arrow",(function(){return r.a(".js-close-orientation.pop-over-header-close-btn.close-invitee-orientation.icon-sm.icon-close",{href:"#"}),r.h1((function(){return r.format("create-powerful-workflows")})),r.div((function(){return r.div(".orientation-header",(function(){return r.div(".board-header-facepile.invitee-orientation-facepile.js-invitee-orientation-facepile")})),r.div(".invitee-orientation-text.u-clearfix",(function(){return r.img(".jsw-crossflow-popover-main-image",{src:n("./resources/images/jsw-crossflow/intercom.png")}),r.p(".jsw-crossflow-popover-content",(function(){return r.format("keep-everything-you-love-about-trello")}))}))})),r.button(".button.primary.jsw-crossflow-popover-button",(function(){return r.format("learn-more-about-jira-software")}))})),r.div(".jsw-crossflow-popover-avatar-container",(function(){return r.img(".jsw-crossflow-popover-avatar",{src:n("./resources/images/jsw-crossflow/chorizo.svg")})}))}))},"./app/scripts/views/templates/label.coffee":function(e,t,n){var r;r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("label"),e.exports=r.renderable((function(e){var t,n,i,o,a,s;if(n=e.color,s=e.name,i=e.extraClasses,t={"card-label":!0},n&&(t["card-label-"+n]=!0),i)for(o=0,a=i.length;o<a;o++)t[i[o]]=!0;return r.span({class:r.classify(t),title:null!=s?s:n+" label (default)"},(function(){return r.span({class:"label-text"},(function(){return s?r.text(s):r.raw("&nbsp;")}))}))}))},"./app/scripts/views/templates/label_edit_component.coffee":function(e,t,n){var r;r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("label_edit_component"),e.exports=function(){return r.label({for:"labelName"},(function(){return r.format("name")})),r.input(".js-autofocus.js-label-name",{id:"labelName",type:"text",name:"name",value:r.mustacheVar("label.name")}),r.label((function(){return r.format("select-a-color")})),r.div(".u-clearfix",(function(){return r.mustacheBlock("colors",(function(){return r.span({class:"card-label mod-edit-label mod-clickable card-label-"+r.mustacheVar("color")+" palette-color js-palette-color","data-color":r.mustacheVar("color")},(function(){return r.span({class:"card-label-color-select-icon icon-sm icon-check light "+r.mustacheBlockInverted("selected",(function(){return"hide"}))+" js-palette-select"})}))}))})),r.div(".edit-labels-no-color-section.u-clearfix",(function(){return r.div(".edit-labels-no-color-section-color",(function(){return r.span({class:"card-label mod-edit-label mod-clickable card-label-null palette-color js-palette-color","data-color":null},(function(){return r.span({class:"card-label-color-select-icon icon-sm icon-check light "+r.mustacheBlockInverted("noColor",(function(){return"hide"}))+" js-palette-select"})}))})),r.div(".edit-labels-no-color-section-text",(function(){return r.p(".u-bottom",(function(){return r.format("no-color")})),r.p(".u-bottom.quiet",(function(){return r.format("this-wont-show-up-on-the-front-of-cards")}))}))})),r.div(".u-clearfix",(function(){return r.input(".primary.wide.js-submit",{type:"submit",value:r.mustacheVar("submitText")}),r.div(".u-float-right.js-accessory-view-holder")}))}},"./app/scripts/views/templates/label_limit_exceeded.coffee":function(e,t,n){var r;r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("label_limit_exceeded"),e.exports=function(){return r.span({class:"error"},(function(){return r.format("board-label-limit-exceeded")}))}},"./app/scripts/views/templates/list.coffee":function(e,t,n){var r;r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("list"),e.exports=r.renderable((function(e){var t,n,i,o,a;return o=e.name,a=e.subscribed,i=e.loggedIn,t=e.editable,n=e.isTemplate,r.div(".list.js-list-content",(function(){var e;return e={"list-header":!0,"js-list-header":!0,"u-clearfix":!0,"is-menu-shown":i,"is-subscribe-shown":a},r.div({class:r.classify(e)},(function(){var e;return e={"list-header-name":!0,"mod-list-name":!0,"js-list-name-input":!0},r.div(".list-header-target.js-editing-target"),r.h2(".list-header-name-assist.js-list-name-assist",{dir:"auto"},o),r.textarea({class:r.classify(e),"aria-label":o,spellcheck:"false",dir:"auto",maxLength:512},o),r.div(".list-header-extras",(function(){var e;if(e={"list-header-extras-subscribe":!0,"js-list-subscribed":!0},a||(e.hide=!0),r.span({class:r.classify(e)},(function(){return r.span(".icon-sm.icon-subscribe.mod-quiet")})),r.span(".list-header-extras-limit-badge.js-list-limit-badge.hide"),i&&!n||i&&n&&t)return r.a(".list-header-extras-menu.dark-hover.js-open-list-menu.icon-sm.icon-overflow-menu-horizontal",{href:"#"},(function(){return r.div()}))})),r.p(".list-header-num-cards.hide.js-num-cards")})),r.div(".card-composer-container.js-card-composer-container",(function(){return r.a(".open-card-composer.js-open-card-composer",{href:"#"},(function(){return r.icon("add"),r.span(".js-add-a-card",(function(){return r.format("add-a-card")})),r.span(".js-add-another-card.hide",(function(){return r.format("add-another-card")}))})),r.div(".js-card-templates-button.card-templates-button-container.dark-background-hover")}))}))}))},"./app/scripts/views/templates/list_add.coffee":function(e,t,n){var r;r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("list_add"),e.exports=r.renderable((function(e){var t,n,i,o;return o=e.tooManyTotalLists,i=e.tooManyOpenLists,t=e.isFirstList,n=o||i,r.form((function(){var e,a;if(r.a({href:"#",class:r.classify({"open-add-list js-open-add-list":!n,"too-many-lists":n})},(function(){return r.span(".placeholder",(function(){return o?r.format("you-have-too-many-lists"):i?r.format("you-have-too-many-open-lists"):(r.icon("add"),t?r.format("add-a-list"):r.format("add-another-list"))}))})),!n)return e=r.l("enter-list-title-ellipsis"),a=r.l("add-list"),r.input(".list-name-input",{type:"text",name:"name",placeholder:e,autocomplete:"off",dir:"auto",maxLength:512}),r.div(".list-add-controls.u-clearfix",(function(){return r.input(".primary.mod-list-add-button.js-save-edit",{type:"submit",value:a}),r.a(".icon-lg.icon-close.dark-hover.js-cancel-edit",{href:"#"})}))}))}))},"./app/scripts/views/templates/list_bulk_card_move.coffee":function(e,t,n){var r;r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("list_bulk_card_move"),e.exports=function(){return r.form((function(){return r.ul(".pop-over-list",(function(){return r.mustacheBlock("lists",(function(){return r.li((function(){return r.a({href:"#",class:"js-select-list highlight-icon "+r.mustacheBlock("current",(function(){return" disabled"})),name:r.mustacheVar("id")},(function(){return r.text(r.mustacheVar("name")),r.mustacheBlock("current",(function(){return r.text(" "),r.format("current")}))}))}))}))}))}))}},"./app/scripts/views/templates/list_copy.coffee":function(e,t,n){var r;r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("list_copy"),e.exports=r.renderable((function(e){var t,n,i;return t=e.canCopyOpen,n=e.canCopyTotal,i=e.name,r.div((function(){var e;return e=t&&n,r.label((function(){return r.format("name")})),r.textarea(".js-autofocus",{name:"name"},(function(){return r.text(i)})),r.span(".js-limit-exceeded.error",{class:r.classify({hide:e})},(function(){return r.format(t?"total-limit-exceeded":"open-limit-exceeded")})),r.input(".primary.wide.js-submit",{type:"submit",value:r.l("create-list"),disabled:!e})}))}))},"./app/scripts/views/templates/list_menu.coffee":function(e,t,n){var r,i;r=n("./node_modules/underscore/underscore.js"),i=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("list_menu"),e.exports=i.renderable((function(e){var t,n,o,a,s,l,c;if(n=e.editable,c=e.subscribed,t=e.canCopyList,o=e.hasSortableCards,l=e.pluginActions,s=e.listLimitsEnabled,a=e.isTemplate,i.ul(".pop-over-list",(function(){if(n&&(i.li((function(){return i.a(".js-add-card",{href:"#"},(function(){return i.format("add-card-ellipsis")}))})),t&&i.li((function(){return i.a(".js-copy-list",{href:"#"},(function(){return i.format("copy-list-ellipsis")}))})),i.li((function(){return i.a(".js-move-list",{href:"#"},(function(){return i.format("move-list-ellipsis")}))}))),!a)return i.li((function(){return i.a(".highlight-icon.js-list-subscribe",{href:"#"},(function(){return i.check(c,"watch")}))}))})),n)return o&&(i.hr(),i.ul(".pop-over-list",(function(){return i.li((function(){return i.a(".js-sort-cards",{href:"#"},(function(){return i.format("sort-by")}))}))}))),(null!=l?l.length:void 0)>0&&(i.hr(),i.ul(".pop-over-list",(function(){return l.map((function(e,t){return i.li((function(){if(r.isFunction(e.callback))return i.a(".plugin-list-action.js-plugin-list-action",{href:"#","data-index":t,title:e.text},(function(){return i.span((function(){return i.text(e.text)})),i.img({src:e.icon,title:e.name,height:"18px",width:"18px"})}))}))}))}))),s&&(i.hr(),i.ul(".pop-over-list",(function(){return i.li((function(){return i.a(".js-set-list-limit",{href:"#"},(function(){return i.format("set-list-limit")}))}))}))),i.hr(),i.ul(".pop-over-list",(function(){return i.li((function(){return i.a(".js-move-cards",{href:"#"},(function(){return i.format("move-all-cards-in-this-list-ellipsis")}))})),i.li((function(){return i.a(".js-archive-cards",{href:"#"},(function(){return i.format("archive-all-cards-in-this-list-ellipsis")}))}))})),i.hr(),i.ul(".pop-over-list",(function(){return i.li((function(){return i.a(".js-close-list",{href:"#"},(function(){return i.format("archive-this-list")}))}))}))}))},"./app/scripts/views/templates/list_sort.coffee":function(e,t,n){var r;r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("list_sort"),e.exports=r.renderable((function(e){var t,n;return t=e.canSortByDueDate,n=e.pluginListSorters,r.ul(".pop-over-list",(function(){if(r.li((function(){return r.a(".js-sort-newest-first",{href:"#"},(function(){return r.format("sort-newest-first")}))})),r.li((function(){return r.a(".js-sort-oldest-first",{href:"#"},(function(){return r.format("sort-oldest-first")}))})),r.li((function(){return r.a(".js-sort-by-card-name",{href:"#"},(function(){return r.format("sort-by-card-name")}))})),t&&r.li((function(){return r.a(".js-sort-by-due-date",{href:"#"},(function(){return r.format("due-date")}))})),(null!=n?n.length:void 0)>0)return r.hr(),n.map((function(e,t){return r.li((function(){return r.a(".plugin-list-action.js-plugin-list-sort-action",{"data-index":t,href:"#",title:e.text},(function(){return r.span((function(){return r.text(e.text)})),null!=e.icon?r.icon(e.icon):null!=e.image?r.img({src:e.image,title:e.name,height:"18px",width:"18px"}):void 0}))}))}))}))}))},"./app/scripts/views/templates/member.coffee":function(e,t,n){var r;r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("member"),e.exports=r.renderable((function(e){var t,n,i,o,a,s,l,c;if(i=e.id,t=e.avatarUrl,c=e.viewTitle,o=e.initials,s=e.isDeactivated,a=e.isBoardAdmin,l=e.isOrganizationAdmin,n=e.hideBadges,t?r.img(".member-avatar",{height:"30",width:"30",src:[t,"30.png"].join("/"),srcset:[[t,"30.png 1x"].join("/"),[t,"50.png 2x"].join("/")].join(", "),alt:c,title:c}):o?r.span(".member-initials",{title:c,"aria-label":c},(function(){return r.text(o)})):r.div(".member-icon-container",(function(){return r.icon("member")})),i&&r.span("#"+i+"-avatar"),s||n||(a&&r.span(".member-type.admin",{title:r.l("this-member-is-an-admin-of-this-board"),"aria-label":r.l("this-member-is-an-admin-of-this-board")}),l&&r.span(".member-type.admin",{title:r.l("this-member-is-an-admin-of-this-organization"),"aria-label":r.l("this-member-is-an-admin-of-this-organization")})),!n)return r.span(".member-gold-badge",{title:r.l("this-member-has-trello-gold"),"aria-label":r.l("this-member-has-trello-gold")})}))},"./app/scripts/views/templates/member_avatar.coffee":function(e,t,n){var r;r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("member"),e.exports=r.renderable((function(e){var t,n,i,o,a,s,l,c,d;return t=e.avatarUrl,d=e.viewTitle,o=e.initials,s=e.isDeactivated,a=e.isBoardAdmin,l=e.isOrganizationAdmin,c=d,t?(n=[t,"30.png"].join("/"),i=[t,"50.png"].join("/"),r.img({class:"member-avatar",height:"30",width:"30",src:n,srcset:n+" 1x, "+i+" 2x",alt:c,title:c})):o?r.span(".member-initials",{title:c,"aria-label":c},(function(){return r.text(o)})):r.div(".member-icon-container",(function(){return r.icon("member")})),s||(a&&r.span(".member-type.admin",{title:r.l("this-member-is-an-admin-of-this-board")}),l&&r.span(".member-type.admin",{title:r.l("this-member-is-an-admin-of-this-organization")})),r.span(".member-gold-badge",{title:r.l("this-member-has-trello-gold")})}))},"./app/scripts/views/templates/member_large_avatar.coffee":function(e,t,n){var r;r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("member_large_avatar"),e.exports=r.renderable((function(e){var t,n,i;return t=e.avatarUrl,i=e.viewTitle,n="","atlassianAccount"===e.avatarSource&&(n="pop-over-atlassian-account-avatar"),r.img({src:[t,"original.png"].join("/"),class:n,alt:i,title:i})}))},"./app/scripts/views/templates/member_on_board_menu.coffee":function(e,t,n){var r,i;i=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("member_on_board_menu"),n("./packages/feature-flag-client/index.ts").featureFlagClient,r=n("./packages/config/index.ts").dontUpsell,e.exports=function(){return i.li((function(){var e,t;return i.mustacheVar("canInviteMemberToTeam")&&(e=i.mustacheVar("isFreeTeam"),t=r?"/business-class":i.mustacheVar("orgBillingUrl"),e?i.div({class:"js-add-to-team pop-over-list-item",role:"button",tabIndex:"0"},(function(){return i.format("add-to-team-as-admin"),i.small(".add-to-team-upgrade-bc",(function(){return r?i.format("for-more-roles-non-cta",{link:t}):i.format("for-more-roles",{link:t})}))})):i.a({class:"js-add-to-team",href:"#"},(function(){return i.format("add-to-team")}))),i.mustacheBlock("type",(function(){return i.a({class:i.mustacheBlock("canChangeRole",(function(){return"js-change-role"}))+i.mustacheBlockInverted("canChangeRole",(function(){return"disabled"})),href:"#"},(function(){return i.format("change-permissions-ellipsis-type",{type:i.mustacheVar("type")})}))})),i.mustacheBlockInverted("type",(function(){return i.a({class:i.mustacheBlock("canChangeRole",(function(){return"js-change-role"}))+i.mustacheBlockInverted("canChangeRole",(function(){return"disabled"})),href:"#"},(function(){return i.format("change-permissions-ellipsis")}))}))})),i.mustacheVar("isTemplate")||i.li((function(){return i.a({class:"js-view-member-activity",href:i.mustacheVar("boardProfileUrl")},(function(){return i.format("view-member-s-board-activity")}))})),i.mustacheBlock("canRemove",(function(){return i.li((function(){return i.a(".js-remove-member",(function(){return i.mustacheBlock("isMe",(function(){return i.format("leave-board-ellipsis")})),i.mustacheBlockInverted("isMe",(function(){return i.format("remove-from-board-ellipsis")}))}))}))})),i.mustacheBlockInverted("canRemove",(function(){return i.mustacheBlock("isMe",(function(){return i.mustacheBlock("isMoreThanOneMember",(function(){return i.mustacheBlock("memberIsAdmin",(function(){return i.li((function(){return i.hr(),i.p(".quiet.u-bottom",(function(){return i.format("you-can-t-leave-because-you-are-the-only-admin-to-make-another-user-an-admin-click-their-avatar-select-change-permissions-ellipsis-and-select-admin")}))}))}))}))}))})),i.mustacheBlock("isGhost",(function(){return i.li((function(){return i.hr(),i.p(".quiet.u-bottom",(function(){return i.format("this-user-will-be-able-to-access-this-board-once-they-sign-up-with-trello-and-confirm-their-email-address")}))}))}))}},"./app/scripts/views/templates/member_on_card.coffee":function(e,t,n){var r,i;i=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("member_on_card"),r=n("./app/scripts/views/templates/member.coffee"),e.exports=i.renderable((function(e){var t,n,o,a,s,l,c,d,u,p,m;return n=e.avatarUrl,o=e.fullName,a=e.id,s=e.initials,c=e.isDeactivated,l=e.isBoardAdmin,d=e.isOrganizationAdmin,u=e.isVirtual,p=e.username,m=e.viewTitle,t=e.activityBlocked,i.div(".member.js-member-on-card-menu",{class:i.classify({"member-deactivated":c||t,"member-virtual":u,"long-initials":(null!=s?s.length:void 0)>2}),"data-idmem":a},(function(){return r({avatarUrl:n,fullName:o,initials:s,isDeactivated:c,isBoardAdmin:l,isOrganizationAdmin:d,username:p,viewTitle:m})}))}))},"./app/scripts/views/templates/member_on_card_menu.coffee":function(e,t,n){var r;r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("member_on_card_menu"),e.exports=function(){return r.mustacheBlock("__ed",(function(){return r.li((function(){return r.a(".js-remove-member",(function(){return r.format("remove-from-card")}))}))}))}},"./app/scripts/views/templates/mini_profile.coffee":function(e,t,n){var r;n("./packages/feature-flag-client/index.ts").featureFlagClient,r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("mini_profile"),e.exports=r.renderable((function(e){var t,n,i,o,a,s,l,c,d,u,p;return n=e.avatarUrl,p=e.viewTitle,a=e.fullName,u=e.username,s=e.initials,i=e.bio,o=e.email,d=e.showEmail,c=e.isMe,l=e.isDeactivated,t=e.activityBlocked,r.div(".mini-profile",(function(){return r.div(".mini-profile-member.member-large",{class:r.classify({"member-deactivated":l||t})},(function(){var e;return n&&r.a(".av-btn.js-view-large",{href:"#"}),e=p,n?r.img(".member-avatar",{height:"50",width:"50",src:[n,"50.png"].join("/"),alt:e,title:e}):s?r.span(".member-initials",{title:e},(function(){return r.text(s)})):r.div(".member-icon-container",(function(){return r.icon("member")}))})),r.div(".mini-profile-info",(function(){if(r.h3(".mini-profile-info-title",(function(){return r.a(".mini-profile-info-title-link.js-profile",{href:"/"+u},(function(){return r.text(a)}))})),r.p(".quiet.u-bottom",(function(){return r.format("at-username",{username:u})})),i&&r.p(".mini-profile-info-bio.quiet",(function(){return r.text(i)})),d&&r.p(".u-bottom.quiet",(function(){return r.text(o)})),c)return r.p(".u-bottom",(function(){var e;return".quiet",e="/"+u+"/profile",r.a(".quiet",{href:e},(function(){return r.format("edit-profile-info")}))}))}))}))}))},"./app/scripts/views/templates/move_card_controls.coffee":function(e,t,n){var r,i;i=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("move_card_controls"),r=n("./packages/test-ids/index.ts").SelectTestIds,e.exports=function(){return i.mustacheBlockInverted("hideBoard",(function(){return i.div(".form-grid",(function(){return i.div(".form-grid-child.form-grid-child-full",{class:i.classify({hide:!i.mustacheVar("restrictToCurrentBoard")})},(function(){return i.label((function(){return i.format("board")})),i.p((function(){return i.mustacheBlock("organizations",(function(){return i.mustacheBlock("boards",(function(){return i.text(i.mustacheVar("name"))}))}))}))})),i.div(".button-link.setting.form-grid-child.form-grid-child-full",{class:i.classify({hide:i.mustacheVar("restrictToCurrentBoard")})},(function(){return i.span(".label",(function(){return i.format("board")})),i.span(".value.js-board-value"),i.label((function(){return i.format("board")})),i.select(".js-select-board",{"data-test-id":r.MoveBoardSelect},(function(){return i.mustacheBlock("organizations",(function(){return i.optgroup({label:i.mustacheVar("displayName")},(function(){return i.mustacheBlock("boards",(function(){return i.optionSelected(i.mustacheVar("selected"),{value:i.mustacheVar("id")},(function(){return i.text(i.mustacheVar("name")),i.mustacheBlock("selected",(function(){return i.text(" "),i.format("current")}))}))}))}))}))}))}))})),i.mustacheBlock("hasEnterprise",(function(){return i.mustacheBlock("enterpriseName",(function(){return i.mustacheBlock("isMove",(function(){return i.p(".quiet",(function(){return i.format("card-can-only-be-moved-to-teams-within-org",{enterpriseName:i.mustacheVar("enterpriseName")})}))})),i.mustacheBlock("isCopy",(function(){return i.p(".quiet",(function(){return i.format("card-can-only-be-copied-to-teams-within-org",{enterpriseName:i.mustacheVar("enterpriseName")})}))}))}))}))})),i.div(".form-grid",(function(){return i.div(".button-link.setting.form-grid-child.form-grid-child-threequarters",(function(){return i.span(".label",(function(){return i.format("list")})),i.span(".value.js-list-value"),i.label((function(){return i.format("list")})),i.select(".js-select-list")})),i.div(".button-link.setting.form-grid-child",(function(){return i.span(".label",(function(){return i.format("position")})),i.span(".value.js-pos-value"),i.label((function(){return i.format("position")})),i.select(".js-select-position")}))}))}},"./app/scripts/views/templates/org_create.coffee":function(e,t,n){var r;r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("org_create"),e.exports=function(){return r.mustacheBlock("freeTeamLimitExceeded",(function(){return r.mustacheVar("dontUpsell")?r.p((function(){return r.format("your-org-is-out-of-teams-desktop",{domainName:r.mustacheVar("emailDomain")})})):(r.p((function(){return r.format("your-org-is-out-of-teams",{domainName:r.mustacheVar("emailDomain")})})),r.a({class:"button full js-enterprise-learn-more",href:"/enterprise?utm_source=trello-product&utm_medium=inapp&utm_campaign=P:trello|O:trello|F:awareness|C:ptour|I:trello-enterprise-in-product|E:cloud|&app_source=exceeded_message_popover",target:"_blank"},(function(){return r.format("enterprise-learn-more")})))})),r.form({class:r.classify({hide:r.mustacheVar("freeTeamLimitExceeded")})},(function(){return r.p(".error",{style:"display:none"}),r.label({for:"org-display-name"},(function(){return r.format("name")})),r.input(".js-autofocus.js-display-name",{type:"text",name:"displayName",id:"org-display-name",value:r.mustacheVar("displayName"),dir:"auto",maxLength:100}),r.div(".js-team-type-select.create-org-team-type-select"),r.mustacheVar("teamVerticalSelectionEnabled")||(r.label({for:"org-desc"},(function(){return r.format("description-optional")})),r.textarea({id:"org-desc",name:"desc",dir:"auto"},(function(){return r.text(r.mustacheVar("desc"))}))),r.mustacheVar("boardToAddToOrg")&&r.mustacheVar("memberCount")>1&&r.div(".check-div",(function(){return r.input(".js-add-members",{type:"checkbox",checked:!0,id:"addMembers"}),r.label({for:"addMembers",class:"create-team-add-members"},(function(){return r.format("add-the-members-of-this-board-to-the-team")}))})),r.input(".primary.wide.js-save",{type:"submit",value:r.l("create")})})),r.mustacheBlockInverted("freeTeamLimitExceeded",(function(){if(r.hr(),r.mustacheVar("isPrivateTemplate")&&r.p(".create-org-template-alert-notice",(function(){return r.format("moving-a-template")})),r.p(".quiet",(function(){return r.format("a-team-is-a-group-of-boards-and-people")})),!r.mustacheVar("dontUpsell"))return r.p(".quiet.u-bottom",(function(){return r.format("business-class-gives-your-organization-more"),r.text(" "),r.a(".js-business-class",{href:"/business-class",target:"_blank"},(function(){return r.format("learn-more")}))}))}))}},"./app/scripts/views/templates/org_create_enterprise.coffee":function(e,t,n){var r;r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("org_create"),e.exports=function(){return r.form((function(){return r.p(".error",{style:"display:none"}),r.label({for:"org-display-name"},(function(){return r.format("name")})),r.input(".js-autofocus.js-display-name",{type:"text",name:"displayName",id:"org-display-name",value:r.mustacheVar("displayName"),dir:"auto",maxLength:100}),r.div(".js-team-type-select"),r.div((function(){return 1===r.mustacheVar("enterprises").length?(r.input({type:"hidden",name:"enterprise",value:r.mustacheVar("enterprises").first().id}),r.label((function(){return r.text("Enterprise")})),r.p((function(){return r.text(r.mustacheVar("enterprises").first().get("displayName"))}))):(r.label({for:"ent-select"},(function(){return r.text("Enterprise")})),r.select({id:"ent-select",name:"enterprise"},(function(){return r.mustacheVar("enterprises").forEach((function(e){return r.option({value:e.id},(function(){return r.text(e.get("displayName"))}))}))})))})),r.mustacheVar("boardToAddToOrg")&&r.mustacheVar("memberCount")>1&&r.div(".check-div",(function(){return r.input(".js-add-members",{type:"checkbox",checked:!0,id:"addMembers"}),r.label({for:"addMembers",class:"create-team-add-members"},(function(){return r.format("add-the-members-of-this-board-to-the-team")}))})),r.input(".primary.wide.js-save",{type:"submit",value:r.l("create")})})),r.hr(),r.p(".quiet.u-bottom",(function(){return r.format("a-team-is-a-group-of-boards-and-people-owned")}))}},"./app/scripts/views/templates/popover_add_list.coffee":function(e,t,n){var r;r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("popover_add_list"),e.exports=r.renderable((function(e){var t,n;if(n=e.tooManyTotalLists,t=e.tooManyOpenLists,n)r.p((function(){return r.format("you-have-too-many-lists-on-this-board")}));else{if(!t)return r.form((function(){return r.div(".form-grid",(function(){return r.div(".form-grid-child.form-grid-child-threequarters",(function(){return r.label({for:"list-name"},(function(){return r.format("name")})),r.input(".js-list-name.js-autofocus",{type:"text",id:"list-name",value:r.l("default-list-name"),style:"margin-bottom: 0;"})})),r.div(".form-grid-child",(function(){return r.div(".button-link.setting",{style:"margin-top: 4px;"},(function(){return r.span(".label",(function(){return r.format("position")})),r.span(".value.js-pos-value"),r.label((function(){return r.format("position")})),r.select(".js-select-list-pos")}))}))})),r.input(".primary.wide.js-add-list",{type:"submit",value:r.l("add")})}));r.p((function(){return r.format("you-have-too-many-open-lists-on-this-board")}))}}))},"./app/scripts/views/templates/popover_add_to_team.coffee":function(e,t,n){var r;r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("popover_add_to_team"),e.exports=r.renderable((function(e){var t;return t=e.teamType,r.p(".u-text-align-center",{style:"padding: 3px 0"},(function(){return r.format("add to team-disclaimer",{teamType:t})})),r.button(".button-link.primary.u-width-100.js-add-to-team",(function(){return r.format("add to team-confirm")}))}))},"./app/scripts/views/templates/popover_auto_mentioner.coffee":function(e,t,n){var r;r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("popover_auto_mentioner"),e.exports=function(){return r.mustacheBlock("button",(function(){return r.input(".js-filter-mentionables.js-autofocus",{type:"text",placeholder:r.l("search-members-ellipsis")})})),r.p(".quiet.js-empty-list.hide",{style:"padding: 8px 8px 0;"},(function(){return r.format("no-matching-members")})),r.ul(".pop-over-member-list.js-available-members")}},"./app/scripts/views/templates/popover_board_header_all_members.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("popover_board_header_all_members");n("./node_modules/underscore/underscore.js");e.exports=r.renderable((function(e,t){var n=[{key:"members",jsClass:"js-list-members"},{key:"team-members",jsClass:"js-list-team-members"},{key:"recently-joined",jsClass:"js-list-recently-joined-members"},{key:"invited",jsClass:"js-list-invited-members"},{key:"guests",jsClass:"js-list-guests"},{key:"observers",jsClass:"js-list-observers"},{key:"deactivated",jsClass:"js-deactivated-members"}];return r.div(".board-header-popover.js-all-members",(function(){return r.div(".org-members-actions-search"),r.div(".board-members-search-container",(function(){return r.input(".board-members-search.js-search-board-member.js-autofocus.js-heading",{type:"text",placeholder:r.l("search-board-members")})}))})),r.div(".board-header-popover.js-all-members",(function(){return function(){for(var t=[],i=0,o=Array.from(n);i<o.length;i++){var a=o[i],s=a.key,l=a.jsClass;t.push(r.div(".board-menu-member-section.".concat(l),(function(){return r.div(".board-menu-member-section-header.js-heading",(function(){return r.format(s)})),r.div(".u-clearfix.js-list",{class:r.classify({"js-list-draggable-board-members":e.canAssign})})})))}return t}()})),r.div(".js-invite-no-results.hide",(function(){return r.p(".board-member-no-results.empty",(function(){return t?r.format("no-results"):(r.format("not-a-member"),e.showInviteLink?r.a(".invite-to-board-link.js-invite-to-board-link",{href:"#",target:"_blank"},(function(){return r.format("invite-to-board")})):void 0)}))}))}))},"./app/scripts/views/templates/popover_board_header_org_menu.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("popover_board_header_org_menu");e.exports=r.renderable((function(e){var t=e.canChangeOrg,n=e.setOrgNull,i=e.name,o=e.products,a=e.isOrgMember,s=e.upsellEnabled;return r.ul(".pop-over-list",(function(){if(t&&r.li((function(){return r.a(".js-change-org",{href:"#"},(function(){if(n&&r.format("remove-from-organization"),!n)return r.format("change-organization-ellipsis")}))})),r.li((function(){return r.a(".js-view-org",{href:"/".concat(i)},(function(){return r.format("view-organization-page")}))})),!o.length&&a&&s)return r.li(".divide",(function(){return r.a(".js-upgrade-to-bc",{href:"/".concat(i,"/billing")},(function(){return r.format("upgrade-to-business-class")}))}))}))}))},"./app/scripts/views/templates/popover_change_board_org.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("popover_change_board_org"),i=n("./packages/test-ids/index.ts").BoardHeaderTestIds;e.exports=r.renderable((function(e){var t=e.orgs,n=e.allowsSelfJoin,o=e.hasOrg,a=e.isPrivate,s=e.isDesktop,l=e.isTemplate,c=e.addToTeam,d=e.hasEnterprise,u=e.enterpriseName,p=e.showPrivateBoardsOptionForEntBoards;return r.form((function(){return r.label({"data-test-id":i.ChangeTeamSelectLabel},(function(){return l?r.format("this-template-is-part-of"):r.format("this-board-is-part-of")})),r.select(".js-org",(function(){return d&&!p||r.optionSelected(!t,{value:""},(function(){return r.format("personal-boards-no-team")})),Array.from(t).map((function(e){return r.optionSelected(e.select,{value:e.id},(function(){return r.text(e.displayName)}))}))})),d&&!p&&r.div(".quiet",(function(){return r.format("board-can-only-be-moved-to-teams-within-org",{enterpriseName:u})})),r.div(".template-alert-notice.js-template-alert",(function(){return r.format("moving-a-template")})),r.div(".spinner.loading.js-loading.hide"),r.div(".js-loaded.hide",(function(){return r.div(".js-billable-guests-warning.move-board-to-org.hide"),r.div(".js-permissions.hide",(function(){if(a&&r.div(".check-div.js-check-div",(function(){return r.input(".js-make-org-visible",{type:"checkbox",checked:!o,id:"orgVisible"}),r.label({for:"orgVisible"},(function(){return r.format("make-board-visible-to-organization")}))})),!n&&!l)return r.div(".check-div.js-check-div",(function(){return r.input(".js-make-org-joinable",{type:"checkbox",checked:!0,id:"orgJoinable"}),r.label({for:"orgJoinable"},(function(){return r.format("allow-any-org-member-to-join-this-board")}))}))})),r.div(".board-limits-upgrade-ad.js-board-limits-upgrade-ad.hide",(function(){return r.p((function(){return s?r.format("board-cant-be-moved-because-of-board-limits-desktop"):r.format("board-cant-be-moved-because-of-board-limits")}))})),r.input(".js-submit.wide.primary.disabled",{type:"submit",value:c?r.l("add"):r.l("change")}),r.a({href:"#",class:"js-new-org right-of-button-link"},(function(){return r.format("create-team")}))}))}))}))},"./app/scripts/views/templates/popover_change_labels.coffee":function(e,t,n){var r;r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("popover_change_labels"),e.exports=function(){return r.input(".js-autofocus.js-label-search",{type:"text",placeholder:r.l("search-labels-ellipsis"),value:r.mustacheVar("searchInit"),autocomplete:"off"}),r.div(".pop-over-section.js-suggestions",(function(){return r.h4((function(){return r.icon("sparkle"),r.format("suggested")})),r.ul(".edit-labels-pop-over.js-suggested-labels-list",(function(){})),r.a(".suggested-actions-feedback.js-suggested-actions-feedback",{href:"#"},(function(){return r.format("feedback")}))})),r.div(".pop-over-section",(function(){return r.h4((function(){return r.format("labels")})),r.ul(".edit-labels-pop-over.js-labels-list"),r.mustacheBlock("__ed",(function(){return r.div((function(){return r.button(".button.full.js-add-label",(function(){return r.format("create-a-new-label")})),r.button(".button.full.hide.js-show-more",(function(){return r.format("show-more-labels")})),r.hr(),r.button(".button.full.js-toggle-color-blind-mode",(function(){return r.mustacheBlock("isColorBlindEnabled",(function(){return r.format("disable-color-blind-friendly-mode-no-punc")})),r.mustacheBlockInverted("isColorBlindEnabled",(function(){return r.format("enable-color-blind-friendly-mode-no-punc")}))}))}))}))}))}},"./app/scripts/views/templates/popover_change_roles.coffee":function(e,t,n){var r;r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("popover_change_roles"),e.exports=function(){return r.ul(".pop-over-list",(function(){return r.li((function(){return r.a({class:r.mustacheBlock("canMakeAdmin",(function(){return"js-make-admin highlight-icon"}))+r.mustacheBlockInverted("canMakeAdmin",(function(){return" disabled"}))},(function(){return r.check(r.mustacheVar("memberIsAdmin"),"admin"),r.span(".sub-name",(function(){return r.text(r.mustacheVar("roleText_admin"))}))}))})),r.li((function(){return r.a({class:r.mustacheBlock("canMakeMember",(function(){return"highlight-icon js-make-member "}))+r.mustacheBlockInverted("canMakeMember",(function(){return" disabled"}))},(function(){return r.check(r.mustacheVar("memberIsNormal"),"normal"),r.span(".sub-name",(function(){return r.text(r.mustacheVar("roleText_normal"))}))}))})),r.mustacheBlock("showObserver",(function(){return r.li((function(){return r.a({class:r.mustacheBlock("canMakeObserver",(function(){return"highlight-icon js-make-observer "}))+r.mustacheBlockInverted("canMakeObserver",(function(){return" disabled"}))},(function(){return r.format("observer"),r.icon("business-class"),r.mustacheBlock("memberIsObserver",(function(){return r.icon("check")})),r.span(".sub-name",(function(){return r.text(r.mustacheVar("roleText_observer"))}))}))}))}))})),r.mustacheBlockInverted("isMoreThanOneAdmin",(function(){return r.mustacheBlock("memberIsAdmin",(function(){return r.hr(),r.p(".quiet.u-bottom",(function(){return r.format("you-can-t-change-roles-because-there-must-be-at-least-one-admin")}))}))}))}},"./app/scripts/views/templates/popover_confirmation_public_boards.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("popover_confirmation_public_boards");e.exports=r.renderable((function(e){var t=e.isTemplate;return r.div(".public-board-confirmation-popover",(function(){return r.div(".public-board-confirmation-popover-title",(function(){return t?(r.span((function(){return r.format("public-template-confirmation-description")})),r.button(".js-submit.wide.primary.full.make-public-confirmation-button",(function(){return r.format("public-template-confirm")}))):(r.span((function(){return r.format("public-board-confirmation-description")})),r.button(".js-submit.wide.primary.full.make-public-confirmation-button",(function(){return r.format("confirm")})))})),r.hr(),r.div(".public-board-confirmation-popover-invitation-link",(function(){return r.p((function(){return r.format("looking-for-invite-link"),r.a(".js-action-link.looking-for-invite-link",{href:"#",target:"_blank"},(function(){return t?r.format("invite-to-template-link"):r.format("invite-to-board-link")})),r.format("option")}))}))}))}))},"./app/scripts/views/templates/popover_emoji_completer.coffee":function(e,t,n){var r;r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("popover_emoji_completer"),e.exports=r.renderable((function(e){var t,n;return e.input,t=e.button,n=e.upsellEnabled,t&&r.input(".js-filter-emoji.js-autofocus",{type:"text",placeholder:r.l("search-for-emoji-ellipsis")}),r.div(".js-results",(function(){if(r.ul(".pop-over-emoji-list.js-available-emoji"),n)return r.hr(),r.ul(".pop-over-list",(function(){return r.li((function(){return r.a(".js-upload-emoji",{href:"#","data-emojiname":""},(function(){return r.format("upload-emoji")}))}))}))})),r.div(".js-no-results.hide",(function(){if(n)return r.p(".u-bottom.js-no-matching-emoji-helper"),r.a(".button.primary.full.js-upload-emoji",{href:"#","data-emojiname":""})}))}))},"./app/scripts/views/templates/popover_emoji_uploader.coffee":function(e,t,n){var r;r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("popover_emoji_uploader"),e.exports=function(){return r.mustacheBlockInverted("canUpload",(function(){return r.div(".warning",(function(){return r.mustacheBlockInverted("hasGold",(function(){return r.p((function(){return r.format("you-can-upload-custom-emoji-with-trello-gold-learn-more-about-trello-gold")}))})),r.mustacheBlockInverted("hasBCGold",(function(){return r.p(".u-bottom",(function(){return r.format("you-can-get-custom-emoji-for-your-entire-organization-with-business-class-learn-more-about-business-class")}))}))})),r.hr()})),r.form({action:"/1/member/"+r.mustacheVar("id")+"/customEmoji",method:"post",enctype:"multipart/form-data"},(function(){return r.input({type:"hidden",name:"token",value:""}),r.input({type:"hidden",name:"format",value:"http"}),r.label({for:"emojiImage"},(function(){return r.format("upload-image")})),r.input(".js-upload-emoji-file.upload-emoji",{id:"emojiImage",type:"file",name:"file",tabindex:"-1",accept:"image/*"}),r.label({for:"emojiName"},(function(){return r.format("emoji-name")})),r.input(".js-emoji-name",{id:"emojiName",type:"text",name:"name",value:r.mustacheVar("emojiName")}),r.p(".quiet",(function(){return r.format("the-name-will-default-to-the-name-of-the-uploaded-file-you-can-change-it-here-though")})),r.p(".warning.hide.js-invalid-name",(function(){return r.format("the-emoji-name-can-only-contain-letters-numbers-and-underscores")})),r.div(".js-emoji-preview",{style:"margin-bottom: 12px;"},(function(){return r.p({style:"margin-bottom: 4px;"},(function(){return r.strong((function(){return r.format("preview")}))})),r.span(".js-emoji-preview-name",(function(){return r.text(r.mustacheVar("emojiName"))})),r.text("  "),r.img(".js-emoji-preview.emoji")})),r.input(".primary.wide.js-upload-emoji",{type:"submit",value:r.l("create-custom-emoji")}),r.div(".error.hide",(function(){return r.format("upload-failed")}))})),r.mustacheBlock("canUpload",(function(){return r.mustacheBlockInverted("hasBCGold",(function(){return r.hr(),r.p(".u-bottom",(function(){return r.format("you-can-also-get-custom-emoji-for-your-entire-organization-with-business-class-learn-more-about-business-class")}))}))}))}},"./app/scripts/views/templates/popover_filter_pos_results.coffee":function(e,t,n){var r;r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("popover_filter_pos_results"),e.exports=function(){return r.ul(".pop-over-list.navigable.normal-weight.js-pos-results",(function(){return[["js-select-pos-keyword",r.mustacheVar("keywordList")],["js-select-pos-pos",r.mustacheVar("indexList")],["js-select-pos-list",r.mustacheVar("listList")]].forEach((function(e){var t;return t=e[0],e[1].forEach((function(e){return r.li((function(){return r.a({href:"#",name:e.value,class:t},(function(){return r.format("position-in-list",{index:e.indexString,listName:e.listName})}))}))}))}))}))}},"./app/scripts/views/templates/popover_helper_new_board_add_org.coffee":function(e,t,n){var r;r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("popover_helper_new_board_add_org"),e.exports=function(){return r.p((function(){return r.format("an-organization-is-a-collection-of-members-and-boards-they-make-sharing-and-working-within-a-group-even-easier")})),r.a(".button.js-create-org",{href:"#"},(function(){return r.format("create-an-organization")}))}},"./app/scripts/views/templates/popover_limit_exceeded.coffee":function(e,t,n){var r;r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("popover_limit_exceeded"),e.exports=r.renderable((function(e){return r.div(".error.js-limit-exceeded",{style:"margin: 12px 0 6px;"},(function(){return"perCard"===e?r.format("attachments-per-card-exceeded"):"perBoard"===e?r.format("attachments-per-board-exceeded"):void 0}))}))},"./app/scripts/views/templates/popover_member_searcher.coffee":function(e,t,n){var r;r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("popover_member_searcher"),e.exports=function(){return r.mustacheBlock("showSearch",(function(){return r.input(".js-filter-members.js-autofocus",{type:"text",placeholder:r.l("search-members-ellipsis")})})),r.ul(".pop-over-member-list.checkable.js-members-list")}},"./app/scripts/views/templates/popover_move_card.coffee":function(e,t,n){var r;r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("popover_move_card"),e.exports=function(){var e;return(e=r.mustacheVar("suggestions")).length>0&&r.div(".pop-over-section.js-suggestions",(function(){var t,n,i;for(r.h4((function(){return r.icon("sparkle"),r.format("suggested")})),t=0,n=e.length;t<n;t++)i=e[t],r.a(".button-link.js-suggested-move",{class:r.classify({"flip-icon":"left"===i.direction}),"data-id":i.id,"data-position":i.position,href:"#"},(function(){return r.icon("move"),r.text(i.name)}));return r.a(".suggested-actions-feedback.js-suggested-actions-feedback",{href:"#"},(function(){return r.format("feedback")}))})),r.div(".pop-over-section",(function(){return r.h4((function(){return r.format("select-destination")})),r.mustachePartial(n("./app/scripts/views/templates/move_card_controls.coffee")),r.input(".primary.wide.js-submit",{type:"submit",value:r.l("move")})}))}},"./app/scripts/views/templates/popover_move_list.coffee":function(e,t,n){var r;r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("popover_move_list"),e.exports=r.renderable((function(e){var t,n,i,o;return i=e.organizations,n=e.hasEnterprise,t=e.enterpriseName,o=e.restrictToCurrentBoard,r.div(".form-grid",(function(){return r.div(".form-grid-child.form-grid-child-full",{class:r.classify({hide:!o})},(function(){return r.label((function(){return r.format("board")})),r.p((function(){return r.text(i[0].boards[0].name)}))})),r.div(".button-link.setting.form-grid-child.form-grid-child-full",{class:r.classify({hide:o})},(function(){return r.span(".label",(function(){return r.format("board")})),r.span(".value.js-board-value"),r.label((function(){return r.format("board")})),r.select(".js-select-board",(function(){var e,t,n,o;for(o=[],e=0,t=i.length;e<t;e++)n=i[e],o.push(r.optgroup({label:n.displayName},(function(){var e,t,i,o,a;for(a=[],t=0,i=(o=n.boards).length;t<i;t++)e=o[t],a.push(r.optionSelected(e.selected,{value:e.id},(function(){if(r.text(e.name),e.selected)return r.text(" "),r.format("current")})));return a})));return o}))}))})),n&&t&&r.p(".quiet",(function(){return r.format("list-can-only-be-moved-to-teams-within-org",{enterpriseName:t})})),r.div(".form-grid",(function(){return r.div(".button-link.setting.form-grid-child.form-grid-child-full",(function(){return r.span(".label",(function(){return r.format("position")})),r.span(".value.js-pos-value"),r.label((function(){return r.format("position")})),r.select(".js-select-list-pos")}))})),r.input(".primary.wide.js-commit-position",{type:"submit",value:r.l("move")}),r.p((function(){return r.span(".error.hide.js-list-limit-exceeded",(function(){return r.format("too many lists")}))}))}))},"./app/scripts/views/templates/popover_reopen_board.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("popover_reopen_board");n("./app/scripts/lib/localize-count.coffee");e.exports=r.renderable((function(){return r.div(".js-billable-guests-alert"),r.input(".primary.full.js-confirm-reopen",{type:"submit",value:r.l("confirm")})}))},"./app/scripts/views/templates/popover_select_members.coffee":function(e,t,n){var r;r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("popover_select_members"),e.exports=r.renderable((function(e){var t,n,i;return t=e.canInviteMembers,n=e.includeOrgMembers,i=function(e){return r.h4((function(){return r.format(e)})),r.div(".js-loading",(function(){return r.p(".empty",{style:"padding: 24px 6px"},(function(){return r.format("loading")}))})),r.div(".js-no-results.hide",(function(){return r.p(".empty",{style:"padding: 24px 6px"},(function(){return r.format("no-results")}))})),r.ul(".pop-over-member-list.checkable.u-clearfix.js-mem-list")},r.input(".js-search-mem.js-autofocus",{type:"text",placeholder:r.l("search-members")}),r.div(".pop-over-section.js-suggestions",(function(){return r.h4((function(){return r.icon("sparkle"),r.format("suggested")})),r.ul(".pop-over-member-list.checkable.u-clearfix.js-mem-list"),r.a(".suggested-actions-feedback.js-suggested-actions-feedback",{href:"#"},(function(){return r.format("feedback")}))})),r.div(".pop-over-section.js-board-members",(function(){return i("board-members")})),n&&(r.div(".pop-over-section.js-org-members",(function(){return i("team-members")})),r.div(".js-show-org-members",(function(){return r.a(".subtle.button.full",{href:"#",style:"margin-top: 8px;"},(function(){return r.format("show-team-members")}))}))),r.div(".js-invite-no-results.hide",(function(){return r.p(".empty",{style:"padding: 24px 6px"},(function(){return t?r.l("not-a-member"):r.l("no-results")}))})),r.div(".js-invite-results.hide"),r.div(".js-invite-error.hide",(function(){return r.p(".error",{style:"margin: 16px 8px 6px;"})}))}))},"./app/scripts/views/templates/popover_selector_menu.coffee":function(e,t,n){var r;r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("popover_selector_menu"),e.exports=r.renderable((function(e){var t;return t=e.isTemplate,r.ul(".pop-over-list",(function(){return t||r.li((function(){return r.a(".js-mem-selector",{href:"#"},(function(){return r.format("members-ellipsis")}))})),r.li((function(){return r.a(".js-label-selector",{href:"#"},(function(){return r.format("labels-ellipsis")}))})),r.li((function(){return r.a(".js-pos-selector",{href:"#"},(function(){return r.format("position-ellipsis")}))}))}))}))},"./app/scripts/views/templates/popover_set_list_limit.coffee":function(e,t,n){var r;r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("popover_set_list_limit"),e.exports=r.renderable((function(e){var t;return t=e.limit,r.div((function(){return r.label((function(){return r.format("maximum-cards"),r.input(".set-list-limit.js-autofocus.js-list-limit-input",{name:"list-limit",min:0,max:5e3,placeholder:r.l("no-limit-set"),type:"number",value:t})})),r.p(".quiet",(function(){return r.format("highlight-this-list-if-the-number-of-cards-in-it-passes-this-limit")})),r.div(".set-list-limit-buttons",(function(){return r.input(".primary.wide.js-submit",{type:"submit",value:r.l("save")}),r.button(".negate.js-remove-limit",{type:"button"},(function(){return r.format("remove")}))}))}))}))},"./app/scripts/views/templates/popover_trello_completer.coffee":function(e,t,n){var r;r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("popover_trello_completer"),e.exports=r.renderable((function(){return r.label((function(){return r.format("card-or-board-to-add"),r.input(".js-search.js-autofocus",{type:"text",placeholder:r.l("search-for-a-card-or-board-ellipsis")})})),r.div(".js-loading",(function(){return r.span(".loading.spinner")})),r.div(".pop-over-section.js-card-results.hide",(function(){return r.h4(".pop-over-section-heading",(function(){return r.format("cards")})),r.ul(".pop-over-list.navigable.js-card-list"),r.div(".empty.js-no-card-results.hide",{style:"padding: 24px 6px"},(function(){return r.p(".u-bottom",(function(){return r.format("no-results")}))}))})),r.div(".pop-over-section.js-board-results.hide",(function(){return r.h4(".pop-over-section-heading",(function(){return r.format("boards")})),r.ul(".pop-over-list.navigable.js-board-list"),r.div(".empty.js-no-board-results.hide",{style:"padding: 24px 6px"},(function(){return r.p(".u-bottom",(function(){return r.format("no-results")}))}))}))}))},"./app/scripts/views/templates/power_ups_calendar_prefs.coffee":function(e,t,n){var r;r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("power_ups_calendar_prefs"),e.exports=r.renderable((function(e){var t,n,i,o;return n=e.isEnabled,i=e.isGenerated,o=e.url,t=e.canChange,r.p((function(){return r.format("sync-this-trello-boards-calendar-with-your-personal-calendar")})),n?(r.hr(),r.strong((function(){return r.format("icalendar-feed")})),r.div(".icalendar-url",(function(){return r.input(".full.js-calendar-feed-url",{type:"text",value:i?o:r.l("generating")}),r.a(".button.js-regen-calendar-url",{href:"#",class:r.classify({disabled:!i})},(function(){return r.span(".icon-lg.icon-refresh.dark-hover")}))})),r.div(".u-text-align-center",(function(){return r.a(".js-select.js-calendar-pref-feed",{href:"#",class:r.classify({disabled:!t}),name:"disabled"},(function(){return r.span(".name",(function(){return r.format("disable-sync")}))}))}))):r.div(".u-text-align-center",(function(){return r.a(".js-select.js-calendar-pref-feed",{href:"#",class:r.classify({disabled:!t}),name:"enabled"},(function(){return r.span(".name",(function(){return r.format("enable-sync")}))}))}))}))},"./app/scripts/views/templates/power_ups_card_aging_prefs.coffee":function(e,t,n){var r;r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("power_ups_card_aging_prefs"),e.exports=r.renderable((function(e){var t,n;return t=e.agingMode,n=e.canChange,r.h2((function(){return r.format("how-do-you-want-the-aged-cards-to-look")})),r.ul(".pop-over-list",(function(){return r.li((function(){return r.a(".js-select",{href:"#",class:r.classify({disabled:!n}),name:"regular"},(function(){return r.span(".name",(function(){return r.format("regular-mode")})),"regular"===t&&r.icon("check"),r.span(".sub-name",(function(){return r.format("older-cards-become-more-transparent")}))}))})),r.li((function(){return r.a(".js-select",{href:"#",class:r.classify({disabled:!n}),name:"pirate"},(function(){return r.span(".name",(function(){return r.format("pirate-mode")})),"pirate"===t&&r.icon("check"),r.span(".sub-name",(function(){return r.format("older-cards-crackle-and-tear")}))}))}))}))}))},"./app/scripts/views/templates/power_ups_voting_prefs.coffee":function(e,t,n){var r;r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("power_ups_voting_prefs"),e.exports=r.renderable((function(e){var t,n,i,o,a,s;return t=e.canChange,n=e.canSetObservers,i=e.canSetOrganization,o=e.canSetPublic,s=e.votingMode,a=e.hideVotes,r.h4((function(){return r.format("who-is-allowed-to-vote-on-cards")})),r.ul(".pop-over-list",(function(){return r.li((function(){return r.a(".js-voting-select",{href:"#",class:r.classify({disabled:!t}),name:"members"},(function(){return r.span(".name",(function(){return r.format("members")})),"members"===s&&r.icon("check"),r.span(".sub-name",(function(){return r.format("admins-and-board-members-can-vote")}))}))})),r.li((function(){return r.a(".js-voting-select",{href:"#",class:r.classify({disabled:!t||!n}),name:"observers"},(function(){return r.span(".name",(function(){return r.format("members-and-observers")})),"observers"===s&&r.icon("check"),r.span(".sub-name",(function(){return r.format("admins-board-members-and-observers-can-vote")}))}))})),r.li((function(){return r.a(".js-voting-select",{href:"#",class:r.classify({disabled:!t||!i}),name:"org"},(function(){return r.span(".name",(function(){return r.format("organization-members")})),"org"===s&&r.icon("check"),r.span(".sub-name",(function(){return r.format("admins-board-members-observers-and-team-members-can-vote")}))}))})),r.li((function(){return r.a(".js-voting-select",{href:"#",class:r.classify({disabled:!t||!o}),name:"public"},(function(){return r.span(".name",(function(){return r.format("public-members")})),"public"===s&&r.icon("check"),r.span(".sub-name",(function(){return r.format("any-trello-user-can-vote")}))}))}))})),r.tag("hr"),r.h4((function(){return r.format("hide-vote-counts")})),r.ul(".pop-over-list",(function(){return r.li((function(){return r.a(".js-vote-count-select",{href:"#",class:r.classify({disabled:!t}),name:"hideVoteCount"},(function(){return r.span(".name",(function(){return r.format("hide-vote-counts-except-mine")})),a&&r.icon("check"),r.span(".sub-name",(function(){return r.format("hide-vote-counts-except-mine-explain")}))}))}))}))}))},"./app/scripts/views/templates/quick_card_editor.coffee":function(e,t,n){var r,i;i=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("quick_card_editor"),r=n("./app/scripts/views/templates/card_in_list.coffee"),e.exports=function(){var e,t;return t=i.mustacheVar("isTemplate"),e=i.mustacheVar("isCardTemplate"),i.span(".icon-lg.icon-close.quick-card-editor-close-icon.js-close-editor"),i.div(".quick-card-editor-card",{style:"top: "+i.mustacheVar("top")+"px; left: "+i.mustacheVar("left")+"px; width: "+i.mustacheVar("width")+"px;"},(function(){return i.div(".list-card.list-card-quick-edit.js-stop",{style:"width: "+i.mustacheVar("width")+"px;"},(function(){return r(i.mustacheVar("."))})),i.input(".primary.wide.js-save-edits",{type:"submit",value:i.l("save")}),i.div({class:"quick-card-editor-buttons"+i.mustacheBlock("leftButtons",(function(){return" quick-card-editor-buttons-left"}))},(function(){return i.a(".quick-card-editor-buttons-item.js-edit-labels",{href:"#"},(function(){return i.icon("label",{class:"light"}),i.span(".quick-card-editor-buttons-item-text",(function(){return i.format("edit-labels")}))})),t||i.a(".quick-card-editor-buttons-item.js-edit-members",{href:"#"},(function(){return i.icon("member",{class:"light"}),i.span(".quick-card-editor-buttons-item-text",(function(){return i.format("change-members")}))})),i.a(".quick-card-editor-buttons-item.js-move-card",{href:"#"},(function(){return i.icon("move",{class:"light"}),i.span(".quick-card-editor-buttons-item-text",(function(){return i.format("move")}))})),i.a(".quick-card-editor-buttons-item.js-copy-card",{href:"#"},(function(){return i.icon("card",{class:"light"}),i.span(".quick-card-editor-buttons-item-text",(function(){return i.format("copy")}))})),e||i.a(".quick-card-editor-buttons-item.js-edit-due-date",{href:"#"},(function(){return i.icon("clock",{class:"light"}),i.span(".quick-card-editor-buttons-item-text",(function(){return i.format("change-due-date")}))})),i.mustacheBlockInverted("closed",(function(){return i.a(".quick-card-editor-buttons-item.js-archive",{href:"#"},(function(){return i.icon("archive",{class:"light"}),i.span(".quick-card-editor-buttons-item-text",(function(){return e?i.format("hide-from-list"):i.format("archive")}))}))}))}))}))}},"./app/scripts/views/templates/select_board.coffee":function(e,t,n){var r;r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("select_board"),e.exports=r.renderable((function(e){var t,n,i,o;return i=e.name,n=e.id,t=e.closed,o=e.orgName,r.li(".item",(function(){return r.a(".name.js-select-board",{href:"#",title:i,"data-id":n},(function(){if(r.span(".item-name",(function(){if(r.text(i),t)return r.text(" "),r.span(".quiet",(function(){return r.format("archived")}))})),o)return r.span(".sub-name",(function(){return r.format("in-orgname",{orgName:o})}))}))}))}))},"./app/scripts/views/templates/select_card.coffee":function(e,t,n){var r;r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("select_card"),e.exports=r.renderable((function(e){var t,n,i,o;return o=e.name,i=e.id,n=e.closed,t=e.boardName,r.li(".item",(function(){return r.a(".name.js-select-card",{href:"#",title:o,"data-id":i},(function(){if(r.span(".item-name",(function(){if(r.text(o),n)return r.text(" "),r.span(".quiet",(function(){return r.format("archived")}))})),t)return r.span(".sub-name",(function(){return r.format("in-boardname",{boardName:t})}))}))}))}))},"./app/scripts/views/templates/select_emoji.coffee":function(e,t,n){var r;r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("select_emoji"),e.exports=function(){return r.li(".item",(function(){return r.a(".name.js-select-emoji",{href:"#",title:r.mustacheVar("name")},(function(){return r.img(".emoji",{src:r.mustacheVar("image")}),r.span(".emoji-name",{name:r.mustacheVar("name")},(function(){return r.text(r.mustacheVar("name"))}))}))}))}},"./app/scripts/views/templates/select_labels.coffee":function(e,t,n){var r;r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("select_labels"),e.exports=function(){return r.mustacheBlock("labels",(function(){return r.li((function(){return r.mustacheBlock("__ed",(function(){return r.a(".card-label-edit-button.icon-sm.icon-edit.js-edit-label",{href:"#","data-idlabel":r.mustacheVar("id")})})),r.span({class:"card-label mod-selectable card-label-"+r.mustacheVar("color")+" "+r.mustacheBlock("isActive",(function(){return"active"}))+" js-select-label","data-idlabel":r.mustacheVar("id"),"data-color":r.mustacheVar("color")},(function(){return r.mustacheBlock("name",(function(){return r.text(r.mustacheVar("name"))})),r.icon("check",{class:"card-label-selectable-icon light"})}))}))}))}},"./app/scripts/views/templates/select_member.coffee":function(e,t,n){var r,i;i=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("select_member"),r=n("./app/scripts/views/templates/member.coffee"),e.exports=function(){return i.li({class:"item"+i.mustacheBlock("isActive",(function(){return" active"}))+i.mustacheBlock("unconfirmed",(function(){return" unconfirmed"}))+i.mustacheBlock("inactive",(function(){return" inactive"}))+i.mustacheBlock("isKnownMember",(function(){return" js-autoselect"}))+" js-member-item"+i.mustacheBlock("disabled",(function(){return" disabled"}))},(function(){return i.a({href:i.mustacheBlock("url",(function(){return i.mustacheVar("url")}))+i.mustacheBlockInverted("url",(function(){return"#"})),class:"name js-select-member "+i.mustacheBlock("extraText",(function(){return"multi-line"})),idMember:i.mustacheVar("id"),title:i.mustacheVar("viewTitle"),autocompleteText:i.mustacheVar("username")},(function(){return i.span({class:"member js-member"+i.mustacheBlock("isVirtual",(function(){return" virtual"}))+i.mustacheBlock("activityBlocked",(function(){return" member-deactivated"}))+i.mustacheBlock("isDeactivated",(function(){return" member-deactivated"}))},(function(){return r(i.mustacheVar("."))})),i.span(".full-name",{name:i.mustacheVar("fullName")+i.mustacheBlock("username",(function(){return" ("+i.mustacheVar("username")+")"})),"aria-hidden":!0},(function(){return i.text(i.mustacheVar("fullName")),i.text(" "),i.mustacheBlock("username",(function(){return i.span(".username",(function(){return i.text("("+i.mustacheVar("username")+")")}))}))})),i.mustacheBlock("extraText",(function(){return i.div(".extra-text.quiet",(function(){return i.format("extratext",{extraText:i.mustacheVar("extraText")})}))})),i.icon("check",{class:"checked-icon","aria-label":i.l("added-to-card")}),i.icon("forward",{class:"light option js-open-option"}),i.mustacheBlock("inactive",(function(){return i.span(".quiet.sub-name",(function(){return i.format("inactive-account")}))})),i.mustacheBlock("unconfirmed",(function(){return i.span(".quiet.sub-name",(function(){return i.format("unconfirmed-user")}))}))}))}))}},"./app/scripts/views/templates/tooltip_content.coffee":function(e,t,n){var r;r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("tooltip_content"),e.exports=function(){var e,t;return t=r.mustacheVar("closeable"),r.mustacheVar("style"),e=t?[".tooltip-content-closeable"]:[],r.div(e.join("")+".tooltip-content.js-tooltip-content",(function(){return t&&r.icon("close",{class:"tooltip-close-button js-tooltip-close-button"}),r.raw(r.mustacheVar("tooltipHtml"))}))}},"./app/src/components/AutoEnableCalendar/AutoEnableCalendar.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/AutoEnableCalendar/AutoEnableCalendar.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./app/src/components/BoardHeaderButton/BoardHeaderButton.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardHeaderButton/BoardHeaderButton.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./app/src/components/BoardSidebarLoadingError/BoardSidebarLoadingError.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardSidebarLoadingError/BoardSidebarLoadingError.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./app/src/components/BoardSidebarLoadingError/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"BoardSidebarLoadingError",(function(){return k}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./app/common/lib/util/i18n/index.ts"),a=n("./packages/nachos/button.ts"),s=n("./app/src/components/BoardSidebarLoadingError/BoardSidebarLoadingError.less"),l=n.n(s);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=Object(o.forTemplate)("error"),b=Object(o.forNamespace)("view title"),y=Object(o.forTemplate)("connect_failed"),k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(k,e);var t,n,r,o,s=(t=k,function(){var e,n=h(t);if(f()){var r=h(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return p(this,e)});function k(){var e;c(this,k);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(m(e=s.call.apply(s,[this].concat(n))),"reloadPage",(function(){return window.location.reload()})),e}return n=k,(r=[{key:"render",value:function(){return i.a.createElement("div",{className:l.a.errorMessage},i.a.createElement("div",{className:"board-menu-header-content"},i.a.createElement("h3",{className:"board-menu-header-title js-board-menu-title-text"},b("menu"))),i.a.createElement("hr",{className:"board-menu-header-divider"}),i.a.createElement("h4",null,v("menu-loading-error")),i.a.createElement("p",null,v("reload-call-to-action")),i.a.createElement(a.a,{appearance:"primary",onClick:this.reloadPage},y("reload-page")))}}])&&d(n.prototype,r),o&&d(n,o),k}(i.a.Component)},"./app/src/components/BoardViewsButton/BoardViewsButton.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardViewsButton/BoardViewsButton.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./app/src/components/BoardViewsButton/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"BoardViewsButton",(function(){return O}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./packages/atlassian-analytics/index.ts"),a=n("./app/common/components/controls/index.tsx"),s=n("./packages/nachos/tooltip.ts"),l=n("./packages/nachos/popover.ts"),c=n("./app/common/lib/util/i18n/index.ts"),d=n("./node_modules/classnames/index.js"),u=n.n(d),p=n("./app/src/components/UpgradePrompts/index.ts"),m=n("./packages/config/index.ts"),f=Object(c.forTemplate)("board-views"),h=Object(c.forNamespace)("upgrade prompt"),g=function(e){var t=e.showTooltip,n=e.children;return t?i.a.createElement(s.a,{tag:"li",content:f("limit-upsell"),delay:100},n):i.a.createElement("li",null,n)},v=function(e){var t=e.idBoard,n=e.orgName,s=e.currentView,l=e.isCalendarPowerUpEnabled,c=e.isMapPowerUpEnabled,d=e.hasReachedPowerUpLimit,v=e.showCalendarOption,b=e.showMapOption,y=e.navigateToListView,k=e.navigateToCalendarView,w=e.navigateToMapView;Object(r.useEffect)((function(){o.Analytics.sendScreenEvent({name:"boardViewsInlineDialog",containers:{board:{id:t}}})}),[t]);var x=d&&!l&&!m.dontUpsell,C=d&&!c&&!m.dontUpsell,_=n?"/".concat(n,"/billing"):"/select-team-to-upgrade",j=i.a.createElement(p.UpgradePromptPill,{ctaLink:_,iconName:a.IconName.BusinessClass,cta:h("upgrade team"),ctaOnClick:function(){o.Analytics.sendUIEvent({action:"clicked",actionSubject:"pill",actionSubjectId:"bcUpgradePill",source:"boardViewsInlineDialog",containers:{board:{id:t}}})}});return i.a.createElement("ul",{className:"pop-over-list"},i.a.createElement(g,{showTooltip:!1},i.a.createElement("div",{className:u()({"pop-over-list-item":!0,current:"board"===s}),role:"button",onClick:function(){o.Analytics.sendUIEvent({action:"clicked",actionSubject:"dropdownItem",actionSubjectId:"boardViewDropdownItem",source:"boardViewsInlineDialog",containers:{board:{id:t}}}),y()}},i.a.createElement(a.Icon,{name:a.IconName.List,small:!0})," ",f("board"),i.a.createElement("span",{className:"sub-name"},f("board-view-description")))),v&&i.a.createElement(g,{showTooltip:x},i.a.createElement("div",{className:u()({"pop-over-list-item":!0,current:"calendar"===s,disabled:x}),role:"button",onClick:function(){x||(o.Analytics.sendUIEvent({action:"clicked",actionSubject:"dropdownItem",actionSubjectId:"calendarViewDropdownItem",source:"boardViewsInlineDialog",containers:{board:{id:t}}}),k())}},i.a.createElement(a.Icon,{name:a.IconName.Calendar,small:!0})," ",f("calendar")," ",x&&j,i.a.createElement("span",{className:"sub-name"},f("calendar-view-description")))),b&&i.a.createElement(g,{showTooltip:C},i.a.createElement("div",{className:u()({"pop-over-list-item":!0,current:"map"===s,disabled:C}),role:"button",onClick:function(){C||(o.Analytics.sendUIEvent({action:"clicked",actionSubject:"dropdownItem",actionSubjectId:"mapViewDropdownItem",source:"boardViewsInlineDialog",containers:{board:{id:t}}}),w())}},i.a.createElement(a.Icon,{name:a.IconName.Location,small:!0})," ",f("map")," ",C&&j,i.a.createElement("span",{className:"sub-name"},f("map-view-description")))))},b=n("./app/src/components/BoardViewsButton/BoardViewsButton.less"),y=n.n(b);function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var _,j=Object(c.forTemplate)("board-views");function S(e){var t=e.isEnabled,n=e.hasReachedPowerUpLimit,r=e.onPublicBoard,i=e.isAllowed,o=e.boardEditable,a=e.isReadOnlyMember;if(!t){if(r||a)return o;if(n)return!m.dontUpsell;if(!i)return!1}return o||a||r}!function(e){e[e.BoardViews=0]="BoardViews"}(_||(_={}));var O=function(e){var t,n=e.currentView,c=e.onPublicBoard,d=e.boardEditable,u=e.isReadOnlyMember,p=e.isCalendarPowerUpAllowed,m=e.isMapPowerUpAllowed,f=e.navigateToListView,h=e.navigateToCalendarView,g=e.navigateToMapView,b=e.preloadPlugins,x=C(e,["currentView","onPublicBoard","boardEditable","isReadOnlyMember","isCalendarPowerUpAllowed","isMapPowerUpAllowed","navigateToListView","navigateToCalendarView","navigateToMapView","preloadPlugins"]),O=Object(l.d)({initialScreen:_.BoardViews}),E=O.toggle,N=O.hide,T=O.triggerRef,P=O.popoverProps,B=w(Object(r.useState)(n),2),D=B[0],I=B[1];switch(Object(r.useEffect)((function(){I(n)}),[n]),D){case"calendar":t=a.IconName.Calendar;break;case"map":t=a.IconName.Location;break;case"board":default:t=a.IconName.List}var A=x.idBoard,L=x.isCalendarPowerUpEnabled,M=x.isMapPowerUpEnabled,F=x.hasReachedPowerUpLimit,R=S({isEnabled:L,isAllowed:p,onPublicBoard:c,hasReachedPowerUpLimit:F,boardEditable:d,isReadOnlyMember:u}),z=S({isEnabled:M,isAllowed:m,onPublicBoard:c,hasReachedPowerUpLimit:F,boardEditable:d,isReadOnlyMember:u});return R||z?i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a,{content:j("board-views"),delay:100,hideTooltipOnMouseDown:!0},i.a.createElement("a",{className:"board-header-btn",ref:T,onClick:function(){o.Analytics.sendUIEvent({action:"clicked",actionSubject:"button",actionSubjectId:"boardViewsButton",containers:{board:{id:A}},source:"boardScreen"}),E()},role:"button",onMouseOver:function(){b()},onFocus:function(){b()}},i.a.createElement(a.Icon,{name:t,small:!0,className:y.a.boardViewsButtonIcon}))),i.a.createElement(l.b,k({},P,{size:"small",noVerticalPadding:!0}),i.a.createElement(l.c,{id:_.BoardViews},i.a.createElement(v,k({},x,{showCalendarOption:R,showMapOption:z,currentView:n,navigateToListView:function(){f()&&I("board"),N()},navigateToCalendarView:function(){h()&&I("calendar"),N()},navigateToMapView:function(){g()&&I("map"),N()}}))))):null}},"./app/src/components/CardTemplatesPopover/CardTemplatesButton.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardTemplatesPopover/CardTemplatesButton.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./app/src/components/CardTemplatesPopover/CardTemplatesPopover.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardTemplatesPopover/CardTemplatesPopover.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./app/src/components/CardTemplatesPopover/CardTemplatesQuery.graphql":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CardTemplates"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"members"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"initials"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"template"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idBoard"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shortLink"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isTemplate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"closed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idList"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idChecklists"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"attachments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stickers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"top"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"left"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rotate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"zIndex"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageScaled"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scaled"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"idLabels"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idBoard"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"idMembers"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"scaled"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scaled"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edgeColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"brightness"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"badges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"attachments"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"checkItems"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"attachmentsByType"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trello"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:1031}};n.loc.source={body:"query CardTemplates($boardId: ID!) {\n  board(id: $boardId) @client {\n    id\n    members {\n      id\n      avatarUrl\n      initials\n    }\n    cards(filter: template) {\n      id\n      idBoard\n      shortLink\n      name\n      isTemplate\n      closed\n      idList\n      idChecklists\n      attachments {\n        id\n      }\n      stickers {\n        id\n        top\n        left\n        rotate\n        zIndex\n        image\n        imageUrl\n        imageScaled {\n          id\n          width\n          height\n          url\n          scaled\n        }\n      }\n      idLabels\n      labels {\n        id\n        name\n        color\n        idBoard\n      }\n      idMembers\n      cover {\n        scaled {\n          url\n          width\n          height\n          scaled\n        }\n        edgeColor\n        color\n        size\n        brightness\n      }\n      badges {\n        attachments\n        checkItems\n        description\n        attachmentsByType {\n          trello {\n            board\n            card\n          }\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.CardTemplates=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var o=r[t]||new Set,a=new Set,s=new Set;for(o.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"CardTemplates")},"./app/src/components/CardTemplatesPopover/CreateCardFromTemplatePopover.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardTemplatesPopover/CreateCardFromTemplatePopover.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./app/src/components/CardTemplatesPopover/TemplateCardComposer.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardTemplatesPopover/TemplateCardComposer.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./app/src/components/CardTemplatesPopover/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"CardTemplatesPopover",(function(){return Y})),n.d(t,"CreateCardFromTemplatePopover",(function(){return ue})),n.d(t,"CardTemplatesButton",(function(){return Oe}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CardTemplates"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"members"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"initials"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"template"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idBoard"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shortLink"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isTemplate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"closed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idList"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idChecklists"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"attachments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stickers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"top"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"left"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rotate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"zIndex"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageScaled"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scaled"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"idLabels"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idBoard"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"idMembers"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"scaled"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scaled"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edgeColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"brightness"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"badges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"attachments"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"checkItems"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"attachmentsByType"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trello"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]};var s={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CardTemplateMember"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"prefs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"colorBlind"},arguments:[],directives:[]}]}}]}}]}}]};function l(e){return o.c(s,e)}var c=n("./app/src/components/Spinner/index.ts"),d=n("./packages/nachos/button.ts"),u=n("./packages/nachos/tooltip.ts"),p=n("./app/gamma/src/components/canonical-components/index.tsx"),m=n("./packages/trello-canonical-components/src/card-front/Card.tsx");function f(e){var t=e.cover;return t?t.color?{url:"",color:t.color,size:t.size,brightness:t.brightness}:t.scaled&&t.edgeColor?{url:"",edgeColor:t.edgeColor,previews:t.scaled.map((function(e){return{scaled:e.scaled,height:e.height,url:e.url,width:e.width}})),size:t.size,brightness:t.brightness}:null:null}function h(e){var t=e.badges,n=t.attachments,r=t.attachmentsByType,i=t.description,o=t.checkItems;return{attachments:n,description:i,attachmentsByType:{trello:{board:r.trello.board,card:r.trello.card}},checklistItems:o,checklistItemsChecked:0,comments:0,due:null,subscribed:!1,viewingMemberVoted:!1,votes:0,dueComplete:!1,checkItemsEarliestDue:null}}function g(e){return e.labels.map((function(e){var t=e.id,n=e.name,r=e.color;return{id:t,name:n,idBoard:e.idBoard,color:r||null}}))}function v(e,t){var n=e.idMembers,r=[];return n.forEach((function(e){var n=t.find((function(t){return t.id===e}));n&&r.push({avatars:n.avatarUrl?{30:"".concat(n.avatarUrl,"/30.png")}:null,initials:n.initials||"",id:n.id,enterprises:[],idPremOrgsAdmin:[]})})),r}function b(e){return e.stickers.map((function(e){var t=e.imageScaled.find((function(e){return e.url.includes("@2x")}));return{id:e.id,image:e.image,imageUrl:e.imageUrl,left:e.left,top:e.top,rotate:e.rotate,zIndex:e.zIndex,imageUrl2x:t?t.url:null}}))}function y(e,t){return{cover:f(e),badges:h(e),labels:g(e),members:v(e,t),stickers:b(e)}}var k=n("./app/common/lib/util/i18n/index.ts"),w=n("./app/common/components/singlespa/router-link.tsx"),x={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateCardTemplate"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"listId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"closed"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createCardTemplate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"listId"},value:{kind:"Variable",name:{kind:"Name",value:"listId"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"Argument",name:{kind:"Name",value:"closed"},value:{kind:"Variable",name:{kind:"Name",value:"closed"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idBoard"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shortLink"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isTemplate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"closed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idList"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idChecklists"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"attachments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stickers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"top"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"left"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rotate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"zIndex"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageScaled"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scaled"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"idLabels"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idBoard"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"idMembers"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"scaled"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scaled"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edgeColor"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"badges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"attachments"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"checkItems"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"attachmentsByType"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trello"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]};var C=n("./packages/analytics/index.ts"),_=n("./app/common/components/controls/index.tsx"),j=n("./packages/keybindings/index.ts"),S=n("./node_modules/classnames/index.js"),O=n.n(S),E=n("./app/src/components/CardTemplatesPopover/CardTemplatesQuery.graphql"),N=n.n(E),T=n("./app/src/components/CardTemplatesPopover/TemplateCardComposer.less"),P=n.n(T);function B(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var F=Object(k.forTemplate)("card-templates"),R=Object(k.forTemplate)("card_composer_inline"),z=function(e){var t,n=e.idList,a=e.idBoard,s=e.closedComponent,l=e.onCreate,c=L(Object(r.useState)(!1),2),u=c[0],p=c[1],m=L(Object(r.useState)(""),2),f=m[0],h=m[1],g=L(o.b(x,t),2),v=g[0],b=g[1].loading;Object(j.useShortcut)((function(){p(!1)}),{scope:j.Scope.Popover,key:j.Key.Escape,enabled:u});var y=function(){h(""),p(!1)},k=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==f.trim().length){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,v({variables:{listId:n,name:f.trim(),closed:!1},update(e,t){var n=t.data,r=n&&n.createCardTemplate;if(r){var i=e.readQuery({query:N.a,variables:{boardId:a}});if(i){var o=i.board,s=o&&o.cards;s&&e.writeQuery({query:N.a,variables:{boardId:a},data:{board:I({},o,{cards:s.concat(r)})}})}}}});case 5:t=e.sent,r=t.data,Object(C.trackUe)({category:C.Noun.CARD_TEMPLATES,verb:C.Verb.CREATES,directObj:C.Noun.CARD_TEMPLATE,indirectObj:C.Noun.CARD_TEMPLATES_MENU,method:"by clicking the create new template button"}),y(),l&&r&&r.createCardTemplate&&(i=r.createCardTemplate,l(i));case 10:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){B(o,r,i,a,s,"next",e)}function s(e){B(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();return u?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:P.a.listCard},i.a.createElement("div",{className:O()(P.a.listCardDetails,"u-clearfix")},i.a.createElement("textarea",{value:f,className:P.a.templateCardComposerTextarea,dir:"auto",placeholder:F("template-title"),autoFocus:!0,onBlur:y,onKeyDown:function(e){Object(j.getKey)(e)===j.Key.Enter&&(e.preventDefault(),k())},onChange:function(e){return h(e.target.value)}}))),i.a.createElement("div",null,i.a.createElement(d.a,{onClick:k,className:P.a.addButton,appearance:"primary",isDisabled:b,isLoading:b},R("add")),i.a.createElement("a",{role:"button",className:P.a.closeButton,onClick:y},i.a.createElement(_.Icon,{className:P.a.closeIcon,name:_.IconName.Close,large:!0})))):s?s((function(){return p(!0)})):i.a.createElement("a",{role:"button",className:P.a.openTemplateCardComposer,href:"#",onClick:function(e){e.preventDefault(),p(!0)}},i.a.createElement(_.Icon,{name:_.IconName.Add,className:P.a.iconAdd,small:!0}),i.a.createElement("span",null,F("create-a-new-template")))},V=n("./app/src/components/CardTemplatesPopover/CardTemplatesPopover.less"),U=n.n(V),H=n("./app/common/components/controls/button/button.tsx"),$=n("./packages/storage/index.ts");function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function G(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var q=Object(k.forTemplate)("card-templates"),K=function(e){var t=e.onClick,n=G(e,["onClick"]);return i.a.createElement("a",W({},n,{href:"#",role:"button",onClick:function(e){e.preventDefault(),t&&t(e)}}))},Y=function(e){var t,n,r=e.idBoard,s=e.idList,f=e.onSelect,h=e.onTemplateCreated,g=e.confirmDelete,v=e.editTemplate,b=e.isEditing,k=e.setIsEditing;Object(j.useShortcut)((function(){k(!1)}),{scope:j.Scope.Popover,key:j.Key.Escape,enabled:b});var x,S=(x={fetchPolicy:"cache-and-network",variables:{boardId:r}},o.c(a,x)),O=S.data,E=S.loading,N=S.error,T=l({fetchPolicy:"cache-and-network"}),P=T.data,B=T.loading,D=(O&&O.board&&O.board.cards?O.board.cards:[]).filter((function(e){return e&&e.isTemplate})).sort((function(e,t){return e.name.localeCompare(t.name,void 0,{numeric:!0,caseFirst:"upper"})})),I=O&&O.board&&O.board.members?O.board.members:[];if(N)return i.a.createElement("div",{id:"cardTemplatesError"},q("something-went-wrong"));if(!O&&(E||B))return i.a.createElement(c.a,{centered:!0});if(0===D.length)return i.a.createElement(z,{idList:s,idBoard:r,onCreate:h,closedComponent:function(e){return i.a.createElement("div",null,i.a.createElement("p",{className:U.a.emptyStateMessage},q("you-dont-have-any-templates")),i.a.createElement(d.a,{onClick:e,className:U.a.createNewTemplateButton,appearance:"primary",shouldFitContainer:!0},q("create-a-new-template")))}});var A=$.TrelloStorage.get("labelState")||{showText:!1},L=null==P||null===(t=P.member)||void 0===t||null===(n=t.prefs)||void 0===n?void 0:n.colorBlind;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:U.a.templateCards},D.map((function(e){var t=y(e,I),n=t.cover,r=t.badges,o=t.labels,a=t.members,s=t.stickers;return i.a.createElement("div",{className:U.a.templateCardContainer,key:e.id},i.a.createElement(m.f,{className:U.a.templateCard,onClick:function(){return f(e.id)},cover:n,colorBlind:L,hasStickers:!!s.length,linkComponent:K},i.a.createElement(p.a,{name:e.name,cover:n,badges:r,isTemplate:e.isTemplate,labels:o,expandLabels:A.showText,members:a,stickers:s,colorBlind:L})),b&&i.a.createElement("div",{className:U.a.controlButtons},i.a.createElement(u.a,{content:q("edit-this-template")},i.a.createElement(w.a,{className:U.a.noTextDecoration,onClick:function(){Object(C.trackUe)({category:C.Noun.CARD_TEMPLATES,verb:C.Verb.OPENS,directObj:C.Noun.CARD_TEMPLATE,indirectObj:C.Noun.CARD_TEMPLATES_MENU,method:"by clicking the edit this template button"}),null==v||v(e.id)},href:"/c/".concat(e.shortLink)},i.a.createElement(H.e,{tabIndex:-1,icon:_.IconName.Edit,color:_.IconColor.Gray,smallIcon:!0,className:U.a.controlButton}))),i.a.createElement(u.a,{content:q("delete-this-template")},i.a.createElement(H.e,{onClick:function(){return g(e.id)},icon:_.IconName.Trash,color:_.IconColor.Gray,smallIcon:!0,className:U.a.controlButton}))))}))),i.a.createElement(z,{idList:s,idBoard:r,onCreate:h}),b?i.a.createElement(d.a,{className:U.a.finishEditingButton,onClick:function(){return k(!1)},shouldFitContainer:!0},q("finish-editing")):i.a.createElement(d.a,{className:U.a.editTemplatesButton,onClick:function(){return k(!0)},shouldFitContainer:!0},q("edit-templates")))},J={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CardTemplate"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"card"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"cardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idBoard"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shortLink"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isTemplate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"closed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idList"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idChecklists"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"attachments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stickers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"top"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"left"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rotate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"zIndex"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageScaled"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scaled"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"idLabels"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idMembers"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idBoard"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"members"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"initials"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idAttachment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scaled"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scaled"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edgeColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"brightness"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"badges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"attachments"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"checkItems"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"attachmentsByType"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trello"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]};var X={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CreateCardFromTemplateLists"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"open"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"closed"},arguments:[],directives:[]}]}}]}}]}}]};var Q=n("./packages/nachos/select.ts"),Z=n("./app/src/components/CardTemplatesPopover/CreateCardFromTemplatePopover.less"),ee=n.n(Z);function te(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function ne(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){te(o,r,i,a,s,"next",e)}function s(e){te(o,r,i,a,s,"throw",e)}a(void 0)}))}}function re(){return(re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ie(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ae(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var se=Object(k.forTemplate)("card-templates");function le(e,t){var n=oe(Object(r.useState)(e||t),2),i=n[0],o=n[1],a=oe(Object(r.useState)(!1),2),s=a[0],l=a[1];return Object(r.useEffect)((function(){o(e),s||e===t||l(!0)}),[t,s,e]),[i,o,s]}var ce=function(e){var t=e.checked,n=e.setChecked,r=e.id,o=e.labelKey,a=e.count,s=e.disabled;return i.a.createElement("div",{className:"check-div u-clearfix"},i.a.createElement("input",{disabled:s,type:"checkbox",id:r,"aria-checked":t,checked:t,onChange:function(e){return n(e.target.checked)}}),i.a.createElement("label",{htmlFor:r},se(o,{count:a})))},de=function(e){var t=e.loaded,n=ie(e,["loaded"]),o=Object(r.useRef)(null);return Object(r.useEffect)((function(){o.current&&(o.current.focus(),o.current.select())}),[t]),i.a.createElement("textarea",re({className:ee.a.templateCardEditTitle,ref:o},n))},ue=function(e){var t,n,a,s,u=e.idCard,m=e.createCard,f=e.showLists,h=e.hideEditButton,g=e.editTemplate,v=(s={variables:{cardId:u}},o.c(J,s)),b=v.data,k=v.loading,x=v.error,_=b&&b.card?b.card:void 0,S=function(e){return o.c(X,e)}({skip:!_||k,fetchPolicy:"cache-and-network",variables:{boardId:_&&_.idBoard||""}}),O=S.data,E=S.loading,N=S.error,T=l({fetchPolicy:"cache-and-network"}),P=T.data,B=T.loading,D=oe(le(_&&_.name?_.name:"",""),3),I=D[0],A=D[1],L=D[2],M=oe(le(_&&_.idList?_.idList:void 0,void 0),2),F=M[0],R=M[1],z=oe(Object(r.useState)(!0),2),V=z[0],U=z[1],H=oe(Object(r.useState)(!0),2),W=H[0],G=H[1],q=oe(Object(r.useState)(!0),2),K=q[0],Y=q[1],Z=oe(Object(r.useState)(!0),2),te=Z[0],re=Z[1],ie=oe(Object(r.useState)(!0),2),ae=ie[0],ue=ie[1],pe=oe(Object(r.useState)(!1),2),me=pe[0],fe=pe[1],he=oe(Object(r.useState)(!1),2),ge=he[0],ve=he[1],be=(O&&O.board&&O.board.lists?O.board.lists:[]).map((function(e){return{label:e.name,value:e.id}})),ye=be&&be.find((function(e){return e.value===F}))||be[0],ke=Object(r.useCallback)(ne(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(t=I.trim()).length){e.next=3;break}return e.abrupt("return");case 3:return n=t.replace(/\r/g," ").replace(/\n/g," "),fe(!0),r=[],V&&r.push("checklists"),W&&r.push("attachments"),K&&r.push("stickers"),ae&&r.push("members"),te&&r.push("labels"),e.prev=11,e.next=14,m(n,u,r,F);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(11),ve(!0);case 19:fe(!1);case 20:case"end":return e.stop()}}),e,null,[[11,16]])}))),[V,W,K,ae,te,m,I,u,F]);if(B||k||f&&E)return i.a.createElement(c.a,{centered:!0});if(x||!_||ge||f&&N)return i.a.createElement("div",{id:"createCardFromTemplateError"},se("something-went-wrong"));var we=_.idChecklists.length>0,xe=_.attachments.length>0,Ce=_.stickers.length>0,_e=_.idLabels.length>0,je=_.idMembers.length>0,Se=we||xe||Ce||_e||je,Oe=y(_,_.members),Ee=Oe.cover,Ne=Oe.badges,Te=Oe.labels,Pe=Oe.members,Be=Oe.stickers,De=Ee;"full"===(null===(t=De)||void 0===t?void 0:t.size)&&(De.size="normal"),V||(Ne.checklistItems=0),W||(Ne.attachments=0,Ne.attachmentsByType.trello.board=0,Ne.attachmentsByType.trello.card=0,_.cover&&_.cover.idAttachment&&(De=null));var Ie=$.TrelloStorage.get("labelState")||{showText:!1},Ae=null==P||null===(n=P.member)||void 0===n||null===(a=n.prefs)||void 0===a?void 0:a.colorBlind;return i.a.createElement("div",null,i.a.createElement("div",{className:ee.a.templateCard},i.a.createElement(p.a,{name:_.name,cover:De,badges:Ne,labels:te?Te:[],expandLabels:Ie.showText,members:ae?Pe:[],stickers:K?Be:[],colorBlind:Ae,replacements:{CardTitle:i.a.createElement("div",{className:ee.a.templateCardNameContainer},i.a.createElement(de,{disabled:me,name:"title",placeholder:_.name||se("title"),value:I,loaded:L,onChange:function(e){return A(e.target.value)},onKeyDown:function(e){Object(j.getKey)(e)===j.Key.Enter&&(e.preventDefault(),ke())}}))}})),Se&&i.a.createElement(i.a.Fragment,null,i.a.createElement("label",null,se("keep")),we&&i.a.createElement(ce,{disabled:me,id:"idKeepChecklists",checked:V,setChecked:U,labelKey:"checklists",count:_.idChecklists.length}),_e&&i.a.createElement(ce,{disabled:me,id:"idKeepLabels",checked:te,setChecked:re,labelKey:"labels",count:_.idLabels.length}),je&&i.a.createElement(ce,{disabled:me,id:"idKeepMembers",checked:ae,setChecked:ue,labelKey:"members",count:_.idMembers.length}),xe&&i.a.createElement(ce,{disabled:me,id:"idKeepAttachments",checked:W,setChecked:G,labelKey:"attachments",count:_.attachments.length}),Ce&&i.a.createElement(ce,{disabled:me,id:"idKeepStickers",checked:K,setChecked:Y,labelKey:"stickers",count:_.stickers.length})),f&&i.a.createElement("label",null,se("list"),i.a.createElement(Q.a,{options:be,value:ye,isDisabled:!be.length,onChange:function(e){var t=e.value;return R(t)}})),i.a.createElement(d.a,{className:ee.a.createCardButton,isLoading:me,isDisabled:me||0===I.trim().length,appearance:"primary",shouldFitContainer:!0,onClick:ke},se("create-card")),!h&&i.a.createElement(w.a,{onClick:function(){Object(C.trackUe)({category:C.Noun.CARD_TEMPLATES,verb:C.Verb.OPENS,directObj:C.Noun.CARD_TEMPLATE,indirectObj:C.Noun.CREATE_CARD_FROM_TEMPLATE_MENU,method:"by clicking the edit this template button"}),null==g||g(u)},className:ee.a.editTemplateLink,href:"/c/".concat(_.shortLink)},i.a.createElement(d.a,{className:ee.a.editTemplateButton,isDisabled:me,appearance:"default",shouldFitContainer:!0},se("edit-this-template"))))},pe=n("./app/common/vendor/backbone.ts"),me=n("./packages/nachos/popover.ts"),fe=n("./app/gamma/src/components/popover/popover-confirm.tsx"),he={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteCardTemplate"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idCard"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteCard"},arguments:[{kind:"Argument",name:{kind:"Name",value:"idCard"},value:{kind:"Variable",name:{kind:"Name",value:"idCard"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"success"},arguments:[],directives:[]}]}}]}}]};var ge=n("./app/src/components/CardTemplatesPopover/CardTemplatesButton.less"),ve=n.n(ge);function be(){return(be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ye(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function ke(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){ye(o,r,i,a,s,"next",e)}function s(e){ye(o,r,i,a,s,"throw",e)}a(void 0)}))}}function we(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ce,_e=Object(k.forNamespace)("view title"),je=Object(k.forTemplate)("list"),Se=Object(k.forNamespace)(["confirm","delete template card"]);!function(e){e[e.CardTemplates=0]="CardTemplates",e[e.CreateCardFromTemplate=1]="CreateCardFromTemplate",e[e.ConfirmDelete=2]="ConfirmDelete"}(Ce||(Ce={}));var Oe=function(e){var t,n=e.idList,a=e.idBoard,s=e.createCard,l=we(Object(r.useState)(!1),2),c=l[0],d=l[1],p=we(Object(r.useState)(""),2),m=p[0],f=p[1],h=we(Object(r.useState)(""),2),g=h[0],v=h[1],b=we(o.b(he,t),1)[0],y=Object(r.useCallback)((function(){Object(C.trackUe)({category:C.Noun.CARD_TEMPLATES,verb:C.Verb.OPENS,directObj:C.Noun.CARD_TEMPLATES_MENU,context:{entry:C.Noun.LIST}})}),[]),k=Object(r.useCallback)((function(){d(!1)}),[]),w=Object(me.d)({initialScreen:Ce.CardTemplates,onShow:y,onHide:k}),x=w.toggle,_=w.hide,j=w.triggerRef,S=w.popoverProps,O=w.push,E=w.pop,N=function(){var e=ke(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,b({variables:{idCard:g}});case 4:Object(C.trackUe)({category:C.Noun.CARD_TEMPLATES,verb:C.Verb.DELETES,directObj:C.Noun.CARD_TEMPLATE,indirectObj:C.Noun.CARD_TEMPLATES_MENU}),E();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=ke(regeneratorRuntime.mark((function e(t,n,r){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s(t,n,r);case 3:i=e.sent,Object(C.trackUe)({category:C.Noun.CARD_TEMPLATES,verb:C.Verb.COMPLETES,directObj:C.Noun.CREATE_CARD_FROM_TEMPLATE_MENU,context:{entry:C.Noun.LIST}}),_(),i(),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n,r){return e.apply(this,arguments)}}();return i.a.createElement(i.a.Fragment,null,i.a.createElement(u.a,{content:je("create-from-template"),delay:100,hideTooltipOnMouseDown:!0},i.a.createElement("a",{className:ve.a.cardTemplateButton,ref:j,onClick:x,role:"button",href:"#"},i.a.createElement("span",{className:"icon-sm icon-template-card dark-background-hover"}))),i.a.createElement(me.b,be({},S,{dangerous_className:ve.a.popover}),i.a.createElement(me.c,{id:Ce.CardTemplates,title:_e("card templates")},i.a.createElement(Y,{idList:n,idBoard:a,onSelect:function(e){f(e),O(Ce.CreateCardFromTemplate)},onTemplateCreated:function(e){_(),pe.a.history.navigate("/c/".concat(e.shortLink),{trigger:!0})},confirmDelete:function(e){v(e),O(Ce.ConfirmDelete)},isEditing:c,setIsEditing:d,editTemplate:function(){return _()}})),i.a.createElement(me.c,{id:Ce.CreateCardFromTemplate,title:_e("create card")},i.a.createElement(ue,{idCard:m,createCard:T,editTemplate:function(){_()}})),i.a.createElement(me.c,{id:Ce.ConfirmDelete,title:Se("title")},i.a.createElement(fe.a,{confirmKey:"delete template card",confirmCallback:N,isDanger:!0}))))}},"./app/src/components/Facepile/Facepile.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Facepile/Facepile.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./app/src/components/Facepile/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./node_modules/classnames/index.js"),a=n.n(o),s=n("./app/src/components/MemberAvatar/index.ts"),l=n("./app/src/components/Facepile/Facepile.less"),c=n.n(l),d=function(e){var t=e.avatarSize,n=void 0===t?30:t,r=e.maxFaceCount,o=void 0===r?5:r,l=e.showMore,d=void 0===l||l,u=e.memberIds,p=e.renderAvatar,m=e.onShowMoreClick,f=e.showMoreRef,h=u.slice(0,o).map((function(e){return p?p(e):i.a.createElement(s.a,{idMember:e,size:n})}));return i.a.createElement("div",{className:c.a.facepile},!!d&&u.length>o&&i.a.createElement("div",{ref:f,onClick:m,className:a()(c.a.showMore,m&&c.a.showMoreClickable),style:{width:n,height:n},role:"button"},"+",u.length-o),h.reverse().map((function(e,t){return i.a.createElement("div",{key:t,className:c.a.avatar},e)})))}},"./app/src/components/Feedback/Feedback.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Feedback/Feedback.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./app/src/components/Feedback/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"Feedback",(function(){return v}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./packages/analytics/index.ts"),a=n("./node_modules/classnames/index.js"),s=n.n(a),l=n("./app/common/lib/util/i18n/index.ts"),c=n("./app/src/components/Feedback/Feedback.less"),d=n.n(c),u=n("./app/src/components/MaxlengthTextarea/index.ts");function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=Object(l.forTemplate)("feedback_collectors",{returnBlankForMissingStrings:!0}),v=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({placement:"",context:""},e),n=t.onClose,a=t.surveyName,l=t.placement,c=t.context;function m(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return g([a,e])||t&&g(["defaults",e])||void 0}var v=m("preface"),b=m("yes-no-question"),y=m("freeform-question"),k=m("yes",!0),w=m("no",!0),x=m("submit",!0),C=void 0!==b,_=void 0!==y,j=p(Object(r.useState)(""),2),S=j[0],O=j[1],E=p(Object(r.useState)(),2),N=E[0],T=E[1],P=void 0!==b&&void 0===N&&_&&0===S.length;return i.a.createElement("form",{onSubmit:function(e){e.preventDefault(),Object(o.track)(a,l,S,c,!0===N?1:!1===N?0:void 0),n&&n()}},v&&i.a.createElement("p",null,v),C&&i.a.createElement(i.a.Fragment,null,i.a.createElement("label",null,i.a.createElement("div",{className:d.a.question},b)),i.a.createElement("div",{className:d.a.useful},i.a.createElement("button",{type:"button",className:s()("button",{[d.a.selected]:!0===N}),onClick:function(){return T(!0!==N||void 0)}},k),i.a.createElement("button",{type:"button",className:s()("button",{[d.a.selected]:!1===N}),onClick:function(){return T(!1===N&&void 0)}},w))),_&&i.a.createElement("label",null,i.a.createElement("div",{className:d.a.question},y),i.a.createElement(u.a,{className:d.a.freeform,maxLength:128,onChange:function(e){return O(e.target.value)},value:S})),i.a.createElement("button",{className:s()("button",d.a.submit,{disabled:P}),type:"submit",disabled:P},x))}},"./app/src/components/FreeTrial/FreeTrialBannerActive.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/FreeTrialBannerActive.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./app/src/components/FreeTrial/FreeTrialBannerExpired.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/FreeTrialBannerExpired.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./app/src/components/FreeTrial/FreeTrialPlanSelection.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/FreeTrialPlanSelection.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./app/src/components/FreeTrial/FreeTrialPlanSelection.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./app/common/components/controls/index.tsx"),a=n("./packages/nachos/tooltip.ts"),s=n("./node_modules/classnames/index.js"),l=n.n(s),c=n("./app/src/components/FreeTrial/FreeTrialPlanSelection.less"),d=n.n(c),u=n("./app/common/lib/util/i18n/index.ts"),p=n("./packages/product-features/index.ts"),m=n("./app/src/components/ErrorBoundary/ErrorBoundary.tsx"),f=n("./app/scripts/debug/constants.ts"),h=n("./packages/atlassian-analytics/index.ts");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=Object(u.forNamespace)("upgrade-prompt-plan-selection-consolidated"),k=function(e,t){var n=[e,"features",t];return{title:"free-team"===e?null:y([].concat(n,["title"])),content:y([].concat(n,["content"])),tooltip:"free-team"===e||"boards"===t?null:y([].concat(n,["tooltip"]))}},w=[v({icon:o.IconName.Board},k("bc-team","boards")),v({icon:o.IconName.PowerUp},k("bc-team","pups")),v({icon:o.IconName.ButlerBot},k("bc-team","butler")),v({icon:o.IconName.Subscribe},k("bc-team","admin")),v({icon:o.IconName.Heart},k("bc-team","support")),v({icon:o.IconName.Star},k("bc-team","more"))],x=[v({icon:o.IconName.Board},k("free-team","boards")),v({icon:o.IconName.PowerUp},k("free-team","pups")),v({icon:o.IconName.ButlerBot},k("free-team","butler"))],C=y("after-trial",{price:"$".concat(Object(u.asMoney)(p.OrganizationFeatures.getPrice(p.OrganizationFeatures.currentProducts.yearly)/12)),downgradeOption:i.a.createElement("a",{key:"after-trial-downgrade",target:"_blank",href:"https://help.trello.com/article/836-cancel-trello-business-class"},y("after-trial-downgrade"))}),_=function(e){var t=e.type,s=e.trialLength,c=e.cta,u=e.orgId;return Object(r.useEffect)((function(){h.Analytics.sendScreenEvent({name:"planSelectionModal",containers:{organization:{id:u}}})}),[u]),i.a.createElement(m.a,{tags:{ownershipArea:"trello-bizteam",feature:f.Feature.FreeTrialExistingTeam}},i.a.createElement("div",{className:d.a.heading},i.a.createElement("h1",null,i.a.createElement("img",{src:n("./resources/images/moonshot/bc-sparkle.svg"),alt:"","aria-hidden":"true"}),y([t,"headline"],{dayCount:s})),i.a.createElement("h2",null,y([t,"description"],{dayCount:s}))),i.a.createElement("div",{className:d.a.bodyWrapper},i.a.createElement("div",{className:d.a.freePlan},i.a.createElement("h2",null,y(["free-team","headline"])),i.a.createElement("ul",null,x.map((function(e,t){var n=e.icon,r=e.content;return i.a.createElement("li",{key:t,className:d.a.featureItem},i.a.createElement(o.Icon,{name:n,medium:!0,className:d.a.featureIcon}),i.a.createElement("span",{className:d.a.featureContent},r))})))),i.a.createElement("div",{className:d.a.bcPlan},i.a.createElement("div",{className:d.a.recommendedLabel},y([t,"tag"],{dayCount:s})),i.a.createElement("h2",null,y(["bc-team","headline"])),i.a.createElement("ul",null,w.map((function(e,t){var n=e.icon,r=e.title,s=e.content,c=e.tooltip;return i.a.createElement("li",{key:t,className:l()(d.a.featureItem,!!c&&d.a.tooltipTarget)},function(e,t){return e?i.a.createElement(a.a,{content:e,component:a.b},t):t}(c,i.a.createElement("div",{className:d.a.featureItemWrapper},i.a.createElement(o.Icon,{name:n,medium:!0,className:d.a.featureIcon}),i.a.createElement("div",null,i.a.createElement("span",{className:d.a.featureTitle},r," ","",i.a.createElement("span",{className:d.a.featureContent},s))))))}))))),i.a.createElement("div",{className:d.a.actions},c,i.a.createElement("div",{className:d.a.trustedBy},i.a.createElement("span",null,y("trusted-by-teams-at")),i.a.createElement("img",{src:n("./resources/images/upgrade-prompts/pinterest.svg"),alt:"Pinterest",width:"22"}),i.a.createElement("img",{src:n("./resources/images/upgrade-prompts/bose.svg"),alt:"Bose",width:"91"}),i.a.createElement("img",{src:n("./resources/images/upgrade-prompts/fortnite.svg"),alt:"Fortnite",width:"58"}),i.a.createElement("img",{src:n("./resources/images/upgrade-prompts/peloton.svg"),alt:"Peloton",width:"85"})),i.a.createElement("p",{className:d.a.afterTrial},C),"try-business-class"===t&&i.a.createElement("a",{onClick:function(){h.Analytics.sendClickedButtonEvent({buttonName:"learnMoreAboutBCButton",source:"planSelectionModal",containers:{organization:{id:u}}})},href:"/business-class",className:d.a.secondaryCta},y([t,"secondary-cta"]))))}},"./app/src/components/FreeTrial/PlanSelection.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/PlanSelection.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./app/src/components/FreeTrial/PlanSelection.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./app/common/components/controls/index.tsx"),a=n("./packages/nachos/tooltip.ts"),s=n("./node_modules/classnames/index.js"),l=n.n(s),c=n("./app/src/components/FreeTrial/PlanSelection.less"),d=n.n(c),u=n("./app/common/lib/util/i18n/index.ts"),p=n("./packages/product-features/index.ts"),m=n("./packages/test-ids/index.ts");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=Object(u.forNamespace)("upgrade prompt plan selection"),b=function(e,t){var n=[e,"features",t];return{title:"free team"===e?null:v([].concat(n,["title"])),content:v([].concat(n,["content"])),tooltip:"free team"===e||"boards"===t?null:v([].concat(n,["tooltip"]))}},y=[h({icon:o.IconName.Board},b("bc team","boards")),h({icon:o.IconName.PowerUp},b("bc team","pups")),h({icon:o.IconName.ButlerBot},b("bc team","butler")),h({icon:o.IconName.Subscribe},b("bc team","admin")),h({icon:o.IconName.Heart},b("bc team","support")),h({icon:o.IconName.Star},b("bc team","more"))],k=[h({icon:o.IconName.Board},b("free team","boards")),h({icon:o.IconName.PowerUp},b("free team","pups")),h({icon:o.IconName.ButlerBot},b("free team","butler"))],w=v("price per user",{price:"$".concat(Object(u.asMoney)(p.OrganizationFeatures.getPrice(p.OrganizationFeatures.currentProducts.yearly)/12))}),x=function(e){var t=e.cta;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:d.a.heading,"data-test-id":m.UpgradePromptTestIds.PlanSelection},i.a.createElement("h1",null,i.a.createElement(o.Icon,{name:o.IconName.BusinessClass,color:o.IconColor.Dark,className:d.a.headingIcon})," ",v("headline")),i.a.createElement("h2",null,v("description"))),i.a.createElement("div",{className:d.a.bodyWrapper},i.a.createElement("div",{className:d.a.freePlan},i.a.createElement("h2",null,v(["free team","headline"])),i.a.createElement("ul",null,k.map((function(e,t){var n=e.icon,r=e.content;return i.a.createElement("li",{key:t,className:d.a.featureItem},i.a.createElement(o.Icon,{name:n,medium:!0,className:d.a.featureIcon}),i.a.createElement("span",{className:d.a.featureContent},r))})))),i.a.createElement("div",{className:d.a.bcPlan},i.a.createElement("div",{className:d.a.recommendedLabel},"Recommended"),i.a.createElement("h2",null,v(["bc team","headline"])),i.a.createElement("ul",null,y.map((function(e,t){var n=e.icon,r=e.title,s=e.content,c=e.tooltip;return i.a.createElement("li",{key:t,className:l()(d.a.featureItem,!!c&&d.a.tooltipTarget)},function(e,t){return e?i.a.createElement(a.a,{content:e,component:a.b},t):t}(c,i.a.createElement("div",{className:d.a.featureItemWrapper},i.a.createElement(o.Icon,{name:n,medium:!0,className:d.a.featureIcon}),i.a.createElement("div",null,i.a.createElement("span",{className:d.a.featureTitle},r," ","",i.a.createElement("span",{className:d.a.featureContent},s))))))}))))),i.a.createElement("div",{className:d.a.actions},i.a.createElement("p",null,w),t,i.a.createElement("a",{href:"/business-class",className:d.a.learnMore},v("learn bc"))))}},"./app/src/components/FreeTrial/PlanSelectionOverlay.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/PlanSelectionOverlay.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./app/src/components/FreeTrial/PlanSelectionOverlay.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return P}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./node_modules/classnames/index.js"),a=n.n(o),s=n("./app/common/lib/util/i18n/index.ts"),l=n("./packages/feature-flag-client/index.ts"),c=n("./app/src/components/Overlay/index.ts"),d=n("./app/src/components/ComponentWrapper/index.ts"),u=n("./app/src/components/FreeTrial/PlanSelection.tsx"),p=n("./app/src/components/FreeTrial/FreeTrialPlanSelection.tsx"),m=n("./app/src/components/FreeTrial/UpsellOverlay.tsx"),f=n("./app/src/components/FreeTrial/useFreeTrialEligibilityRules.ts"),h=n("./packages/atlassian-analytics/index.ts"),g=n("./app/gamma/src/util/experiments.ts"),v=n("./app/src/components/FreeTrial/PlanSelectionOverlay.less"),b=n.n(v),y=n("./app/common/components/controls/index.tsx"),k=n("./app/src/components/Spinner/index.ts"),w=n("./app/common/components/singlespa/router-link.tsx"),x=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),C={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PlanSelectionOverlay"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"memberships"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"memberType"},arguments:[],directives:[]}]}}]}}]}}]};function _(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function j(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){_(o,r,i,a,s,"next",e)}function s(e){_(o,r,i,a,s,"throw",e)}a(void 0)}))}}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=Object(s.forNamespace)("upgrade-prompt-plan-selection-consolidated"),N=Object(s.forNamespace)("upgrade prompt plan selection"),T=function(e){var t,n,o,s,d,v,_,O=e.onClose,T=e.orgId,P=(d=T?{variables:{orgId:T}}:{skip:!0},x.c(C,d)),B=P.data,D=P.loading,I=null==B||null===(t=B.organization)||void 0===t?void 0:t.name,A=null==B||null===(n=B.member)||void 0===n?void 0:n.id,L=null==B||null===(o=B.organization)||void 0===o||null===(s=o.memberships)||void 0===s?void 0:s.find((function(e){return e.idMember===A&&"admin"===e.memberType})),M=Object(f.a)(T),F=M.isEligible,R=M.isTrialActive,z=M.startFreeTrial,V=M.loading,U=S(Object(r.useState)(!1),2),H=U[0],$=U[1],W=S(Object(r.useState)(!1),2),G=W[0],q=W[1],K=Object(l.useFeatureFlag)("btg.free-trial-existing-teams",!1),Y=Object(l.useFeatureFlag)("btg.bc-team-onboarding",!1),J=F&&K,X=function(){var e=j(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!G){e.next=2;break}return e.abrupt("return");case 2:return h.Analytics.sendTrackEvent({action:"accepted",actionSubject:"freeTrial",source:"freeTrialModal",containers:{organization:{id:T}}}),q(!0),e.next=6,z();case 6:q(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=(v=V?void 0:!!R,_=Object(r.useRef)(),Object(r.useEffect)((function(){_.current=v}),[v]),_.current);Object(r.useEffect)((function(){var e=g.a.get("bcTeamOnboarding",T);R&&!1===Q&&Y&&"enabled"===e.get("variation")&&O()}),[Y,R,Q,O,T]);var Z=function(){var e=j(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h.Analytics.sendClickedButtonEvent({buttonName:"backButton",source:"planSelectionModal",containers:{organization:{id:T}}}),$(!1);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=j(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h.Analytics.sendClosedComponentEvent({componentType:"modal",componentName:"freeTrialModal",source:"planSelectionModal"}),O();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(D||V)return null;var te=i.a.createElement(u.a,{cta:L?i.a.createElement(w.a,{onClick:function(){return O()},href:"/".concat(I,"/billing"),className:b.a.planSelectionCtaButton},N("start bc")):i.a.createElement("a",{className:b.a.planSelectionCtaButton,href:"/business-class"},N("start bc"))});return K&&(F?te=H?i.a.createElement(p.a,{type:"try-business-class",orgId:T,cta:i.a.createElement("button",{className:b.a.freeTrialPlanSelectionCtaButton,onClick:X},G?i.a.createElement(k.a,{centered:!0,small:!0,wrapperClassName:b.a.spinner}):E(["try-business-class","cta"],{dayCount:14})),trialLength:14}):i.a.createElement(m.a,{onCtaClick:X,isLoading:G,orgId:T,onLearnMore:function(){return $(!0)}}):R&&(te=i.a.createElement(p.a,{type:"have-business-class",cta:i.a.createElement("a",{className:b.a.freeTrialPlanSelectionCtaButton,href:"/business-class"},N("learn bc")),orgId:T,trialLength:14}))),i.a.createElement(c.a,{onClose:O,background:c.c.DARK},i.a.createElement("div",{className:a()(b.a.animation,b.a.overlay,K&&b.a.overlayExistingTeams,(R||H)&&b.a.overlayViewingPlan,J&&H&&b.a.grow,J&&!H&&b.a.shrink),tabIndex:-1,ref:function(e){e&&e.focus()}},K&&H&&i.a.createElement("button",{className:b.a.back,title:"Todo","aria-label":"Todo",onClick:function(){return Z()}},i.a.createElement(y.Icon,{name:y.IconName.Back,large:!0})),i.a.createElement("button",{className:b.a.close,title:N("close"),"aria-label":N("close"),onClick:function(){return ee()}},i.a.createElement(y.Icon,{name:y.IconName.Close,large:!0})),te))},P=function(e){return i.a.createElement(d.ComponentWrapper,null,i.a.createElement(T,e))}},"./app/src/components/FreeTrial/UpsellOverlay.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/UpsellOverlay.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./app/src/components/FreeTrial/UpsellOverlay.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./app/common/lib/util/i18n/index.ts"),a=n("./app/common/components/controls/button/button.tsx"),s=n("./app/src/components/Spinner/index.ts"),l=n("./app/common/components/controls/index.tsx"),c=n("./packages/atlassian-analytics/index.ts"),d=n("./app/src/components/FreeTrial/UpsellOverlay.less"),u=n.n(d),p=n("./packages/test-ids/index.ts"),m=Object(o.forNamespace)(""),f=Object(o.forNamespace)(["free trial existing","upsell"]),h=[f("things-to-know-point-1"),f("things-to-know-point-2"),f("things-to-know-point-3",{priority:i.a.createElement("a",{href:"https://help.trello.com",style:{marginRight:4},key:"things-to-know-point-3-priority-support"},f("things-to-know-point-3-priority-support"))}),f("things-to-know-point-4")],g=function(e){var t=e.onLearnMore,o=e.orgId,d=e.onCtaClick,g=e.isLoading;return Object(r.useEffect)((function(){c.Analytics.sendScreenEvent({name:"freeTrialModal",containers:{organization:{id:o}}})}),[o]),i.a.createElement("div",{className:u.a.upsellOverlay},i.a.createElement("div",{className:u.a.upsellOverlayHeader},i.a.createElement("img",{src:n("./resources/images/free-trial/light.svg"),alt:"free-trial-light",role:"presentation",width:"101",height:"90"}),i.a.createElement("div",{className:u.a.upsellOverlayTag},f(["upsell","tag"])),i.a.createElement("h3",null,f(["upsell","headline"])),i.a.createElement("p",null,f(["upsell","content"])),i.a.createElement(a.a,{className:u.a.button,buttonType:a.c.PRIMARY,"data-test-id":p.FreeTrialTestIds.StartFreeTrialButton,onClick:d,size:a.b.FULLWIDTH},g?i.a.createElement(s.a,{centered:!0,small:!0,wrapperClassName:u.a.spinner}):f(["upsell","maincta"]))),i.a.createElement("div",{className:u.a.upsellOverlayBody},i.a.createElement("div",{className:u.a.upsellOverlayBodyHeader},i.a.createElement("h3",null,f(["upsell","things-to-know-header"])),i.a.createElement("img",{src:n("./resources/images/free-trial/thumbs-up.svg"),alt:"free-trial-thumbs-up",role:"presentation",width:"94",height:"93"})),i.a.createElement("div",{className:u.a.upsellOverlayThings},h.map((function(e,t){return i.a.createElement("div",{key:t.toString(),className:u.a.upsellOverlayThing},i.a.createElement("div",{className:u.a.upsellOverlayThingBullet,"aria-hidden":"true",role:"presentation"})," ",e)}))),i.a.createElement(a.a,{className:u.a.learnMoreStep,buttonType:a.c.LINKBUTTON,onClick:function(){t(),c.Analytics.sendClickedButtonEvent({buttonName:"learnMoreButton",source:"freeTrialModal",containers:{organization:{id:o}}})},size:a.b.FULLWIDTH},m(["learn more button"])," ",i.a.createElement(l.Icon,{name:l.IconName.Forward,small:!0}))))}},"./app/src/components/FreeTrial/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"UpsellOverlay",(function(){return r.a})),n.d(t,"FreeTrialBanner",(function(){return G})),n.d(t,"PlanSelection",(function(){return q.a})),n.d(t,"FreeTrialPlanSelection",(function(){return K.a})),n.d(t,"PlanSelectionOverlay",(function(){return g.a})),n.d(t,"PlanSelectionOverlayConnected",(function(){return g.b})),n.d(t,"useFreeTrialEligibilityRules",(function(){return z.a}));var r=n("./app/src/components/FreeTrial/UpsellOverlay.tsx"),i=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),o={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"FreeTrialDismissBannerAndConfetti"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"memberId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"messageId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addOneTimeMessagesDismissed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"memberId"},value:{kind:"Variable",name:{kind:"Name",value:"memberId"}}},{kind:"Argument",name:{kind:"Name",value:"messageId"},value:{kind:"Variable",name:{kind:"Name",value:"messageId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"},arguments:[],directives:[]}]}}]}}]};function a(e){return i.b(o,e)}var s=n("./node_modules/react/index.js"),l=n.n(s),c=n("./node_modules/classnames/index.js"),d=n.n(c),u=n("./packages/nachos/button.ts"),p=n("./app/common/components/controls/icon/index.tsx"),m=n("./app/common/lib/util/i18n/index.ts"),f=n("./app/src/components/FreeTrial/FreeTrialBannerActive.less"),h=n.n(f),g=n("./app/src/components/FreeTrial/PlanSelectionOverlay.tsx"),v=n("./packages/atlassian-analytics/index.ts"),b=n("./node_modules/canvas-confetti/dist/confetti.module.mjs"),y=n("./node_modules/underscore/underscore.js"),k=n.n(y),w=n("./app/src/components/ErrorBoundary/ErrorBoundary.tsx"),x=n("./app/scripts/debug/constants.ts"),C=n("./packages/test-ids/index.ts"),_=n("./app/common/components/singlespa/router-link.tsx");function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O=Object(m.forNamespace)("free trial existing"),E=function(e){var t,n,r,i,o,c,f=e.orgId,y=e.dismissBanner,S=e.data,E=e.freeTrialRules,N=j(Object(s.useState)(!1),2),T=N[0],P=N[1],B=function(){return P(!0)},D="free-trial-banner-confetti-".concat(f),I=j(a(),1)[0],A=E.daysLeft,L=E.isAdmin,M=(null==S||null===(t=S.member)||void 0===t?void 0:t.oneTimeMessagesDismissed)?null==S||null===(n=S.member)||void 0===n?void 0:n.oneTimeMessagesDismissed:[],F=j(Object(s.useState)(0),2),R=F[0],z=F[1],V=j(Object(s.useState)(0),2),U=V[0],H=V[1],$=Object(s.useCallback)((function(){I({variables:{memberId:"me",messageId:D},optimisticResponse:{__typename:"Mutation",addOneTimeMessagesDismissed:{id:"me",oneTimeMessagesDismissed:M.concat([D]),__typename:"Member"}}})}),[M,I,D]),W=M.includes(D);Object(s.useEffect)((function(){R&&U&&!W&&(Object(b.default)({angle:k.a.random(0,45),spread:k.a.random(150,180),particleCount:150,origin:{x:0,y:U/window.innerHeight}}),$())}),[R,U,W,$]);var G=Object(s.useCallback)((function(e){if(null!==e){var t=e.getBoundingClientRect();z(t.x+t.width/2),H(t.y+t.height/2)}W&&b.default.reset()}),[W]),q=null==S||null===(r=S.organization)||void 0===r?void 0:r.displayName,K=null==S||null===(i=S.organization)||void 0===i?void 0:i.name,Y=K?"/".concat(K,"/billing"):"",J=!!(null==S||null===(o=S.organization)||void 0===o||null===(c=o.paidAccount)||void 0===c?void 0:c.cardType);return l.a.createElement(w.a,{tags:{ownershipArea:"trello-bizteam",feature:x.Feature.FreeTrialExistingTeam}},l.a.createElement("div",{className:d()(h.a.container,h.a.bannerBg),"data-test-id":C.FreeTrialTestIds.ActiveFreeTrialBanner,role:"banner"},l.a.createElement("div",{className:h.a.bcContainer},l.a.createElement("span",{role:"img","aria-label":"confetti",className:h.a.emoji},""),Object(m.localizeCount)("free-trial-banner-tagline-by-days",A,{teamName:l.a.createElement(l.a.Fragment,{key:q},q),days:l.a.createElement("div",{ref:G,key:"".concat(q,"-").concat(A),className:h.a.daysContainer},A)})),l.a.createElement("div",{className:h.a.ctaContainer},L&&!J?l.a.createElement(l.a.Fragment,null,l.a.createElement("a",{role:"button",className:h.a.linkCta,"data-test-id":C.FreeTrialTestIds.LearnMoreBannerLink,onClick:function(){v.Analytics.sendClickedLinkEvent({linkName:"learnMoreLink",source:"freeTrialBanner",containers:{organization:{id:f}}}),B()}},Object(m.forNamespace)("learn more button")("")),l.a.createElement(_.a,{className:h.a.linkButton,href:Y,onClick:function(){var e=L?"addPaymentButton":"upgradeButton";v.Analytics.sendClickedButtonEvent({buttonName:e,source:"freeTrialBanner",containers:{organization:{id:f}}})},testId:C.FreeTrialTestIds.BannerAddPaymentButton},O(["banner","add-payment-method"]))):l.a.createElement(l.a.Fragment,null,l.a.createElement(u.a,{className:h.a.button,appearance:"primary",onClick:function(){v.Analytics.sendClickedButtonEvent({buttonName:"learnMoreButton",source:"freeTrialBanner",containers:{organization:{id:f}}}),B()}},Object(m.forNamespace)("learn more button")("")),l.a.createElement("button",{className:h.a.closeButton,onClick:y},l.a.createElement(p.default,{className:h.a.closeIcon,name:p.IconName.Close,medium:!0}))))),T&&l.a.createElement(g.a,{orgId:f,onClose:function(){return P(!1)}}))},N=n("./packages/product-features/index.ts"),T=n("./node_modules/moment/moment.js"),P=n.n(T),B=n("./app/src/components/FreeTrial/FreeTrialBannerExpired.less"),D=n.n(B),I=Object(m.forNamespace)("free trial existing"),A=function(e){var t,n,r,i,o,a,s,c,u,m=e.orgId,f=e.dismissBanner,h=e.data,g=null==h||null===(t=h.organization)||void 0===t?void 0:t.displayName,b=null==h||null===(n=h.organization)||void 0===n?void 0:n.name,y=b?"/".concat(b,"/billing"):"",k=N.MemberFeatures.hasProduct(null!==(r=null==h||null===(i=h.member)||void 0===i||null===(o=i.paidAccount)||void 0===o?void 0:o.product)&&void 0!==r?r:0),j=P()(null!==(a=null==h||null===(s=h.member)||void 0===s||null===(c=s.paidAccount)||void 0===c?void 0:c.expiresAt)&&void 0!==a?a:"").format("MM/DD");return u=k?I(["banner","expired tagline gold"],{date:l.a.createElement(l.a.Fragment,{key:"date-expired"},j)}):I(["banner","expired tagline"],{teamName:l.a.createElement(l.a.Fragment,{key:g},g)}),l.a.createElement(w.a,{tags:{ownershipArea:"trello-bizteam",feature:x.Feature.FreeTrialExistingTeam}},l.a.createElement("div",{className:d()(D.a.container,D.a.expiredBg),"data-test-id":C.FreeTrialTestIds.ExpiredFreeTrialBanner,role:"banner"},l.a.createElement("div",{className:D.a.bcContainer},l.a.createElement("span",{role:"img","aria-label":"wave",className:D.a.emoji},""),u),l.a.createElement("div",{className:D.a.ctaContainer},k&&l.a.createElement(_.a,{role:"button",className:D.a.linkCta,onClick:function(){v.Analytics.sendClickedLinkEvent({linkName:"goldLink",source:"freeTrialBanner",containers:{organization:{id:m}}})},href:"/me/billing"},I(["banner","renew-gold"])),l.a.createElement(_.a,{className:D.a.linkButton,href:y,onClick:function(){f(),v.Analytics.sendClickedButtonEvent({buttonName:"upgradeButton",source:"freeTrialBanner",containers:{organization:{id:m}}})}},I(["banner","add-payment-method"])),l.a.createElement("button",{className:D.a.closeButton,onClick:f},l.a.createElement(p.default,{className:D.a.closeIcon,name:p.IconName.Close,medium:!0})))))},L=n("./packages/config/index.ts"),M=n("./node_modules/js-cookie/src/js.cookie.js"),F=n.n(M),R={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FreeTrialBanner"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"paidAccount"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"product"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idEnterprise"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"paidAccount"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cardType"},arguments:[],directives:[]}]}}]}}]}}]};var z=n("./app/src/components/FreeTrial/useFreeTrialEligibilityRules.ts"),V=n("./packages/organizations/index.ts");function U(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function H(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){U(o,r,i,a,s,"next",e)}function s(e){U(o,r,i,a,s,"throw",e)}a(void 0)}))}}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var G=function(e){var t,n,r,o,s=e.orgId,c="free-trial-banner-".concat(s),d=$(a(),1)[0],u=Object(z.a)(s),p=u.hasCredit,m=u.isTrialActive,f=u.trialSource,h=u.isAdmin,g=(o={variables:{orgId:s}},i.c(R,o)),b=g.data,y=g.loading,k=(null==b||null===(t=b.member)||void 0===t?void 0:t.oneTimeMessagesDismissed)?null==b||null===(n=b.member)||void 0===n?void 0:n.oneTimeMessagesDismissed:[];if(!p||k.includes(c)||y||!b||(null==b||null===(r=b.organization)||void 0===r?void 0:r.idEnterprise)||L.dontUpsell)return null;var C=F.a.get("simulateExpiredTrial"),_=m&&!C,j=f===V.TrialSource.Moonshot,S=function(){var e=H(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=h&&_?"admin":_?"normal":"expired",v.Analytics.sendViewedBannerEvent({bannerName:"freeTrialBanner",source:Object(v.getScreenFromUrl)(),containers:{organization:{id:s}},attributes:{type:t}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=H(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v.Analytics.sendDismissedComponentEvent({componentType:"banner",componentName:"freeTrialBanner",source:Object(v.getScreenFromUrl)(),containers:{organization:{id:s}}}),d({variables:{memberId:"me",messageId:c},optimisticResponse:{__typename:"Mutation",addOneTimeMessagesDismissed:{id:"me",oneTimeMessagesDismissed:k.concat([c]),__typename:"Member"}}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return!h&&!_||h&&j?null:(S(),l.a.createElement(w.a,{tags:{ownershipArea:"trello-bizteam",feature:x.Feature.FreeTrialExistingTeam}},_?l.a.createElement(E,{orgId:s,dismissBanner:O,data:b,freeTrialRules:u}):l.a.createElement(A,{orgId:s,dismissBanner:O,data:b})))},q=n("./app/src/components/FreeTrial/PlanSelection.tsx"),K=n("./app/src/components/FreeTrial/FreeTrialPlanSelection.tsx")},"./app/src/components/FreeTrial/useFreeTrialEligibilityRules.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FreeTrialEligibilityRules"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"products"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"paidAccount"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"standing"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"credits"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"freeTrial"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"memberships"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"memberType"},arguments:[],directives:[]}]}}]}}]}}]};function o(e){return r.c(i,e)}var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddFreeTrialCredit"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addFreeTrial"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orgId"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paidAccount"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"products"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"standing"},arguments:[],directives:[]}]}}]}}]}}]};function s(e){return r.b(a,e)}var l={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FreeTrialProtected"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"memberships"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"memberType"},arguments:[],directives:[]}]}}]}}]}}]};function c(e){return r.c(l,e)}var d=n("./packages/organizations/index.ts"),u=n("./packages/paid-account/index.ts"),p=n("./packages/feature-flag-client/index.ts"),m=n("./app/scripts/controller/navigate.js"),f=n("./app/gamma/src/util/experiments.ts");function h(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){h(o,r,i,a,s,"next",e)}function s(e){h(o,r,i,a,s,"throw",e)}a(void 0)}))}}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y=function(e){var t,n,r,i,a,l,h,b,y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skip:!1},k=c(e&&!y.skip?{variables:{orgId:e}}:{skip:!0}),w=k.data,x=k.loading,C=null==w||null===(t=w.member)||void 0===t?void 0:t.id,_=null==w||null===(n=w.organization)||void 0===n?void 0:n.memberships.find((function(e){return e.idMember===C})),j=o(e&&_&&!y.skip?{variables:{orgId:e}}:{skip:!0}),S=j.data,O=j.refetch,E=j.loading,N=s(),T=v(N,1),P=T[0],B=Object(p.useFeatureFlag)("btg.bc-team-onboarding",!1),D=null==S||null===(r=S.organization)||void 0===r?void 0:r.name,I=(null==S||null===(i=S.organization)||void 0===i?void 0:i.credits)||[],A=(null==S||null===(a=S.organization)||void 0===a?void 0:a.products)||[],L=Object(u.needsCC)(null==S||null===(l=S.organization)||void 0===l||null===(h=l.paidAccount)||void 0===h?void 0:h.standing),M=Object(d.getFreeTrialProperties)(I,A),F=!!(null==M?void 0:M.credit),R=Boolean(C&&!!(null==S||null===(b=S.organization)||void 0===b?void 0:b.memberships.find((function(e){return e.idMember===C&&"admin"===e.memberType})))),z=function(){var t=g(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&!E&&!F){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,P({variables:{orgId:e}});case 4:if(!D||!B){t.next=10;break}if((r=f.a.get("bcTeamOnboarding",e)).track(),"enabled"!==r.get("variation")){t.next=10;break}return Object(m.navigate)("/".concat(D,"/getting-started"),{trigger:!0}),t.abrupt("return");case 10:return t.next=12,O();case 12:null==n||n();case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return{startFreeTrial:z,isAdmin:R,hasCredit:F,isTrialActive:null==M?void 0:M.isActive,isExpired:null==M?void 0:M.isExpired,isEligible:R&&!(null==M?void 0:M.credit)&&!L,loading:E||x,daysLeft:(null==M?void 0:M.daysLeft)||0,trialSource:null==M?void 0:M.trialSource,startDate:null==M?void 0:M.startDate,days:null==M?void 0:M.days}}},"./app/src/components/InfiniteList/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"InfiniteList",(function(){return h}));var r=n("./node_modules/@researchgate/react-intersection-list/lib/es/index.js"),i=n("./app/src/components/Spinner/index.ts"),o=n("./node_modules/react/index.js"),a=n.n(o);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(v,e);var t,n,o,h,g=(t=v,function(){var e,n=m(t);if(p()){var r=m(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return d(this,e)});function v(){var e;s(this,v);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return f(u(e=g.call.apply(g,[this].concat(n))),"loadMoreItems",(function(t,n){var r=e.props,i=r.itemCount,o=r.loadMore;o&&t>=i&&o(t,n)})),e}return n=v,(o=[{key:"render",value:function(){var e=this.props,t=e.axis,n=e.renderEmpty,o=e.renderItem,s=e.itemCount,l=e.itemsRenderer,c=e.isLoading,d=void 0!==c&&c,u=e.awaitMore,p=e.pageSize,m=e.spinnerClassName,f=e.threshold;return a.a.createElement(a.a.Fragment,null,n&&n(0===s),a.a.createElement(r.default,{renderItem:o,itemCount:s,awaitMore:u,onIntersection:this.loadMoreItems,itemsRenderer:l,pageSize:p,threshold:f,axis:t}),d&&a.a.createElement(i.a,{centered:!0,wrapperClassName:m}))}}])&&l(n.prototype,o),h&&l(n,h),v}(a.a.Component)},"./app/src/components/MaxlengthTextarea/MaxlengthTextarea.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MaxlengthTextarea/MaxlengthTextarea.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./app/src/components/MaxlengthTextarea/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./node_modules/classnames/index.js"),a=n.n(o),s=n("./app/src/components/MaxlengthTextarea/MaxlengthTextarea.less"),l=n.n(s),c=function(e){var t=e.value,n=e.maxLength;return i.a.createElement(i.a.Fragment,null,i.a.createElement("textarea",e),i.a.createElement("div",{className:a()(l.a.lengthWarning,{[l.a.show]:t.length>n/2})},n-t.length))}},"./app/src/components/MemberAvatar/MemberAvatar.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MemberAvatar/MemberAvatar.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./app/src/components/MemberAvatar/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return b}));var r=n("./node_modules/classnames/index.js"),i=n.n(r),o=n("./packages/trello-canonical-components/index.ts"),a=n("./app/common/lib/util/i18n/index.ts"),s=n("./packages/members/index.ts"),l=n("./node_modules/react/index.js"),c=n.n(l),d=n("./app/src/components/MemberAvatar/MemberAvatar.less"),u=n.n(d),p=n("./packages/product-features/index.ts"),m=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),f={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MemberAvatar"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"memberId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"memberId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarSource"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"initials"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"products"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nonPublic"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"initials"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]}]}}]}}]}}]};var h=n("./app/common/components/controls/icon/index.tsx"),g=Object(a.forTemplate)("member"),v=[30,50,170],b=function(e){var t=e.avatarSource,n=e.className,r=e.avatarClassName,a=e.fullName,s=e.username,l=e.avatars,d=e.initials,p=e.size,m=void 0===p?30:p,f=e.onClick,b=e.gold,y=e.hoverable,k=e.deactivated,w=y||!!f,x=v.find((function(e){return e>=m})),C=v.find((function(e){return e>=2*m}))||x;if(void 0===x||void 0===C)throw new Error("Invalid member avatar size");var _=!(d||l);return c.a.createElement("div",{className:i()(n,u.a.memberAvatar,d&&d.length>2&&u.a.longInitials),title:s?"".concat(a," (").concat(s,")"):a,onClick:f,role:f&&"button"},c.a.createElement(o.CanonicalAvatar,{avatarSource:t,className:i()(w&&u.a.hoverable,l?u.a.withImage:null,r),img:l&&l[x],img2x:l&&l[C],initials:d,size:m,deactivated:k},_&&c.a.createElement(h.default,{name:h.IconName.Member,large:m>20,quiet:!0})),b&&c.a.createElement("span",{className:u.a.gold,title:g("this-member-has-trello-gold")}))},y=function(e){var t,n=e.avatarSource,r=e.className,i=void 0===r?"":r,o=e.size,a=void 0===o?30:o,l=e.avatarClassName,d=e.idMember,u=e.onClick,h=e.hoverable,g=e.memberData,v=(t={variables:{memberId:d},skip:!d||!!g},m.c(f,t)).data,y=g||v&&v.member,k=y&&y.username||void 0,w=y&&y.nonPublic&&y.nonPublic.fullName||y&&y.fullName||void 0,x=y&&y.nonPublic&&y.nonPublic.avatarUrl||y&&y.avatarUrl||void 0,C=y&&y.nonPublic&&y.nonPublic.initials||y&&y.initials||void 0,_=x&&Object(s.avatarsFromAvatarUrl)(x)||void 0,j=!(!y||!y.products)&&p.MemberFeatures.isFeatureEnabled(p.MemberFeature.Crown,y.products[0]);return c.a.createElement(b,{className:i,avatarSource:n,avatarClassName:l,onClick:u,hoverable:h,username:k,fullName:w,initials:C,avatars:_,gold:j,size:a})}},"./app/src/components/MoveCardPopover/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"MoveCardPopover",(function(){return x}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./node_modules/classnames/index.js"),a=n.n(o),s=n("./packages/nachos/select.ts"),l=n("./packages/colors/index.ts"),c=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),d={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MoveCardPopover"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"open"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"visible"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idList"},arguments:[],directives:[]}]}}]}}]}}]};var u=n("./app/common/lib/util/i18n/index.ts"),p=n("./app/scripts/lib/localize.coffee"),m=n.n(p),f=n("./app/scripts/lib/util/index.coffee"),h=n("./packages/test-ids/index.ts");function g(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var k=Object(u.forTemplate)("popover_move_card"),w=Object(u.forTemplate)("move_card_controls"),x=function(e){var t,n=e.hasEnterprise,o=void 0!==n&&n,u=e.hideBoardSelect,p=void 0!==u&&u,b=e.isMove,y=void 0===b||b,x=e.isCopy,C=void 0!==x&&x,_=e.currentIndex,j=e.defaultBoardId,S=e.defaultBoardName,O=e.defaultListId,E=e.defaultListName,N=e.enterpriseName,T=void 0===N?"":N,P=e.cardList,B=e.organizations,D=e.onSubmit,I=e.restrictToCurrentBoard,A=void 0!==I&&I,L=e.suggestions,M=void 0===L?[]:L,F=v(Object(r.useState)(j),2),R=F[0],z=F[1],V=v(Object(r.useState)(O),2),U=V[0],H=V[1],$=v(Object(r.useState)("bottom"),2),W=$[0],G=$[1],q=v(Object(r.useState)(_),2),K=q[0],Y=q[1],J=(t={fetchPolicy:"network-only",variables:{boardId:R}},c.c(d,t)),X=J.data,Q=J.loading,Z=U===O,ee=B.map((function(e){return{label:e.displayName,options:e.boards.map((function(e){return{label:e.name,value:e.id}}))}})),te=X&&X.board?X.board.lists.map((function(e){return{label:e.name,value:e.id}})):[{label:E,value:O}],ne=te&&te.find((function(e){return e.value===U}))||te[0],re=X&&X.board&&X.board.cards?X.board.cards.filter((function(e){return e.idList===U})).length:0,ie=re||P.length;P.length>re&&Z&&(ie=P.length),ne&&!Z&&(ie=re+1);var oe=X&&X.board?g(Array(ie).keys()).map((function(e){return{label:e+1,value:e}})):[{label:_+1,value:_}],ae=oe[K]||oe[oe.length-1];te.length||(ne={label:m()("no lists"),value:""},ae={label:m()("n/a"),value:-1}),Object(r.useEffect)((function(){!Q&&H(ne.value),!Q&&!Z&&Y(ie)}),[ne.value,Q,ie,Z]),Object(r.useEffect)((function(){!Q&&Y(ae.value)}),[ae.value,Q]),Object(r.useEffect)((function(){G((function(){return 0===K?"top":K===re?"bottom":Object(f.calcPos)(K,P)}))}),[K,P,re]);var se=Object(r.useCallback)((function(e){D(e,R,U,W,K)}),[D,R,K,U,W]);return i.a.createElement(i.a.Fragment,null,M.length>0&&i.a.createElement("div",{className:"pop-over-section"},i.a.createElement("h4",null,i.a.createElement("span",{className:"icon-sm icon-sparkle"}),k("suggested")),M.map((function(e){return i.a.createElement("a",{className:a()({"button-link":!0,"js-suggested-move":!0,"flip-icon":"left"===e.direction}),key:e.id,href:"#","data-id":e.id,"data-position":e.position},i.a.createElement("span",{className:"icon-sm icon-move"}),e.name)})),i.a.createElement("a",{className:"suggested-actions-feedback js-suggested-actions-feedback",href:"#"},k("feedback"))),i.a.createElement("div",{className:"pop-over-section"},i.a.createElement("h4",null,k("select-destination")),i.a.createElement("div",{className:"form-grid"},!p&&i.a.createElement("div",{className:"form-grid-child form-grid-child-full"},A?i.a.createElement(i.a.Fragment,null,i.a.createElement("label",{style:{color:l.N800,fontSize:"14px",marginBottom:"2px",lineHeight:"20px"}},w("board")),i.a.createElement("p",null,B[0].boards[0].name)):i.a.createElement(s.a,{label:w("board"),options:ee,defaultValue:{label:S,value:j},onChange:function(e){var t=e.value;return z(t)},isSearchable:!0,testId:h.SelectTestIds.MoveBoardSelect}),o&&T&&y&&i.a.createElement("p",{className:"quiet",style:{marginTop:"8px"}},w("card-can-only-be-moved-to-teams-within-org",{enterpriseName:T})),o&&T&&C&&i.a.createElement("p",{className:"quiet",style:{marginTop:"8px"}},w("card-can-only-be-copied-to-teams-within-org",{enterpriseName:T}))),i.a.createElement("div",{className:"form-grid-child form-grid-child-threequarters",style:{maxWidth:"100%"}},i.a.createElement(s.a,{label:w("list"),options:te,value:ne,onChange:function(e){var t=e.value;return H(t)},isSearchable:!0,isDisabled:!te.length})),i.a.createElement("div",{className:"form-grid-child"},i.a.createElement(s.a,{label:w("position"),options:oe,value:ae,onChange:function(e){var t=e.value;return Y(t)},isSearchable:!0,isDisabled:!te.length})))),i.a.createElement("input",{className:"primary wide",type:"submit",disabled:!te.length,onClick:function(e){return se(e)},value:k("move")}))}},"./app/src/components/Navigation/SearchUtils.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return l}));var r=n("./node_modules/flexsearch/dist/flexsearch.min.js"),i=n.n(r),o=function(e){return e.trim().toLocaleLowerCase().replace(/[]/g,"a").replace(/[]/g,"e").replace(/[]/g,"i").replace(/[]/g,"o").replace(/[]/g,"u").replace(/[]/g,"y").replace(//g,"n").replace(/[c]/g,"k").replace(//g,"s").replace(/ & /g," and ").replace(/[-_/\\]/g," ").replace(/[,.?#!@~$%^*()+='"<>[\]{}:;]/g,"").replace(/\s+/g," ")},a={izer:"ize",ance:"",ence:"",ness:"",able:"",ible:"",ment:"",ful:"",ent:"",ism:"",ed:"",s:""},s=i.a.create({encode:o,split:/\s+/,stemmer:a,tokenize:"full"}),l=i.a.create({encode:o,split:/\s+/,stemmer:a,tokenize:"full"})},"./app/src/components/Overlay/Overlay.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Overlay/Overlay.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./app/src/components/Overlay/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i}));var r,i,o=n("./node_modules/react/index.js"),a=n.n(o),s=n("./node_modules/classnames/index.js"),l=n.n(s),c=n("./packages/keybindings/index.ts"),d=n("./app/src/components/LayerManager/index.ts"),u=n("./app/src/components/Overlay/Overlay.less"),p=n.n(u),m=n("./packages/layer-manager/index.ts");function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e){e.LIGHT="light",e.DARK="dark"}(r||(r={})),function(e){e.TOP="top"}(i||(i={}));var v=function(){},b=function(e){var t=e.background,n=void 0===t?r.LIGHT:t,s=e.alignment,u=e.className,g=void 0===u?"":u,b=e.closeOnEscape,y=e.onClose,k=void 0===y?v:y,w=e.children,x=h(Object(m.useCallbackRef)(),2),C=x[0],_=x[1],j=Object(o.useCallback)((function(){b&&k()}),[b,k]);Object(c.useShortcut)(j,{scope:c.Scope.Overlay,key:c.Key.Escape});var S=Object(o.useCallback)((function(e){e.defaultPrevented||k()}),[k]),O=Object(m.getHighestVisibleElevation)();return Object(m.useClickOutsideHandler)({element:C,handleClickOutside:S}),a.a.createElement(d.b,{layer:d.c.Overlay},a.a.createElement("div",{className:l()({[p.a.alignTop]:s===i.TOP},p.a.overlay,p.a[n],g)},a.a.createElement("div",f({ref:_,className:p.a.contents},{[m.ELEVATION_ATTR]:O+1}),w)))}},"./app/src/components/PowerUpDirectory/ConfluenceCrossflowBanner.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/PowerUpDirectory/ConfluenceCrossflowBanner.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./app/src/components/PowerUpDirectory/ConfluenceCrossflowBanner.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"ConfluenceCrossflowBanner",(function(){return g}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./packages/atlassian-analytics/index.ts"),a=n("./app/common/lib/util/i18n/index.ts"),s=n("./app/common/components/controls/button/button.tsx"),l=n("./app/gamma/src/util/cross-flow-essentials.ts"),c=n("./app/gamma/src/modules/state/ui/overlay.ts"),d=n("./app/gamma/src/defaultStore.ts"),u=n("./app/src/components/PowerUpDirectory/ConfluenceCrossflowBanner.less"),p=n.n(u),m=n("./resources/images/confluence-crossflow/illustration.png"),f=n("./resources/images/confluence-crossflow/confluence-logo.svg"),h=Object(a.forTemplate)("directory_crossflow"),g=function(e){var t=e.boardId,n=t?{board:{id:t}}:void 0;Object(r.useEffect)((function(){o.Analytics.sendUIEvent({action:"viewed",actionSubject:"banner",actionSubjectId:"confluenceLearnMoreBanner",source:"boardDirectoryFeaturedScreen",containers:n})}),[n]);return i.a.createElement("div",{className:p.a.confluenceCrossflowBannerContainer},i.a.createElement("div",{className:p.a.confluenceCrossflowBanner},i.a.createElement("div",{className:p.a.floatingText},h("featured-product")),i.a.createElement("img",{src:m,className:p.a.illustration,alt:""}),i.a.createElement("div",{className:p.a.copyContainer},i.a.createElement("h1",{className:p.a.bannerHeading},i.a.createElement("img",{alt:"Confluence",src:f,className:p.a.confluenceLogo})),i.a.createElement("p",{className:p.a.bannerParagraph},h("confluence-crossflow-description"))),i.a.createElement("div",{className:p.a.ctaContainer},i.a.createElement(s.g,{onClick:function(){o.Analytics.sendUIEvent({action:"clicked",actionSubject:"button",actionSubjectId:"confluenceLearnMoreButton",source:"boardDirectoryFeaturedScreen",containers:n}),d.defaultStore.dispatch(Object(c.setOverlay)({overlayType:c.OverlayType.ProductStore,productKey:"confluence.ondemand",context:{source:"try",campaign:l.UtmCampaign.TOUCHPOINTS_CONFLUENCE_POWERUPS}}))}},h("confluence-button-text")))))}},"./app/src/components/PowerUpDirectory/JSWCrossflowBanner.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/PowerUpDirectory/JSWCrossflowBanner.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./app/src/components/PowerUpDirectory/JSWCrossflowBanner.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"JSWCrossflowBanner",(function(){return g}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./app/common/lib/util/i18n/index.ts"),a=n("./app/common/components/controls/button/button.tsx"),s=n("./packages/atlassian-analytics/index.ts"),l=n("./app/gamma/src/util/cross-flow-essentials.ts"),c=n("./app/gamma/src/modules/state/ui/overlay.ts"),d=n("./app/gamma/src/defaultStore.ts"),u=n("./app/src/components/PowerUpDirectory/JSWCrossflowBanner.less"),p=n.n(u),m=n("./resources/images/jsw-crossflow/intercom.png"),f=n("./resources/images/jsw-crossflow/jira-software.svg"),h=Object(o.forTemplate)("directory_crossflow"),g=function(e){var t=e.boardId;Object(r.useEffect)((function(){s.Analytics.sendUIEvent({action:"viewed",actionSubject:"banner",actionSubjectId:"jswLearnMoreBanner",source:"boardDirectoryFeaturedScreen",containers:t?{board:{id:t}}:void 0})}),[t]);return i.a.createElement("div",{className:p.a.jswCrossflowBannerContainer},i.a.createElement("div",{className:p.a.jswCrossflowBanner},i.a.createElement("div",{className:p.a.floatingText},h("featured-product")),i.a.createElement("img",{src:m,className:p.a.illustration,alt:""}),i.a.createElement("div",{className:p.a.copyContainer},i.a.createElement("h1",{className:p.a.bannerHeading},i.a.createElement("img",{alt:"Jira Software",src:f,className:p.a.jswLogo})),i.a.createElement("p",{className:p.a.bannerParagraph},h("crossflow-description"))),i.a.createElement("div",{className:p.a.ctaContainer},i.a.createElement(a.g,{onClick:function(){s.Analytics.sendUIEvent({action:"clicked",actionSubject:"button",actionSubjectId:"jswLearnMoreButton",source:"boardDirectoryFeaturedScreen",containers:t?{board:{id:t}}:void 0,attributes:{windowWidth:window.innerWidth}}),d.defaultStore.dispatch(Object(c.setOverlay)({overlayType:c.OverlayType.ProductStore,productKey:"jira-software.ondemand",context:{source:"try",campaign:l.UtmCampaign.TOUCHPOINTS_JSW_POWERUPS}}))}},h("button-text")))))}},"./app/src/components/PowerUpDirectory/SearchHelper.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"createSearchIndex",(function(){return l})),n.d(t,"SearchHelper",(function(){return c}));var r=n("./node_modules/underscore/underscore.js"),i=n.n(r),o=n("./node_modules/@atlassian/trello-markdown/lib/index.js"),a=n.n(o),s=n("./app/src/components/Navigation/SearchUtils.ts"),l=function(e){var t=new a.a;return s.b.init({encode:s.a,split:/\s+/,stemmer:s.d,tokenize:"full"}),s.c.init({encode:s.a,split:/\s+/,stemmer:s.d,tokenize:"full"}),e.forEach((function(e){if(e.listing&&(e.listing.name&&s.c.add(e.id,e.listing.name),e.listing.description||e.listing.overview)){var n=[t.text(e.listing.overview||"").output,t.text(e.listing.description||"").output].join(" ");s.b.add(e.id,n)}})),{search(t){var n=s.c.search(t,5),r=s.b.search(t,25);return i.a.uniq(n.concat(r)).map((function(t){return e.find((function(e){return e.id===t}))}))}}},c={createSearchIndex:l}},"./app/src/components/TeamOnboardingPupPopover/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"LazyTeamOnboardingPupPopover",(function(){return a})),n.d(t,"LazyTeamOnboardingPupTooltip",(function(){return s}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./packages/use-lazy-component/index.ts"),a=function(e){var t=Object(o.useLazyComponent)((function(){return n.e(120).then(n.bind(null,"./app/src/components/TeamOnboardingPupPopover/TeamOnboardingPupPopover.tsx"))}),{namedImport:"TeamOnboardingPupPopover"});return i.a.createElement(r.Suspense,{fallback:null},i.a.createElement(t,e))},s=function(e){var t=Object(o.useLazyComponent)((function(){return n.e(121).then(n.bind(null,"./app/src/components/TeamOnboardingPupPopover/TeamOnboardingPupTooltip.tsx"))}),{namedImport:"TeamOnboardingPupTooltip"});return i.a.createElement(r.Suspense,{fallback:null},i.a.createElement(t,e))}},"./app/src/components/TeamTypeSelect/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"TeamTypeSelect",(function(){return f}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./app/common/lib/util/i18n/index.ts"),a=n("./packages/organizations/index.ts"),s=n("./packages/nachos/select.ts"),l=n("./node_modules/underscore/underscore.js");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=Object(o.forNamespace)("team type dropdown"),p=Object(o.forNamespace)("team vertical selection"),m=Object(l.chain)(Object.values(a.TeamTypes)).without(a.TeamTypes.Other).shuffle().value().concat(a.TeamTypes.Other).map((function(e){return{label:p(e),value:e}})),f=function(e){var t=e.isDisabled,n=e.onChange,r=e.initialValue,o=e.testId,a=r?{label:p(r),value:r}:{label:u("default option"),value:""};m.some((function(e){return e.value===r}))||(a={label:u("default option"),value:""});var l=m;return o&&(l=l.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{testId:"".concat(o,"-").concat(e.value)})}))),i.a.createElement(i.a.Fragment,null,i.a.createElement("label",{htmlFor:"teamTypeSelect"},u("input label")),i.a.createElement(s.a,{id:"teamTypeSelect",defaultValue:a,isDisabled:t,options:l,onChange:function(e){n(e.value)},testId:o}))}},"./app/src/components/TeamlessCollaborationPrompt/TeamfulCollaborationAddBoards.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/TeamlessCollaborationPrompt/TeamfulCollaborationAddBoards.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./app/src/components/TeamlessCollaborationPrompt/TeamfulCollaborationAddBoardsMutation.generated.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"TeamfulCollaborationMoveBoardToOrg"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateBoardOrg"},arguments:[{kind:"Argument",name:{kind:"Name",value:"boardId"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}},{kind:"Argument",name:{kind:"Name",value:"orgId"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]};function o(e){return r.b(i,e)}},"./app/src/components/TeamlessCollaborationPrompt/TeamfulCollaborationAddPeople.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/TeamlessCollaborationPrompt/TeamfulCollaborationAddPeople.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./app/src/components/TeamlessCollaborationPrompt/TeamfulCollaborationPrompt.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/TeamlessCollaborationPrompt/TeamfulCollaborationPrompt.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./app/src/components/TeamlessCollaborationPrompt/TeamfulCollaborationPrompt.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"TeamfulCollaborationPrompt",(function(){return le}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./app/common/lib/util/i18n/index.ts"),a=n("./app/src/components/TeamlessCollaborationPrompt/TeamfulCollaborationPrompt.less"),s=n.n(a),l=n("./app/common/components/controls/button/button.tsx"),c=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),d={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TeamfulCollaborationAddBoards"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enterprises"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"boards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"open"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enterpriseOwned"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"memberships"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"memberType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unconfirmed"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"prefs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"backgroundColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundImage"},arguments:[],directives:[]}]}}]}}]}}]}}]};var u=n("./app/src/components/TeamlessCollaborationPrompt/TeamfulCollaborationAddBoardsMutation.generated.tsx"),p=n("./packages/nachos/checkbox.ts"),m=n("./app/src/components/Spinner/index.ts"),f=n("./node_modules/classnames/index.js"),h=n.n(f),g=n("./app/src/components/TeamlessCollaborationPrompt/TeamfulCollaborationAddBoards.less"),v=n.n(g),b=n("./packages/analytics/index.ts"),y=n("./packages/feature-flag-client/index.ts");function k(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var C=n("./app/scripts/views/lib/alerts.coffee"),_=Object(o.forNamespace)("teamful collaboration prompt"),j=function(){},S=function(e){for(var t,n=e.onContinue,o=e.orgId,a=w(Object(u.a)(),1)[0],s=new Set,p=[],f=w(Object(r.useState)(s),2),h=f[0],g=f[1],x=w(Object(r.useState)(!1),2),S=x[0],E=x[1],N=(t={fetchPolicy:"network-only"},c.c(d,t)),T=N.data,P=N.loading,B=function(){if(P)return[];var e=null==T?void 0:T.member;if(!e)return[];for(var t=e.id,n=[],r=y.featureFlagClient.get("btg.workspaces-preamble",!1),i=0;i<e.boards.length;i++){var o=e.boards[i];if(!o.enterpriseOwned&&null===o.idOrganization){for(var a=o.memberships,s=0,l=!1,c=0;c<a.length;c++){var d=a[c],u=d.idMember,p=d.memberType;l||u!==t||"admin"!==p||(l=!0),d.unconfirmed||(s+=1)}(r?s>=2:s>=3)&&l&&n.push(o)}}return n}(),D=Math.min(B.length,4),I=function(e){var t,n,r=B[e],o=(null==r||null===(t=r.prefs)||void 0===t?void 0:t.backgroundColor)?r.prefs.backgroundColor:void 0,a=(null==r||null===(n=r.prefs)||void 0===n?void 0:n.backgroundImage)?r.prefs.backgroundImage:void 0,s=i.a.createElement(O,{onSelect:function(){h.has(r.id)?h.delete(r.id):h.add(r.id),g(new Set(h))},selected:h.has(r.id),name:r.name,backgroundImage:a,backgroundColor:o,key:r.id});p.push(s)},A=0;A<D;A++)I(A);var L=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,r,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(E(!0),t=Array.from(h),Object(b.trackUe)({category:b.Noun.TEAM_PAGE,verb:b.Verb.SUBMITS,directObj:b.Noun.TEAMLESS_COLLABORATION_PROMPT,context:{orgId:o,addedBoardsCount:t.length,availableBoardsCount:B.length}}),e.prev=3,r=[],i=0;i<t.length;i++)s=a({variables:{boardId:t[i],orgId:o}}),r.push(s);return e.next=8,Promise.all(r);case 8:n(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),C.showLiteralText(e.t0.message,"error","alert",5e3),E(!1);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){k(o,r,i,a,s,"next",e)}function s(e){k(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){P||0!==p.length||(Object(b.trackUe)({category:b.Noun.TEAM_PAGE,verb:b.Verb.SUBMITS,directObj:b.Noun.TEAMLESS_COLLABORATION_PROMPT,context:{orgId:o,addedBoardsCount:0,availableBoardsCount:0}}),n())}),[p,n,o,P]),P?i.a.createElement("div",{className:v.a.addBoardsLoadingState},i.a.createElement(m.a,{centered:!0}),i.a.createElement("div",null,_(["loading"]))):0===p.length?null:i.a.createElement("div",{className:v.a.addBoards},i.a.createElement("div",{className:v.a.addBoardsTitle},_(["add boards form","title-2"])),i.a.createElement("div",{className:v.a.addBoardsDescription},_(["add boards form","description-2"])),p,i.a.createElement("div",{className:v.a.addBoardsSubmitMessaging},_(["add boards form","submit-messaging-2"])),i.a.createElement(l.a,{buttonType:S?l.c.DISABLED:l.c.PRIMARY,className:v.a.addBoardsButton,onClick:S?j:L,size:l.b.FULLWIDTH},S?i.a.createElement(m.a,{centered:!0}):_(["next"])))},O=function(e){var t=e.name,n=e.selected,o=e.onSelect,a=e.backgroundImage,s={backgroundColor:e.backgroundColor},l=w(Object(r.useState)(!1),2),c=l[0],d=l[1];return i.a.createElement("div",{role:"checkbox","aria-checked":n,onClick:o,className:h()(v.a.boardListEntry,{[v.a.boardListEntryHover]:c})},i.a.createElement("div",{className:v.a.backgroundTile,style:s},a&&i.a.createElement("img",{alt:"board-background",src:a})),i.a.createElement("p",null,t),i.a.createElement("div",{onMouseEnter:function(){return d(!0)},onMouseLeave:function(){return d(!1)},className:v.a.checkbox},i.a.createElement(p.a,{isFullWidth:!0,isChecked:n})))},E={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TeamfulCollaborationAddPeople"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"boards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"memberships"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unconfirmed"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"members"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]};var N={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TeamfulCollaborationAddPeopleSort"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"memberIds"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"members"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ids"},value:{kind:"Variable",name:{kind:"Name",value:"memberIds"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nonPublic"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"fullName"},arguments:[],directives:[]}]}}]}}]}}]};var T={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"TeamfulCollaborationAddPeopleToOrg"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"users"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"MemberOrEmail"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addMembersToOrg"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orgId"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}},{kind:"Argument",name:{kind:"Name",value:"users"},value:{kind:"Variable",name:{kind:"Name",value:"users"}}},{kind:"Argument",name:{kind:"Name",value:"invitationMessage"},value:{kind:"StringValue",value:"",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"success"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[]}]}}]}}]};var P=n("./app/src/components/TeamlessCollaborationPrompt/TeamfulCollaborationAddPeople.less"),B=n.n(P),D=n("./app/scripts/views/lib/alerts.coffee"),I=n.n(D),A=n("./app/src/components/MemberAvatar/index.ts");function L(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function M(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=R(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||R(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){if(e){if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var V=Object(o.forNamespace)("teamful collaboration prompt"),U=function(){},H=function(e,t){var n,r,i=(null===(n=e.nonPublic)||void 0===n?void 0:n.fullName)||e.fullName||"",o=(null===(r=t.nonPublic)||void 0===r?void 0:r.fullName)||t.fullName||"",a=i.toLocaleLowerCase(),s=o.toLocaleLowerCase();return a<s?-1:a>s?1:0},$=function(e,t,n){Object(b.trackUe)({category:b.Noun.TEAM_PAGE,verb:b.Verb.SUBMITS,directObj:b.Noun.TEAMLESS_COLLABORATION_PROMPT,context:{orgId:e,addedMembersCount:t,availableMembersCount:n}})},W=function(e){var t,n,o=e.onContinue,a=e.orgId,s=F(Object(r.useState)(!1),2),d=s[0],u=s[1],p=F(Object(r.useState)(new Set),2),f=p[0],h=p[1],g=F(c.b(T,n),1)[0],v=function(e){return c.c(E,e)}({fetchPolicy:"no-cache",variables:{orgId:a}}),b=v.data,y=v.loading,k=b&&b.organization,w=k&&k.boards,x=Object(r.useMemo)((function(){return k&&k.members&&k.members.map((function(e){return e.id}))||[]}),[k]),C=Object(r.useMemo)((function(){var e=[];if(w&&w.length){var t,n=M(w);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r&&r.memberships){var i,o=M(r.memberships);try{for(o.s();!(i=o.n()).done;){var a=i.value;!a||!a.idMember||a.unconfirmed||x.includes(a.idMember)||e.includes(a.idMember)||e.push(a.idMember)}}catch(e){o.e(e)}finally{o.f()}}}}catch(e){n.e(e)}finally{n.f()}}return e}),[w,x]),_=function(e){return c.c(N,e)}({variables:{memberIds:C}}),j=_.loading,S=(null===(t=_.data)||void 0===t?void 0:t.members)||[],O=Object(r.useMemo)((function(){return S.slice(0).sort(H)}),[S]),P=function(e,t){f[t?"add":"delete"](e),h(new Set(f))},D=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u(!0),!f.size){e.next=11;break}return e.next=4,g({variables:{orgId:a,users:Array.from(f).map((function(e){return{id:e}}))}});case 4:if(t=e.sent,n=t.data,!(r=n&&n.addMembersToOrg&&n.addMembersToOrg.error)){e.next=11;break}return I.a.showLiteralText(r,"error","alert",5e3),u(!1),e.abrupt("return");case 11:$(a,f.size,C.length),o();case 13:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){L(o,r,i,a,s,"next",e)}function s(e){L(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){y||j||0!==O.length||($(a,0,0),o())}),[O,o,a,y,j]),y||j?i.a.createElement("div",{className:B.a.addPeopleLoadingState},i.a.createElement(m.a,{centered:!0}),i.a.createElement("div",null,V(["loading"]))):0===O.length?null:i.a.createElement("div",{className:B.a.addPeople},i.a.createElement("div",{className:B.a.addPeopleTitle},V(["add collaborators form","title-2"])),i.a.createElement("div",{className:B.a.addPeopleDescription},V(["add collaborators form","description-2"])),i.a.createElement("div",{className:B.a.addPeopleList},null==O?void 0:O.map((function(e){var t=f.has(e.id);return i.a.createElement(G,{key:e.id,member:e,isChecked:t,onClick:P})}))),i.a.createElement("div",{className:B.a.addPeopleSubmitMessaging},V(["add collaborators form","submit messaging 2"])),i.a.createElement(l.a,{buttonType:d?l.c.DISABLED:l.c.PRIMARY,className:B.a.addPeopleButton,onClick:d?U:D,size:l.b.FULLWIDTH},d?i.a.createElement(m.a,{centered:!0}):V(["next"])))},G=function(e){var t,n=e.member,o=e.onClick,a=e.isChecked,s=F(Object(r.useState)(!1),2),l=s[0],c=s[1],d=(null===(t=n.nonPublic)||void 0===t?void 0:t.fullName)||n.fullName||"";return i.a.createElement("div",{key:n.id,className:h()(B.a.addPeopleListItem,{[B.a.addPeopleListItemHover]:l}),onClick:function(){return o(n.id,!a)},onMouseEnter:function(){return c(!0)},onMouseLeave:function(){return c(!1)},role:"checkbox","aria-checked":a},i.a.createElement(A.a,{className:B.a.addPeopleListItemAvatar,idMember:n.id,size:20}),i.a.createElement("div",{className:B.a.addPeopleListItemName},d),i.a.createElement(p.a,{className:B.a.addPeopleListItemCheckbox,isChecked:a}))},q=n("./app/src/components/TeamlessCollaborationPrompt/TeamfulCollaborationSuccessMessage.less"),K=n.n(q),Y={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TeamfulCollaborationSuccessMessage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"members"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarSource"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"initials"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"products"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nonPublic"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"initials"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]}]}}]}}]}}]}}]};var J=n("./app/common/components/controls/icon/index.tsx"),X=n("./app/src/components/UpgradePrompts/UpgradePromptFull.tsx"),Q=n("./packages/test-ids/index.ts"),Z=n("./app/src/components/Facepile/index.ts"),ee=n("./resources/images/teamlesscolaboration/partypopper.svg"),te=Object(o.forNamespace)("teamful collaboration prompt"),ne=function(e){var t,n,r,o,a,s=e.onClose,d=e.orgId,u=(a={variables:{orgId:d},fetchPolicy:"network-only"},c.c(Y,a)).data,p=null==u||null===(t=u.organization)||void 0===t?void 0:t.name,m=null==u||null===(n=u.organization)||void 0===n?void 0:n.displayName,f=null==u||null===(r=u.organization)||void 0===r||null===(o=r.members)||void 0===o?void 0:o.map((function(e){return e.id}));return i.a.createElement("div",{className:K.a.successMessage},i.a.createElement("div",{className:K.a.successHeader},i.a.createElement("div",{className:K.a.partyPopper},i.a.createElement("img",{alt:"",className:K.a.partyPopper,src:ee})),i.a.createElement("p",{className:K.a.successMessageMuted},te(["success","title-2"])),i.a.createElement("p",{className:K.a.successMessageLoud},i.a.createElement("span",{className:K.a.orgDisplayName},m)," ",i.a.createElement("span",null,te(["success","description"]))),i.a.createElement("div",{className:K.a.facepileWrapper},i.a.createElement(Z.a,{memberIds:f||[]}))),i.a.createElement(X.UpgradePromptFull,{content:te(["upgrade prompt","content-2"]),cta:te(["upgrade prompt","cta"]),ctaLink:"".concat(p,"/billing"),orgId:d,ctaOnClick:function(){Object(b.trackUe)({category:b.Noun.TEAM_PAGE,verb:b.Verb.OPENS,directObj:b.Noun.TEAM_PAGE_BC_TAB,method:"by clicking full upgrade prompt in the teamless collaboration prompt",context:{orgId:d}})},headline:te(["upgrade prompt","headline"]),iconName:J.IconName.BusinessClass,source:"teamfulCollaborationSuccessMessage",testId:Q.UpgradePromptTestIds.TeamlessUpgradePrompt}),i.a.createElement(l.a,{buttonType:l.c.PRIMARY,className:K.a.successMessageButton,onClick:s,size:l.b.FULLWIDTH},te(["success","button-2"])))},re=n("./app/src/components/ErrorBoundary/index.ts"),ie=n("./app/scripts/debug/constants.ts");function oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ae(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var se=Object(o.forNamespace)("teamful collaboration prompt"),le=function(e){var t=e.onClose,o=e.orgId,a=oe(Object(r.useState)(!1),2),l=a[0],c=a[1],d=oe(Object(r.useState)(!1),2),u=d[0],p=d[1];return i.a.createElement(re.a,{tags:{ownershipArea:"trello-bizteam",feature:ie.Feature.TeamlessCollaborationPrompt}},i.a.createElement("div",{className:s.a.teamfulCollaborationPrompt},i.a.createElement("div",{className:s.a.popover},i.a.createElement("div",{className:s.a.popoverHeader},se("title"),i.a.createElement("div",{className:s.a.popoverCloseButton,onClick:function(){t(),Object(b.trackUe)({category:b.Noun.TEAM_PAGE,verb:b.Verb.CLOSES,directObj:b.Noun.TEAMLESS_COLLABORATION_PROMPT,method:"by clicking the close button",context:{orgId:o}})},role:"button"},i.a.createElement(J.default,{color:J.IconColor.Gray,name:J.IconName.Close,small:!0}))),i.a.createElement("div",{className:s.a.popoverContent},l?i.a.createElement(ne,{onClose:t,orgId:o}):u?i.a.createElement(W,{onContinue:function(){return c(!0)},orgId:o}):i.a.createElement(S,{onContinue:function(){return p(!0)},orgId:o}))),i.a.createElement("div",{className:s.a.arrowWrapper},i.a.createElement("div",{className:s.a.arrow})),i.a.createElement("div",{className:s.a.iconWrapper},i.a.createElement("img",{src:n("./resources/images/taco.png"),alt:"",role:"presentation"}))))}},"./app/src/components/TeamlessCollaborationPrompt/TeamfulCollaborationSuccessMessage.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/TeamlessCollaborationPrompt/TeamfulCollaborationSuccessMessage.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./app/src/components/TeamlessCollaborationPrompt/TeamlessCollaborationCreateTeam.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/TeamlessCollaborationPrompt/TeamlessCollaborationCreateTeam.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./app/src/components/TeamlessCollaborationPrompt/TeamlessCollaborationCreateTeamMembers.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/TeamlessCollaborationPrompt/TeamlessCollaborationCreateTeamMembers.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./app/src/components/TeamlessCollaborationPrompt/TeamlessCollaborationPrompt.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/TeamlessCollaborationPrompt/TeamlessCollaborationPrompt.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./app/src/components/TeamlessCollaborationPrompt/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"TeamlessCollaborationPrompt",(function(){return ee})),n.d(t,"TeamfulCollaborationPrompt",(function(){return te.TeamfulCollaborationPrompt}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TeamlessCollaborationPrompt"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"members"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"confirmed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"memberships"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"memberType"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enterprises"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]};var s=n("./packages/analytics/index.ts"),l=n("./app/scripts/views/lib/alerts.coffee"),c=n.n(l),d=n("./app/src/components/ErrorBoundary/index.ts"),u=n("./app/scripts/debug/constants.ts"),p=n("./packages/nachos/popover.ts"),m=n("./app/common/lib/util/i18n/index.ts"),f={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TeamlessCollaborationCreateTeamMembers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"members"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"confirmed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nonPublic"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"fullName"},arguments:[],directives:[]}]}}]}}]}}]}}]};function h(e){return o.c(f,e)}var g=n("./packages/nachos/checkbox.ts"),v=n("./packages/session-cookie/index.ts"),b=n("./app/src/components/MemberAvatar/index.ts"),y=n("./node_modules/react-animate-height/lib/AnimateHeight.js"),k=n.n(y),w=n("./app/src/components/TeamlessCollaborationPrompt/TeamlessCollaborationCreateTeamMembers.less"),x=n.n(w),C=n("./node_modules/classnames/index.js"),_=n.n(C);function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||O(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||O(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var N=Object(m.forNamespace)("teamless collaboration prompt"),T=function(e,t){switch(t.type){case"add":return[].concat(S(e),[t.idMember]);case"remove":return e.filter((function(e){return e!==t.idMember}));case"clear":return[];case"all":return t.idMembers;default:return e}},P=function(e){var t=e.boardId,n=e.onSelectMember,o=j(Object(r.useState)(!1),2),a=o[0],s=o[1],l=j(Object(r.useReducer)(T,[]),2),c=l[0],d=l[1];Object(r.useEffect)((function(){return n(c)}),[n,c]);var u=h({variables:{boardId:t}}).data,p=Object(r.useMemo)((function(){var e,t;return(null==u||null===(e=u.board)||void 0===e||null===(t=e.members)||void 0===t?void 0:t.filter((function(e){return v.memberId!==e.id&&e.confirmed})))||[]}),[u]);return Object(r.useEffect)((function(){d({type:"all",idMembers:p.map((function(e){return e.id}))})}),[p]),i.a.createElement("div",{className:x.a.inviteMembers},i.a.createElement(g.a,{className:x.a.checkbox,label:i.a.createElement(i.a.Fragment,null,N(["create team form","invite"],{membersCount:p.length})),onChange:function(e){e.target.checked?d({type:"all",idMembers:p.map((function(e){return e.id}))}):d({type:"clear"})},isChecked:c.length>0,isIndeterminate:c.length!==p.length&&c.length>0}),i.a.createElement(k.a,{className:x.a.members,contentClassName:x.a.membersScroller,height:a?37*Math.min(5,p.length):0,animateOpacity:!0},p.map((function(e){var t=c.includes(e.id);return i.a.createElement(B,{key:"member".concat(e.id),member:e,selected:t,updateMembers:d})}))),i.a.createElement("button",{onClick:function(){return s(!a)}},N(a?["create team form","hide members"]:["create team form","show members"])))},B=function(e){var t=e.member,n=e.selected,o=e.updateMembers,a=j(Object(r.useState)(!1),2),s=a[0],l=a[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{onMouseEnter:function(){return l(!0)},onMouseLeave:function(){return l(!1)},className:_()(x.a.member,{[x.a.memberHover]:s}),onClick:function(e){o({type:n?"remove":"add",idMember:t.id})},role:"checkbox","aria-checked":n},i.a.createElement("div",{className:x.a.nameAndAvatar},i.a.createElement(b.a,{idMember:t.id,size:20,className:x.a.avatar})," ",i.a.createElement("div",{className:x.a.name},t.nonPublic&&t.nonPublic.fullName?t.nonPublic.fullName:t.fullName)),i.a.createElement(g.a,{isChecked:n,className:x.a.memberCheckbox})))},D=n("./app/src/components/TeamlessCollaborationPrompt/TeamlessCollaborationCreateTeam.less"),I=n.n(D),A={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"TeamlessCollaborationCreateTeamAddMembers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"users"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"MemberOrEmail"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addMembersToOrg"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orgId"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}},{kind:"Argument",name:{kind:"Name",value:"users"},value:{kind:"Variable",name:{kind:"Name",value:"users"}}},{kind:"Argument",name:{kind:"Name",value:"invitationMessage"},value:{kind:"StringValue",value:"",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"success"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[]}]}}]}}]};var L={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"TeamlessCollaborationCreateTeamSubmit"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"displayName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"type"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"teamType"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"desc"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"enterprise"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createOrganization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"displayName"},value:{kind:"Variable",name:{kind:"Name",value:"displayName"}}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"type"}}},{kind:"Argument",name:{kind:"Name",value:"teamType"},value:{kind:"Variable",name:{kind:"Name",value:"teamType"}}},{kind:"Argument",name:{kind:"Name",value:"desc"},value:{kind:"Variable",name:{kind:"Name",value:"desc"}}},{kind:"Argument",name:{kind:"Name",value:"enterprise"},value:{kind:"Variable",name:{kind:"Name",value:"enterprise"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]};var M=n("./app/src/components/TeamlessCollaborationPrompt/TeamfulCollaborationAddBoardsMutation.generated.tsx"),F=n("./app/common/components/controls/button/button.tsx"),R=n("./app/src/components/Spinner/index.ts"),z=n("./app/src/components/TeamTypeSelect/index.ts");function V(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $=Object(m.forNamespace)("teamless collaboration prompt"),W=function(){},G=function(e){var t,n,a=e.boardId,l=e.onTeamCreated,d=U(Object(r.useState)(!1),2),u=d[0],p=d[1],m=U(Object(r.useState)(""),2),f=m[0],g=m[1],v=U(Object(r.useState)(),2),b=v[0],y=v[1],k=U(Object(r.useState)(!1),2),w=k[0],x=k[1],C=U(Object(r.useState)([]),2),_=C[0],j=C[1],S=U(o.b(L,n),1)[0],O=U(function(e){return o.b(A,e)}(),1)[0],E=U(Object(M.a)(),1)[0],N=h({variables:{boardId:a}}).data,T=(null==N||null===(t=N.board)||void 0===t?void 0:t.members)||[],B=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r,i,o,d,u,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),p(!0),e.prev=2,e.next=5,S({variables:{type:"default",displayName:f.trim(),teamType:b}});case 5:if(d=e.sent,u=null===(n=d.data)||void 0===n||null===(r=n.createOrganization)||void 0===r?void 0:r.name,!(m=null===(i=d.data)||void 0===i||null===(o=i.createOrganization)||void 0===o?void 0:o.id)){e.next=13;break}return e.next=11,E({variables:{boardId:a,orgId:m}});case 11:return e.next=13,O({variables:{orgId:m,users:_.map((function(e){return{id:e}}))}});case 13:Object(s.trackUe)({category:s.Noun.BOARD_VIEW,verb:s.Verb.SUBMITS,directObj:s.Noun.TEAMLESS_COLLABORATION_PROMPT,method:"by clicking the create team button",context:{boardId:a,didExcludeMembers:_.length!==T.length,membersCount:_.length}}),u&&l(u),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(2),c.a.showLiteralText(e.t0.message,"error","alert",5e3),p(!1);case 21:case"end":return e.stop()}}),e,null,[[2,17]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){V(o,r,i,a,s,"next",e)}function s(e){V(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),D=w&&!!b&&!u;return i.a.createElement("div",{className:I.a.createTeam},i.a.createElement("label",{className:I.a.createTeamInputLabel,htmlFor:"teamlessCollaborationCreateTeamInput"},$(["create team form","input label"])),i.a.createElement("input",{id:"teamlessCollaborationCreateTeamInput",className:I.a.createTeamInput,type:"text",autoComplete:"off",spellCheck:!1,onChange:function(e){var t=e.target.value;g(t),x(t.trim().length>0)},autoFocus:!0,placeholder:$(["create team form","input placeholder"]),value:f,maxLength:100,disabled:u}),i.a.createElement(z.TeamTypeSelect,{onChange:function(e){return y(e)},isDisabled:u}),i.a.createElement(P,{boardId:a,onSelectMember:function(e){return j(e)}}),i.a.createElement(F.a,{buttonType:D?F.c.PRIMARY:F.c.DISABLED,className:I.a.createTeamButton,onClick:D?B:W,size:F.b.FULLWIDTH},u?i.a.createElement(R.a,{centered:!0}):$(["create team form","create team"])))},q=n("./app/src/components/TeamlessCollaborationPrompt/TeamlessCollaborationPrompt.less"),K=n.n(q);function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Q=n("./app/scripts/db/auth.coffee"),Z=Object(m.forNamespace)("teamless collaboration prompt");var ee=function(e){var t,l,m,f,h,g,v,b,y,k=e.boardId,w=e.onClose,x=e.onTeamCreated,C=e.target,_=e.windowUrl,j=Object(r.useCallback)((function(){Object(s.trackUe)({category:s.Noun.BOARD_VIEW,verb:s.Verb.VIEWS,directObj:s.Noun.TEAMLESS_COLLABORATION_PROMPT,context:{boardId:k}})}),[k]),S=Object(r.useCallback)((function(e){e===p.a.CLICK_CLOSE_BUTTON&&(Q.me().dismiss("TeamlessCollaborationPrompt-".concat(k)),Object(s.trackUe)({category:s.Noun.BOARD_VIEW,verb:s.Verb.DISMISSES,directObj:s.Noun.TEAMLESS_COLLABORATION_PROMPT,method:"by clicking the close button",context:{boardId:k}})),w()}),[k,w]),O=Object(p.d)({onShow:j,onHide:S}),E=O.popoverProps,N=O.show,T=O.hide,P=J(Object(r.useState)(!1),2),B=P[0],D=P[1],I=(y={variables:{boardId:k}},o.c(a,y)).data,A=null==I||null===(t=I.member)||void 0===t?void 0:t.id,L=null==I||null===(l=I.board)||void 0===l||null===(m=l.memberships)||void 0===m?void 0:m.find((function(e){return e.idMember===A})),M="admin"===(null==L?void 0:L.memberType),R=!!(null==I||null===(f=I.member)||void 0===f||null===(h=f.enterprises)||void 0===h?void 0:h.length),z=!(null==I||null===(g=I.board)||void 0===g?void 0:g.idOrganization),V=null==I||null===(v=I.board)||void 0===v||null===(b=v.members)||void 0===b?void 0:b.reduce((function(e,t){return t.confirmed&&(e+=1),e}),0),U=V&&V>=3,H="c"===new URL(_||window.location.href).pathname.split("/")[1],$=M&&z&&U&&!R&&!H;Object(r.useEffect)((function(){z?$&&N():T()}),[$,T,z,N]);var W,q,X=(W=z,q=Object(r.useRef)(),Object(r.useEffect)((function(){q.current=W}),[W]),q.current);Object(r.useEffect)((function(){X&&!z&&E.isVisible&&c.a.show("teamless-board-added-to-team","info","board",5e3)}),[z,E.isVisible,X]);var ee=C();return i.a.createElement(p.b,Y({},E,{title:Z("popover title"),triggerElement:ee}),i.a.createElement(d.a,{tags:{ownershipArea:"trello-bizteam",feature:u.Feature.TeamlessCollaborationPrompt}},B?i.a.createElement(G,{boardId:k,onTeamCreated:x}):i.a.createElement("div",{className:K.a.createTeamPrompt},i.a.createElement("img",{src:n("./resources/images/highFiveIllustration@2x.png"),alt:""}),i.a.createElement("h2",{className:K.a.createTeamTitle},Z(["create team prompt","title"])),i.a.createElement("p",null,Z(["create team prompt","description-2"])),i.a.createElement(F.a,{className:K.a.createTeamPromptContinueButton,onClick:function(){return D(!0)},size:F.b.FULLWIDTH,buttonType:F.c.PRIMARY},Z(["create team prompt","button"])))))},te=n("./app/src/components/TeamlessCollaborationPrompt/TeamfulCollaborationPrompt.tsx")},"./app/src/components/UpgradePrompts/UpgradePromptBanner.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptBanner.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./app/src/components/UpgradePrompts/UpgradePromptButton.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptButton.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./app/src/components/UpgradePrompts/UpgradePromptButton.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"UpgradePromptButton",(function(){return f})),n.d(t,"UpgradePromptButtonConnected",(function(){return h}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./node_modules/classnames/index.js"),a=n.n(o),s=n("./app/common/components/controls/icon/index.tsx"),l=n("./app/src/components/UpgradePrompts/UpgradePromptButton.less"),c=n.n(l),d=n("./app/src/components/ComponentWrapper/index.ts"),u=n("./app/common/components/singlespa/router-link.tsx"),p=n("./packages/config/index.ts");function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f=function(e){var t=e.cta,n=e.ctaLink,r=e.ctaOnClick,o=e.iconName,l=e.isDarkTheme,d=e.shouldFitContainer,f=e.openInNewTab,h=e.allowUpsell,g=e.testId;if(p.dontUpsell&&!h)return null;var v=a()(c.a.upgradePromptButton,l?c.a.upgradePromptButtonDarkTheme:c.a.upgradePromptButtonLightTheme,d&&c.a.upgradePromptFitContainer),b="/business-class"===n?"a":u.a;return n||(b="button"),i.a.createElement(b,m({"data-test-id":g,href:n,className:v,onClick:function(){r&&r()}},f?{target:"_blank"}:{}),void 0!==o&&i.a.createElement("div",{className:c.a.upgradePromptButtonIconBackground},i.a.createElement(s.default,{className:c.a.upgradePromptButtonIcon,name:o,small:!0})),i.a.createElement("div",{className:c.a.upgradePromptButtonCTA},t))},h=function(e){return i.a.createElement(d.ComponentWrapper,null,i.a.createElement(f,e))}},"./app/src/components/UpgradePrompts/UpgradePromptDismissMessageMutation.generated.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpgradePromptDismissMessage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"memberId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"messageId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addOneTimeMessagesDismissed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"memberId"},value:{kind:"Variable",name:{kind:"Name",value:"memberId"}}},{kind:"Argument",name:{kind:"Name",value:"messageId"},value:{kind:"Variable",name:{kind:"Name",value:"messageId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"},arguments:[],directives:[]}]}}]}}]};function o(e){return r.b(i,e)}},"./app/src/components/UpgradePrompts/UpgradePromptFull.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptFull.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./app/src/components/UpgradePrompts/UpgradePromptFull.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"UpgradePromptFull",(function(){return j})),n.d(t,"UpgradePromptFullConnected",(function(){return S}));var r=n("./packages/atlassian-analytics/index.ts"),i=n("./node_modules/react/index.js"),o=n.n(i),a=n("./node_modules/classnames/index.js"),s=n.n(a),l=n("./app/common/components/controls/icon/index.tsx"),c=n("./app/src/components/ComponentWrapper/index.ts"),d=n("./app/common/components/controls/button/button.tsx"),u=n("./app/src/components/FreeTrial/index.ts"),p=n("./app/common/components/singlespa/router-link.tsx"),m=n("./app/src/components/UpgradePrompts/UpgradePromptFull.less"),f=n.n(m),h=n("./packages/config/index.ts"),g=n("./packages/browser/index.ts"),v=n("./app/src/components/FreeTrial/useFreeTrialEligibilityRules.ts"),b=n("./packages/feature-flag-client/index.ts"),y=n("./app/common/lib/util/i18n/index.ts"),k=n("./app/src/components/ErrorBoundary/ErrorBoundary.tsx"),w=n("./app/scripts/debug/constants.ts");function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _=Object(y.forNamespace)(["free trial existing","upgrade prompt"]),j=function(e){var t=e.allowUpsell,n=e.className,a=e.content,c=e.cta,m=e.ctaLink,y=e.ctaOnClick,C=e.headline,j=e.hidePlanOverlay,S=e.iconName,O=e.isDarkTheme,E=e.isDismissable,N=e.onDismiss,T=e.orgId,P=e.source,B=e.testId,D=Object(v.a)(T).isEligible,I=Object(b.useFeatureFlag)("btg.free-trial-existing-teams",!1)&&D,A=x(Object(i.useState)(!1),2),L=A[0],M=A[1],F=function(){j||M(!0),r.Analytics.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:P,containers:{organization:{id:T}},attributes:{feature:I?"freeTrial":void 0}}),y&&y()},R=s()(f.a.upgradePromptFull,O?f.a.upgradePromptFullDarkTheme:f.a.upgradePromptFullLightTheme,n),z=a&&o.a.createElement("div",{className:f.a.upgradePromptFullContent},a),V=E&&o.a.createElement("button",{className:f.a.upgradePromptFullCloseButtonWrapper,onClick:N},o.a.createElement(l.default,{className:f.a.upgradePromptFullCloseButton,name:l.IconName.Close,small:!0})),U="/business-class"===m?"a":p.a;if(h.dontUpsell&&!t)return null;var H=I?_("cta"):c;return o.a.createElement(k.a,{tags:{ownershipArea:"trello-bizteam",feature:w.Feature.UpgradePrompt}},o.a.createElement("div",{className:R},o.a.createElement("div",{className:f.a.upgradePromptFullHeadline},C),z,j?o.a.createElement(U,{href:m,className:f.a.upgradePromptFullCTA,onClick:F,"data-test-id":B,target:Object(g.isDesktop)()&&"/business-class"===m?"_blank":void 0},H):o.a.createElement(d.f,{onClick:F,"data-test-id":B,className:f.a.upgradePromptFullCTA},H),!j&&L&&T&&o.a.createElement(u.PlanSelectionOverlay,{onClose:function(){return M(!1)},orgId:T}),o.a.createElement("div",{className:f.a.upgradePromptFullIconBackground},o.a.createElement(l.default,{className:f.a.upgradePromptFullIcon,name:S,small:!0})),o.a.createElement("div",{className:f.a.upgradePromptFullIconClippedBackground}),V))},S=function(e){return o.a.createElement(c.ComponentWrapper,null,o.a.createElement(j,e))}},"./app/src/components/UpgradePrompts/UpgradePromptFullBase.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptFullBase.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./app/src/components/UpgradePrompts/UpgradePromptPill.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptPill.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./app/src/components/UpgradePrompts/UpgradePromptPill.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"UpgradePromptPill",(function(){return m})),n.d(t,"UpgradePromptPillConnected",(function(){return f}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./node_modules/classnames/index.js"),a=n.n(o),s=n("./app/src/components/UpgradePrompts/UpgradePromptPill.less"),l=n.n(s),c=n("./app/common/components/controls/index.tsx"),d=n("./app/src/components/ComponentWrapper/index.ts"),u=n("./app/common/components/singlespa/router-link.tsx"),p=n("./packages/config/index.ts"),m=function(e){var t=e.isDarkTheme,n=e.cta,r=e.ctaLink,o=e.ctaOnClick,s=e.iconName,d=e.allowUpsell,m=e.testId;if(p.dontUpsell&&!d)return null;var f=function(){o&&o()},h=a()(l.a.upgradePromptPill,t?l.a.upgradeDarkTheme:l.a.upgradeLightTheme),g="/business-class"===r?"a":u.a,v=i.a.createElement(i.a.Fragment,null,i.a.createElement(c.Icon,{name:s,className:l.a.upgradePromptPillIcon,small:!0}),i.a.createElement("div",{className:l.a.upgradePromptPillCTA},n));return r?i.a.createElement(g,{href:r,className:h,onClick:f,"data-test-id":m},v):i.a.createElement("button",{className:h,onClick:f,"data-test-id":m},v)},f=function(e){return i.a.createElement(d.ComponentWrapper,null,i.a.createElement(m,e))}},"./app/src/components/UpgradePrompts/UpgradePromptSettingsTab.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptSettingsTab.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./app/src/components/UpgradePrompts/UpgradeSmartComponent.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradeSmartComponent.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./app/src/components/UpgradePrompts/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"UpgradePromptFull",(function(){return i.UpgradePromptFull})),n.d(t,"UpgradePromptButton",(function(){return o.UpgradePromptButton})),n.d(t,"UpgradePromptPill",(function(){return a.UpgradePromptPill})),n.d(t,"UpgradePromptSettingsTab",(function(){return v})),n.d(t,"UpgradePromptBanner",(function(){return _})),n.d(t,"UpgradePromptBannerType",(function(){return r})),n.d(t,"UpgradeSmartComponent",(function(){return W})),n.d(t,"UpgradeSmartComponentConnected",(function(){return G}));var r,i=n("./app/src/components/UpgradePrompts/UpgradePromptFull.tsx"),o=n("./app/src/components/UpgradePrompts/UpgradePromptButton.tsx"),a=n("./app/src/components/UpgradePrompts/UpgradePromptPill.tsx"),s=n("./node_modules/react/index.js"),l=n.n(s),c=n("./app/common/lib/util/i18n/index.ts"),d=n("./node_modules/classnames/index.js"),u=n.n(d),p=n("./app/src/components/UpgradePrompts/UpgradePromptSettingsTab.less"),m=n.n(p),f=n("./packages/analytics/index.ts"),h=Object(c.forTemplate)("org_account"),g=n("./resources/images/stars.svg"),v=function(e){var t=e.buttonUrl,n=e.buttonText;return l.a.createElement("div",{className:u()("window-module","u-clearfix",m.a.bcPromptHeader)},l.a.createElement("div",{className:u()("setting-item",m.a.settingItem)},l.a.createElement("div",{className:m.a.bcPromptSparkle},l.a.createElement("img",{alt:"sparkle",src:g})),l.a.createElement("div",{className:"setting-item-detail"},h("more-settings",{boldTextUpgradeToBc:l.a.createElement("strong",null,h("bold-text-upgrade-to-bc"))})),l.a.createElement("div",{className:"setting-item-action"},l.a.createElement("a",{className:u()("primary","button-link","u-text-align-center",m.a.bcPromptUpgrade),href:t,onClick:function(){return Object(f.trackUe)({category:f.Noun.TEAM_PAGE,verb:f.Verb.OPENS,directObj:f.Noun.TEAM_PAGE_BC_TAB,method:"by clicking upgrade button in team page settings tab"})}},h(n)))))},b=function(e,t){return Array(t-e+1).fill(0).map((function(t,n){return e+n}))},y=n("./app/src/components/UpgradePrompts/UpgradePromptBanner.less"),k=n.n(y),w=n("./packages/config/index.ts"),x=Object(c.forTemplate)("paid_product_info");!function(e){e.BusinessClass="business-class",e.BusinessClassUpgrade="business-class-upgrade",e.Gold="gold"}(r||(r={}));var C={"business-class":[n("./resources/images/business-class/feature-boards.svg"),n("./resources/images/business-class/feature-powerups.svg"),n("./resources/images/business-class/feature-butler.svg"),n("./resources/images/business-class/feature-control.svg")],"business-class-upgrade":[n("./resources/images/business-class-feature-boards.png"),n("./resources/images/business-class-feature-integration.png"),n("./resources/images/business-class-feature-roadmap.png")],gold:[n("./resources/images/business-class-feature-boards.png"),n("./resources/images/business-class-feature-integration.png"),n("./resources/images/business-class-feature-roadmap.png")]},_=function(e){var t=e.type,n=e.infoUrl,r=e.subtitleCount,i=void 0===r?0:r,o=e.epilogueCount,a=void 0===o?0:o,s=e.allowUpsell;if(w.dontUpsell&&!s)return null;var c="business-class"===t?4:3;if("business-class-upgrade"!==t&&a>1)throw new Error("Only use epilogueCount with the type business-class-upgrade");return l.a.createElement("div",{className:k.a.upgradePromptBanner},l.a.createElement("header",null,l.a.createElement("h2",null,x([t,"title"])),i>0&&b(0,i-1).map((function(e){return l.a.createElement("p",{key:"subtitles-".concat(e)},x([t,"subtitles",e.toString()]))}))),l.a.createElement("div",{className:k.a.features},b(0,c-1).map((function(e){return l.a.createElement("div",{className:k.a.feature,key:"features-".concat(e)},l.a.createElement("img",{src:C[t][e],alt:x([t,"featureHeaders",e.toString()])}),l.a.createElement("h3",null,x([t,"featureHeaders",e.toString()])),l.a.createElement("p",null,x([t,"featureBodies",e.toString()])))}))),a>0&&l.a.createElement("div",{className:k.a.epilogue},b(0,a-1).map((function(e){return l.a.createElement("p",{key:"epilogue-".concat(e)},x([t,"epilogue recent",e.toString()],1===e?{smartBilling:l.a.createElement("strong",{key:"smartBilling"},x("smartBilling"))}:{}))}))),l.a.createElement("div",null,l.a.createElement("a",{href:n,target:"_blank",onClick:function(){return Object(f.track)("Billing Page","See All Benefits Link Click")}},x([t,"link"]))))},j=n("./packages/feature-flag-client/index.ts"),S=n("./app/src/components/ComponentWrapper/index.ts"),O=n("./app/common/components/controls/icon/index.tsx"),E=n("./app/src/components/UpgradePrompts/UpgradePromptFullBase.less"),N=n.n(E),T=function(e){var t=e.loading,n=e.className,r=e.content,i=e.cta,o=e.headline,a=e.iconName,s=e.isDarkTheme,c=e.onDismiss,d=u()(N.a.upgradePromptFull,s?N.a.upgradePromptFullDarkTheme:N.a.upgradePromptFullLightTheme,n);return t?l.a.createElement("div",{className:N.a.animation}):l.a.createElement("div",{className:d},l.a.createElement("div",{className:N.a.upgradePromptFullHeadline},o),l.a.createElement("div",{className:N.a.upgradePromptFullContent},r),i,l.a.createElement("div",{className:N.a.upgradePromptFullIconBackground},l.a.createElement(O.default,{className:N.a.upgradePromptFullIcon,name:a,small:!0})),l.a.createElement("div",{className:N.a.upgradePromptFullIconClippedBackground}),c&&l.a.createElement("button",{className:N.a.upgradePromptFullCloseButtonWrapper,onClick:c},l.a.createElement(O.default,{className:N.a.upgradePromptFullCloseButton,name:O.IconName.Close,small:!0})))},P=n("./node_modules/react-redux/es/index.js"),B=n("./app/gamma/src/modules/state/ui/overlay.ts"),D=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),I={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UpgradePromptRules"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"memberId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"memberId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idEnterprise"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"memberships"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"idEnterprise"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"products"},arguments:[],directives:[]}]}}]}}]};var A=n("./app/src/components/UpgradePrompts/UpgradePromptDismissMessageMutation.generated.tsx");function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var F=function(e,t){var n,r,i,o,a,l,c,d,u=Object(P.d)(),p=(d={variables:{memberId:"me",orgId:e}},D.c(I,d)),m=p.data,f=p.loading,h=Boolean((null==m?void 0:m.organization)&&!m.organization.products.length),g=null==m||null===(n=m.member)||void 0===n?void 0:n.id,v=null==m||null===(r=m.organization)||void 0===r||null===(i=r.memberships)||void 0===i?void 0:i.some((function(e){return e.idMember===g})),b=null==m||null===(o=m.member)||void 0===o?void 0:o.idEnterprise,y=null==m||null===(a=m.organization)||void 0===a?void 0:a.idEnterprise,k=L(Object(A.a)(),1)[0],x=Boolean(null==m||null===(l=m.member)||void 0===l||null===(c=l.oneTimeMessagesDismissed)||void 0===c?void 0:c.find((function(e){return e===t}))),C=L(Object(s.useState)(!1),2),_=C[0],j=C[1];return{openPlanSelection:function(){u(Object(B.setOverlay)({overlayType:B.OverlayType.PlanSelection,context:{orgId:e}}))},dismissMessage:function(){j(!0),k({variables:{memberId:"me",messageId:t}})},shouldDisplayUpgradePrompt:Boolean(!w.dontUpsell&&!_&&h&&!x&&!b&&!y&&v),loading:f}},R=n("./app/src/components/FreeTrial/index.ts"),z=n("./app/common/components/controls/index.tsx"),V=Object(c.forNamespace)("upgrade prompt"),U=Object(c.forNamespace)("free trial existing"),H=n("./app/src/components/UpgradePrompts/UpgradeSmartComponent.less"),$=n.n(H),W=function(e){var t=e.orgId,n=e.source,r="".concat(t,"-").concat(n),i=Object(R.useFreeTrialEligibilityRules)(t),o=i.isEligible,a=i.loading,s=F(t,r),c=s.dismissMessage,d=s.openPlanSelection,p=s.shouldDisplayUpgradePrompt,m=s.loading,f=function(e){return{memberHomeScreen:{cta:e?U(["upgrade prompt","cta"]):V("learn more"),headline:e?U(["upgrade prompt","headline"]):V(["home","team tab","headline-2"]),content:e?U(["upgrade prompt","content"]):V(["home","team tab","content-2"]),icon:z.IconName.BusinessClass,dismissable:!0},teamMembersScreen:{cta:e?U(["upgrade prompt","cta"]):V("learn more"),headline:V(["team page","members","headline-sidebar-auaa-2"]),content:V(["team page","members","content-sidebar-auaa-2"]),icon:z.IconName.Member,isDarkTheme:!0},teamScreen:{cta:e?U(["upgrade prompt","cta"]):V("learn more"),headline:V(["team page","boards","headline-2"]),content:V(["team page","boards","content-2"]),icon:z.IconName.Board,isDarkTheme:!0},moreMenuShareInlineDialog:{cta:e?U(["upgrade prompt","cta"]):V("learn more"),headline:V(["board menu","print and export","headline-2"]),content:V(["board menu","print and export","content-2"]),icon:z.IconName.Download}}}(!!Object(j.useFeatureFlag)("btg.free-trial-existing-teams",!1)&&o),h=a||m;return h||p?l.a.createElement(T,{loading:h,iconName:f[n].icon,headline:f[n].headline,content:f[n].content,onDismiss:f[n].dismissable?c:void 0,isDarkTheme:f[n].isDarkTheme,cta:l.a.createElement("button",{className:u()($.a.cta,f[n].isDarkTheme?$.a.darkModeCta:$.a.lightModeCta),onClick:d},f[n].cta)}):null},G=function(e){return l.a.createElement(S.ComponentWrapper,null,l.a.createElement(W,e))}},"./app/src/components/WorkspacesPreamble/BoardMemberRestrictionAlert.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/BoardMemberRestrictionAlert.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./app/src/components/WorkspacesPreamble/BoardVisibilityRestrictionAlert.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/BoardVisibilityRestrictionAlert.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./app/src/components/WorkspacesPreamble/NewBillableGuestsAlert.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/NewBillableGuestsAlert.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./app/src/components/WorkspacesPreamble/WorkspacesPreambleBoardHeaderButton.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/WorkspacesPreambleBoardHeaderButton.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./app/src/components/WorkspacesPreamble/WorkspacesPreambleBoardInviteButton.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/WorkspacesPreambleBoardInviteButton.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./app/src/components/WorkspacesPreamble/WorkspacesPreambleBoardMemberList.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/WorkspacesPreambleBoardMemberList.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./app/src/components/WorkspacesPreamble/WorkspacesPreambleCreateTeam.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/WorkspacesPreambleCreateTeam.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./app/src/components/WorkspacesPreamble/WorkspacesPreambleSelectTeam.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/WorkspacesPreambleSelectTeam.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./app/src/components/WorkspacesPreamble/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"WorkspacesPreambleBoardHeaderButton",(function(){return it})),n.d(t,"WorkspacesPreambleBoardInviteButton",(function(){return pt}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./node_modules/classnames/index.js"),a=n.n(o),s=n("./app/scripts/views/lib/alerts.coffee"),l=n.n(s),c=n("./packages/nachos/button.ts"),d=n("./packages/nachos/popover.ts"),u=n("./app/src/components/ErrorBoundary/index.ts"),p=n("./app/scripts/debug/constants.ts"),m=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),f={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WorkspacesPreambleBoardHeaderButton"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enterpriseOwned"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"members"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"confirmed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"memberships"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"memberType"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"confirmed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idOrganizations"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enterprises"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]};var h={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"WorkspacesPreambleDismissPrompt"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"messageId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addOneTimeMessagesDismissed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"memberId"},value:{kind:"StringValue",value:"me",block:!1}},{kind:"Argument",name:{kind:"Name",value:"messageId"},value:{kind:"Variable",name:{kind:"Name",value:"messageId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"},arguments:[],directives:[]}]}}]}}]};var g=n("./packages/session-cookie/index.ts"),v={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WorkspacesPreamblePrompt"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"members"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idOrganizations"},arguments:[],directives:[]}]}}]}}]};var b={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"WorkspacesPreambleAddBoardToTeam"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"keepBillableGuests"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateBoardOrg"},arguments:[{kind:"Argument",name:{kind:"Name",value:"boardId"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}},{kind:"Argument",name:{kind:"Name",value:"orgId"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}},{kind:"Argument",name:{kind:"Name",value:"keepBillableGuests"},value:{kind:"Variable",name:{kind:"Name",value:"keepBillableGuests"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]};function y(e){return m.b(b,e)}var k={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"WorkspacesPreambleBoardVisibility"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"visibility"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Board_Prefs_PermissionLevel"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"keepBillableGuests"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateBoardVisibility"},arguments:[{kind:"Argument",name:{kind:"Name",value:"boardId"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}},{kind:"Argument",name:{kind:"Name",value:"visibility"},value:{kind:"Variable",name:{kind:"Name",value:"visibility"}}},{kind:"Argument",name:{kind:"Name",value:"orgId"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}},{kind:"Argument",name:{kind:"Name",value:"keepBillableGuests"},value:{kind:"Variable",name:{kind:"Name",value:"keepBillableGuests"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]};var w={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WorkspacesPreambleNewBillableGuests"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"newBillableGuests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"boardId"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"memberships"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"memberType"},arguments:[],directives:[]}]}}]}}]}}]};var x={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"RestrictedBoardVisibility"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"prefs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"permissionLevel"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"memberships"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"memberType"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"prefs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"boardVisibilityRestrict"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"private"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"public"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"org"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enterprise"},arguments:[],directives:[]}]}}]}}]}}]}}]};var C=function(e){var t,n,r,i,o,a,s,l=e.orgId,c=e.boardId,d=e.skip,u=(s={variables:{orgId:l,boardId:c},skip:!l||!c||d,fetchPolicy:"network-only"},m.c(x,s)),p=u.data,f=u.loading,h=null==p||null===(t=p.board)||void 0===t||null===(n=t.prefs)||void 0===n?void 0:n.permissionLevel,v=null==p||null===(r=p.organization)||void 0===r||null===(i=r.prefs)||void 0===i?void 0:i.boardVisibilityRestrict,b=(null==p||null===(o=p.organization)||void 0===o||null===(a=o.memberships)||void 0===a?void 0:a.some((function(e){return e.idMember===g.memberId&&"admin"===e.memberType})))||!1,y=v&&h&&("none"===v[h]||"admin"===v[h]&&!b),k=v&&("org"===v.private||"admin"===v.private&&b),w=v&&("org"===v.public||"admin"===v.public&&b),C=v&&("org"===v.org||"admin"===v.org&&b);return{boardVisibility:h,loading:f,teamAllowsPrivateBoards:k,teamAllowsPublicBoards:w,teamAllowsTeamVisibleBoards:C,teamRestrictsAllBoardVisibilities:!k&&!w&&!C,teamRestrictsCurrentBoardVisibility:y}},_={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"RestrictedGuests"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"members"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"prefs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"boardInviteRestrict"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"members"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullName"},arguments:[],directives:[]}]}}]}}]}}]};var j=function(e){var t,n,r,i,o,a,s=e.orgId,l=e.boardId,c=e.skip,d=(a={variables:{orgId:s,boardId:l},skip:!s||!l||c,fetchPolicy:"network-only"},m.c(_,a)),u=d.data,p=d.loading,f="org"===(null==u||null===(t=u.organization)||void 0===t||null===(n=t.prefs)||void 0===n?void 0:n.boardInviteRestrict),h=(null==u||null===(r=u.organization)||void 0===r||null===(i=r.members)||void 0===i?void 0:i.map((function(e){return e.id})))||[];return{hasBoardMemberRestrictions:f,boardMembersNotInTeam:((null==u||null===(o=u.board)||void 0===o?void 0:o.members)||[]).reduce((function(e,t){return h.includes(t.id)||e.push(t),e}),[]),loading:p}},S=n("./app/common/lib/util/i18n/index.ts"),O=n("./app/src/components/WorkspacesPreamble/BoardMemberRestrictionAlert.less"),E=n.n(O),N={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BoardMemberRestrictionAlert"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}]};var T=n("./app/src/components/Spinner/index.ts");function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var D=Object(S.forNamespace)("workspaces preamble"),I=function(e){var t,n,o=e.boardId,a=e.onCancel,s=e.onSubmit,l=e.orgId,d=P(Object(r.useState)(!1),2),u=d[0],p=d[1],f=(n={variables:{orgId:l}},m.c(N,n)),h=f.data,g=f.loading,v=j({orgId:l,boardId:o}),b=v.boardMembersNotInTeam,y=v.loading;return g||y?i.a.createElement(T.a,{centered:!0}):i.a.createElement(i.a.Fragment,null,i.a.createElement("p",{className:E.a.boardMemberRestrictionAlertMessaging},D(["workspaces preamble","board-member-restriction-messaging"],{orgName:i.a.createElement("strong",{key:"orgName"},null==h||null===(t=h.organization)||void 0===t?void 0:t.displayName)})),i.a.createElement("p",{className:E.a.boardMemberRestrictionAlertMembers},i.a.createElement("strong",null,b.map((function(e){return e.fullName})).join(", "))),i.a.createElement(c.a,{appearance:"danger",className:E.a.boardMemberRestrictionAlertConfirmButton,isDisabled:u,onClick:function(){p(!0),s()},shouldFitContainer:!0},u?i.a.createElement(T.a,{centered:!0}):D(["workspaces preamble","board-member-restriction-submit"])),i.a.createElement(c.a,{appearance:"default",className:E.a.boardMemberRestrictionAlertCancelButton,isDisabled:u,onClick:a,shouldFitContainer:!0},D(["workspaces preamble","board-member-restriction-cancel"])))},A=n("./app/src/components/WorkspacesPreamble/BoardVisibilityRestrictionAlert.less"),L=n.n(A),M=n("./packages/graphql/generated.tsx"),F={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BoardVisibilityRestrictionAlert"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"memberships"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deactivated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idMember"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"memberType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unconfirmed"},arguments:[],directives:[]}]}}]}}]}}]};var R=n("./app/common/components/controls/icon/index.tsx"),z=n("./app/common/components/singlespa/router-link.tsx");function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var H=function(){},$=Object(S.forNamespace)("workspaces preamble"),W=Object(S.forNamespace)("board perms"),G=function(e){var t,n,o=e.boardId,s=e.onSubmit,l=e.orgId,c=V(Object(r.useState)(!1),2),d=c[0],u=c[1],p=(n={variables:{orgId:l}},m.c(F,n)),f=p.data,h=p.loading,v=C({orgId:l,boardId:o}),b=v.boardVisibility,y=v.loading,k=v.teamAllowsPrivateBoards,w=v.teamAllowsPublicBoards,x=v.teamAllowsTeamVisibleBoards,_=v.teamRestrictsAllBoardVisibilities;if(h||y)return i.a.createElement(T.a,{centered:!0});if(_){var j,S,O,E,N=!!(null==f||null===(j=f.organization)||void 0===j||null===(S=j.memberships)||void 0===S?void 0:S.find((function(e){return e.idMember===g.memberId&&"admin"===e.memberType&&!e.deactivated&&!e.unconfirmed}))),P=i.a.createElement("strong",{key:"orgName"},null==f||null===(O=f.organization)||void 0===O?void 0:O.displayName),B=N?$("board-visibility-all-restricted",{orgName:P,teamSettingsPageLink:i.a.createElement(z.a,{key:"settingsLink",href:"/".concat(null==f||null===(E=f.organization)||void 0===E?void 0:E.name,"/account")},$("board-visibility-settings-link"))}):$("board-visibility-all-restricted-not-admin",{orgName:P});return i.a.createElement("p",{id:"allVisibilitiesAreRestrictedMessaging"},B)}var D=function(e){u(!0),s(e)};return i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,$("board-visibility-messaging",{orgName:i.a.createElement("strong",{key:"orgName"},null==f||null===(t=f.organization)||void 0===t?void 0:t.displayName)})),i.a.createElement("div",{id:"privateVisibilityOption",role:"button",onClick:k&&!d?function(){return D(M.b.Private)}:H,className:a()(L.a.boardVisibilityOption,{[L.a.boardVisibilityOptionDisabled]:!k||d})},i.a.createElement("div",{className:L.a.boardVisibilityOptionTitle},i.a.createElement(R.default,{className:L.a.boardVisibilityIcon,color:R.IconColor.Red,name:R.IconName.Private,small:!0}),W(["private","name"]),"private"===b&&i.a.createElement(R.default,{className:L.a.boardVisibilityIcon,name:R.IconName.Check,small:!0})),i.a.createElement("p",{className:L.a.boardVisibilityOptionDescription},W(["private","short summary"]),"",!k&&i.a.createElement("span",{className:L.a.boardVisibilityDisabledMessaging},$("board-visibility-option-disabled")))),i.a.createElement("div",{id:"teamVisibleVisibilityOption",role:"button",onClick:x&&!d?function(){return D(M.b.Org)}:H,className:a()(L.a.boardVisibilityOption,{[L.a.boardVisibilityOptionDisabled]:!x||d})},i.a.createElement("div",{className:L.a.boardVisibilityOptionTitle},i.a.createElement(R.default,{className:L.a.boardVisibilityIcon,name:R.IconName.Organization,small:!0}),W(["org","name"]),"org"===b&&i.a.createElement(R.default,{className:L.a.boardVisibilityIcon,name:R.IconName.Check,small:!0})),i.a.createElement("p",{className:L.a.boardVisibilityOptionDescription},W(["org","short summary"]),"",!x&&i.a.createElement("span",{className:L.a.boardVisibilityDisabledMessaging},$("board-visibility-option-disabled")))),i.a.createElement("div",{id:"publicVisibilityOption",role:"button",onClick:w&&!d?function(){return D(M.b.Public)}:H,className:a()(L.a.boardVisibilityOption,{[L.a.boardVisibilityOptionDisabled]:!w||d})},i.a.createElement("div",{className:L.a.boardVisibilityOptionTitle},i.a.createElement(R.default,{className:L.a.boardVisibilityIcon,color:R.IconColor.Green,name:R.IconName.Public,small:!0}),W(["public","name"]),"public"===b&&i.a.createElement(R.default,{className:L.a.boardVisibilityIcon,name:R.IconName.Check,small:!0})),i.a.createElement("p",{className:L.a.boardVisibilityOptionDescription},W(["public","short summary"]),"",!w&&i.a.createElement("span",{className:L.a.boardVisibilityDisabledMessaging},$("board-visibility-option-disabled")))))},q=n("./app/src/components/WorkspacesPreamble/NewBillableGuestsAlert.less"),K=n.n(q);function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var X=function(){},Q=Object(S.forNamespace)("workspaces preamble"),Z=function(e){var t=e.onSubmit,n=Y(Object(r.useState)(!1),2),o=n[0],a=n[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement("p",{className:K.a.newBillableGuestsAlertHeadline},i.a.createElement("strong",null,Q(["workspaces preamble","new-billable-guests-headline"]))),i.a.createElement("p",{className:K.a.newBillableGuestsAlertMessaging},Q(["workspaces preamble","new-billable-guests-messaging"],{learnMoreLink:i.a.createElement(z.a,{key:"newBillableGuestsLink",href:"https://help.trello.com/article/1123-multi-board-guests",target:"_blank"},Q("new-billable-guests-link"))})),i.a.createElement(c.a,{appearance:"primary",className:K.a.newBillableGuestsAlertSubmitButton,isDisabled:o,onClick:o?X:function(){a(!0),t()},shouldFitContainer:!0},o?i.a.createElement(T.a,{centered:!0}):Q(["workspaces preamble","popover-title-add-to-team"])))},ee=n("./app/src/components/WorkspacesPreamble/WorkspacesPreambleCreateTeam.less"),te=n.n(ee),ne={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WorkspacesPreambleCreateTeam"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"members"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"confirmed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"prefs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isTemplate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"permissionLevel"},arguments:[],directives:[]}]}}]}}]}}]};var re={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"WorkspacesPreambleAddTeamMembers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"users"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"MemberOrEmail"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addMembersToOrg"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orgId"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}},{kind:"Argument",name:{kind:"Name",value:"users"},value:{kind:"Variable",name:{kind:"Name",value:"users"}}},{kind:"Argument",name:{kind:"Name",value:"invitationMessage"},value:{kind:"StringValue",value:"",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"success"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[]}]}}]}}]};var ie={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"WorkspacesPreambleCreateTeamSubmit"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"displayName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"type"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"teamType"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"desc"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"enterprise"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createOrganization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"displayName"},value:{kind:"Variable",name:{kind:"Name",value:"displayName"}}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"type"}}},{kind:"Argument",name:{kind:"Name",value:"teamType"},value:{kind:"Variable",name:{kind:"Name",value:"teamType"}}},{kind:"Argument",name:{kind:"Name",value:"desc"},value:{kind:"Variable",name:{kind:"Name",value:"desc"}}},{kind:"Argument",name:{kind:"Name",value:"enterprise"},value:{kind:"Variable",name:{kind:"Name",value:"enterprise"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]};var oe=n("./app/common/components/controls/button/button.tsx"),ae=n("./app/src/components/TeamTypeSelect/index.ts"),se={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WorkspacesPreambleBoardMemberList"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"members"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"confirmed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nonPublic"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"fullName"},arguments:[],directives:[]}]}}]}}]}}]}}]};var le=n("./packages/nachos/checkbox.ts"),ce=n("./app/src/components/MemberAvatar/index.ts"),de=n("./node_modules/react-animate-height/lib/AnimateHeight.js"),ue=n.n(de),pe=n("./app/src/components/WorkspacesPreamble/WorkspacesPreambleBoardMemberList.less"),me=n.n(pe);function fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||ge(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e){return function(e){if(Array.isArray(e))return ve(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||ge(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(e,t){if(e){if("string"==typeof e)return ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ve(e,t):void 0}}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var be=Object(S.forNamespace)("workspaces preamble"),ye=function(e,t){switch(t.type){case"add":return[].concat(he(e),[t.idMember]);case"remove":return e.filter((function(e){return e!==t.idMember}));case"clear":return[];case"all":return t.idMembers;default:return e}},ke=function(e){var t,n,o=e.boardId,a=e.onSelectMember,s=fe(Object(r.useState)(!1),2),l=s[0],c=s[1],d=fe(Object(r.useReducer)(ye,[]),2),u=d[0],p=d[1];Object(r.useEffect)((function(){return a(u)}),[a,u]);var f,h=(f={variables:{boardId:o}},m.c(se,f)).data,v=((null==h||null===(t=h.board)||void 0===t||null===(n=t.members)||void 0===n?void 0:n.length)||0)>1,b=Object(r.useMemo)((function(){var e,t;return(null==h||null===(e=h.board)||void 0===e||null===(t=e.members)||void 0===t?void 0:t.filter((function(e){return g.memberId!==e.id&&e.confirmed})))||[]}),[h]);return Object(r.useEffect)((function(){p({type:"all",idMembers:b.map((function(e){return e.id}))})}),[b]),v?i.a.createElement("div",{className:me.a.inviteMembers},i.a.createElement(le.a,{className:me.a.checkbox,label:i.a.createElement(i.a.Fragment,null,be(["add-members-to-team"],{membersCount:u.length})),onChange:function(e){e.target.checked?p({type:"all",idMembers:b.map((function(e){return e.id}))}):p({type:"clear"})},isChecked:u.length>0,isIndeterminate:u.length!==b.length&&u.length>0}),i.a.createElement(ue.a,{className:me.a.members,contentClassName:me.a.membersScroller,height:l?37*Math.min(5,b.length):0,animateOpacity:!0},b.map((function(e){var t=u.includes(e.id);return i.a.createElement(we,{key:"member".concat(e.id),member:e,selected:t,updateMembers:p})}))),i.a.createElement("button",{onClick:function(){return c(!l)}},be(l?["hide-members-button"]:["show-members-button"]))):null},we=function(e){var t=e.member,n=e.selected,o=e.updateMembers,s=fe(Object(r.useState)(!1),2),l=s[0],c=s[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{onMouseEnter:function(){return c(!0)},onMouseLeave:function(){return c(!1)},className:a()(me.a.member,{[me.a.memberHover]:l}),onClick:function(e){o({type:n?"remove":"add",idMember:t.id})},role:"checkbox","aria-checked":n},i.a.createElement("div",{className:me.a.nameAndAvatar},i.a.createElement(ce.a,{idMember:t.id,size:20,className:me.a.avatar})," ",i.a.createElement("div",{className:me.a.name},t.nonPublic&&t.nonPublic.fullName?t.nonPublic.fullName:t.fullName)),i.a.createElement(le.a,{isChecked:n,className:me.a.memberCheckbox})))},xe=n("./app/scripts/debug/log-error.ts"),Ce=n("./packages/analytics/index.ts"),_e=n("./packages/atlassian-analytics/index.ts"),je=n("./packages/test-ids/index.ts");function Se(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function Oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ee(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ne=Object(S.forNamespace)("workspaces preamble"),Te=function(){},Pe=function(e){var t,n=e.analyticsDirectObj,o=e.analyticsSource,a=e.boardId,s=e.onSuccess,c=Oe(Object(r.useState)(!1),2),d=c[0],u=c[1],f=Oe(Object(r.useState)(""),2),h=f[0],v=f[1],b=Oe(Object(r.useState)(),2),k=b[0],w=b[1],x=Oe(Object(r.useState)(!1),2),C=x[0],_=x[1],j=Oe(Object(r.useState)([]),2),S=j[0],O=j[1],E=(t={variables:{boardId:a}},m.c(ne,t)).data,N=Oe(function(e){return m.b(ie,e)}(),1)[0],P=Oe(function(e){return m.b(re,e)}(),1)[0],B=Oe(y(),1)[0],D=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r,i,c,d,m,f,v,b,y,w,x,C,_,j,O;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),u(!0),e.prev=2,e.next=5,N({variables:{type:"default",displayName:h.trim(),teamType:k}});case 5:if(m=e.sent,f=null===(r=m.data)||void 0===r||null===(i=r.createOrganization)||void 0===i?void 0:i.name,!(v=null===(c=m.data)||void 0===c||null===(d=c.createOrganization)||void 0===d?void 0:d.id)||!f){e.next=21;break}return e.next=11,B({variables:{boardId:a,orgId:v}});case 11:if(_=S.map((function(e){return{id:e}})),!(j=_.length)){e.next=16;break}return e.next=16,P({variables:{orgId:v,users:_}});case 16:O=((null==E||null===(b=E.board)||void 0===b?void 0:b.members)||[]).filter((function(e){return g.memberId!==e.id&&e.confirmed})).length,_e.Analytics.sendCreatedBoardEvent({source:o,containers:{board:{id:a},organization:{id:v}},attributes:{isTemplate:null==E||null===(y=E.board)||void 0===y||null===(w=y.prefs)||void 0===w?void 0:w.isTemplate,visibility:null==E||null===(x=E.board)||void 0===x||null===(C=x.prefs)||void 0===C?void 0:C.permissionLevel}}),_e.Analytics.sendTrackEvent({action:"updated",actionSubject:"organization",source:o,containers:{board:{id:a},organization:{id:v}},attributes:{availableMembersCount:O,membersAddedCount:j,newOrg:!0,updatedOn:"board"}}),Object(Ce.trackUe)({category:Ce.Noun.BOARD_VIEW,verb:Ce.Verb.SUBMITS,directObj:n,context:{availableMembersCount:O,boardId:a,membersAddedCount:j,newOrg:!0,orgId:v}}),s(f);case 21:e.next=28;break;case 23:e.prev=23,e.t0=e.catch(2),l.a.showLiteralText(e.t0.message,"error","alert",5e3),Object(xe.logError)({error:e.t0,tags:{ownershipArea:"trello-bizteam",feature:p.Feature.WorkspacesPreamble}}),u(!1);case 28:case"end":return e.stop()}}),e,null,[[2,23]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Se(o,r,i,a,s,"next",e)}function s(e){Se(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),I=C&&!!k&&!d;return i.a.createElement("div",{className:te.a.createTeam},i.a.createElement("label",{className:te.a.createTeamInputLabel,htmlFor:"workspacesPreambleCreateTeamInput"},Ne(["new-team-input-label"])),i.a.createElement("input",{id:"workspacesPreambleCreateTeamInput",className:te.a.createTeamInput,type:"text",autoComplete:"off",spellCheck:!1,onChange:function(e){var t,n=null==e||null===(t=e.target)||void 0===t?void 0:t.value;n&&(v(n),_(n.trim().length>0))},autoFocus:!0,placeholder:Ne(["new-team-input-placeholder"]),value:h,maxLength:100,disabled:d}),i.a.createElement(ae.TeamTypeSelect,{onChange:function(e){return w(e)},isDisabled:d,testId:je.WorkSpacesPreambleTestIds.WorkspacesPreambleSelectTeamType}),i.a.createElement(ke,{boardId:a,onSelectMember:function(e){return O(e)}}),i.a.createElement(oe.a,{buttonType:I?oe.c.PRIMARY:oe.c.DISABLED,className:te.a.createTeamButton,onClick:I?D:Te,size:oe.b.FULLWIDTH,testId:je.WorkSpacesPreambleTestIds.WorkspacesPreambleCreateTeamSubmit},d?i.a.createElement(T.a,{centered:!0,testId:je.WorkSpacesPreambleTestIds.WorkspacesPreambleSpinner}):Ne(["submit-button-create-team"])))},Be={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WorkspacesPreambleSelectTeam"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organizations"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"limits"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"orgs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"freeBoardsPerOrg"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]};var De=n("./app/src/components/WorkspacesPreamble/WorkspacesPreambleSelectTeam.less"),Ie=n.n(De),Ae=n("./packages/nachos/select.ts");function Le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Me(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Fe=function(){},Re=Object(S.forNamespace)("workspaces preamble"),ze=function(e){var t,n,o=e.boardId,a=e.isLoadingSelectedTeam,s=e.onSelectCreateTeam,l=e.onSelectTeam,c=e.onSubmit,d=e.selectedTeamId,u=Le(Object(r.useState)(!1),2),p=u[0],f=u[1],h=(n={variables:{boardId:o}},m.c(Be,n)),g=h.data,v=h.loading,b=((null==g||null===(t=g.member)||void 0===t?void 0:t.organizations)||[]).map((function(e){var t,n,r,i=null==e||null===(t=e.limits)||void 0===t||null===(n=t.orgs)||void 0===n||null===(r=n.freeBoardsPerOrg)||void 0===r?void 0:r.status,o="disabled"===i||"maxExceeded"===i;return{label:e.displayName,value:e.id,isDisabled:o,meta:o?Re("upgrade-prompt-headline"):void 0}}));b.push({label:Re("team-select-create-team-option"),value:"CREATE_NEW_TEAM"});var y=p||v||a,k=d&&!y;return i.a.createElement(i.a.Fragment,null,i.a.createElement("label",{htmlFor:"workspacesPreambleTeamSelect"},Re("team-select-label")),i.a.createElement(Ae.a,{id:"workspacesPreambleTeamSelect",defaultValue:{label:Re("team-select-default-option"),value:""},isLoading:v,isDisabled:p||v,options:b,onChange:function(e){"CREATE_NEW_TEAM"===e.value?s():e.value&&l(e.value)}}),i.a.createElement(oe.a,{className:Ie.a.selectTeamSubmitButton,onClick:k?function(e){e.preventDefault(),f(!0),c()}:Fe,size:oe.b.FULLWIDTH,buttonType:k?oe.c.PRIMARY:oe.c.DISABLED},y?i.a.createElement(T.a,{centered:!0}):Re("prompt-continue-button-add-to-team")))};function Ve(){return(Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ue(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function He(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $e(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var We,Ge=Object(S.forNamespace)("workspaces preamble"),qe=function(){};!function(e){e[e.Intro=0]="Intro",e[e.SelectTeam=1]="SelectTeam",e[e.CreateTeam=2]="CreateTeam",e[e.BoardMemberRestriction=3]="BoardMemberRestriction",e[e.BoardVisibilityRestriction=4]="BoardVisibilityRestriction",e[e.NewBillableGuests=5]="NewBillableGuests"}(We||(We={}));var Ke=function(e){var t,n,o,a,s=e.boardId,c=e.IntroScreen,u=e.isBoardTeamless,f=e.onCreateTeamSuccess,h=e.onHide,b=void 0===h?qe:h,x=e.onSelectTeamSuccess,_=void 0===x?qe:x,S=e.onShow,O=void 0===S?qe:S,E=e.autoShow,N=e.successAnalyticDirectObj,T=e.successAnalyticSource,P=e.TriggerButton,B=He(Object(r.useState)(""),2),D=B[0],A=B[1],L=He(Object(r.useState)(!1),2),M=L[0],F=L[1],R=He(Object(r.useState)(""),2),z=R[0],V=R[1],U=He(Object(r.useState)(!1),2),H=U[0],$=U[1],W=(a={variables:{boardId:s}},m.c(v,a)).data,q=function(e){return m.c(w,e)}({variables:{boardId:s,orgId:D},skip:""===D}).data,K=j({orgId:D,boardId:s,skip:1===(null==W||null===(t=W.board)||void 0===t?void 0:t.members.length)}),Y=K.hasBoardMemberRestrictions,J=K.boardMembersNotInTeam,X=K.loading,Q=C({orgId:D,boardId:s}),ee=Q.loading,te=Q.teamRestrictsCurrentBoardVisibility,ne=He(y(),1)[0],re=He(function(e){return m.b(k,e)}(),1)[0],ie=Object(d.d)({initialScreen:We.Intro,onHide:b,onShow:O}),oe=ie.popoverProps,ae=ie.push,se=ie.show,le=ie.toggle,ce=ie.triggerRef,de=ie.hide;Object(r.useEffect)((function(){F(!1),V("")}),[oe.isVisible,D,F,V]);var ue=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r,i,o,a,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Y||!J.length||(null==t?void 0:t.boardMemberRestrictionResolved)||M){e.next=3;break}return ae(We.BoardMemberRestriction),e.abrupt("return");case 3:if(!(null==q||null===(n=q.organization)||void 0===n||null===(r=n.newBillableGuests)||void 0===r?void 0:r.length)||(null==t?void 0:t.newBillableGuestsResolved)||H){e.next=6;break}return ae(We.NewBillableGuests),e.abrupt("return");case 6:if(!te||(null==t?void 0:t.boardVisibilityRestrictionResolution)||z){e.next=9;break}return ae(We.BoardVisibilityRestriction),e.abrupt("return");case 9:if(e.prev=9,a=!!(null==q||null===(i=q.organization)||void 0===i||null===(o=i.memberships)||void 0===o?void 0:o.find((function(e){return e.idMember===g.memberId&&"admin"===e.memberType}))),!(null==t?void 0:t.boardVisibilityRestrictionResolution)&&!z){e.next=17;break}return c=(null==t?void 0:t.boardVisibilityRestrictionResolution)||z,e.next=15,re({variables:{boardId:s,visibility:c,orgId:D,keepBillableGuests:a}});case 15:e.next=19;break;case 17:return e.next=19,ne({variables:{boardId:s,orgId:D,keepBillableGuests:a}});case 19:_e.Analytics.sendTrackEvent({action:"updated",actionSubject:"organization",source:T,containers:{board:{id:s},organization:{id:D}},attributes:{newOrg:!1,updatedOn:"board"}}),Object(Ce.trackUe)({category:Ce.Noun.BOARD_VIEW,verb:Ce.Verb.SUBMITS,directObj:N,context:{boardId:s,newOrg:!1,orgId:D}}),_(),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(9),l.a.showLiteralText(e.t0.message,"error","alert",5e3),Object(xe.logError)({error:e.t0,tags:{ownershipArea:"trello-bizteam",feature:p.Feature.WorkspacesPreamble}});case 28:case"end":return e.stop()}}),e,null,[[9,24]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Ue(o,r,i,a,s,"next",e)}function s(e){Ue(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();Object(r.useEffect)((function(){E&&se()}),[E,se]),Object(r.useEffect)((function(){!1===u&&de()}),[u,de]);var pe=!!(null==W||null===(n=W.member)||void 0===n||null===(o=n.idOrganizations)||void 0===o?void 0:o.length)||!1,me=pe?We.SelectTeam:We.CreateTeam;return i.a.createElement(i.a.Fragment,null,i.a.createElement(P,{boardId:s,onClick:le,ref:ce}),i.a.createElement(d.b,Ve({},oe,{title:Ge(pe?"popover-title-add-to-team":"popover-title-create-team")}),i.a.createElement(d.c,{id:We.Intro},i.a.createElement(c,{onButtonClick:function(){return ae(me)},buttonCopy:Ge(pe?"prompt-continue-button-add-to-team":"prompt-continue-button-create-team")})),i.a.createElement(d.c,{id:We.SelectTeam},i.a.createElement(ze,{boardId:s,isLoadingSelectedTeam:X||ee,onSelectTeam:A,onSelectCreateTeam:function(){return ae(We.CreateTeam)},onSubmit:ue,selectedTeamId:D})),i.a.createElement(d.c,{id:We.CreateTeam},i.a.createElement(Pe,{analyticsDirectObj:N,analyticsSource:T,boardId:s,onSuccess:f})),i.a.createElement(d.c,{id:We.BoardMemberRestriction},i.a.createElement(I,{boardId:s,onCancel:function(){return ae(We.SelectTeam)},onSubmit:function(){F(!0),ue({boardMemberRestrictionResolved:!0})},orgId:D})),i.a.createElement(d.c,{id:We.BoardVisibilityRestriction},i.a.createElement(G,{boardId:s,onSubmit:function(e){V(e),ue({boardVisibilityRestrictionResolution:e})},orgId:D})),i.a.createElement(d.c,{id:We.NewBillableGuests},i.a.createElement(Z,{onSubmit:function(){$(!0),ue({newBillableGuestsResolved:!0})}}))))},Ye=n("./app/gamma/src/util/url.ts"),Je=n("./app/src/components/WorkspacesPreamble/WorkspacesPreambleBoardHeaderButton.less"),Xe=n.n(Je);function Qe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ze(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var et=Object(S.forNamespace)(),tt=Object(S.forNamespace)("workspaces preamble");var nt=Object(r.forwardRef)((function(e,t){var n=e.boardId,r=e.onClick;return i.a.createElement("a",{className:"board-header-btn board-header-btn-without-icon",onClick:function(){_e.Analytics.sendClickedButtonEvent({buttonName:"workspacesPreambleAddToTeamButton",source:"boardScreen",containers:{board:{id:n}}}),Object(Ce.trackUe)({category:Ce.Noun.BOARD_VIEW,verb:Ce.Verb.CLICKS,directObj:Ce.Noun.WORKSPACES_PREAMBLE_ADD_TO_TEAM_BUTTON,context:{boardId:n}}),r()},ref:t,role:"button"},i.a.createElement("span",{className:"board-header-btn-text"},tt("board-header-button")))})),rt=function(e){var t=e.buttonCopy,r=e.onButtonClick;return i.a.createElement("div",{className:Xe.a.workspacesPreambleBoardHeaderButtonIntro},i.a.createElement("img",{src:n("./resources/images/workspaces-preamble/workspaces-preamble-prompt-board-image.png"),alt:"",role:"presentation"}),i.a.createElement("h2",{className:Xe.a.workspacesPreambleBoardHeaderButtonIntroTitle},tt("prompt-heading")),i.a.createElement("p",null,tt("prompt-paragraph")),i.a.createElement(c.a,{appearance:"primary",className:Xe.a.workspacesPreambleBoardHeaderButtonContinueButton,onClick:r,shouldFitContainer:!0},t))},it=function(e){var t,n,o,s,c,g,v,b,y,k,w,x,C,_,j=e.boardId,S=e.canAutoShow,O=e.onCreateTeamSuccess,E=e.windowUrl,N=Qe(Object(r.useState)(!1),2),T=N[0],P=N[1],B=Qe(Object(r.useState)(!1),2),D=B[0],I=B[1],A=(x={variables:{boardId:j}},m.c(f,x)).data,L=Qe(function(e){return m.b(h,e)}(),1)[0],M="WorkspacesPreamblePrompt-".concat(j),F=null==A||null===(t=A.member)||void 0===t?void 0:t.id,R=null==A||null===(n=A.board)||void 0===n||null===(o=n.memberships)||void 0===o?void 0:o.find((function(e){return e.idMember===F})),z=null==A||null===(s=A.board)||void 0===s?void 0:s.enterpriseOwned,V="admin"===(null==R?void 0:R.memberType),U=!!(null==A||null===(c=A.member)||void 0===c||null===(g=c.enterprises)||void 0===g?void 0:g.length),H=!(null==A||null===(v=A.board)||void 0===v?void 0:v.idOrganization),$=null==A||null===(b=A.board)||void 0===b||null===(y=b.members)||void 0===y?void 0:y.reduce((function(e,t){return t.confirmed?e+1:e}),0),W=!(!(V&&H&&($&&$>=2))||z||U||!(null==A||null===(k=A.member)||void 0===k?void 0:k.confirmed)),G=Object(Ye.d)(new URL(E||window.location.href).pathname),q=(null==A||null===(w=A.member)||void 0===w?void 0:w.oneTimeMessagesDismissed)||[M],K=!(!(W&&S&&G)||q.includes(M)),Y=(C=H,_=Object(r.useRef)(),Object(r.useEffect)((function(){_.current=C}),[C]),_.current);Object(r.useEffect)((function(){Y&&!H&&T&&!D&&l.a.show("teamless-board-added-to-team","info","board",5e3)}),[H,T,Y,D]);var J=W||T;return i.a.createElement(u.a,{tags:{ownershipArea:"trello-bizteam",feature:p.Feature.WorkspacesPreamble}},J?i.a.createElement(Ke,{autoShow:K,boardId:j,IntroScreen:rt,isBoardTeamless:H,onCreateTeamSuccess:O,onSelectTeamSuccess:function(){return I(!0)},onHide:function(e){P(!1),e===d.a.CLICK_CLOSE_BUTTON&&L({variables:{messageId:"WorkspacesPreamblePrompt-".concat(j)}})},onShow:function(){P(!0),_e.Analytics.sendScreenEvent({name:"workspacesPreambleAddToTeamInlineDialog",containers:{board:{id:j}}}),Object(Ce.trackUe)({category:Ce.Noun.BOARD_VIEW,verb:Ce.Verb.VIEWS,directObj:Ce.Noun.WORKSPACES_PREAMBLE_ADD_TO_TEAM_PROMPT,context:{boardId:j}})},successAnalyticDirectObj:Ce.Noun.WORKSPACES_PREAMBLE_ADD_TO_TEAM_PROMPT,successAnalyticSource:"workspacesPreambleAddToTeamInlineDialog",TriggerButton:nt}):i.a.createElement("a",{className:a()("board-header-btn board-header-btn-without-icon js-add-board-to-team",{"no-edit":!V})},i.a.createElement("span",{className:"board-header-btn-text"},et("personal"))))},ot={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WorkspacesPreambleBoardInviteButton"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enterpriseOwned"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"members"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"memberships"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"memberType"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"confirmed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enterprises"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]};var at=n("./app/src/components/WorkspacesPreamble/WorkspacesPreambleBoardInviteButton.less"),st=n.n(at),lt=Object(S.forTemplate)("board_header"),ct=Object(S.forNamespace)("workspaces preamble"),dt=Object(r.forwardRef)((function(e,t){var n=e.boardId,r=e.onClick;return i.a.createElement("a",{className:"board-header-btn board-header-btn-invite board-header-btn-without-icon",title:lt("invite-to-board"),onClick:function(){_e.Analytics.sendClickedButtonEvent({buttonName:"workspacesPreambleBoardInviteButton",source:"boardScreen",containers:{board:{id:n}}}),Object(Ce.trackUe)({category:Ce.Noun.BOARD_VIEW,verb:Ce.Verb.CLICKS,directObj:Ce.Noun.WORKSPACES_PREAMBLE_BOARD_INVITE_BUTTON,context:{boardId:n}}),r()},ref:t,role:"button"},i.a.createElement("span",{className:"board-header-btn-text"},lt("invite")))})),ut=function(e){var t=e.buttonCopy,r=e.onButtonClick;return i.a.createElement("div",{className:st.a.workspacesPreamblePromptInviteIntro},i.a.createElement("img",{src:n("./resources/images/workspaces-preamble/workspaces-preamble-prompt-board-invite-image.png"),alt:"",role:"presentation"}),i.a.createElement("h2",{className:st.a.workspacesPreamblePromptInviteIntroTitle},ct("prompt-heading-invite")),i.a.createElement("p",null,ct("prompt-paragraph-invite")),i.a.createElement(c.a,{appearance:"primary",className:st.a.workspacesPreamblePromptInviteIntroContinueButton,"data-test-id":je.WorkSpacesPreambleTestIds.WorkspacesPreambleCreateTeamButton,onClick:r,shouldFitContainer:!0},t))},pt=function(e){var t,n,r,o,a,s,l,c,d,f,h,g=e.boardId,v=e.onSuccess,b=(h={variables:{boardId:g}},m.c(ot,h)).data,y=null==b||null===(t=b.member)||void 0===t?void 0:t.id,k=null==b||null===(n=b.board)||void 0===n||null===(r=n.memberships)||void 0===r?void 0:r.find((function(e){return e.idMember===y})),w=null==b||null===(o=b.board)||void 0===o?void 0:o.enterpriseOwned,x="admin"===(null==k?void 0:k.memberType),C=!!(null==b||null===(a=b.member)||void 0===a||null===(s=a.enterprises)||void 0===s?void 0:s.length),_=!(null==b||null===(l=b.board)||void 0===l?void 0:l.idOrganization),j=1===(null==b||null===(c=b.board)||void 0===c||null===(d=c.members)||void 0===d?void 0:d.length),S=!(!(x&&_&&j)||w||C||!(null==b||null===(f=b.member)||void 0===f?void 0:f.confirmed));return i.a.createElement(u.a,{tags:{ownershipArea:"trello-bizteam",feature:p.Feature.WorkspacesPreamble}},S?i.a.createElement(Ke,{boardId:g,IntroScreen:ut,onCreateTeamSuccess:v,onSelectTeamSuccess:v,onShow:function(){_e.Analytics.sendScreenEvent({name:"workspacesPreambleBoardInviteInlineDialog",containers:{board:{id:g}}}),Object(Ce.trackUe)({category:Ce.Noun.BOARD_VIEW,verb:Ce.Verb.VIEWS,directObj:Ce.Noun.WORKSPACES_PREAMBLE_BOARD_INVITE_PROMPT,context:{boardId:g}})},successAnalyticDirectObj:Ce.Noun.WORKSPACES_PREAMBLE_BOARD_INVITE_PROMPT,successAnalyticSource:"workspacesPreambleBoardInviteInlineDialog",TriggerButton:dt}):i.a.createElement("a",{className:"board-header-btn board-header-btn-invite board-header-btn-without-icon js-open-manage-board-members",title:lt("invite-to-board")},i.a.createElement("span",{className:"board-header-btn-text"},lt("invite"))))}},"./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return f}));var r=n("./node_modules/@apollo/react-common/lib/react-common.esm.js"),i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function o(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};var s=n("./node_modules/react/index.js"),l=n("./node_modules/apollo-client/bundle.esm.js"),c=n("./node_modules/@wry/equality/lib/equality.esm.js"),d=n("./node_modules/ts-invariant/lib/invariant.esm.js"),u=function(){function e(e,t){this.isMounted=!1,this.previousOptions={},this.context={},this.options={},this.options=e||{},this.context=t||{}}return e.prototype.getOptions=function(){return this.options},e.prototype.setOptions=function(e,t){void 0===t&&(t=!1),t&&!Object(c.a)(this.options,e)&&(this.previousOptions=this.options),this.options=e},e.prototype.unmount=function(){this.isMounted=!1},e.prototype.refreshClient=function(){var e=this.options&&this.options.client||this.context&&this.context.client;Object(d.b)(!!e,2);var t=!1;return e!==this.client&&(t=!0,this.client=e,this.cleanup()),{client:this.client,isNew:t}},e.prototype.verifyDocumentType=function(e,t){var n=Object(r.e)(e);Object(r.d)(t),Object(r.d)(n.type);Object(d.b)(n.type===t,3)},e}(),p=function(e){function t(t){var n=t.options,r=t.context,i=t.onNewData,o=e.call(this,n,r)||this;return o.previousData={},o.currentObservable={},o.runLazy=!1,o.runLazyQuery=function(e){o.cleanup(),o.runLazy=!0,o.lazyOptions=e,o.onNewData()},o.getExecuteResult=function(){var e=o.getQueryResult();return o.startQuerySubscription(),e},o.obsRefetch=function(e){return o.currentObservable.query.refetch(e)},o.obsFetchMore=function(e){return o.currentObservable.query.fetchMore(e)},o.obsUpdateQuery=function(e){return o.currentObservable.query.updateQuery(e)},o.obsStartPolling=function(e){o.currentObservable&&o.currentObservable.query&&o.currentObservable.query.startPolling(e)},o.obsStopPolling=function(){o.currentObservable&&o.currentObservable.query&&o.currentObservable.query.stopPolling()},o.obsSubscribeToMore=function(e){return o.currentObservable.query.subscribeToMore(e)},o.onNewData=i,o}return o(t,e),t.prototype.execute=function(){this.refreshClient();var e=this.getOptions(),t=e.skip,n=e.query;return(t||n!==this.previousData.query)&&(this.removeQuerySubscription(),this.previousData.query=n),this.updateObservableQuery(),this.isMounted&&this.startQuerySubscription(),this.getExecuteSsrResult()||this.getExecuteResult()},t.prototype.executeLazy=function(){return this.runLazy?[this.runLazyQuery,this.execute()]:[this.runLazyQuery,{loading:!1,networkStatus:l.b.ready,called:!1,data:void 0}]},t.prototype.fetchData=function(){var e=this.getOptions();if(e.skip||!1===e.ssr)return!1;var t=this.currentObservable.query;return!!t.getCurrentResult().loading&&t.result()},t.prototype.afterExecute=function(e){var t=this,n=(void 0===e?{}:e).lazy,r=void 0!==n&&n;return this.isMounted=!0,r&&!this.runLazy||(this.handleErrorOrCompleted(),setTimeout((function(){t.currentObservable.query&&t.currentObservable.query.resetQueryStoreErrors()}))),this.previousOptions=this.getOptions(),this.unmount.bind(this)},t.prototype.cleanup=function(){this.removeQuerySubscription(),delete this.currentObservable.query,delete this.previousData.result},t.prototype.getOptions=function(){var t=e.prototype.getOptions.call(this);return this.lazyOptions&&(t.variables=a(a({},t.variables),this.lazyOptions.variables),t.context=a(a({},t.context),this.lazyOptions.context)),this.runLazy&&delete t.skip,t},t.prototype.ssrInitiated=function(){return this.context&&this.context.renderPromises},t.prototype.getExecuteSsrResult=function(){var e,t=!1===this.getOptions().ssr,n=this.refreshClient().client.disableNetworkFetches,r={loading:!0,networkStatus:l.b.loading,called:!0,data:void 0};return t&&(this.ssrInitiated()||n)?r:(this.ssrInitiated()&&(e=this.context.renderPromises.addQueryPromise(this,this.getExecuteResult)||r),e)},t.prototype.prepareObservableQueryOptions=function(){var e=this.getOptions();this.verifyDocumentType(e.query,r.b.Query);var t=e.displayName||"Query";return!this.ssrInitiated()||"network-only"!==e.fetchPolicy&&"cache-and-network"!==e.fetchPolicy||(e.fetchPolicy="cache-first"),a(a({},e),{displayName:t,context:e.context,metadata:{reactComponent:{displayName:t}}})},t.prototype.initializeObservableQuery=function(){var e,t;if(this.ssrInitiated()&&(this.currentObservable.query=this.context.renderPromises.getSSRObservable(this.getOptions())),!this.currentObservable.query){var n=this.prepareObservableQueryOptions();this.previousData.observableQueryOptions=a(a({},n),{children:null}),this.currentObservable.query=this.refreshClient().client.watchQuery(a({},n)),this.ssrInitiated()&&(null===(t=null===(e=this.context)||void 0===e?void 0:e.renderPromises)||void 0===t||t.registerSSRObservable(this.currentObservable.query,n))}},t.prototype.updateObservableQuery=function(){if(this.currentObservable.query){var e=a(a({},this.prepareObservableQueryOptions()),{children:null});Object(c.a)(e,this.previousData.observableQueryOptions)||(this.previousData.observableQueryOptions=e,this.currentObservable.query.setOptions(e).catch((function(){})))}else this.initializeObservableQuery()},t.prototype.startQuerySubscription=function(){var e=this;if(!this.currentObservable.subscription&&!this.getOptions().skip){var t=this.currentObservable.query;this.currentObservable.subscription=t.subscribe({next:function(t){var n=t.loading,r=t.networkStatus,i=t.data,o=e.previousData.result;o&&o.loading===n&&o.networkStatus===r&&Object(c.a)(o.data,i)||e.onNewData()},error:function(t){if(e.resubscribeToQuery(),!t.hasOwnProperty("graphQLErrors"))throw t;var n=e.previousData.result;(n&&n.loading||!Object(c.a)(t,e.previousData.error))&&(e.previousData.error=t,e.onNewData())}})}},t.prototype.resubscribeToQuery=function(){this.removeQuerySubscription();var e=this.currentObservable.query.getLastError(),t=this.currentObservable.query.getLastResult();this.currentObservable.query.resetLastResults(),this.startQuerySubscription(),Object.assign(this.currentObservable.query,{lastError:e,lastResult:t})},t.prototype.getQueryResult=function(){var e=this.observableQueryFields(),t=this.getOptions();if(t.skip)e=a(a({},e),{data:void 0,error:void 0,loading:!1,called:!0});else{var n=this.currentObservable.query.getCurrentResult(),r=n.loading,i=n.partial,o=n.networkStatus,s=n.errors,c=n.error,d=n.data;if(s&&s.length>0&&(c=new l.a({graphQLErrors:s})),e=a(a({},e),{loading:r,networkStatus:o,error:c,called:!0}),r){var u=this.previousData.result&&this.previousData.result.data;e.data=u&&d?a(a({},u),d):u||d}else if(c)Object.assign(e,{data:(this.currentObservable.query.getLastResult()||{}).data});else{var p=this.currentObservable.query.options.fetchPolicy;if(t.partialRefetch&&!d&&i&&"cache-only"!==p)return Object.assign(e,{loading:!0,networkStatus:l.b.loading}),e.refetch(),e;e.data=d}}return e.client=this.client,this.previousData.loading=this.previousData.result&&this.previousData.result.loading||!1,this.previousData.result=e,e},t.prototype.handleErrorOrCompleted=function(){var e=this.currentObservable.query;if(e){var t=e.getCurrentResult(),n=t.data,r=t.loading,i=t.error;if(!r){var o=this.getOptions(),a=o.query,s=o.variables,l=o.onCompleted,d=o.onError;if(this.previousOptions&&!this.previousData.loading&&Object(c.a)(this.previousOptions.query,a)&&Object(c.a)(this.previousOptions.variables,s))return;l&&!i?l(n):d&&i&&d(i)}}},t.prototype.removeQuerySubscription=function(){this.currentObservable.subscription&&(this.currentObservable.subscription.unsubscribe(),delete this.currentObservable.subscription)},t.prototype.observableQueryFields=function(){return{variables:this.currentObservable.query.variables,refetch:this.obsRefetch,fetchMore:this.obsFetchMore,updateQuery:this.obsUpdateQuery,startPolling:this.obsStartPolling,stopPolling:this.obsStopPolling,subscribeToMore:this.obsSubscribeToMore}},t}(u);function m(e,t,n){void 0===n&&(n=!1);var i=Object(s.useContext)(Object(r.c)()),o=Object(s.useReducer)((function(e){return e+1}),0),l=o[0],d=o[1],u=t?a(a({},t),{query:e}):{query:e},m=Object(s.useRef)(!0),f=Object(s.useRef)(!1),h=Object(s.useRef)(),g=h.current||new p({options:u,context:i,onNewData:function(){!g.ssrInitiated()&&m.current?f.current=!0:d()}});g.setOptions(u),g.context=i,g.ssrInitiated()&&!h.current&&(h.current=g);var v,b,y,k={options:a(a({},u),{onError:void 0,onCompleted:void 0}),context:i,tick:l},w=(v=function(){return n?g.executeLazy():g.execute()},b=k,(y=Object(s.useRef)()).current&&Object(c.a)(b,y.current.key)||(y.current={key:b,value:v()}),y.current.value),x=n?w[1]:w;return Object(s.useEffect)((function(){h.current||(h.current=g),m.current=!1,f.current&&(f.current=!1,d())})),Object(s.useEffect)((function(){return g.afterExecute({lazy:n})}),[x.loading,x.networkStatus,x.error,x.data]),Object(s.useEffect)((function(){return function(){return g.cleanup()}}),[]),w}function f(e,t){return m(e,t,!1)}function h(e,t){return m(e,t,!0)}var g=function(e){function t(t){var n=t.options,i=t.context,o=t.result,a=t.setResult,s=e.call(this,n,i)||this;return s.runMutation=function(e){void 0===e&&(e={}),s.onMutationStart();var t=s.generateNewMutationId();return s.mutate(e).then((function(e){return s.onMutationCompleted(e,t),e})).catch((function(e){if(s.onMutationError(e,t),!s.getOptions().onError)throw e}))},s.verifyDocumentType(n.mutation,r.b.Mutation),s.result=o,s.setResult=a,s.mostRecentMutationId=0,s}return o(t,e),t.prototype.execute=function(e){return this.isMounted=!0,this.verifyDocumentType(this.getOptions().mutation,r.b.Mutation),e.client=this.refreshClient().client,[this.runMutation,e]},t.prototype.afterExecute=function(){return this.isMounted=!0,this.unmount.bind(this)},t.prototype.cleanup=function(){},t.prototype.mutate=function(e){var t=this.getOptions(),n=t.mutation,r=t.variables,i=t.optimisticResponse,o=t.update,s=t.context,l=void 0===s?{}:s,c=t.awaitRefetchQueries,d=void 0!==c&&c,u=t.fetchPolicy,p=a({},e),m=Object.assign({},r,p.variables);return delete p.variables,this.refreshClient().client.mutate(a({mutation:n,optimisticResponse:i,refetchQueries:p.refetchQueries||this.getOptions().refetchQueries,awaitRefetchQueries:d,update:o,context:l,fetchPolicy:u,variables:m},p))},t.prototype.onMutationStart=function(){this.result.loading||this.getOptions().ignoreResults||this.updateResult({loading:!0,error:void 0,data:void 0,called:!0})},t.prototype.onMutationCompleted=function(e,t){var n=this.getOptions(),r=n.onCompleted,i=n.ignoreResults,o=e.data,a=e.errors,s=a&&a.length>0?new l.a({graphQLErrors:a}):void 0;this.isMostRecentMutation(t)&&!i&&this.updateResult({called:!0,loading:!1,data:o,error:s}),r&&r(o)},t.prototype.onMutationError=function(e,t){var n=this.getOptions().onError;this.isMostRecentMutation(t)&&this.updateResult({loading:!1,error:e,data:void 0,called:!0}),n&&n(e)},t.prototype.generateNewMutationId=function(){return++this.mostRecentMutationId},t.prototype.isMostRecentMutation=function(e){return this.mostRecentMutationId===e},t.prototype.updateResult=function(e){!this.isMounted||this.previousResult&&Object(c.a)(this.previousResult,e)||(this.setResult(e),this.previousResult=e)},t}(u);function v(e,t){var n=Object(s.useContext)(Object(r.c)()),i=Object(s.useState)({called:!1,loading:!1}),o=i[0],l=i[1],c=t?a(a({},t),{mutation:e}):{mutation:e},d=Object(s.useRef)();var u=(d.current||(d.current=new g({options:c,context:n,result:o,setResult:l})),d.current);return u.setOptions(c),u.context=n,Object(s.useEffect)((function(){return u.afterExecute()})),u.execute(o)}!function(e){function t(t){var n=t.options,r=t.context,i=t.setResult,o=e.call(this,n,r)||this;return o.currentObservable={},o.setResult=i,o.initialize(n),o}o(t,e),t.prototype.execute=function(e){if(!0===this.getOptions().skip)return this.cleanup(),{loading:!1,error:void 0,data:void 0,variables:this.getOptions().variables};var t=e;this.refreshClient().isNew&&(t=this.getLoadingResult());var n=this.getOptions().shouldResubscribe;return"function"==typeof n&&(n=!!n(this.getOptions())),!1!==n&&this.previousOptions&&Object.keys(this.previousOptions).length>0&&(this.previousOptions.subscription!==this.getOptions().subscription||!Object(c.a)(this.previousOptions.variables,this.getOptions().variables)||this.previousOptions.skip!==this.getOptions().skip)&&(this.cleanup(),t=this.getLoadingResult()),this.initialize(this.getOptions()),this.startSubscription(),this.previousOptions=this.getOptions(),a(a({},t),{variables:this.getOptions().variables})},t.prototype.afterExecute=function(){this.isMounted=!0},t.prototype.cleanup=function(){this.endSubscription(),delete this.currentObservable.query},t.prototype.initialize=function(e){this.currentObservable.query||!0===this.getOptions().skip||(this.currentObservable.query=this.refreshClient().client.subscribe({query:e.subscription,variables:e.variables,fetchPolicy:e.fetchPolicy}))},t.prototype.startSubscription=function(){this.currentObservable.subscription||(this.currentObservable.subscription=this.currentObservable.query.subscribe({next:this.updateCurrentData.bind(this),error:this.updateError.bind(this),complete:this.completeSubscription.bind(this)}))},t.prototype.getLoadingResult=function(){return{loading:!0,error:void 0,data:void 0}},t.prototype.updateResult=function(e){this.isMounted&&this.setResult(e)},t.prototype.updateCurrentData=function(e){var t=this.getOptions().onSubscriptionData;this.updateResult({data:e.data,loading:!1,error:void 0}),t&&t({client:this.refreshClient().client,subscriptionData:e})},t.prototype.updateError=function(e){this.updateResult({error:e,loading:!1})},t.prototype.completeSubscription=function(){var e=this.getOptions().onSubscriptionComplete;e&&e(),this.endSubscription()},t.prototype.endSubscription=function(){this.currentObservable.subscription&&(this.currentObservable.subscription.unsubscribe(),delete this.currentObservable.subscription)}}(u);!function(){function e(){this.queryPromises=new Map,this.queryInfoTrie=new Map}e.prototype.registerSSRObservable=function(e,t){this.lookupQueryInfo(t).observable=e},e.prototype.getSSRObservable=function(e){return this.lookupQueryInfo(e).observable},e.prototype.addQueryPromise=function(e,t){return this.lookupQueryInfo(e.getOptions()).seen?t():(this.queryPromises.set(e.getOptions(),new Promise((function(t){t(e.fetchData())}))),null)},e.prototype.hasPromises=function(){return this.queryPromises.size>0},e.prototype.consumeAndAwaitPromises=function(){var e=this,t=[];return this.queryPromises.forEach((function(n,r){e.lookupQueryInfo(r).seen=!0,t.push(n)})),this.queryPromises.clear(),Promise.all(t)},e.prototype.lookupQueryInfo=function(e){var t=this.queryInfoTrie,n=e.query,r=e.variables,i=t.get(n)||new Map;t.has(n)||t.set(n,i);var o=JSON.stringify(r),a=i.get(o)||{seen:!1,observable:null};return i.has(o)||i.set(o,a),a}}()},"./node_modules/@atlaskit/analytics-next/dist/esm/AnalyticsContext.js":function(e,t,n){"use strict";var r=n("./node_modules/tslib/tslib.es6.js"),i=n("./node_modules/react/index.js"),o=n.n(i),a=n("./node_modules/prop-types/index.js"),s=n.n(a),l=n("./node_modules/@atlaskit/analytics-next/dist/esm/AnalyticsReactContext.js"),c={getAtlaskitAnalyticsContext:s.a.func,getAtlaskitAnalyticsEventHandlers:s.a.func},d=function(e){function t(t){var n=e.call(this,t)||this;return n.getChildContext=function(){return{getAtlaskitAnalyticsContext:n.getAnalyticsContext}},n.getAnalyticsContext=function(){var e=n.props.data,t=n.context.getAtlaskitAnalyticsContext,i="function"==typeof t&&t()||[];return Object(r.__spread)(i,[e])},n.getAnalyticsEventHandlers=function(){var e=n.context.getAtlaskitAnalyticsEventHandlers;return"function"==typeof e&&e()||[]},n.state={getAtlaskitAnalyticsContext:n.getAnalyticsContext,getAtlaskitAnalyticsEventHandlers:n.getAnalyticsEventHandlers},n}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props.children;return o.a.createElement(l.a.Provider,{value:this.state},i.Children.only(e))},t.contextTypes=c,t.childContextTypes=c,t}(i.Component);t.a=d},"./node_modules/@atlaskit/analytics-next/dist/esm/AnalyticsReactContext.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("./node_modules/react/index.js"),i=n.n(r).a.createContext({getAtlaskitAnalyticsContext:null,getAtlaskitAnalyticsEventHandlers:null})},"./node_modules/@atlaskit/analytics-next/dist/esm/UIAnalyticsEvent.js":function(e,t,n){"use strict";var r=n("./node_modules/tslib/tslib.es6.js"),i=function(e){function t(n){var i=e.call(this,n)||this;return i.clone=function(){return i.hasFired?(console.warn("Cannot clone an event after it's been fired."),null):new t({context:Object(r.__spread)(i.context),handlers:Object(r.__spread)(i.handlers),payload:JSON.parse(JSON.stringify(i.payload))})},i.fire=function(e){i.hasFired?console.warn("Cannot fire an event twice."):(i.handlers.forEach((function(t){return t(i,e)})),i.hasFired=!0)},i.context=n.context||[],i.handlers=n.handlers||[],i.hasFired=!1,i}return Object(r.__extends)(t,e),t.prototype.update=function(t){return this.hasFired?(console.warn("Cannot update an event after it's been fired."),this):e.prototype.update.call(this,t)},t}(function(){function e(t){var n=this;this.clone=function(){return new e({payload:JSON.parse(JSON.stringify(n.payload))})},this.payload=t.payload}return e.prototype.update=function(e){return"function"==typeof e&&(this.payload=e(this.payload)),"object"==typeof e&&(this.payload=Object(r.__assign)(Object(r.__assign)({},this.payload),e)),this},e}());t.a=i},"./node_modules/@atlaskit/analytics-next/dist/esm/createAndFireEvent.js":function(e,t,n){"use strict";t.a=function(e){return function(t){return function(n){var r=n(t),i=r.clone();return i&&i.fire(e),r}}}},"./node_modules/@atlaskit/analytics-next/dist/esm/withAnalyticsContext.js":function(e,t,n){"use strict";var r=n("./node_modules/tslib/tslib.es6.js"),i=n("./node_modules/react/index.js"),o=n.n(i),a=n("./node_modules/@atlaskit/analytics-next/dist/esm/AnalyticsContext.js");t.a=function(e){return function(t){var n=o.a.forwardRef((function(n,i){var s=n.analyticsContext,l=void 0===s?{}:s,c=Object(r.__rest)(n,["analyticsContext"]),d=Object(r.__assign)(Object(r.__assign)({},e),l);return o.a.createElement(a.a,{data:d},o.a.createElement(t,Object(r.__assign)({},c,{ref:i})))}));return n.displayName="WithAnalyticsContext("+(t.displayName||t.name)+")",n}}},"./node_modules/@atlaskit/analytics-next/dist/esm/withAnalyticsEvents.js":function(e,t,n){"use strict";var r=n("./node_modules/tslib/tslib.es6.js"),i=n("./node_modules/react/index.js"),o=n.n(i),a=n("./node_modules/prop-types/index.js"),s=n.n(a),l=n("./node_modules/@atlaskit/analytics-next/dist/esm/UIAnalyticsEvent.js"),c=function(e){function t(t){var n=e.call(this,t)||this;return n.originalEventProps={},n.patchedEventProps={},n.updatePatchedEventProps=function(e){var t=Object.keys(n.props.createEventMap).filter((function(t){return n.originalEventProps[t]!==e[t]}));return t.length>0&&(n.patchedEventProps=Object(r.__assign)(Object(r.__assign)({},n.patchedEventProps),n.mapCreateEventsToProps(t,e)),t.forEach((function(t){n.originalEventProps[t]=e[t]}))),n.patchedEventProps},n.mapCreateEventsToProps=function(e,t){return e.reduce((function(e,i){var o,a=n.props.createEventMap[i],s=t[i];if(!["object","function"].includes(typeof a))return e;return Object(r.__assign)(Object(r.__assign)({},e),((o={})[i]=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var o="function"==typeof a?a(n.createAnalyticsEvent,t):n.createAnalyticsEvent(a);s&&s.apply(void 0,Object(r.__spread)(e,[o]))},o))}),{})},n.createAnalyticsEvent=function(e){var t=n.context,r=t.getAtlaskitAnalyticsEventHandlers,i=t.getAtlaskitAnalyticsContext;return new l.a({context:"function"==typeof i&&i()||[],handlers:"function"==typeof r&&r()||[],payload:e})},Object.keys(n.props.createEventMap).forEach((function(e){n.originalEventProps[e]=t.wrappedComponentProps[e]})),n.patchedEventProps=n.mapCreateEventsToProps(Object.keys(n.props.createEventMap),t.wrappedComponentProps),n}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.updatePatchedEventProps(this.props.wrappedComponentProps);return this.props.children({createAnalyticsEvent:this.createAnalyticsEvent,patchedEventProps:e})},t.contextTypes={getAtlaskitAnalyticsEventHandlers:s.a.func,getAtlaskitAnalyticsContext:s.a.func},t.defaultProps={createEventMap:{}},t}(o.a.Component);t.a=function(e){return function(t){var n=o.a.forwardRef((function(n,i){return o.a.createElement(c,{createEventMap:e,wrappedComponentProps:n},(function(e){var a=e.createAnalyticsEvent,s=e.patchedEventProps;return o.a.createElement(t,Object(r.__assign)({},n,s,{createAnalyticsEvent:a,ref:i}))}))}));return n.displayName="WithAnalyticsEvents("+(t.displayName||t.name)+")",n}}},"./node_modules/@atlaskit/button/dist/esm/components/Button.js":function(e,t,n){"use strict";var r=n("./node_modules/tslib/tslib.es6.js"),i=n("./node_modules/react/index.js"),o=n.n(i),a=n("./node_modules/@emotion/core/dist/core.browser.esm.js");function s(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var l=function(e,t){var n;void 0===t&&(t=s);var r,i=[],o=!1;return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return o&&n===this&&t(a,i)||(r=e.apply(this,a),o=!0,n=this,i=a),r}},c=n("./node_modules/@atlaskit/analytics-next/dist/esm/createAndFireEvent.js"),d=n("./node_modules/@atlaskit/analytics-next/dist/esm/withAnalyticsContext.js"),u=n("./node_modules/@atlaskit/analytics-next/dist/esm/withAnalyticsEvents.js"),p=n("./node_modules/@atlaskit/theme/dist/esm/components/Theme.js"),m=n("./node_modules/@atlaskit/theme/dist/esm/colors.js"),f=n("./node_modules/@atlaskit/theme/dist/esm/utils/createTheme.js"),h=n("./node_modules/@atlaskit/theme/dist/esm/constants.js"),g=3*Object(h.g)()/Object(h.e)()+"em",v=4*Object(h.g)()/Object(h.e)()+"em",b=function(e){return L("background",e,A)},y=function(e){return"0 0 0 2px "+L("boxShadowColor",e,A)},k=function(e){return L("color",e,A)},w=function(e){var t=e.spacing,n=void 0===t?"default":t;return"compact"===n?g:"none"===n?"auto":v},x=function(e){var t=e.spacing,n=void 0===t?"default":t;return"compact"===n?g:"none"===n?"inherit":v},C=function(e){var t=e.spacing;return"none"===(void 0===t?"default":t)?0:"0 "+Object(h.g)()+"px"},_=function(e){var t=e.appearance,n=void 0===t?"default":t,r=e.state;return"hover"!==(void 0===r?"default":r)||"link"!==n&&"subtle-link"!==n?"inherit":"underline"},j=function(e){var t=e.state;return"hover"===(void 0===t?"default":t)?"background 0s ease-out, box-shadow 0.15s cubic-bezier(0.47, 0.03, 0.49, 1.38)":"background 0.1s ease-out, box-shadow 0.15s cubic-bezier(0.47, 0.03, 0.49, 1.38)"},S=function(e){var t=e.state,n=void 0===t?"default":t;return"active"===n?"0s":"focus"===n?"0s, 0.2s":"0.1s, 0.15s"},O=function(e){var t=e.spacing;return"none"===(void 0===t?"default":t)?"baseline":"middle"},E=function(e){return e.shouldFitContainer?"100%":"auto"},N={alignItems:"baseline",borderWidth:0,boxSizing:"border-box",display:"inline-flex",fontSize:"inherit",fontStyle:"normal",fontWeight:"500",maxWidth:"100%",outline:"none !important",textAlign:"center",textDecoration:"none",whiteSpace:"nowrap"},T=function(e){var t=e.isDisabled,n=void 0!==t&&t,r=e.isActive,i=void 0!==r&&r,o=e.isFocus,a=void 0!==o&&o,s=e.isHover,l=void 0!==s&&s,c=e.isSelected,d=void 0!==c&&c;return n?"disabled":d&&a?"focusSelected":d?"selected":i?"active":l?"hover":a?"focus":"default"},P=function(e){return{transition:"opacity 0.3s",opacity:e?0:1}},B=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){e.filter((function(e){return!!e})).forEach((function(e){"function"==typeof e?e(t):e.current=t}))}};function D(e,t){if(void 0===t&&(t=1),/^#([A-Fa-f0-9]{3}){1,2}$/.test(e)){var n=e.substring(1).split("");3===n.length&&(n=[n[0],n[0],n[1],n[1],n[2],n[2]]);var r="0x"+n.join("");return"rgba("+[r>>16&255,r>>8&255,255&r].join(",")+", "+t+")"}throw new Error("Bad Hex")}var I={background:{light:m.N20A,dark:m.DN70},color:{light:m.N400,dark:m.DN400},textDecoration:{light:"none",dark:"none"}},A={background:{default:{default:{light:m.N20A,dark:m.DN70},hover:{light:m.N30A,dark:m.DN60},active:{light:D(m.B75,.6),dark:m.B75},disabled:{light:m.N20A,dark:m.DN70},selected:{light:m.N700,dark:m.DN0},focusSelected:{light:m.N700,dark:m.DN0}},primary:{default:{light:m.B400,dark:m.B100},hover:{light:m.B300,dark:m.B75},active:{light:m.B500,dark:m.B200},disabled:{light:m.N20A,dark:m.DN70},selected:{light:m.N700,dark:m.DN0},focusSelected:{light:m.N700,dark:m.DN0}},warning:{default:{light:m.Y300,dark:m.Y300},hover:{light:m.Y200,dark:m.Y200},active:{light:m.Y400,dark:m.Y400},disabled:{light:m.N20A,dark:m.DN70},selected:{light:m.Y400,dark:m.Y400},focusSelected:{light:m.Y400,dark:m.Y400}},danger:{default:{light:m.R400,dark:m.R400},hover:{light:m.R300,dark:m.R300},active:{light:m.R500,dark:m.R500},disabled:{light:m.N20A,dark:m.DN70},selected:{light:m.R500,dark:m.R500},focusSelected:{light:m.R500,dark:m.R500}},link:{default:{light:"none",dark:"none"},selected:{light:m.N700,dark:m.N20},focusSelected:{light:m.N700,dark:m.N20}},subtle:{default:{light:"none",dark:"none"},hover:{light:m.N30A,dark:m.DN60},active:{light:D(m.B75,.6),dark:m.B75},disabled:{light:"none",dark:"none"},selected:{light:m.N700,dark:m.DN0},focusSelected:{light:m.N700,dark:m.DN0}},"subtle-link":{default:{light:"none",dark:"none"},selected:{light:m.N700,dark:m.N20},focusSelected:{light:m.N700,dark:m.N20}}},boxShadowColor:{default:{focus:{light:m.B100,dark:m.B75},focusSelected:{light:m.B100,dark:m.B75}},primary:{focus:{light:m.B100,dark:m.B75},focusSelected:{light:m.B100,dark:m.B75}},warning:{focus:{light:m.Y500,dark:m.Y500},focusSelected:{light:m.Y500,dark:m.Y500}},danger:{focus:{light:m.R100,dark:m.R100},focusSelected:{light:m.R100,dark:m.R100}},link:{focus:{light:m.B100,dark:m.B75},focusSelected:{light:m.B100,dark:m.B75}},subtle:{focus:{light:m.B100,dark:m.B75},focusSelected:{light:m.B100,dark:m.B75}},"subtle-link":{focus:{light:m.B100,dark:m.B75},focusSelected:{light:m.B100,dark:m.B75}}},color:{default:{default:{light:m.N500,dark:m.DN400},active:{light:m.B400,dark:m.B400},disabled:{light:m.N70,dark:m.DN30},selected:{light:m.N20,dark:m.DN400},focusSelected:{light:m.N20,dark:m.DN400}},primary:{default:{light:m.N0,dark:m.DN30},disabled:{light:m.N70,dark:m.DN30},selected:{light:m.N20,dark:m.DN400},focusSelected:{light:m.N20,dark:m.DN400}},warning:{default:{light:m.N800,dark:m.N800},disabled:{light:m.N70,dark:m.DN30},selected:{light:m.N800,dark:m.N800},focusSelected:{light:m.N800,dark:m.N800}},danger:{default:{light:m.N0,dark:m.N0},disabled:{light:m.N70,dark:m.DN30},selected:{light:m.N0,dark:m.N0},focusSelected:{light:m.N0,dark:m.N0}},link:{default:{light:m.B400,dark:m.B100},hover:{light:m.B300,dark:m.B75},active:{light:m.B500,dark:m.B200},disabled:{light:m.N70,dark:m.DN100},selected:{light:m.N20,dark:m.N700},focusSelected:{light:m.N20,dark:m.N700}},subtle:{default:{light:m.N500,dark:m.DN400},active:{light:m.B400,dark:m.B400},disabled:{light:m.N70,dark:m.DN100},selected:{light:m.N20,dark:m.DN400},focusSelected:{light:m.N20,dark:m.DN400}},"subtle-link":{default:{light:m.N200,dark:m.DN400},hover:{light:m.N90,dark:m.B50},active:{light:m.N400,dark:m.DN300},disabled:{light:m.N70,dark:m.DN100},selected:{light:m.N20,dark:m.DN400},focusSelected:{light:m.N20,dark:m.DN400}}}};function L(e,t,n){var r=t.appearance,i=void 0===r?"default":r,o=t.state,a=void 0===o?"default":o,s=t.mode,l=void 0===s?"light":s,c=n[e];if(!c)return"initial";if(!c[i]){if(!c.default)return I[e][l]?I[e][l]:"initial";i="default"}c[i][a]||(a="default");var d=c[i],u=d[a];return u?u[l]||d.default[l]:"inherit"}var M=Object(f.a)((function(e){return{buttonStyles:(t=e,Object(r.__assign)(Object(r.__assign)(Object(r.__assign)({},N),{background:b(t),borderRadius:Object(h.c)()+"px",boxShadow:y(t),color:k(t)+" !important",cursor:(n=t,i=n.state,o=void 0===i?"default":i,"hover"===o||"active"===o||"selected"===o?"pointer":"disabled"===o?"not-allowed":"default"),height:w(t),lineHeight:x(t),padding:C(t),transition:j(t),transitionDuration:S(t),verticalAlign:O(t),width:E(t),"&::-moz-focus-inner":{border:0,margin:0,padding:0},"&:hover":{textDecoration:_(t)}}),t.isLoading&&{pointerEvents:"none"})),spinnerStyles:{display:"flex",position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}};var t,n,i,o})),F=n("./node_modules/@atlaskit/button/dist/esm/version.json"),R=function(e){var t=e.children,n=e.followsIcon,i=e.spacing,o=e.isLoading,s=Object(r.__rest)(e,["children","followsIcon","spacing","isLoading"]);return Object(a.b)("span",Object(r.__assign)({css:Object(r.__assign)({alignItems:n?"baseline":"center",alignSelf:n?"baseline":"center",flex:"1 1 auto",margin:"none"===i?0:"0 "+Object(h.g)()/2+"px",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},P(o))},s),t)},z=function(e){var t=e.spacing,n=e.icon,i=e.isOnlyChild,o=e.isLoading,s=Object(r.__rest)(e,["spacing","icon","isOnlyChild","isLoading"]);return Object(a.b)("span",Object(r.__assign)({css:Object(r.__assign)({alignSelf:"center",display:"flex",flexShrink:0,lineHeight:0,fontSize:0,userSelect:"none",margin:"none"===t?0:i?"0 -"+Object(h.g)()/4+"px":"0 "+Object(h.g)()/2+"px"},P(o))},s),n)},V=function(e){var t=e.fit,n=e.children,i=Object(r.__rest)(e,["fit","children"]);return Object(a.b)("span",Object(r.__assign)({css:Object(r.__assign)(Object(r.__assign)({alignSelf:"center",display:"inline-flex",flexWrap:"nowrap",maxWidth:"100%",position:"relative"},t&&{width:"100%"}),t&&{justifyContent:"center"})},i),n)},U=n("./node_modules/@atlaskit/spinner/dist/esm/spinner.js"),H=["primary","danger"],$=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.invertSpinner=function(){var e=t.props,n=e.appearance,r=e.isSelected,i=e.isDisabled;return!!r||!i&&(void 0!==n&&-1!==H.indexOf(n))},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.spacing,n=e.styles,r="default"!==t?"small":"medium";return Object(a.b)("div",{css:n},Object(a.b)(U.a,{size:r,appearance:this.invertSpinner()?"invert":"inherit"}))},t}(o.a.Component),W=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.button=o.a.createRef(),t.getComposedRefs=l(B),t.state={isActive:!1,isFocus:!1,isHover:!1},t.isInteractive=function(){return!t.props.isDisabled&&!t.props.isLoading},t.onMouseEnter=function(e){t.setState({isHover:!0}),t.props.onMouseEnter&&t.props.onMouseEnter(e)},t.onMouseLeave=function(e){t.setState({isHover:!1,isActive:!1}),t.props.onMouseLeave&&t.props.onMouseLeave(e)},t.onMouseDown=function(e){e.preventDefault(),t.setState({isActive:!0}),t.props.onMouseDown&&t.props.onMouseDown(e)},t.onMouseUp=function(e){t.setState({isActive:!1}),t.props.onMouseUp&&t.props.onMouseUp(e)},t.onFocus=function(e){t.setState({isFocus:!0}),t.props.onFocus&&t.props.onFocus(e)},t.onBlur=function(e){t.setState({isFocus:!1}),t.props.onBlur&&t.props.onBlur(e)},t.getElement=function(){var e=t.props,n=e.href,r=e.isDisabled;return n?r?"span":"a":"button"},t.onInnerClick=function(e){return t.isInteractive()||e.stopPropagation(),!0},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.autoFocus&&this.button instanceof HTMLButtonElement&&this.button.focus()},t.prototype.render=function(){var e=this,t=this.props,n=t.appearance,i=void 0===n?"default":n,o=t.children,s=t.className,l=t.component,c=t.consumerRef,d=t.iconAfter,u=t.iconBefore,m=t.isDisabled,f=void 0!==m&&m,h=t.isLoading,g=void 0!==h&&h,v=t.isSelected,b=void 0!==v&&v,y=t.shouldFitContainer,k=void 0!==y&&y,w=t.spacing,x=void 0===w?"default":w,C=t.theme,_=void 0===C?function(e,t){return e(t)}:C,j=t.testId,S=Object(r.__rest)(t,["appearance","children","className","component","consumerRef","iconAfter","iconBefore","isDisabled","isLoading","isSelected","shouldFitContainer","spacing","theme","testId"]),O=Object(r.__assign)(Object(r.__assign)({},this.state),{isSelected:b,isDisabled:f}),E=l||this.getElement(),N=!((!u||d||o)&&(!d||u||o));return Object(a.b)(M.Provider,{value:_},Object(a.b)(p.a.Consumer,null,(function(t){var n=t.mode;return Object(a.b)(M.Consumer,Object(r.__assign)({mode:n,state:T(O),iconIsOnlyChild:N},e.props),(function(t){var n,p=t.buttonStyles,m=t.spinnerStyles;return Object(a.b)(E,Object(r.__assign)({},function(e,t){e.createAnalyticsEvent;var n=Object(r.__rest)(e,["createAnalyticsEvent"]);if("span"===t){n.target,n.href;return Object(r.__rest)(n,["target","href"])}return n}(S,E),{"data-testid":j,ref:e.getComposedRefs(e.button,c),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onFocus:e.onFocus,onBlur:e.onBlur,disabled:f,className:s,css:(n=p,"a"===E?{"a&":n}:E===l?{"&, a&, &:hover, &:active, &:focus":n}:n)}),Object(a.b)(V,{onClick:e.onInnerClick,fit:!!k},g&&Object(a.b)($,{spacing:x,appearance:i,isSelected:b,isDisabled:f,styles:m}),u&&Object(a.b)(z,{isLoading:g,spacing:x,isOnlyChild:N,icon:u}),o&&Object(a.b)(R,{isLoading:g,followsIcon:!!u,spacing:x},o),d&&Object(a.b)(z,{isLoading:g,spacing:x,isOnlyChild:N,icon:d})))}))})))},t.defaultProps={appearance:"default",autoFocus:!1,isDisabled:!1,isLoading:!1,isSelected:!1,shouldFitContainer:!1,spacing:"default",type:"button"},t}(o.a.Component),G=Object(c.a)("atlaskit"),q=o.a.forwardRef((function(e,t){return Object(a.b)(W,Object(r.__assign)({},e,{consumerRef:t}))}));q.displayName="Button";t.a=Object(d.a)({componentName:"button",packageName:F.name,packageVersion:F.version})(Object(u.a)({onClick:G({action:"clicked",actionSubject:"button",attributes:{componentName:"button",packageName:F.name,packageVersion:F.version}})})(q))},"./node_modules/@atlaskit/button/dist/esm/version.json":function(e,t){e.exports={name:"@atlaskit/button",version:"14.0.0",sideEffects:!1}},"./node_modules/@atlaskit/checkbox/dist/esm/version.json":function(e,t){e.exports={name:"@atlaskit/checkbox",version:"11.0.0",sideEffects:!1}},"./node_modules/@atlaskit/icon/glyph/checkbox-indeterminate.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n("./node_modules/react/index.js")),i=o(n("./node_modules/@atlaskit/icon/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(i.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill-rule="evenodd"><rect fill="currentColor" x="6" y="6" width="12" height="12" rx="2"/><rect fill="inherit" x="8" y="11" width="8" height="2" rx="1"/></g></svg>'},e))};s.displayName="CheckboxIndeterminateIcon";var l=s;t.default=l},"./node_modules/@atlaskit/icon/glyph/checkbox.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n("./node_modules/react/index.js")),i=o(n("./node_modules/@atlaskit/icon/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return r.default.createElement(i.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill-rule="evenodd"><rect fill="currentColor" x="6" y="6" width="12" height="12" rx="2"/><path d="M9.707 11.293a1 1 0 1 0-1.414 1.414l2 2a1 1 0 0 0 1.414 0l4-4a1 1 0 1 0-1.414-1.414L11 12.586l-1.293-1.293z" fill="inherit"/></g></svg>'},e))};s.displayName="CheckboxIcon";var l=s;t.default=l},"./node_modules/@atlaskit/spinner/dist/esm/spinner.js":function(e,t,n){"use strict";var r=n("./node_modules/tslib/tslib.es6.js"),i=n("./node_modules/react/index.js"),o=n.n(i),a=n("./node_modules/@emotion/core/dist/core.browser.esm.js"),s=n("./node_modules/@atlaskit/theme/dist/esm/colors.js"),l=n("./node_modules/@atlaskit/theme/dist/esm/components/Theme.js"),c={xsmall:8,small:16,medium:24,large:48,xlarge:96},d=Object(a.c)(p||(p=Object(r.__makeTemplateObject)(["\n  to { transform: rotate(360deg); }\n"],["\n  to { transform: rotate(360deg); }\n"]))),u=Object(a.c)(m||(m=Object(r.__makeTemplateObject)(["\n  from {\n    transform: rotate(50deg);\n    opacity: 0;\n    stroke-dashoffset: 60;\n  }\n  to {\n    transform: rotate(230deg);\n    opacity: 1;\n    stroke-dashoffset: 50;\n  }\n"],["\n  from {\n    transform: rotate(50deg);\n    opacity: 0;\n    stroke-dashoffset: 60;\n  }\n  to {\n    transform: rotate(230deg);\n    opacity: 1;\n    stroke-dashoffset: 50;\n  }\n"])));var p,m,f,h;t.a=o.a.memo(o.a.forwardRef((function(e,t){var n=e.testId,i=e.appearance,o=void 0===i?"inherit":i,p=e.delay,m=void 0===p?0:p,g=e.size,v=void 0===g?"medium":g,b="number"==typeof v?v:c[v];return Object(a.b)(l.a.Consumer,null,(function(e){var i=function(e){var t=e.mode,n=e.appearance;return"light"===t?"inherit"===n?s.N500:s.N0:"inherit"===n?s.DN900:s.DN500}({mode:e.mode,appearance:o});return Object(a.b)("svg",{focusable:"false",height:b,width:b,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg","data-testid":n,ref:t,css:Object(a.a)(f||(f=Object(r.__makeTemplateObject)(["\n                /* align better inline with text */\n                vertical-align: middle;\n                /* We are going to animate this in */\n                opacity: 0;\n\n                animation: "," 1s ease-in-out;\n                /* When the animation completes, stay at the last frame of the animation */\n                animation-fill-mode: forwards;\n                animation-delay: ","ms;\n              "],["\n                /* align better inline with text */\n                vertical-align: middle;\n                /* We are going to animate this in */\n                opacity: 0;\n\n                animation: "," 1s ease-in-out;\n                /* When the animation completes, stay at the last frame of the animation */\n                animation-fill-mode: forwards;\n                animation-delay: ","ms;\n              "])),u,m)},Object(a.b)("circle",{cx:"8",cy:"8",r:"7",css:Object(a.a)(h||(h=Object(r.__makeTemplateObject)(["\n                  fill: none;\n                  stroke: ",";\n                  stroke-width: 1.5;\n                  stroke-linecap: round;\n                  stroke-dasharray: 60;\n                  stroke-dashoffset: inherit;\n                  transform-origin: center;\n                  animation: "," 0.86s infinite;\n                  animation-delay: ","ms;\n                  animation-timing-function: cubic-bezier(0.4, 0.15, 0.6, 0.85);\n                "],["\n                  fill: none;\n                  stroke: ",";\n                  stroke-width: 1.5;\n                  stroke-linecap: round;\n                  stroke-dasharray: 60;\n                  stroke-dashoffset: inherit;\n                  transform-origin: center;\n                  animation: "," 0.86s infinite;\n                  animation-delay: ","ms;\n                  animation-timing-function: cubic-bezier(0.4, 0.15, 0.6, 0.85);\n                "])),i,d,m)}))}))})))},"./node_modules/@atlaskit/theme/dist/esm/components/Theme.js":function(e,t,n){"use strict";var r=n("./node_modules/@atlaskit/theme/dist/esm/utils/createTheme.js");t.a=Object(r.a)((function(){return{mode:"light"}}))},"./node_modules/@atlaskit/theme/dist/esm/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return A}));var r={};n.r(r),n.d(r,"e100",(function(){return g})),n.d(r,"e200",(function(){return v})),n.d(r,"e300",(function(){return b})),n.d(r,"e400",(function(){return y})),n.d(r,"e500",(function(){return k}));var i={};n.r(i),n.d(i,"headingSizes",(function(){return j})),n.d(i,"h900",(function(){return S})),n.d(i,"h800",(function(){return O})),n.d(i,"h700",(function(){return E})),n.d(i,"h600",(function(){return N})),n.d(i,"h500",(function(){return T})),n.d(i,"h400",(function(){return P})),n.d(i,"h300",(function(){return B})),n.d(i,"h200",(function(){return D})),n.d(i,"h100",(function(){return I}));var o,a,s,l,c,d,u,p,m,f=n("./node_modules/@atlaskit/theme/dist/esm/colors.js"),h=n("./node_modules/@atlaskit/theme/dist/esm/utils/themed.js"),g=Object(h.a)({light:"box-shadow: 0 1px 1px "+f.N50A+", 0 0 1px 0 "+f.N60A+";",dark:"box-shadow: 0 1px 1px "+f.DN50A+", 0 0 1px "+f.DN60A+";"}),v=Object(h.a)({light:"box-shadow: 0 4px 8px -2px "+f.N50A+", 0 0 1px "+f.N60A+";",dark:"box-shadow: 0 4px 8px -2px "+f.DN50A+", 0 0 1px "+f.DN60A+";"}),b=Object(h.a)({light:"box-shadow: 0 8px 16px -4px "+f.N50A+", 0 0 1px "+f.N60A+";",dark:"box-shadow: 0 8px 16px -4px "+f.DN50A+", 0 0 1px "+f.DN60A+";"}),y=Object(h.a)({light:"box-shadow: 0 12px 24px -6px "+f.N50A+", 0 0 1px "+f.N60A+";",dark:"box-shadow: 0 12px 24px -6px "+f.DN50A+", 0 0 1px "+f.DN60A+";"}),k=Object(h.a)({light:"box-shadow: 0 20px 32px -8px "+f.N50A+", 0 0 1px "+f.N60A+";",dark:"box-shadow: 0 20px 32px -8px "+f.DN50A+", 0 0 1px "+f.DN60A+";"}),w=n("./node_modules/tslib/tslib.es6.js"),x=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),C=n("./node_modules/@atlaskit/theme/dist/esm/constants.js"),_=function(e,t){return"\n  font-size: "+e/Object(C.e)()+"em;\n  font-style: inherit;\n  line-height: "+t/e+";\n"},j={h900:{size:35,lineHeight:40},h800:{size:29,lineHeight:32},h700:{size:24,lineHeight:28},h600:{size:20,lineHeight:24},h500:{size:16,lineHeight:20},h400:{size:14,lineHeight:16},h300:{size:12,lineHeight:16},h200:{size:12,lineHeight:16},h100:{size:11,lineHeight:16}},S=function(){return Object(x.css)(o||(o=Object(w.__makeTemplateObject)(["\n  ","\n  color: ",";\n  font-weight: 500;\n  letter-spacing: -0.01em;\n  margin-top: ","px;\n"],["\n  ","\n  color: ",";\n  font-weight: 500;\n  letter-spacing: -0.01em;\n  margin-top: ","px;\n"])),_(j.h900.size,j.h900.lineHeight),f.heading,6.5*Object(C.g)())},O=function(){return Object(x.css)(a||(a=Object(w.__makeTemplateObject)(["\n  ","\n  color: ",";\n  font-weight: 600;\n  letter-spacing: -0.01em;\n  margin-top: ","px;\n"],["\n  ","\n  color: ",";\n  font-weight: 600;\n  letter-spacing: -0.01em;\n  margin-top: ","px;\n"])),_(j.h800.size,j.h800.lineHeight),f.heading,5*Object(C.g)())},E=function(){return Object(x.css)(s||(s=Object(w.__makeTemplateObject)(["\n  ","\n  color: ",";\n  font-weight: 500;\n  letter-spacing: -0.01em;\n  margin-top: ","px;\n"],["\n  ","\n  color: ",";\n  font-weight: 500;\n  letter-spacing: -0.01em;\n  margin-top: ","px;\n"])),_(j.h700.size,j.h700.lineHeight),f.heading,5*Object(C.g)())},N=function(){return Object(x.css)(l||(l=Object(w.__makeTemplateObject)(["\n  ","\n  color: ",";\n  font-weight: 500;\n  letter-spacing: -0.008em;\n  margin-top: ","px;\n"],["\n  ","\n  color: ",";\n  font-weight: 500;\n  letter-spacing: -0.008em;\n  margin-top: ","px;\n"])),_(j.h600.size,j.h600.lineHeight),f.heading,3.5*Object(C.g)())},T=function(){return Object(x.css)(c||(c=Object(w.__makeTemplateObject)(["\n  ","\n  color: ",";\n  font-weight: 600;\n  letter-spacing: -0.006em;\n  margin-top: ","px;\n"],["\n  ","\n  color: ",";\n  font-weight: 600;\n  letter-spacing: -0.006em;\n  margin-top: ","px;\n"])),_(j.h500.size,j.h500.lineHeight),f.heading,3*Object(C.g)())},P=function(){return Object(x.css)(d||(d=Object(w.__makeTemplateObject)(["\n  ","\n  color: ",";\n  font-weight: 600;\n  letter-spacing: -0.003em;\n  margin-top: ","px;\n"],["\n  ","\n  color: ",";\n  font-weight: 600;\n  letter-spacing: -0.003em;\n  margin-top: ","px;\n"])),_(j.h400.size,j.h400.lineHeight),f.heading,2*Object(C.g)())},B=function(){return Object(x.css)(u||(u=Object(w.__makeTemplateObject)(["\n  ","\n  color: ",";\n  font-weight: 600;\n  margin-top: ","px;\n  text-transform: uppercase;\n"],["\n  ","\n  color: ",";\n  font-weight: 600;\n  margin-top: ","px;\n  text-transform: uppercase;\n"])),_(j.h300.size,j.h300.lineHeight),f.heading,2.5*Object(C.g)())},D=function(){return Object(x.css)(p||(p=Object(w.__makeTemplateObject)(["\n  ","\n  color: ",";\n  font-weight: 600;\n  margin-top: ","px;\n"],["\n  ","\n  color: ",";\n  font-weight: 600;\n  margin-top: ","px;\n"])),_(j.h200.size,j.h200.lineHeight),f.subtleHeading,2*Object(C.g)())},I=function(){return Object(x.css)(m||(m=Object(w.__makeTemplateObject)(["\n  ","\n  color: ",";\n  font-weight: 700;\n  margin-top: ","px;\n"],["\n  ","\n  color: ",";\n  font-weight: 700;\n  margin-top: ","px;\n"])),_(j.h100.size,j.h100.lineHeight),f.subtleHeading,2*Object(C.g)())},A=n("./node_modules/@atlaskit/theme/dist/esm/utils/math.js"),L=n("./node_modules/react/index.js"),M=n.n(L),F=n("./node_modules/prop-types/index.js"),R=n.n(F),z=n("./node_modules/exenv/index.js"),V=n.n(z),U=n("./node_modules/@atlaskit/theme/dist/esm/components/Theme.js");function H(e){return"\n    body { background: "+f.background(e)+"; }\n  "}function $(e){var t;return{theme:(t={},t[C.a]={mode:e},t)}}var W,G=x.default.div(W||(W=Object(w.__makeTemplateObject)(["\n  background-color: ",";\n  color: ",";\n\n  a {\n    color: ",";\n  }\n  a:hover {\n    color: ",";\n  }\n  a:active {\n    color: ",";\n  }\n  a:focus {\n    outline-color: ",";\n  }\n  h1 {\n    color: ",";\n  }\n  h2 {\n    color: ",";\n  }\n  h3 {\n    color: ",";\n  }\n  h4 {\n    color: ",";\n  }\n  h5 {\n    color: ",";\n  }\n  h6 {\n    color: ",";\n  }\n  small {\n    color: ",";\n  }\n"],["\n  background-color: ",";\n  color: ",";\n\n  a {\n    color: ",";\n  }\n  a:hover {\n    color: ",";\n  }\n  a:active {\n    color: ",";\n  }\n  a:focus {\n    outline-color: ",";\n  }\n  h1 {\n    color: ",";\n  }\n  h2 {\n    color: ",";\n  }\n  h3 {\n    color: ",";\n  }\n  h4 {\n    color: ",";\n  }\n  h5 {\n    color: ",";\n  }\n  h6 {\n    color: ",";\n  }\n  small {\n    color: ",";\n  }\n"])),f.background,f.text,f.link,f.linkHover,f.linkActive,f.linkOutline,f.heading,f.heading,f.heading,f.heading,f.heading,f.subtleHeading,f.subtleText);!function(e){function t(t){var n=e.call(this,t)||this;return n.getThemeMode=function(){return{mode:n.state.theme[C.a].mode}},n.state=$(t.mode),n}Object(w.__extends)(t,e),t.prototype.getChildContext=function(){return{hasAtlaskitThemeProvider:!0}},t.prototype.UNSAFE_componentWillMount=function(){if(!this.context.hasAtlaskitThemeProvider&&V.a.canUseDOM){var e=H(this.state);this.stylesheet=document.createElement("style"),this.stylesheet.type="text/css",this.stylesheet.innerHTML=e,document&&document.head&&document.head.appendChild(this.stylesheet)}},t.prototype.UNSAFE_componentWillReceiveProps=function(e){if(e.mode!==this.props.mode){var t=$(e.mode);if(this.stylesheet){var n=H(t);this.stylesheet.innerHTML=n}this.setState(t)}},t.prototype.componentWillUnmount=function(){this.stylesheet&&document&&document.head&&(document.head.removeChild(this.stylesheet),delete this.stylesheet)},t.prototype.render=function(){var e=this.props.children,t=this.state.theme;return M.a.createElement(U.a.Provider,{value:this.getThemeMode},M.a.createElement(x.ThemeProvider,{theme:t},M.a.createElement(G,null,e)))},t.defaultProps={mode:C.b},t.childContextTypes={hasAtlaskitThemeProvider:R.a.bool},t.contextTypes={hasAtlaskitThemeProvider:R.a.bool}}(L.Component)},"./node_modules/@atlaskit/theme/dist/esm/utils/createTheme.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("./node_modules/tslib/tslib.es6.js"),i=n("./node_modules/react/index.js"),o=n.n(i);function a(e){var t=function(e,t){return e(t)},n=Object(i.createContext)(e);return{Consumer:function(e){var a=e.children,s=Object(r.__rest)(e,["children"]),l=(Object(i.useContext)(n)||t)(s);return o.a.createElement(o.a.Fragment,null,a(l))},Provider:function(e){var r=Object(i.useContext)(n),a=e.value||t,s=Object(i.useCallback)((function(e){return a(r,e)}),[r,a]);return o.a.createElement(n.Provider,{value:s},e.children)}}}},"./node_modules/@atlaskit/theme/dist/esm/utils/math.js":function(e,t,n){"use strict";function r(e,t){return function(n){return e(n)+t}}function i(e,t){return function(n){return e(n)-t}}function o(e,t){return function(n){return e(n)*t}}function a(e,t){return function(n){return e(n)/t}}n.r(t),n.d(t,"add",(function(){return r})),n.d(t,"subtract",(function(){return i})),n.d(t,"multiply",(function(){return o})),n.d(t,"divide",(function(){return a}))},"./node_modules/@atlaskit/tooltip/dist/esm/components/Tooltip.js":function(e,t,n){"use strict";var r=n("./node_modules/tslib/tslib.es6.js"),i=n("./node_modules/react/index.js"),o=n.n(i),a=n("./node_modules/flushable/dist/index.umd.js"),s=n.n(a),l=n("./node_modules/react-node-resolver/lib/index.js"),c=n.n(l),d=n("./node_modules/@atlaskit/analytics-next/dist/esm/createAndFireEvent.js"),u=n("./node_modules/@atlaskit/analytics-next/dist/esm/withAnalyticsContext.js"),p=n("./node_modules/@atlaskit/analytics-next/dist/esm/withAnalyticsEvents.js"),m=n("./node_modules/@atlaskit/popper/dist/esm/Popper.js"),f=n("./node_modules/@atlaskit/portal/dist/esm/components/Portal.js"),h=n("./node_modules/@atlaskit/theme/dist/esm/constants.js"),g=n("./node_modules/@atlaskit/tooltip/dist/esm/styled.js"),v=n("./node_modules/@atlaskit/tooltip/dist/esm/version.json"),b=n("./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"),y=n("./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),k=(n("./node_modules/prop-types/index.js"),n("./node_modules/react-dom/index.js")),w=n.n(k),x=!1,C=o.a.createContext(null),_=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i="exited",r.appearStatus="entering"):i="entered":i=t.unmountOnExit||t.mountOnEnter?"unmounted":"exited",r.state={status:i},r.nextCallback=null,r}Object(y.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&"unmounted"===t.status?{status:"exited"}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?"entering"!==n&&"entered"!==n&&(t="entering"):"entering"!==n&&"entered"!==n||(t="exiting")}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),"entering"===t?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&"exited"===this.state.status&&this.setState({status:"unmounted"})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[w.a.findDOMNode(this),r],o=i[0],a=i[1],s=this.getTimeouts(),l=r?s.appear:s.enter;!e&&!n||x?this.safeSetState({status:"entered"},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:"entering"},(function(){t.props.onEntering(o,a),t.onTransitionEnd(l,(function(){t.safeSetState({status:"entered"},(function(){t.props.onEntered(o,a)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:w.a.findDOMNode(this);t&&!x?(this.props.onExit(r),this.safeSetState({status:"exiting"},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:"exited"},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:"exited"},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:w.a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if("unmounted"===e)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Object(b.a)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return o.a.createElement(C.Provider,{value:null},"function"==typeof n?n(e,r):o.a.cloneElement(o.a.Children.only(n),r))},t}(o.a.Component);function j(){}_.contextType=C,_.propTypes={},_.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:j,onEntering:j,onEntered:j,onExit:j,onExiting:j,onExited:j},_.UNMOUNTED="unmounted",_.EXITED="exited",_.ENTERING="entering",_.ENTERED="entered",_.EXITING="exiting";var S,O=_,E=function(e){var t=e.children,n=e.immediatelyHide,i=e.immediatelyShow,a=e.onExited,s=e.in,l={enter:i?0:120,exit:n?0:80};return o.a.createElement(O,{timeout:l,in:s,onExited:a,unmountOnExit:!0,appear:!0},(function(e){return t(function(e,t){return function(){return Object(r.__assign)(Object(r.__assign)({},function(e){return{transition:"transform "+e.enter+"ms cubic-bezier(0.23, 1, 0.32, 1), opacity "+e.enter+"ms linear",opacity:0}}(e)),function(e){return{entering:{},entered:{opacity:1},exiting:{opacity:0}}[e]}(t))}}(l,e))}))},N={action:"displayed",actionSubject:"tooltip",attributes:{componentName:"tooltip",packageName:v.name,packageVersion:v.version}},T={action:"hidden",actionSubject:"tooltip",attributes:{componentName:"tooltip",packageName:v.name,packageVersion:v.version}},P={capture:!0,passive:!0};function B(e){var t=e||{top:0,left:0};return{getBoundingClientRect:function(){return{top:t.top,left:t.left,bottom:t.top,right:t.left,width:0,height:0}},clientWidth:0,clientHeight:0}}var D=function(e,t){var n=S&&S.pending();return n&&S.flush(),s()((function(){return e(n)}),n?0:t).cancel},I=function(e,t){return(S=s()((function(t){return e(t)}),t)).cancel},A=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wrapperRef=null,t.targetRef=null,t.cancelPendingSetState=function(){},t.userInteraction="mouse",t.state={immediatelyHide:!1,immediatelyShow:!1,isVisible:!1,renderTooltip:!1},t.handleWindowScroll=function(){t.state.isVisible&&(t.cancelPendingSetState(),t.setState({isVisible:!1,immediatelyHide:!0}))},t.handleMouseClick=function(){t.props.hideTooltipOnClick&&(t.cancelPendingSetState(),t.setState({isVisible:!1,immediatelyHide:!0}))},t.handleMouseDown=function(){t.props.hideTooltipOnMouseDown&&(t.cancelPendingSetState(),t.setState({isVisible:!1,immediatelyHide:!0}))},t.handleMouseOver=function(e){e.target!==t.wrapperRef&&(t.userInteraction="mouse",t.fakeMouseElement||(t.fakeMouseElement=B({left:e.clientX,top:e.clientY})),t.handleShowTooltip())},t.handleFocus=function(){t.userInteraction="keyboard",t.fakeMouseElement||(t.fakeMouseElement=B({left:0,top:0})),t.handleShowTooltip()},t.handleShowTooltip=function(){t.cancelPendingSetState(),Boolean(t.props.content)&&!t.state.isVisible&&(t.cancelPendingSetState=D((function(e){t.setState({isVisible:!0,renderTooltip:!0,immediatelyShow:e})}),t.props.delay||0))},t.handleHideTooltip=function(e){e.target!==t.wrapperRef&&(t.cancelPendingSetState(),t.state.isVisible&&(t.cancelPendingSetState=I((function(e){t.setState({isVisible:!1,immediatelyHide:e})}),t.props.delay||0)))},t.handleMouseMove=function(e){t.state.renderTooltip||(t.fakeMouseElement=B({left:e.clientX,top:e.clientY}))},t}return Object(r.__extends)(t,e),t.prototype.componentWillUnmount=function(){this.cancelPendingSetState(),this.removeScrollListener()},t.prototype.componentDidUpdate=function(e,t){!t.isVisible&&this.state.isVisible?(this.props.onShow&&this.props.onShow(),window.addEventListener("scroll",this.handleWindowScroll,P)):t.isVisible&&!this.state.isVisible&&(this.props.onHide&&this.props.onHide(),this.removeScrollListener())},t.prototype.removeScrollListener=function(){window.removeEventListener("scroll",this.handleWindowScroll,P)},t.prototype.shouldPositionTooltipNearMouse=function(){return"mouse"===this.props.position&&"mouse"===this.userInteraction},t.prototype.render=function(){var e=this,t=this.props,n=t.children,i=t.position,a=t.mousePosition,s=t.content,l=t.truncate,d=t.component,u=t.tag,p=t.testId,g=this.state,v=g.isVisible,b=g.renderTooltip,y=g.immediatelyShow,k=g.immediatelyHide,w="mouse"===i?a:i;return o.a.createElement(o.a.Fragment,null,u&&o.a.createElement(u,{onClick:this.handleMouseClick,onMouseOver:this.handleMouseOver,onMouseOut:this.handleHideTooltip,onMouseMove:this.handleMouseMove,onMouseDown:this.handleMouseDown,onFocus:this.handleFocus,onBlur:this.handleHideTooltip,ref:function(t){e.wrapperRef=t}},o.a.createElement(c.a,{innerRef:function(t){e.targetRef=t}},o.a.Children.only(n))),b&&this.targetRef&&this.fakeMouseElement?o.a.createElement(f.a,{zIndex:h.h.tooltip()},o.a.createElement(m.a,{placement:w,referenceElement:this.shouldPositionTooltipNearMouse()?this.fakeMouseElement:this.targetRef},(function(t){var n=t.ref,i=t.style;return d&&o.a.createElement(E,{immediatelyShow:y,immediatelyHide:k,onExited:function(){return e.setState({renderTooltip:!1})},in:v},(function(e){return o.a.createElement(d,{innerRef:n||void 0,className:"Tooltip",style:Object(r.__assign)(Object(r.__assign)({},e()),i),truncate:l||!1,"data-placement":w,"data-testid":p},s)}))}))):null)},t.defaultProps={component:g.a,delay:300,mousePosition:"bottom",position:"bottom",tag:"div"},t}(o.a.Component),L=Object(d.a)("atlaskit");t.a=Object(u.a)({componentName:"tooltip",packageName:v.name,packageVersion:v.version})(Object(p.a)({onHide:T,onShow:L(Object(r.__assign)({},N))})(A))},"./node_modules/@atlaskit/tooltip/dist/esm/styled.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return f}));var r,i,o,a=n("./node_modules/tslib/tslib.es6.js"),s=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),l=n("./node_modules/@atlaskit/theme/dist/esm/colors.js"),c=n("./node_modules/@atlaskit/theme/dist/esm/utils/themed.js"),d=n("./node_modules/@atlaskit/theme/dist/esm/constants.js"),u=Object(c.a)({light:l.N800,dark:l.DN0}),p=Object(c.a)({light:l.N0,dark:l.DN600}),m=s.default.div(r||(r=Object(a.__makeTemplateObject)(["\n  z-index: ",";\n  pointer-events: none;\n  position: fixed;\n"],["\n  z-index: ",";\n  pointer-events: none;\n  position: fixed;\n"])),d.h.tooltip),f=Object(s.default)(m)(i||(i=Object(a.__makeTemplateObject)(["\n  background-color: ",";\n  border-radius: ","px;\n  box-sizing: border-box;\n  color: ",";\n  font-size: 12px;\n  left: 0;\n  line-height: 1.3;\n  max-width: 240px;\n  padding: 2px 6px;\n  top: 0;\n  /* Edge does not support overflow-wrap */\n  word-wrap: break-word;\n  overflow-wrap: break-word;\n\n  ","\n"],["\n  background-color: ",";\n  border-radius: ","px;\n  box-sizing: border-box;\n  color: ",";\n  font-size: 12px;\n  left: 0;\n  line-height: 1.3;\n  max-width: 240px;\n  padding: 2px 6px;\n  top: 0;\n  /* Edge does not support overflow-wrap */\n  word-wrap: break-word;\n  overflow-wrap: break-word;\n\n  ","\n"])),u,d.c,p,(function(e){return e.truncate&&"\n      max-width: 420px;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    "}));s.default.div(o||(o=Object(a.__makeTemplateObject)(["\n  display: inline-block;\n"],["\n  display: inline-block;\n"])))},"./node_modules/@atlaskit/tooltip/dist/esm/version.json":function(e,t){e.exports={name:"@atlaskit/tooltip",version:"16.0.0",sideEffects:!1}},"./node_modules/@atlassiansox/cross-flow-api-internals/dist/esm/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s}));n("./node_modules/tslib/tslib.es6.js");var r=n("./node_modules/react/index.js"),i=n.n(r),o=function(e){return{open:function(t){return e(t)}}},a={GET_STARTED:"get-started",DECIDE:"decide",DISCOVER:"discover"},s={CONFLUENCE:"confluence.ondemand",JIRA_CORE:"jira-core.ondemand",JIRA_SERVICE_DESK:"jira-servicedesk.ondemand",JIRA_SOFTWARE:"jira-software.ondemand",BITBUCKET:"bitbucket.ondemand",TRELLO:"trello",OPSGENIE:"opsgenie",STATUSPAGE:"statuspage"},l="Could not provide requested API version",c="Provider not found",d=Object(r.createContext)((function(){return{isEnabled:!1,reason:c}})),u=function(e){var t=e.onOpen,n=e.children,a=Object(r.useMemo)((function(){return function(e){return function(t){switch(t){case 0:return{isEnabled:!0,api:o(e)};default:return{isEnabled:!1,reason:l}}}}(t)}),[t]);return i.a.createElement(d.Provider,{value:a},n)},p=function(){return Object(r.useContext)(d)(0)}},"./node_modules/@atlassiansox/cross-flow-support/dist/esm/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@atlassiansox/cross-flow-api-internals/dist/esm/index.js");n.d(t,"b",(function(){return r.d})),n.d(t,"a",(function(){return r.c}))},"./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js":function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},"./node_modules/@babel/runtime/helpers/interopRequireDefault.js":function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},"./node_modules/@emotion/core/dist/core.browser.esm.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return I})),n.d(t,"c",(function(){return A}));var r=n("./node_modules/@babel/runtime/helpers/inheritsLoose.js"),i=n.n(r),o=n("./node_modules/react/index.js");var a=function(){function e(e){this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.before=null}var t=e.prototype;return t.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)==0){var t,n=function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t}(this);t=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(n,t),this.tags.push(n)}var r=this.tags[this.tags.length-1];if(this.isSpeedy){var i=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(r);try{var o=105===e.charCodeAt(1)&&64===e.charCodeAt(0);i.insertRule(e,o?0:i.cssRules.length)}catch(e){0}}else r.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}();var s=function(e){function t(e,t,r){var i=t.trim().split(f);t=i;var o=i.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<o;++s)t[s]=n(e,t[s],r).trim();break;default:var l=s=0;for(t=[];s<o;++s)for(var c=0;c<a;++c)t[l++]=n(e[c]+" ",i[s],r).trim()}return t}function n(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(h,"$1"+e.trim());case 58:return e.trim()+t.replace(h,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(h,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function r(e,t,n,o){var a=e+";",s=2*t+3*n+4*o;if(944===s){e=a.indexOf(":",9)+1;var l=a.substring(e,a.length-1).trim();return l=a.substring(0,e).trim()+l+";",1===N||2===N&&i(l,1)?"-webkit-"+l+l:l}if(0===N||2===N&&!i(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(j,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(l=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+l+a;case 1005:return p.test(a)?a.replace(u,":-webkit-")+a.replace(u,":-moz-")+a:a;case 1e3:switch(t=(l=a.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(t)){case 226:l=a.replace(y,"tb");break;case 232:l=a.replace(y,"tb-rl");break;case 220:l=a.replace(y,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+l+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(l=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:a=a.replace(l,"-webkit-"+l)+";"+a;break;case 207:case 102:a=a.replace(l,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(l,"-webkit-"+l)+";"+a.replace(l,"-ms-"+l+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return l=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+l+"-ms-flex-"+l+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(x,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(x,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===_.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?r(e.replace("stretch","fill-available"),t,n,o).replace(":fill-available",":stretch"):a.replace(l,"-webkit-"+l)+a.replace(l,"-moz-"+l.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+o&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(m,"$1-webkit-$2")+a}return a}function i(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),D(2!==t?r:r.replace(C,"$1"),n,t)}function o(e,t){var n=r(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(w," or ($1)").substring(4):"("+t+")"}function a(e,t,n,r,i,o,a,s,c,d){for(var u,p=0,m=t;p<B;++p)switch(u=P[p].call(l,e,m,n,r,i,o,a,s,c,d)){case void 0:case!1:case!0:case null:break;default:m=u}if(m!==t)return m}function s(e){return void 0!==(e=e.prefix)&&(D=null,e?"function"!=typeof e?N=1:(N=2,D=e):N=0),s}function l(e,n){var s=e;if(33>s.charCodeAt(0)&&(s=s.trim()),s=[s],0<B){var l=a(-1,n,s,s,O,S,0,0,0,0);void 0!==l&&"string"==typeof l&&(n=l)}var u=function e(n,s,l,u,p){for(var m,f,h,y,w,x=0,C=0,_=0,j=0,P=0,D=0,A=h=m=0,L=0,M=0,F=0,R=0,z=l.length,V=z-1,U="",H="",$="",W="";L<z;){if(f=l.charCodeAt(L),L===V&&0!==C+j+_+x&&(0!==C&&(f=47===C?10:47),j=_=x=0,z++,V++),0===C+j+_+x){if(L===V&&(0<M&&(U=U.replace(d,"")),0<U.trim().length)){switch(f){case 32:case 9:case 59:case 13:case 10:break;default:U+=l.charAt(L)}f=59}switch(f){case 123:for(m=(U=U.trim()).charCodeAt(0),h=1,R=++L;L<z;){switch(f=l.charCodeAt(L)){case 123:h++;break;case 125:h--;break;case 47:switch(f=l.charCodeAt(L+1)){case 42:case 47:e:{for(A=L+1;A<V;++A)switch(l.charCodeAt(A)){case 47:if(42===f&&42===l.charCodeAt(A-1)&&L+2!==A){L=A+1;break e}break;case 10:if(47===f){L=A+1;break e}}L=A}}break;case 91:f++;case 40:f++;case 34:case 39:for(;L++<V&&l.charCodeAt(L)!==f;);}if(0===h)break;L++}switch(h=l.substring(R,L),0===m&&(m=(U=U.replace(c,"").trim()).charCodeAt(0)),m){case 64:switch(0<M&&(U=U.replace(d,"")),f=U.charCodeAt(1)){case 100:case 109:case 115:case 45:M=s;break;default:M=T}if(R=(h=e(s,M,h,f,p+1)).length,0<B&&(w=a(3,h,M=t(T,U,F),s,O,S,R,f,p,u),U=M.join(""),void 0!==w&&0===(R=(h=w.trim()).length)&&(f=0,h="")),0<R)switch(f){case 115:U=U.replace(k,o);case 100:case 109:case 45:h=U+"{"+h+"}";break;case 107:h=(U=U.replace(g,"$1 $2"))+"{"+h+"}",h=1===N||2===N&&i("@"+h,3)?"@-webkit-"+h+"@"+h:"@"+h;break;default:h=U+h,112===u&&(H+=h,h="")}else h="";break;default:h=e(s,t(s,U,F),h,u,p+1)}$+=h,h=F=M=A=m=0,U="",f=l.charCodeAt(++L);break;case 125:case 59:if(1<(R=(U=(0<M?U.replace(d,""):U).trim()).length))switch(0===A&&(m=U.charCodeAt(0),45===m||96<m&&123>m)&&(R=(U=U.replace(" ",":")).length),0<B&&void 0!==(w=a(1,U,s,n,O,S,H.length,u,p,u))&&0===(R=(U=w.trim()).length)&&(U="\0\0"),m=U.charCodeAt(0),f=U.charCodeAt(1),m){case 0:break;case 64:if(105===f||99===f){W+=U+l.charAt(L);break}default:58!==U.charCodeAt(R-1)&&(H+=r(U,m,f,U.charCodeAt(2)))}F=M=A=m=0,U="",f=l.charCodeAt(++L)}}switch(f){case 13:case 10:47===C?C=0:0===1+m&&107!==u&&0<U.length&&(M=1,U+="\0"),0<B*I&&a(0,U,s,n,O,S,H.length,u,p,u),S=1,O++;break;case 59:case 125:if(0===C+j+_+x){S++;break}default:switch(S++,y=l.charAt(L),f){case 9:case 32:if(0===j+x+C)switch(P){case 44:case 58:case 9:case 32:y="";break;default:32!==f&&(y=" ")}break;case 0:y="\\0";break;case 12:y="\\f";break;case 11:y="\\v";break;case 38:0===j+C+x&&(M=F=1,y="\f"+y);break;case 108:if(0===j+C+x+E&&0<A)switch(L-A){case 2:112===P&&58===l.charCodeAt(L-3)&&(E=P);case 8:111===D&&(E=D)}break;case 58:0===j+C+x&&(A=L);break;case 44:0===C+_+j+x&&(M=1,y+="\r");break;case 34:case 39:0===C&&(j=j===f?0:0===j?f:j);break;case 91:0===j+C+_&&x++;break;case 93:0===j+C+_&&x--;break;case 41:0===j+C+x&&_--;break;case 40:if(0===j+C+x){if(0===m)switch(2*P+3*D){case 533:break;default:m=1}_++}break;case 64:0===C+_+j+x+A+h&&(h=1);break;case 42:case 47:if(!(0<j+x+_))switch(C){case 0:switch(2*f+3*l.charCodeAt(L+1)){case 235:C=47;break;case 220:R=L,C=42}break;case 42:47===f&&42===P&&R+2!==L&&(33===l.charCodeAt(R+2)&&(H+=l.substring(R,L+1)),y="",C=0)}}0===C&&(U+=y)}D=P,P=f,L++}if(0<(R=H.length)){if(M=s,0<B&&(void 0!==(w=a(2,H,M,n,O,S,R,u,p,u))&&0===(H=w).length))return W+H+$;if(H=M.join(",")+"{"+H+"}",0!=N*E){switch(2!==N||i(H,2)||(E=0),E){case 111:H=H.replace(b,":-moz-$1")+H;break;case 112:H=H.replace(v,"::-webkit-input-$1")+H.replace(v,"::-moz-$1")+H.replace(v,":-ms-input-$1")+H}E=0}}return W+H+$}(T,s,n,0,0);return 0<B&&(void 0!==(l=a(-2,u,s,s,O,S,u.length,0,0,0))&&(u=l)),"",E=0,S=O=1,u}var c=/^\0+/g,d=/[\0\r\f]/g,u=/: */g,p=/zoo|gra/,m=/([,: ])(transform)/g,f=/,\r+?/g,h=/([\t\r\n ])*\f?&/g,g=/@(k\w+)\s*(\S*)\s*/,v=/::(place)/g,b=/:(read-only)/g,y=/[svh]\w+-[tblr]{2}/,k=/\(\s*(.*)\s*\)/g,w=/([\s\S]*?);/g,x=/-self|flex-/g,C=/[^]*?(:[rp][el]a[\w-]+)[^]*/,_=/stretch|:\s*\w+\-(?:conte|avail)/,j=/([^-])(image-set\()/,S=1,O=1,E=0,N=1,T=[],P=[],B=0,D=null,I=0;return l.use=function e(t){switch(t){case void 0:case null:B=P.length=0;break;default:if("function"==typeof t)P[B++]=t;else if("object"==typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else I=0|!!t}return e},l.set=s,void 0!==e&&s(e),l};function l(e){e&&c.current.insert(e+"}")}var c={current:null},d=function(e,t,n,r,i,o,a,s,d,u){switch(e){case 1:switch(t.charCodeAt(0)){case 64:return c.current.insert(t+";"),"";case 108:if(98===t.charCodeAt(2))return""}break;case 2:if(0===s)return t+"/*|*/";break;case 3:switch(s){case 102:case 112:return c.current.insert(n[0]+t),"";default:return t+(0===u?"/*|*/":"")}case-2:t.split("/*|*/}").forEach(l)}},u=function(e){void 0===e&&(e={});var t,n=e.key||"css";void 0!==e.prefix&&(t={prefix:e.prefix});var r=new s(t);var i,o={};i=e.container||document.head;var l,u=document.querySelectorAll("style[data-emotion-"+n+"]");Array.prototype.forEach.call(u,(function(e){e.getAttribute("data-emotion-"+n).split(" ").forEach((function(e){o[e]=!0})),e.parentNode!==i&&i.appendChild(e)})),r.use(e.stylisPlugins)(d),l=function(e,t,n,i){var o=t.name;c.current=n,r(e,t.styles),i&&(p.inserted[o]=!0)};var p={key:n,sheet:new a({key:n,container:i,nonce:e.nonce,speedy:e.speedy}),nonce:e.nonce,inserted:o,registered:{},insert:l};return p};function p(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]):r+=n+" "})),r}var m=function(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var i=t;do{e.insert("."+r,i,e.sheet,!0);i=i.next}while(void 0!==i)}};var f=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},h={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var g=/[A-Z]|^ms/g,v=/_EMO_([^_]+?)_([^]*?)_EMO_/g,b=function(e){return 45===e.charCodeAt(1)},y=function(e){return null!=e&&"boolean"!=typeof e},k=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return b(e)?e:e.replace(g,"-$&").toLowerCase()})),w=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(v,(function(e,t,n){return C={name:t,styles:n,next:C},t}))}return 1===h[e]||b(e)||"number"!=typeof t||0===t?t:t+"px"};function x(e,t,n,r){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return C={name:n.name,styles:n.styles,next:C},n.name;if(void 0!==n.styles){var i=n.next;if(void 0!==i)for(;void 0!==i;)C={name:i.name,styles:i.styles,next:C},i=i.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=x(e,t,n[i],!1);else for(var o in n){var a=n[o];if("object"!=typeof a)null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":y(a)&&(r+=k(o)+":"+w(o,a)+";");else if(!Array.isArray(a)||"string"!=typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=x(e,t,a,!1);switch(o){case"animation":case"animationName":r+=k(o)+":"+s+";";break;default:r+=o+"{"+s+"}"}}else for(var l=0;l<a.length;l++)y(a[l])&&(r+=k(o)+":"+w(o,a[l])+";")}return r}(e,t,n);case"function":if(void 0!==e){var o=C,a=n(e);return C=o,x(e,t,a,r)}break;case"string":}if(null==t)return n;var s=t[n];return void 0===s||r?n:s}var C,_=/label:\s*([^\s;\n{]+)\s*;/g;var j=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";C=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=x(n,t,o,!1)):i+=o[0];for(var a=1;a<e.length;a++)i+=x(n,t,e[a],46===i.charCodeAt(i.length-1)),r&&(i+=o[a]);_.lastIndex=0;for(var s,l="";null!==(s=_.exec(i));)l+="-"+s[1];return{name:f(i)+l,styles:i,next:C}};var S=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return j(t)},O=Object(o.createContext)("undefined"!=typeof HTMLElement?u():null),E=Object(o.createContext)({}),N=(O.Provider,function(e){return Object(o.forwardRef)((function(t,n){return Object(o.createElement)(O.Consumer,null,(function(r){return e(t,r,n)}))}))}),T="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",P=Object.prototype.hasOwnProperty,B=function(e,t,n,r){var i=null===n?t.css:t.css(n);"string"==typeof i&&void 0!==e.registered[i]&&(i=e.registered[i]);var a=t[T],s=[i],l="";"string"==typeof t.className?l=p(e.registered,s,t.className):null!=t.className&&(l=t.className+" ");var c=j(s);m(e,c,"string"==typeof a);l+=e.key+"-"+c.name;var d={};for(var u in t)P.call(t,u)&&"css"!==u&&u!==T&&(d[u]=t[u]);return d.ref=r,d.className=l,Object(o.createElement)(a,d)},D=N((function(e,t,n){return"function"==typeof e.css?Object(o.createElement)(E.Consumer,null,(function(r){return B(t,e,r,n)})):B(t,e,null,n)}));var I=function(e,t){var n=arguments;if(null==t||!P.call(t,"css"))return o.createElement.apply(void 0,n);var r=n.length,i=new Array(r);i[0]=D;var a={};for(var s in t)P.call(t,s)&&(a[s]=t[s]);a[T]=e,i[1]=a;for(var l=2;l<r;l++)i[l]=n[l];return o.createElement.apply(null,i)},A=(o.Component,function(){var e=S.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}),L=function e(t){for(var n=t.length,r=0,i="";r<n;r++){var o=t[r];if(null!=o){var a=void 0;switch(typeof o){case"boolean":break;case"object":if(Array.isArray(o))a=e(o);else for(var s in a="",o)o[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=o}a&&(i&&(i+=" "),i+=a)}}return i};function M(e,t,n){var r=[],i=p(e,r,n);return r.length<2?n:i+t(r)}N((function(e,t){return Object(o.createElement)(E.Consumer,null,(function(n){var r=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=j(n,t.registered);return m(t,i,!1),t.key+"-"+i.name},i={css:r,cx:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return M(t.registered,r,L(n))},theme:n},o=e.children(i);return!0,o}))}))},"./node_modules/@researchgate/react-intersection-list/lib/es/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return L}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=(n("./node_modules/prop-types/index.js"),n("./node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js")),a=n("./node_modules/warning/warning.js"),s=n.n(a),l=n("./node_modules/react-dom/index.js");n("./node_modules/invariant/browser.js"),n("./node_modules/@researchgate/react-intersection-observer/node_modules/warning/browser.js");function c(e){return i.a.isValidElement(e)&&"string"==typeof e.type}var d=/^-?\d*\.?\d+(px|%)$/;function u(e){var t=(e?e.trim():"0px").split(/\s+/).map((function(e){if(!d.test(e))throw new Error("rootMargin must be a string literal containing pixels and/or percent values");return e})),n=t[0],r=void 0===n?"0px":n,i=t[1],o=void 0===i?r:i,a=t[2],s=void 0===a?r:a,l=t[3];return r+" "+o+" "+s+" "+(void 0===l?o:l)}function p(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===t.length?e.some((function(n,r){return p(e[r],t[r])})):e!==t}var m=new Map;function f(e,t){var n=m.get(e);if(n)for(var r=n.values(),i=void 0;i=r.next().value;)if(i.target===t.target)return i;return null}function h(e,t){for(var n=0;n<e.length;n++){var r=f(t,e[n]);r&&r.handleChange(e[n])}}function g(e){return function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.root||null,n=u(e.rootMargin),r=Array.isArray(e.threshold)?e.threshold:[null!=e.threshold?e.threshold:0],i=m.keys(),o=void 0;o=i.next().value;){var a=t!==o.root||n!==o.rootMargin||p(r,o.thresholds);if(!a)return o}return null}(e)||new IntersectionObserver(h,e)}function v(e){m.has(e.observer)||m.set(e.observer,new Set),m.get(e.observer).add(e),e.observer.observe(e.target)}function b(e){if(m.has(e.observer)){var t=m.get(e.observer);t.delete(e)&&(t.size>0?e.observer.unobserve(e.target):(e.observer.disconnect(),m.delete(e.observer)))}}var y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var C=["root","rootMargin","threshold"],_=["disabled"].concat(C),j=Object.prototype,S=function(e){function t(){var n,r;w(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=x(this,e.call.apply(e,[this].concat(o))),r.handleChange=function(e){r.props.onChange(e,r.unobserve),r.props.onlyOnce&&e.isIntersecting&&r.unobserve()},r.handleNode=function(e){var t=r.props.children.ref;t&&("function"==typeof t?t(e):"object"===(void 0===t?"undefined":y(t))&&(t.current=e)),r.targetChanged=null!=(r.renderedTarget&&e)&&r.renderedTarget!==e,r.targetChanged&&r.unobserve(),r.target=e},r.observe=function(){r.target=c(r.target)?r.target:Object(l.findDOMNode)(r.target),r.observer=g(r.options),v(r)},r.unobserve=function(){null!=r.target&&b(r)},x(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.props.disabled||this.observe()},t.prototype.componentDidUpdate=function(e){var t=this,n=_.some((function(n){return p(t.props[n],e[n])}));n&&this.unobserve(),(this.targetChanged||n)&&(this.props.disabled||this.observe())},t.prototype.componentWillUnmount=function(){this.unobserve()},t.prototype.render=function(){return this.renderedTarget=this.target,i.a.cloneElement(i.a.Children.only(this.props.children),{ref:this.handleNode})},k(t,[{key:"options",get:function(){var e=this;return C.reduce((function(t,n){if(j.hasOwnProperty.call(e.props,n)){var r="root"===n&&"[object String]"===j.toString.call(e.props[n]);t[n]=r?document.querySelector(e.props[n]):e.props[n]}return t}),{})}}]),t}(i.a.Component);S.displayName="IntersectionObserver";var O=S;function E(e){var t=e.threshold,n=e.axis,r=[t],i="0"+(t.match(/^-?\d*\.?\d+(px|%)$/)||[""]).pop();return"y"===n?r.push(i):r.unshift(i),r.join(" ")}function N(e,t){return Math.max(0,Math.min(e,t))}var T=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.setRootElement=function(e){r.setState({rootElement:e})},r.state={rootElement:void 0,rootMargin:E(n)},r.target=i.a.createElement("span",{style:{height:1,width:1,display:"block"}}),n.setRef(r.setRootElement),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.threshold,r=e.axis,i=null;return n===t.threshold&&r===t.axis||(i={threshold:n,axis:r,rootMargin:E({threshold:n,axis:r})}),i},t.prototype.shouldComponentUpdate=function(e,t){var n=t.rootMargin,r=t.rootElement,i=this.state,o=i.rootMargin,a=i.rootElement;return o!==n||a!==r||(this.element.unobserve(),this.element.observe(),!1)},t.prototype.render=function(){var e=this,t=this.props.onChange,n=this.state,r=n.rootElement,o=n.rootMargin;return i.a.createElement(O,{ref:function(t){e.element=t},disabled:void 0===r,root:r,rootMargin:o,onChange:t},this.target)},t}(r.Component);Object(o.polyfill)(T);var P=T;function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var I={x:"overflowX",y:"overflowY"},A=function(e){function t(){var n,r;B(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=D(this,e.call.apply(e,[this].concat(o))),r.state={size:0},r.setRef=function(e){var t=void 0;r.setRootNode=function(n){if(n!==t){t=n;var i=window.getComputedStyle(n)[I[r.props.axis]];e(-1!==["auto","scroll","overlay"].indexOf(i)?n:null)}}},r.handleUpdate=function(e){var t=e.isIntersecting,n=r.props,i=n.awaitMore,o=n.onIntersection,a=r.state,l=a.size,c=a.itemCount,d=a.pageSize;if(r.prematureIntersectionChecked||(r.prematureIntersectionChecked=!0,s()(!t,"ReactIntersectionList: the sentinel detected a viewport with a bigger size than the size of its items. This could lead to detrimental behavior, e.g.: triggering more than one onIntersection callback at the start.\nTo prevent this, use either a bigger `pageSize` value or avoid using the prop awaitMore initially.")),t){var u=N(l+d,c);l!==u&&r.setState({size:u}),!o||i&&!r.awaitIntersection||(r.awaitIntersection&&(r.awaitIntersection=!1),o(u,d))}},D(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.pageSize,r=function(e,t){var n=e.itemCount,r=e.items,i=void 0!==n,o=void 0!==r;return t&&s()(!(i&&o),"ReactIntersectionList: cannot use itemCount and items props at the same time, choose one to determine the number of items to render."),i?n:o&&(r.length||r.size)||0}(function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["pageSize"]),!0);return{pageSize:n,itemCount:r,size:N(0===t.size?n:t.itemCount<r?t.size+n:t.size+-(t.pageSize-n),r)}},t.prototype.componentDidMount=function(){this.prematureIntersectionChecked=0===this.state.size},t.prototype.getItemRenderer=function(){var e=this.props,t=e.children,n=e.renderItem,r=void 0!==t,o=void 0!==n;return s()(!(r&&o),"ReactIntersectionList: cannot use children and renderItem props as render function at the same time."),r?t:o?n:function(e,t){return i.a.createElement("div",{key:t},e)}},t.prototype.renderItems=function(){for(var e=this,t=this.props,n=t.awaitMore,r=t.axis,o=t.initialIndex,a=t.itemsRenderer,s=t.threshold,l=this.state,c=l.size,d=l.itemCount,u=this.getItemRenderer(),p=[],m=0;m<c;++m)p.push(u(o+m,m));var f=void 0;return(c<d||n)&&(f=i.a.createElement(P,{key:"sentinel",threshold:s,axis:r,setRef:this.setRef,onChange:this.handleUpdate}),p.push(f),n&&(this.awaitIntersection=!0)),a(p,(function(t){t&&f&&e.setRootNode(t)}))},t.prototype.render=function(){return this.renderItems()},t}(r.PureComponent);A.defaultProps={axis:"y",initialIndex:0,itemsRenderer:function(e,t){return i.a.createElement("div",{ref:t},e)},pageSize:10,threshold:"100px"},Object(o.polyfill)(A);var L=A},"./node_modules/@researchgate/react-intersection-observer/node_modules/warning/browser.js":function(e,t,n){"use strict";e.exports=function(){}},"./node_modules/asap/browser-asap.js":function(e,t,n){"use strict";var r=n("./node_modules/asap/browser-raw.js"),i=[],o=[],a=r.makeRequestCallFromTimer((function(){if(o.length)throw o.shift()}));function s(e){var t;(t=i.length?i.pop():new l).task=e,r(t)}function l(){this.task=null}e.exports=s,l.prototype.call=function(){try{this.task.call()}catch(e){s.onerror?s.onerror(e):(o.push(e),a())}finally{this.task=null,i[i.length]=this}}},"./node_modules/asap/browser-raw.js":function(e,t,n){"use strict";(function(t){function n(e){i.length||(r(),!0),i[i.length]=e}e.exports=n;var r,i=[],o=0;function a(){for(;o<i.length;){var e=o;if(o+=1,i[e].call(),o>1024){for(var t=0,n=i.length-o;t<n;t++)i[t]=i[t+o];i.length-=o,o=0}}i.length=0,o=0,!1}var s,l,c,d=void 0!==t?t:self,u=d.MutationObserver||d.WebKitMutationObserver;function p(e){return function(){var t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}"function"==typeof u?(s=1,l=new u(a),c=document.createTextNode(""),l.observe(c,{characterData:!0}),r=function(){s=-s,c.data=s}):r=p(a),n.requestFlush=r,n.makeRequestCallFromTimer=p}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/babel-runtime/core-js/object/keys.js":function(e,t,n){e.exports={default:n("./node_modules/babel-runtime/node_modules/core-js/library/fn/object/keys.js"),__esModule:!0}},"./node_modules/babel-runtime/helpers/classCallCheck.js":function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},"./node_modules/babel-runtime/node_modules/core-js/library/fn/object/keys.js":function(e,t,n){n("./node_modules/babel-runtime/node_modules/core-js/library/modules/es6.object.keys.js"),e.exports=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_core.js").Object.keys},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_a-function.js":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_an-object.js":function(e,t,n){var r=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_is-object.js");e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_array-includes.js":function(e,t,n){var r=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-iobject.js"),i=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-length.js"),o=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-absolute-index.js");e.exports=function(e){return function(t,n,a){var s,l=r(t),c=i(l.length),d=o(a,c);if(e&&n!=n){for(;c>d;)if((s=l[d++])!=s)return!0}else for(;c>d;d++)if((e||d in l)&&l[d]===n)return e||d||0;return!e&&-1}}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_cof.js":function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_core.js":function(e,t){var n=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_ctx.js":function(e,t,n){var r=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_a-function.js");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_defined.js":function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_descriptors.js":function(e,t,n){e.exports=!n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_fails.js")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_dom-create.js":function(e,t,n){var r=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_is-object.js"),i=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_global.js").document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_enum-bug-keys.js":function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_export.js":function(e,t,n){var r=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_global.js"),i=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_core.js"),o=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_ctx.js"),a=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_hide.js"),s=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_has.js"),l=function(e,t,n){var c,d,u,p=e&l.F,m=e&l.G,f=e&l.S,h=e&l.P,g=e&l.B,v=e&l.W,b=m?i:i[t]||(i[t]={}),y=b.prototype,k=m?r:f?r[t]:(r[t]||{}).prototype;for(c in m&&(n=t),n)(d=!p&&k&&void 0!==k[c])&&s(b,c)||(u=d?k[c]:n[c],b[c]=m&&"function"!=typeof k[c]?n[c]:g&&d?o(u,r):v&&k[c]==u?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(u):h&&"function"==typeof u?o(Function.call,u):u,h&&((b.virtual||(b.virtual={}))[c]=u,e&l.R&&y&&!y[c]&&a(y,c,u)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_fails.js":function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_global.js":function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_has.js":function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_hide.js":function(e,t,n){var r=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-dp.js"),i=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_property-desc.js");e.exports=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_descriptors.js")?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_ie8-dom-define.js":function(e,t,n){e.exports=!n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_descriptors.js")&&!n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_fails.js")((function(){return 7!=Object.defineProperty(n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_dom-create.js")("div"),"a",{get:function(){return 7}}).a}))},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_iobject.js":function(e,t,n){var r=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_cof.js");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_is-object.js":function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_library.js":function(e,t){e.exports=!0},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-dp.js":function(e,t,n){var r=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_an-object.js"),i=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_ie8-dom-define.js"),o=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-primitive.js"),a=Object.defineProperty;t.f=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_descriptors.js")?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-keys-internal.js":function(e,t,n){var r=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_has.js"),i=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-iobject.js"),o=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_array-includes.js")(!1),a=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_shared-key.js")("IE_PROTO");e.exports=function(e,t){var n,s=i(e),l=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~o(c,n)||c.push(n));return c}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-keys.js":function(e,t,n){var r=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-keys-internal.js"),i=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_enum-bug-keys.js");e.exports=Object.keys||function(e){return r(e,i)}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-sap.js":function(e,t,n){var r=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_export.js"),i=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_core.js"),o=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_fails.js");e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o((function(){n(1)})),"Object",a)}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_property-desc.js":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_shared-key.js":function(e,t,n){var r=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_shared.js")("keys"),i=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_uid.js");e.exports=function(e){return r[e]||(r[e]=i(e))}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_shared.js":function(e,t,n){var r=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_core.js"),i=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_global.js"),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_library.js")?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-absolute-index.js":function(e,t,n){var r=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-integer.js"),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-integer.js":function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-iobject.js":function(e,t,n){var r=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_iobject.js"),i=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_defined.js");e.exports=function(e){return r(i(e))}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-length.js":function(e,t,n){var r=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-integer.js"),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-object.js":function(e,t,n){var r=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_defined.js");e.exports=function(e){return Object(r(e))}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-primitive.js":function(e,t,n){var r=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_is-object.js");e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_uid.js":function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/es6.object.keys.js":function(e,t,n){var r=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-object.js"),i=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-keys.js");n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-sap.js")("keys",(function(){return function(e){return i(r(e))}}))},"./node_modules/canvas-confetti/dist/confetti.module.mjs":function(e,t,n){"use strict";n.r(t),n.d(t,"create",(function(){return i}));var r={};!function(){var e=function(){var e,t;function n(){window.requestAnimationFrame&&window.cancelAnimationFrame?(e=window.requestAnimationFrame,t=window.cancelAnimationFrame):["webkit","moz","o","ms"].forEach((function(n){if(!e||!t){var r=n+"RequestAnimationFrame",i=n+"CancelAnimationFrame";window[r]&&window[i]&&(e=window[r],t=window[i])}})),e&&t||(e=function(e){return window.setTimeout(e,1e3/60)},t=function(e){return window.clearTimeout(e)})}return{frame:function(t){return e||n(),e(t)},cancel:function(e){return t||n(),t(e)}}}(),t={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"]};function n(){}function i(e,n,r){return function(e,t){return t?t(e):e}(e&&null!=e[n]?e[n]:t[n],r)}function o(e){return parseInt(e,16)}function a(e){e.width=document.documentElement.clientWidth,e.height=document.documentElement.clientHeight}function s(e){var t=e.getBoundingClientRect();e.width=t.width,e.height=t.height}function l(t,i,o,l,c){var d,u,p=i.slice(),m=t.getContext("2d"),f=t.width,h=t.height,g=o?a:s;function v(){f=h=null}var b,y,k,w=(b=function(n){function r(){d=u=null,l&&window.removeEventListener("resize",v),m.clearRect(0,0,f,h),c(),n()}d=e.frame((function n(){f||h||(g(t),f=t.width,h=t.height),m.clearRect(0,0,f,h),(p=p.filter((function(e){return function(e,t){t.x+=Math.cos(t.angle2D)*t.velocity,t.y+=Math.sin(t.angle2D)*t.velocity+3,t.wobble+=.1,t.velocity*=t.decay,t.tiltAngle+=.1,t.tiltSin=Math.sin(t.tiltAngle),t.tiltCos=Math.cos(t.tiltAngle),t.random=Math.random()+5,t.wobbleX=t.x+10*Math.cos(t.wobble),t.wobbleY=t.y+10*Math.sin(t.wobble);var n=t.tick++/t.totalTicks,r=t.x+t.random*t.tiltCos,i=t.y+t.random*t.tiltSin,o=t.wobbleX+t.random*t.tiltCos,a=t.wobbleY+t.random*t.tiltSin;return e.fillStyle="rgba("+t.color.r+", "+t.color.g+", "+t.color.b+", "+(1-n)+")",e.beginPath(),"circle"===t.shape?e.ellipse?e.ellipse(t.x,t.y,.6*Math.abs(o-r),.6*Math.abs(a-i),Math.PI/10*t.wobble,0,2*Math.PI):function(e,t,n,r,i,o,a,s,l){e.save(),e.translate(t,n),e.rotate(o),e.scale(r,i),e.arc(0,0,1,a,s,l),e.restore()}(e,t.x,t.y,.6*Math.abs(o-r),.6*Math.abs(a-i),Math.PI/10*t.wobble,0,2*Math.PI):(e.moveTo(Math.floor(t.x),Math.floor(t.y)),e.lineTo(Math.floor(t.wobbleX),Math.floor(i)),e.lineTo(Math.floor(o),Math.floor(a)),e.lineTo(Math.floor(r),Math.floor(t.wobbleY))),e.closePath(),e.fill(),t.tick<t.totalTicks}(m,e)}))).length?d=e.frame(n):r()})),u=r},y=r.exports.Promise,"function"==typeof(k=void 0!==y?y:window.Promise)?new k(b):(b(n,n),null));return l&&window.addEventListener("resize",v,!1),{addFettis:function(e){return p=p.concat(e),w},canvas:t,promise:w,reset:function(){d&&e.cancel(d),u&&u()}}}function c(e,t){var n,r=!e,c=!!i(t||{},"resize"),d=!1;function u(t){var u=i(t,"particleCount",Math.floor),p=i(t,"angle",Number),m=i(t,"spread",Number),f=i(t,"startVelocity",Number),h=i(t,"decay",Number),g=i(t,"colors"),v=i(t,"ticks",Number),b=i(t,"zIndex",Number),y=i(t,"shapes"),k=function(e){var t=i(e,"origin",Object);return t.x=i(t,"x",Number),t.y=i(t,"y",Number),t}(t),w=u,x=[];r?e=n?n.canvas:function(e){var t=document.createElement("canvas");return a(t),t.style.position="fixed",t.style.top="0px",t.style.left="0px",t.style.pointerEvents="none",t.style.zIndex=e,t}(b):c&&!d&&(s(e),d=!0);for(var C,_,j,S,O,E,N,T=e.width*k.x,P=e.height*k.y;w--;)x.push((C={x:T,y:P,angle:p,spread:m,startVelocity:f,color:g[w%g.length],shape:y[(E=0,N=y.length,Math.floor(Math.random()*(N-E))+E)],ticks:v,decay:h},_=void 0,j=void 0,S=void 0,O=void 0,S=C.angle*(Math.PI/180),O=C.spread*(Math.PI/180),{x:C.x,y:C.y,wobble:10*Math.random(),velocity:.5*C.startVelocity+Math.random()*C.startVelocity,angle2D:-S+(.5*O-Math.random()*O),tiltAngle:Math.random()*Math.PI,color:(_=C.color,j=String(_).replace(/[^0-9a-f]/gi,""),j.length<6&&(j=j[0]+j[0]+j[1]+j[1]+j[2]+j[2]),{r:o(j.substring(0,2)),g:o(j.substring(2,4)),b:o(j.substring(4,6))}),shape:C.shape,tick:0,totalTicks:C.ticks,decay:C.decay,random:Math.random()+5,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0}));return n?n.addFettis(x):(r&&document.body.appendChild(e),(n=l(e,x,r,r||c,(function(){n=null,r&&document.body.removeChild(e)}))).promise)}return u.reset=function(){n&&n.reset()},u}r.exports=c(),r.exports.create=c}(),t.default=r.exports;var i=r.exports.create},"./node_modules/create-emotion/dist/index.esm.js":function(e,t,n){"use strict";var r=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},i={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var o=function(e){for(var t,n=e.length,r=n^n,i=0;n>=4;)t=1540483477*(65535&(t=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+((1540483477*(t>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^(t=1540483477*(65535&(t^=t>>>24))+((1540483477*(t>>>16)&65535)<<16)),n-=4,++i;switch(n){case 3:r^=(255&e.charCodeAt(i+2))<<16;case 2:r^=(255&e.charCodeAt(i+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(i)))+((1540483477*(r>>>16)&65535)<<16)}return r=1540483477*(65535&(r^=r>>>13))+((1540483477*(r>>>16)&65535)<<16),((r^=r>>>15)>>>0).toString(36)};var a=function(e){function t(e,t,r){var i=t.trim().split(f);t=i;var o=i.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<o;++s)t[s]=n(e,t[s],r).trim();break;default:var l=s=0;for(t=[];s<o;++s)for(var c=0;c<a;++c)t[l++]=n(e[c]+" ",i[s],r).trim()}return t}function n(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(h,"$1"+e.trim());case 58:return e.trim()+t.replace(h,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(h,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function r(e,t,n,o){var a=e+";",s=2*t+3*n+4*o;if(944===s){e=a.indexOf(":",9)+1;var l=a.substring(e,a.length-1).trim();return l=a.substring(0,e).trim()+l+";",1===N||2===N&&i(l,1)?"-webkit-"+l+l:l}if(0===N||2===N&&!i(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(j,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(l=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+l+a;case 1005:return p.test(a)?a.replace(u,":-webkit-")+a.replace(u,":-moz-")+a:a;case 1e3:switch(t=(l=a.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(t)){case 226:l=a.replace(y,"tb");break;case 232:l=a.replace(y,"tb-rl");break;case 220:l=a.replace(y,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+l+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(l=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:a=a.replace(l,"-webkit-"+l)+";"+a;break;case 207:case 102:a=a.replace(l,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(l,"-webkit-"+l)+";"+a.replace(l,"-ms-"+l+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return l=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+l+"-ms-flex-"+l+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(x,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(x,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===_.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?r(e.replace("stretch","fill-available"),t,n,o).replace(":fill-available",":stretch"):a.replace(l,"-webkit-"+l)+a.replace(l,"-moz-"+l.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+o&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(m,"$1-webkit-$2")+a}return a}function i(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),D(2!==t?r:r.replace(C,"$1"),n,t)}function o(e,t){var n=r(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(w," or ($1)").substring(4):"("+t+")"}function a(e,t,n,r,i,o,a,s,c,d){for(var u,p=0,m=t;p<B;++p)switch(u=P[p].call(l,e,m,n,r,i,o,a,s,c,d)){case void 0:case!1:case!0:case null:break;default:m=u}if(m!==t)return m}function s(e){return void 0!==(e=e.prefix)&&(D=null,e?"function"!=typeof e?N=1:(N=2,D=e):N=0),s}function l(e,n){var s=e;if(33>s.charCodeAt(0)&&(s=s.trim()),s=[s],0<B){var l=a(-1,n,s,s,O,S,0,0,0,0);void 0!==l&&"string"==typeof l&&(n=l)}var u=function e(n,s,l,u,p){for(var m,f,h,y,w,x=0,C=0,_=0,j=0,P=0,D=0,A=h=m=0,L=0,M=0,F=0,R=0,z=l.length,V=z-1,U="",H="",$="",W="";L<z;){if(f=l.charCodeAt(L),L===V&&0!==C+j+_+x&&(0!==C&&(f=47===C?10:47),j=_=x=0,z++,V++),0===C+j+_+x){if(L===V&&(0<M&&(U=U.replace(d,"")),0<U.trim().length)){switch(f){case 32:case 9:case 59:case 13:case 10:break;default:U+=l.charAt(L)}f=59}switch(f){case 123:for(m=(U=U.trim()).charCodeAt(0),h=1,R=++L;L<z;){switch(f=l.charCodeAt(L)){case 123:h++;break;case 125:h--;break;case 47:switch(f=l.charCodeAt(L+1)){case 42:case 47:e:{for(A=L+1;A<V;++A)switch(l.charCodeAt(A)){case 47:if(42===f&&42===l.charCodeAt(A-1)&&L+2!==A){L=A+1;break e}break;case 10:if(47===f){L=A+1;break e}}L=A}}break;case 91:f++;case 40:f++;case 34:case 39:for(;L++<V&&l.charCodeAt(L)!==f;);}if(0===h)break;L++}switch(h=l.substring(R,L),0===m&&(m=(U=U.replace(c,"").trim()).charCodeAt(0)),m){case 64:switch(0<M&&(U=U.replace(d,"")),f=U.charCodeAt(1)){case 100:case 109:case 115:case 45:M=s;break;default:M=T}if(R=(h=e(s,M,h,f,p+1)).length,0<B&&(w=a(3,h,M=t(T,U,F),s,O,S,R,f,p,u),U=M.join(""),void 0!==w&&0===(R=(h=w.trim()).length)&&(f=0,h="")),0<R)switch(f){case 115:U=U.replace(k,o);case 100:case 109:case 45:h=U+"{"+h+"}";break;case 107:h=(U=U.replace(g,"$1 $2"))+"{"+h+"}",h=1===N||2===N&&i("@"+h,3)?"@-webkit-"+h+"@"+h:"@"+h;break;default:h=U+h,112===u&&(H+=h,h="")}else h="";break;default:h=e(s,t(s,U,F),h,u,p+1)}$+=h,h=F=M=A=m=0,U="",f=l.charCodeAt(++L);break;case 125:case 59:if(1<(R=(U=(0<M?U.replace(d,""):U).trim()).length))switch(0===A&&(m=U.charCodeAt(0),45===m||96<m&&123>m)&&(R=(U=U.replace(" ",":")).length),0<B&&void 0!==(w=a(1,U,s,n,O,S,H.length,u,p,u))&&0===(R=(U=w.trim()).length)&&(U="\0\0"),m=U.charCodeAt(0),f=U.charCodeAt(1),m){case 0:break;case 64:if(105===f||99===f){W+=U+l.charAt(L);break}default:58!==U.charCodeAt(R-1)&&(H+=r(U,m,f,U.charCodeAt(2)))}F=M=A=m=0,U="",f=l.charCodeAt(++L)}}switch(f){case 13:case 10:47===C?C=0:0===1+m&&107!==u&&0<U.length&&(M=1,U+="\0"),0<B*I&&a(0,U,s,n,O,S,H.length,u,p,u),S=1,O++;break;case 59:case 125:if(0===C+j+_+x){S++;break}default:switch(S++,y=l.charAt(L),f){case 9:case 32:if(0===j+x+C)switch(P){case 44:case 58:case 9:case 32:y="";break;default:32!==f&&(y=" ")}break;case 0:y="\\0";break;case 12:y="\\f";break;case 11:y="\\v";break;case 38:0===j+C+x&&(M=F=1,y="\f"+y);break;case 108:if(0===j+C+x+E&&0<A)switch(L-A){case 2:112===P&&58===l.charCodeAt(L-3)&&(E=P);case 8:111===D&&(E=D)}break;case 58:0===j+C+x&&(A=L);break;case 44:0===C+_+j+x&&(M=1,y+="\r");break;case 34:case 39:0===C&&(j=j===f?0:0===j?f:j);break;case 91:0===j+C+_&&x++;break;case 93:0===j+C+_&&x--;break;case 41:0===j+C+x&&_--;break;case 40:if(0===j+C+x){if(0===m)switch(2*P+3*D){case 533:break;default:m=1}_++}break;case 64:0===C+_+j+x+A+h&&(h=1);break;case 42:case 47:if(!(0<j+x+_))switch(C){case 0:switch(2*f+3*l.charCodeAt(L+1)){case 235:C=47;break;case 220:R=L,C=42}break;case 42:47===f&&42===P&&R+2!==L&&(33===l.charCodeAt(R+2)&&(H+=l.substring(R,L+1)),y="",C=0)}}0===C&&(U+=y)}D=P,P=f,L++}if(0<(R=H.length)){if(M=s,0<B&&(void 0!==(w=a(2,H,M,n,O,S,R,u,p,u))&&0===(H=w).length))return W+H+$;if(H=M.join(",")+"{"+H+"}",0!=N*E){switch(2!==N||i(H,2)||(E=0),E){case 111:H=H.replace(b,":-moz-$1")+H;break;case 112:H=H.replace(v,"::-webkit-input-$1")+H.replace(v,"::-moz-$1")+H.replace(v,":-ms-input-$1")+H}E=0}}return W+H+$}(T,s,n,0,0);return 0<B&&(void 0!==(l=a(-2,u,s,s,O,S,u.length,0,0,0))&&(u=l)),"",E=0,S=O=1,u}var c=/^\0+/g,d=/[\0\r\f]/g,u=/: */g,p=/zoo|gra/,m=/([,: ])(transform)/g,f=/,\r+?/g,h=/([\t\r\n ])*\f?&/g,g=/@(k\w+)\s*(\S*)\s*/,v=/::(place)/g,b=/:(read-only)/g,y=/[svh]\w+-[tblr]{2}/,k=/\(\s*(.*)\s*\)/g,w=/([\s\S]*?);/g,x=/-self|flex-/g,C=/[^]*?(:[rp][el]a[\w-]+)[^]*/,_=/stretch|:\s*\w+\-(?:conte|avail)/,j=/([^-])(image-set\()/,S=1,O=1,E=0,N=1,T=[],P=[],B=0,D=null,I=0;return l.use=function e(t){switch(t){case void 0:case null:B=P.length=0;break;default:switch(t.constructor){case Array:for(var n=0,r=t.length;n<r;++n)e(t[n]);break;case Function:P[B++]=t;break;case Boolean:I=0|!!t}}return e},l.set=s,void 0!==e&&s(e),l},s=n("./node_modules/stylis-rule-sheet/index.js"),l=n.n(s),c=/[A-Z]|^ms/g,d=r((function(e){return e.replace(c,"-$&").toLowerCase()})),u=function(e,t){return null==t||"boolean"==typeof t?"":1===i[e]||45===e.charCodeAt(1)||isNaN(t)||0===t?t:t+"px"},p=function e(t){for(var n=t.length,r=0,i="";r<n;r++){var o=t[r];if(null!=o){var a=void 0;switch(typeof o){case"boolean":break;case"function":0,a=e([o()]);break;case"object":if(Array.isArray(o))a=e(o);else for(var s in a="",o)o[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=o}a&&(i&&(i+=" "),i+=a)}}return i},m="undefined"!=typeof document;function f(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key||""),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),(void 0!==e.container?e.container:document.head).appendChild(t),t}var h=function(){function e(e){this.isSpeedy=!0,this.tags=[],this.ctr=0,this.opts=e}var t=e.prototype;return t.inject=function(){if(this.injected)throw new Error("already injected!");this.tags[0]=f(this.opts),this.injected=!0},t.speedy=function(e){if(0!==this.ctr)throw new Error("cannot change speedy now");this.isSpeedy=!!e},t.insert=function(e,t){if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(this.tags[this.tags.length-1]);try{n.insertRule(e,n.cssRules.length)}catch(e){0}}else{var r=f(this.opts);this.tags.push(r),r.appendChild(document.createTextNode(e+(t||"")))}this.ctr++,this.ctr%65e3==0&&this.tags.push(f(this.opts))},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0,this.injected=!1},e}();t.a=function(e,t){if(void 0!==e.__SECRET_EMOTION__)return e.__SECRET_EMOTION__;void 0===t&&(t={});var n,r,i=t.key||"css",s=l()((function(e){n+=e,m&&f.insert(e,v)}));void 0!==t.prefix&&(r={prefix:t.prefix});var c={registered:{},inserted:{},nonce:t.nonce,key:i},f=new h(t);m&&f.inject();var g=new a(r);g.use(t.stylisPlugins)(s);var v="";function b(e,t){if(null==e)return"";switch(typeof e){case"boolean":return"";case"function":if(void 0!==e.__emotion_styles){var n=e.toString();return n}return b.call(this,void 0===this?e():e(this.mergedProps,this.context),t);case"object":return x.call(this,e);default:var r=c.registered[e];return!1===t&&void 0!==r?r:e}}var y,k,w=new WeakMap;function x(e){if(w.has(e))return w.get(e);var t="";return Array.isArray(e)?e.forEach((function(e){t+=b.call(this,e,!1)}),this):Object.keys(e).forEach((function(n){"object"!=typeof e[n]?void 0!==c.registered[e[n]]?t+=n+"{"+c.registered[e[n]]+"}":t+=d(n)+":"+u(n,e[n])+";":Array.isArray(e[n])&&"string"==typeof e[n][0]&&void 0===c.registered[e[n][0]]?e[n].forEach((function(e){t+=d(n)+":"+u(n,e)+";"})):t+=n+"{"+b.call(this,e[n],!1)+"}"}),this),w.set(e,t),t}var C=/label:\s*([^\s;\n{]+)\s*;/g,_=function(e,t){return o(e+t)+t},j=function(e){var t=!0,n="",r="";null==e||void 0===e.raw?(t=!1,n+=b.call(this,e,!1)):n+=e[0];for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return o.forEach((function(r,i){n+=b.call(this,r,46===n.charCodeAt(n.length-1)),!0===t&&void 0!==e[i+1]&&(n+=e[i+1])}),this),k=n,n=n.replace(C,(function(e,t){return r+="-"+t,""})),y=_(n,r),n};function S(e,t){void 0===c.inserted[y]&&(n="",g(e,t),c.inserted[y]=n)}var O=function(){var e=j.apply(this,arguments),t=i+"-"+y;return void 0===c.registered[t]&&(c.registered[t]=k),S("."+t,e),t};function E(e,t){var n="";return t.split(" ").forEach((function(t){void 0!==c.registered[t]?e.push(t):n+=t+" "})),n}function N(e,t){var n=[],r=E(n,e);return n.length<2?e:r+O(n,t)}function T(e){c.inserted[e]=!0}if(m){var P=document.querySelectorAll("[data-emotion-"+i+"]");Array.prototype.forEach.call(P,(function(e){f.tags[0].parentNode.insertBefore(e,f.tags[0]),e.getAttribute("data-emotion-"+i).split(" ").forEach(T)}))}var B={flush:function(){m&&(f.flush(),f.inject()),c.inserted={},c.registered={}},hydrate:function(e){e.forEach(T)},cx:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return N(p(t))},merge:N,getRegisteredStyles:E,injectGlobal:function(){var e=j.apply(this,arguments);S("",e)},keyframes:function(){var e=j.apply(this,arguments),t="animation-"+y;return S("","@keyframes "+t+"{"+e+"}"),t},css:O,sheet:f,caches:c};return e.__SECRET_EMOTION__=B,B}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/common/components/controls/button/button.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3UeOvlU6B5KUnS{background-color:rgba(9,30,66,.04);box-shadow:none;border:none;border-radius:3px;cursor:pointer;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:14px;font-weight:400;line-height:20px;outline:0;padding:6px 12px;text-decoration:none}._3UeOvlU6B5KUnS:hover{background-color:rgba(9,30,66,.08);box-shadow:none;border:none}._3UeOvlU6B5KUnS:hover .vmfY4Z5HOr-J1T{color:#091e42}._3UeOvlU6B5KUnS:active{background-color:#e4f0f6;box-shadow:none;border:none;color:#0079bf}._3UeOvlU6B5KUnS:active .GCTgxGucOPkzgm,._3UeOvlU6B5KUnS:active .vmfY4Z5HOr-J1T{color:#0079bf}._45Q4U80_RMtnIc{display:inline-flex;align-items:center}._45Q4U80_RMtnIc._1QnQa50HH3Dh-p{height:32px}._45Q4U80_RMtnIc._1CiwWzN4YuZDjF{height:40px;padding:8px;margin:4px 8px auto}._45Q4U80_RMtnIc ._2QX6cI566UEL9P{width:12px;height:12px;line-height:12px}._45Q4U80_RMtnIc .iV27mPo7If_zwQ{width:24px;height:24px;line-height:24px}._45Q4U80_RMtnIc ._1u9gxK-qMJt6P0{margin-left:8px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif}._2MgouXHqRQDP_5{background-color:#5aac44;box-shadow:none;border:none;color:#fff}._2MgouXHqRQDP_5:focus,._2MgouXHqRQDP_5:hover{background-color:#61bd4f;box-shadow:none;border:none;color:#fff}._2MgouXHqRQDP_5:active{background-color:#49852e;box-shadow:none;border:none;color:#fff}._3qP3xau9S0_sol{background-color:#cf513d;box-shadow:none;border:none;color:#fff}._3qP3xau9S0_sol:hover{background-color:#eb5a46;box-shadow:none;border:none;color:#fff}._3qP3xau9S0_sol:active{background-color:#933b27;box-shadow:none;border:none;color:#fff}._1noDUDOF093oGA,._1noDUDOF093oGA:active,._1noDUDOF093oGA:hover{background-color:rgba(9,30,66,.04);box-shadow:none;border:none;color:#a5adba;cursor:not-allowed;background-color:#f4f5f7}._1tKRmZcnaHTnJX{padding:6px 24px}._3ZPeWh5QQj47DA{width:100%}",""]),t.locals={button:"_3UeOvlU6B5KUnS","button-icon-dark":"vmfY4Z5HOr-J1T","icon-sm":"GCTgxGucOPkzgm",iconButton:"_45Q4U80_RMtnIc",iconButtonSmall:"_1QnQa50HH3Dh-p",iconButtonLarge:"_1CiwWzN4YuZDjF",smallIcon:"_2QX6cI566UEL9P",largeIcon:"iV27mPo7If_zwQ",iconButtonContents:"_1u9gxK-qMJt6P0",primary:"_2MgouXHqRQDP_5",danger:"_3qP3xau9S0_sol",disabled:"_1noDUDOF093oGA",wide:"_1tKRmZcnaHTnJX",fullwidth:"_3ZPeWh5QQj47DA"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/common/components/power-up/power-up.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3TcpFHmOThg4vv{display:flex;flex-direction:row}._3VmtsElDy8xFba{display:flex;flex-direction:column}._1hobA9c9bKhNIL{position:relative}.pvk-qeaO42Fx5N{display:flex;flex-direction:row;justify-content:space-between}._1OS72GNLNIdr9f{display:flex;flex-direction:column;justify-content:center}._1SKFqHLjte2GnQ{display:grid}._2DL8QTt7vn6eJF{display:grid;grid-template-rows:40px auto 54px minmax(-webkit-min-content,auto);grid-template-rows:40px auto 54px minmax(min-content,auto);justify-content:left;row-gap:8px}._7SakKJwwB5_I8i{display:grid;grid-auto-rows:40px auto;margin-bottom:8px;row-gap:12px}._3z-ZgCdJepouYJ{align-items:center;display:grid;grid-template-columns:40px 1fr}.Mqjx2eqhK1c7Uh{display:grid;grid-template-columns:1fr auto}._1etB3Rzr5m1pcY{display:flex;flex-direction:column;justify-content:center;width:100%}._1_0l5CzM0NLqPY{display:-webkit-box;font-size:16px;font-weight:700;line-height:20px;margin-left:8px;max-height:40px;overflow:hidden;text-overflow:ellipsis;-webkit-box-orient:vertical;-webkit-line-clamp:2}._1_0l5CzM0NLqPY._22VWjtaLIm6JJB{height:18px;margin-bottom:4px;min-width:100px}._3HSD1XdH4xnIsa{display:-webkit-box;font-size:16px;font-weight:700;line-height:20px;margin-left:8px;max-height:20px;-webkit-box-orient:vertical;-webkit-line-clamp:1}._3HSD1XdH4xnIsa,._33Ryw9T-qvBoqG{overflow:hidden;text-overflow:ellipsis}._33Ryw9T-qvBoqG{font-size:14px;letter-spacing:-.3px;line-height:normal;margin-left:7px;white-space:no-wrap}._2WXDKTV6j7Umtt{background-position:50%;background-repeat:no-repeat;background-size:cover;border-radius:4px;display:inline-block;text-align:center;height:40px;width:40px}._25N7CW4O71RgJ-{display:flex;flex-wrap:wrap;margin-bottom:-4px}._25N7CW4O71RgJ- a,._25N7CW4O71RgJ- button{margin-right:8px}._2xOQBQDChteQZl{align-items:center;border-radius:3px;color:#5e6c84;display:flex;font-size:12px;height:24px;line-height:14px;margin-bottom:4px;margin-right:12px;white-space:nowrap}._3RcHkfY2SQHGUJ{margin-right:8px}._1TOxK3fSZcwvaj{color:#5e6c84;display:-webkit-box;font-size:14px;height:54px;line-height:18px;max-height:54px;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:3}._2r9EoboKCYH799{background-color:#fafbfc;border-radius:4px;padding:8px}._2r9EoboKCYH799:hover{background:rgba(0,0,0,.05)}._3ou9xLTlY6yW6y{background:#fafbfc;min-width:304px;border-radius:4px}._2tFeTCgSsDBDlJ{padding:10px}._2nRkKZcWs1Iowd{height:240px;width:100%;border-radius:4px 4px 0 0}@keyframes _3oSChgxsO5251o{0%{background-position:-468px 0}to{background-position:468px 0}}._22VWjtaLIm6JJB{animation-duration:1.5s;animation-fill-mode:forwards;animation-iteration-count:infinite;animation-timing-function:linear;animation-name:_3oSChgxsO5251o;background:linear-gradient(90deg,#ebecf0 8%,#dfe1e6 18%,#ebecf0 33%);background-size:800px 104px}._2IVnyJCx3qKCA0{height:24px;min-width:64px;margin-top:3px;border-radius:3px}",""]),t.locals={flexRow:"_3TcpFHmOThg4vv",flexColumn:"_3VmtsElDy8xFba",relative:"_1hobA9c9bKhNIL",flexRowSpaceBetween:"pvk-qeaO42Fx5N",flexColumnCenter:"_1OS72GNLNIdr9f",gridColumn:"_1SKFqHLjte2GnQ",descriptionAtomGrid:"_2DL8QTt7vn6eJF",listingAtomGrid:"_7SakKJwwB5_I8i",logoNameGrid:"_3z-ZgCdJepouYJ",twoColumnGrid:"Mqjx2eqhK1c7Uh",nameContainer:"_1etB3Rzr5m1pcY",name:"_1_0l5CzM0NLqPY",loadingSkeleton:"_22VWjtaLIm6JJB",listingName:"_3HSD1XdH4xnIsa",subtitle:"_33Ryw9T-qvBoqG",icon:"_2WXDKTV6j7Umtt",badges:"_25N7CW4O71RgJ-",pupBadge:"_2xOQBQDChteQZl",usageBadgeIcon:"_3RcHkfY2SQHGUJ",description:"_1TOxK3fSZcwvaj",descriptionAtom:"_2r9EoboKCYH799",featuredAtomContainer:"_3ou9xLTlY6yW6y",featuredAtom:"_2tFeTCgSsDBDlJ",heroImage:"_2nRkKZcWs1Iowd",loadingSkeletonAnimation:"_3oSChgxsO5251o",loadingSkeletonButton:"_2IVnyJCx3qKCA0"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/gamma/src/components/popover/popover-confirm.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".X6LMWvod566P68{padding:0 12px;word-break:break-word}.X6LMWvod566P68 p{margin:0 0 16px}",""]),t.locals={confirmContainer:"X6LMWvod566P68"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/scripts/views/card/SeparatorCard/SeparatorCard.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,'._2KpZMYSiDizjEs{height:20px;border-radius:3px;display:flex;align-items:center;justify-content:center;flex-direction:column;overflow:hidden;width:70%;margin:0 auto}._2KpZMYSiDizjEs:before{content:"";display:block;width:100%}._3Zo5oGEJ9Enqr7:before{border-top:2px solid #c1c7d0}',""]),t.locals={separatorCard:"_2KpZMYSiDizjEs",singleHorizontalLine:"_3Zo5oGEJ9Enqr7"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/AutoEnableCalendar/AutoEnableCalendar.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".PSP_lCy_RGudWA div{text-align:center}._2fUBWrjG_vD5ER{font-size:12px;text-decoration:underline;cursor:pointer;color:#5e6c84}._2fUBWrjG_vD5ER:hover{color:#172b4d}._25SeUvu6Ag_D77{font-size:18px;padding-left:2px}.jGo7xN0IW8LpiC{height:140px}._3Y7n-xL8PwisVg{width:100%}",""]),t.locals={buttonGroup:"PSP_lCy_RGudWA",quiet:"_2fUBWrjG_vD5ER",powerUpIcon:"_25SeUvu6Ag_D77",calendarHeroContainer:"jGo7xN0IW8LpiC",calendarHero:"_3Y7n-xL8PwisVg"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardHeaderButton/BoardHeaderButton.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1xfjBcEaubvhaq,._18T8GLElwlTQ36{border-radius:3px;border:0;cursor:pointer;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;text-decoration:none}._18T8GLElwlTQ36{font-family:trellicons}._1e88V4jqxivxAS{border-radius:3px;border:0;cursor:pointer;text-decoration:none;background-image:none;box-shadow:none;color:#5e6c84;display:block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:14px;font-weight:400;padding:0;text-align:left;width:100%}._1e88V4jqxivxAS:active,._1e88V4jqxivxAS:hover,._3qY9AVMK_1QYgb{background:transparent;box-shadow:none}._3qY9AVMK_1QYgb{border-color:transparent;padding:0;text-decoration:none;text-shadow:none}._3qY9AVMK_1QYgb:hover{background:transparent;border-color:transparent;box-shadow:none;text-decoration:underline}._2zGOcD0nlFxxuH{border-radius:3px;border:0;cursor:pointer;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;text-decoration:none;background-color:#5aac44;box-shadow:none;border:none;color:#fff}._2zGOcD0nlFxxuH:hover{background-color:#61bd4f;box-shadow:none;border:none;color:#fff}._2zGOcD0nlFxxuH:active{background-color:#49852e;box-shadow:none;border:none;color:#fff}._2zGOcD0nlFxxuH:disabled{background-color:rgba(9,30,66,.04);box-shadow:none;border:none;color:#a5adba;cursor:not-allowed}._325OiOucg9L-9r{border-radius:3px;border:0;cursor:pointer;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;text-decoration:none;background-color:#cf513d;box-shadow:none;border:none;color:#fff}._325OiOucg9L-9r:hover{background-color:#eb5a46;box-shadow:none;border:none;color:#fff}._325OiOucg9L-9r:active{background-color:#933b27;box-shadow:none;border:none;color:#fff}._13sYOB4ggIAL2B{padding-left:30px;padding-right:30px}._2ON_jFzoWJIiL_{background:#e2e4e6;box-shadow:0 1px 0 0 #c4c9cc;border-radius:3px;box-sizing:border-box;cursor:pointer;display:block;font-weight:700;height:32px;margin-top:8px;max-width:300px;overflow:hidden;padding:6px 8px 6px 11px;position:relative;text-decoration:none;text-overflow:ellipsis;-webkit-user-select:none;user-select:none;white-space:nowrap}@keyframes _212_U7qJj5kz5F{0%{opacity:1}to{opacity:.4}}._1P3yvFxrphHqF4{border-radius:3px;border:0;cursor:pointer;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;text-decoration:none;align-items:center;background-color:hsla(0,0%,100%,.24);box-shadow:none;color:#fff;display:flex;font-weight:400;height:32px;line-height:32px;margin:0 4px 0 0;padding:0;transition:.1s ease;white-space:nowrap}._1P3yvFxrphHqF4.nuHNixKwz9Z1Tu{background-color:rgba(0,0,0,.08)}._1P3yvFxrphHqF4.vv2pYFOWeltbyi{outline:1px dotted #fff}@media screen and (-webkit-min-device-pixel-ratio:0){._1P3yvFxrphHqF4.vv2pYFOWeltbyi{outline:5px auto -webkit-focus-ring-color}}._1P3yvFxrphHqF4:focus,._1P3yvFxrphHqF4:hover{background-color:hsla(0,0%,100%,.3);box-shadow:none}._1P3yvFxrphHqF4:focus.nuHNixKwz9Z1Tu,._1P3yvFxrphHqF4:hover.nuHNixKwz9Z1Tu{background-color:rgba(0,0,0,.2)}._1P3yvFxrphHqF4:active{background-color:hsla(0,0%,100%,.4);box-shadow:none}._1P3yvFxrphHqF4:active.nuHNixKwz9Z1Tu{background-color:rgba(0,0,0,.3)}._1P3yvFxrphHqF4 .fjobbI2PJWypQM{padding-right:12px}._1P3yvFxrphHqF4 .fjobbI2PJWypQM.nuHNixKwz9Z1Tu{color:#172b4d}._2oyWiWzeJUm60Y{color:#fff;font-size:18px}._2oyWiWzeJUm60Y.nuHNixKwz9Z1Tu{color:#42526e}",""]),t.locals={button:"_1xfjBcEaubvhaq",iconButton:"_18T8GLElwlTQ36",textButton:"_1e88V4jqxivxAS",buttonLink:"_3qY9AVMK_1QYgb",buttonPrimary:"_2zGOcD0nlFxxuH",buttonNegate:"_325OiOucg9L-9r",wide:"_13sYOB4ggIAL2B",blockButton:"_2ON_jFzoWJIiL_",boardHeaderButton:"_1P3yvFxrphHqF4",light:"nuHNixKwz9Z1Tu",focusRing:"vv2pYFOWeltbyi",text:"fjobbI2PJWypQM",headerButtonIcon:"_2oyWiWzeJUm60Y",brandedNavigating:"_212_U7qJj5kz5F"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardSidebarLoadingError/BoardSidebarLoadingError.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3FiU16_N4f26_h{display:block;text-align:center}._3FiU16_N4f26_h h4{font-size:20px;margin:20px 16px 24px}._3FiU16_N4f26_h p{font-size:16px;margin:0 0 8px}",""]),t.locals={errorMessage:"_3FiU16_N4f26_h"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardViewsButton/BoardViewsButton.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".Cu2yB8ZOVvr4xR{background-clip:content-box;background-origin:content-box;color:#fff;padding:6px;position:absolute;top:0;left:0}.body-light-board-background .Cu2yB8ZOVvr4xR{color:#42526e}",""]),t.locals={boardViewsButtonIcon:"Cu2yB8ZOVvr4xR"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardTemplatesPopover/CardTemplatesButton.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3PiJ2WyNY99H0v{background:#ebecf0}._2arBFfwXVxA0AM{margin-right:8px}._2arBFfwXVxA0AM:active,._2arBFfwXVxA0AM:visited{outline:none}._2arBFfwXVxA0AM:focus{outline:1px auto -webkit-focus-ring-color}._2arBFfwXVxA0AM .icon-template-card{margin-right:0}",""]),t.locals={popover:"_3PiJ2WyNY99H0v",cardTemplateButton:"_2arBFfwXVxA0AM"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardTemplatesPopover/CardTemplatesPopover.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1gN8uXOfybjSaC{text-align:center;margin-bottom:12px}._9_-qCCbjiiNeHt{margin-bottom:0}._17ubmepy2-mYZb{flex:1 1 auto;z-index:1;min-height:0;padding-top:1px}._1NBxMapN6ogWWX{display:flex}._13EPD62dgXxJoa{width:100%;margin-bottom:8px;min-height:56px}._1vnFiqTFvUbHmO,._2t77MEi0PcsMTi{margin-top:8px;margin-bottom:0}.qc5qf-WU-D6S1U{text-decoration:none}.o0k1FA-_28rf9K{display:flex;flex-direction:column;margin-left:8px}.o0k1FA-_28rf9K ._3Piz0dNsYmYOhL{width:32px;padding:6px 8px;margin-bottom:8px}.o0k1FA-_28rf9K ._3Piz0dNsYmYOhL:focus{outline:1px auto -webkit-focus-ring-color}",""]),t.locals={emptyStateMessage:"_1gN8uXOfybjSaC",createNewTemplateButton:"_9_-qCCbjiiNeHt",templateCards:"_17ubmepy2-mYZb",templateCardContainer:"_1NBxMapN6ogWWX",templateCard:"_13EPD62dgXxJoa",editTemplatesButton:"_1vnFiqTFvUbHmO",finishEditingButton:"_2t77MEi0PcsMTi",noTextDecoration:"qc5qf-WU-D6S1U",controlButtons:"o0k1FA-_28rf9K",controlButton:"_3Piz0dNsYmYOhL"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardTemplatesPopover/CreateCardFromTemplatePopover.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2NkSOgcUn7Xcve{margin-top:8px;margin-bottom:8px}._2NkSOgcUn7Xcve:last-child{margin-bottom:0}._2RfGKd4tIw-XUP{text-decoration:none}._1FoQzNHcvCPp1q{margin-top:0;margin-bottom:0}._3WNLfRSLnnkkmi{width:100%;margin-bottom:8px;min-height:72px;background-color:#fff;border-radius:3px;box-sizing:border-box;box-shadow:0 1px 0 0 rgba(9,30,66,.25);display:block;padding-bottom:6px;position:relative;overflow:hidden}.F3X6m84g4ieEPZ{padding:8px 8px 0}._1lfupGZ_Pw3Omh{background-color:#fff;border:1px solid #00000000;box-shadow:none;padding:0;overflow:hidden;overflow-wrap:break-word;resize:none;height:60px}._1lfupGZ_Pw3Omh:focus,._1lfupGZ_Pw3Omh:hover{background-color:#fff;border:1px solid transparent;box-shadow:none}",""]),t.locals={createCardButton:"_2NkSOgcUn7Xcve",editTemplateLink:"_2RfGKd4tIw-XUP",editTemplateButton:"_1FoQzNHcvCPp1q",templateCard:"_3WNLfRSLnnkkmi",templateCardNameContainer:"F3X6m84g4ieEPZ",templateCardEditTitle:"_1lfupGZ_Pw3Omh"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardTemplatesPopover/TemplateCardComposer.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1z6lMwQy3ObsrK{border-radius:3px;color:#5e6c84;display:block;flex:0 0 auto;padding:4px 8px;position:relative;text-decoration:none;-webkit-user-select:none;user-select:none;cursor:pointer}._1z6lMwQy3ObsrK ._38xwr8TrHEbGDN{color:#6b778c;margin-right:2px}._1z6lMwQy3ObsrK:hover{background-color:rgba(9,30,66,.08);color:#172b4d;text-decoration:none}._1z6lMwQy3ObsrK:hover ._38xwr8TrHEbGDN{color:#42526e}._1z6lMwQy3ObsrK:active{background-color:rgba(9,30,66,.13)}._3730WlziYhHDQa,._3730WlziYhHDQa:focus,._3730WlziYhHDQa:hover{background:none;border:none;box-shadow:none;height:auto!important;margin-bottom:4px!important;max-height:162px;min-height:54px;overflow-y:auto;padding:0;resize:none}._3yXlJeRn0Etb5h{margin-bottom:0}.p7jyk-R-Ofxu1z{margin-left:8px;cursor:pointer}.p7jyk-R-Ofxu1z ._1TgqRIZIIMKMV-{color:#6b778c}.p7jyk-R-Ofxu1z:hover ._1TgqRIZIIMKMV-{color:#172b4d}._3amdh54KEULv4z{background-color:#fff;border-radius:3px;box-shadow:0 1px 0 rgba(9,30,66,.25);cursor:pointer;display:block;margin-bottom:8px;max-width:300px;min-height:20px;position:relative;text-decoration:none;z-index:0}._3amdh54KEULv4z a{color:#172b4d}._2X-1PEvh3NMQUN{overflow:hidden;padding:6px 8px 2px;position:relative;z-index:10}",""]),t.locals={openTemplateCardComposer:"_1z6lMwQy3ObsrK",iconAdd:"_38xwr8TrHEbGDN",templateCardComposerTextarea:"_3730WlziYhHDQa",addButton:"_3yXlJeRn0Etb5h",closeButton:"p7jyk-R-Ofxu1z",closeIcon:"_1TgqRIZIIMKMV-",listCard:"_3amdh54KEULv4z",listCardDetails:"_2X-1PEvh3NMQUN"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Facepile/Facepile.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".heHxcDMS0dhm_m{float:left}._1SEz0cJPMzGn3-{margin-left:-2px;float:right;position:relative}._18HOmBqwfZvsdp{display:flex;align-items:center;justify-content:center;border-radius:50%;background:rgba(0,0,0,.2);font-size:12px;color:#172b4d;float:right;margin-left:-2px}._30ppd9kx6Q4f0o{cursor:pointer;transition:background .3s ease}._30ppd9kx6Q4f0o:hover{background:rgba(0,0,0,.4)}",""]),t.locals={facepile:"heHxcDMS0dhm_m",avatar:"_1SEz0cJPMzGn3-",showMore:"_18HOmBqwfZvsdp",showMoreClickable:"_30ppd9kx6Q4f0o"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Feedback/Feedback.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2Koafk_y5UxOQM{display:flex;flex-direction:row;justify-content:space-between;margin-bottom:16px}._2Koafk_y5UxOQM button{width:136px;margin:0}._2Koafk_y5UxOQM button.RVPm69KXbG0oQ3{background:#8bbdd9}.UCmwumhY328ZT0{margin-bottom:8px}._2Vh1XUPiw1hY06{resize:none;height:80px}._3famzzTzQ26yGA{width:100%}",""]),t.locals={useful:"_2Koafk_y5UxOQM",selected:"RVPm69KXbG0oQ3",question:"UCmwumhY328ZT0",freeform:"_2Vh1XUPiw1hY06",submit:"_3famzzTzQ26yGA"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/FreeTrialBannerActive.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2N560lTQ3WyptT{padding:0 4px 0 16px;height:40px;background-color:rgba(9,30,66,.95);display:flex;align-items:center;justify-content:space-between;line-height:18px;font-weight:600}._1MRQX_IJiyLODx{margin-right:8px}._2XwOJ2654HK9f7{align-items:center}._2XwOJ2654HK9f7,._3OjkzahPuddAwo{display:flex;flex-direction:row}._2xrxB8mjhio6GW{-webkit-text-decoration-line:none;text-decoration-line:none;font-size:14px;line-height:20px;font-weight:400;margin:0;background-color:#5aac44;color:#fff;padding:6px 12px;border-radius:3px;transition:background .1s ease-out,box-shadow .15s cubic-bezier(.47,.03,.49,1.38);transition-duration:.1s,.15s}._2xrxB8mjhio6GW:hover{background-color:#61bd4f;color:#fff}._2xrxB8mjhio6GW:active{background-color:#49852e;color:#fff}._2PQZa2WycxY8zh{margin:0;padding:0}._2PQZa2WycxY8zh,._2PQZa2WycxY8zh:hover{background-color:transparent}._3Zh8CvMx7ueezh{margin-left:2px;color:#42526e}._3Zh8CvMx7ueezh:hover{color:#fff}._3-6W2WtTj2jZOi{color:#a5adba;display:flex;align-items:center;margin-right:8px;-webkit-text-decoration-line:underline;text-decoration-line:underline;font-size:12px;line-height:16px;font-weight:500;cursor:pointer}._3-6W2WtTj2jZOi:hover{color:#fff}._1Fjdy94ppLYU5t{color:#fff;background-color:rgba(9,30,66,.95)}._36guWW-fdGEyKw{display:flex;justify-content:center;align-items:center;background-color:#42526e;border-radius:3px;width:24px;height:24px;margin:0 4px}",""]),t.locals={container:"_2N560lTQ3WyptT",emoji:"_1MRQX_IJiyLODx",bcContainer:"_2XwOJ2654HK9f7",ctaContainer:"_3OjkzahPuddAwo",linkButton:"_2xrxB8mjhio6GW",closeButton:"_2PQZa2WycxY8zh",closeIcon:"_3Zh8CvMx7ueezh",linkCta:"_3-6W2WtTj2jZOi",bannerBg:"_1Fjdy94ppLYU5t",daysContainer:"_36guWW-fdGEyKw"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/FreeTrialBannerExpired.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._37x93_BLTtpSop{padding:0 4px 0 16px;height:40px;background-color:rgba(9,30,66,.95);display:flex;align-items:center;justify-content:space-between;line-height:18px;font-weight:600}._2n9meSIT_QtyH8{margin-right:8px}._2U26G_mw-D-OCX{align-items:center}._1Hbz1myrnCU46s,._2U26G_mw-D-OCX{display:flex;flex-direction:row}._2mY0j81O9kAMfU{-webkit-text-decoration-line:none;text-decoration-line:none;font-size:14px;line-height:20px;font-weight:400;margin:0;background-color:#5aac44;color:#fff;padding:6px 12px;border-radius:3px;transition:background .1s ease-out,box-shadow .15s cubic-bezier(.47,.03,.49,1.38);transition-duration:.1s,.15s}._2mY0j81O9kAMfU:hover{background-color:#61bd4f;color:#fff}._2mY0j81O9kAMfU:active{background-color:#49852e;color:#fff}._1thjxAXGC3UsrM{margin:0;padding:0}._1thjxAXGC3UsrM,._1thjxAXGC3UsrM:hover{background-color:transparent}._3jB-w4L8Uae--t{margin-left:2px;color:#42526e}._3jB-w4L8Uae--t:hover{color:#fff}.cj88FvRlJZ5HVe{color:#a5adba;display:flex;align-items:center;margin-right:8px;-webkit-text-decoration-line:underline;text-decoration-line:underline;font-size:12px;line-height:16px;font-weight:500;cursor:pointer}.cj88FvRlJZ5HVe:hover{color:#fff}._1wo3_RPE13pGLp{color:#172b4d;background-color:#d6ecd2}.cj88FvRlJZ5HVe{color:#172b4d}.cj88FvRlJZ5HVe:hover{color:#42526e}",""]),t.locals={container:"_37x93_BLTtpSop",emoji:"_2n9meSIT_QtyH8",bcContainer:"_2U26G_mw-D-OCX",ctaContainer:"_1Hbz1myrnCU46s",linkButton:"_2mY0j81O9kAMfU",closeButton:"_1thjxAXGC3UsrM",closeIcon:"_3jB-w4L8Uae--t",linkCta:"cj88FvRlJZ5HVe",expiredBg:"_1wo3_RPE13pGLp"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/FreeTrialPlanSelection.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".zy_ZQ64E_28jRU{padding:8px 32px 24px;text-align:center}.zy_ZQ64E_28jRU h1{font-size:24px;margin-top:0;letter-spacing:-.01px;line-height:28px;padding-top:20px;font-weight:500}.zy_ZQ64E_28jRU h1 img{vertical-align:text-bottom;margin:0 8px}.zy_ZQ64E_28jRU h2{font-size:14px;font-weight:400;line-height:20px;margin:8px 0 0}@media only screen and (max-width:750px){.zy_ZQ64E_28jRU{padding:16px}.zy_ZQ64E_28jRU h1{padding-top:0;font-size:20px;margin-bottom:8px}.zy_ZQ64E_28jRU h2{line-height:20px}}._16lmArv_imxoEI{color:#89609e;font-size:33px}._2PpmAPYBjGdKnA{display:flex;flex-direction:row;padding:0 24px 8px}._2Oi3zDyOZwlD4Q,.tbggjH8n6OtAXV{display:flex;flex:1;flex-direction:column;padding:16px;border-radius:3px;border:3px solid #f4f5f7}._2Oi3zDyOZwlD4Q h2,.tbggjH8n6OtAXV h2{text-align:center;font-size:16px;font-weight:500;line-height:20px;margin:0;padding:4px 0 5px;color:#484553}._2Oi3zDyOZwlD4Q p,.tbggjH8n6OtAXV p{font-weight:400;display:block;margin:0;font-size:14px;color:#6b778c;line-height:18px;padding:8px 0 0;text-align:center}._2Oi3zDyOZwlD4Q ul,.tbggjH8n6OtAXV ul{flex:1}@media only screen and (max-width:750px){._2Oi3zDyOZwlD4Q,.tbggjH8n6OtAXV{position:relative;padding:16px 8px 8px}._2Oi3zDyOZwlD4Q h2,.tbggjH8n6OtAXV h2{font-size:14px;margin-bottom:8px}._2Oi3zDyOZwlD4Q p,.tbggjH8n6OtAXV p{padding:4px 0;font-size:12px}}.tbggjH8n6OtAXV h2{color:#5e6c84}.tbggjH8n6OtAXV{margin:8px -3px 8px 0}._2Oi3zDyOZwlD4Q{position:relative;background-color:#f7f0fa;border-color:#eddbf4}._3D-KcI-HT3kXuQ{background-color:#f2d600;color:#172b4d;border-radius:3px;display:inline-block;height:18px;padding:0 12px;position:absolute;left:50%;top:-8px;transform:translateX(-50%);font-size:12px;text-align:center;line-height:18px}@media only screen and (max-width:750px){._3D-KcI-HT3kXuQ{position:absolute;top:-12px;transform:translateX(-50%);left:50%;font-size:10px;width:80px;height:16px}}._1Rt7DE1tx8CySC{display:flex;padding:8px;text-align:left}._1Rt7DE1tx8CySC ._3yDwpWXQhoFxdt{color:#42526e;margin-right:8px;width:20px;height:20px;line-height:20px}@media only screen and (max-width:750px){._1Rt7DE1tx8CySC{padding:8px 0}._1Rt7DE1tx8CySC ._3yDwpWXQhoFxdt{width:16px;height:16px;line-height:16px;font-size:16px;margin-right:4px}}._1d-dFKXscj4xfb{display:flex}._3pkDO-MrBdjbjU{font-weight:600;margin:0;line-height:20px;color:#172b4d}@media only screen and (max-width:750px){._3pkDO-MrBdjbjU{font-size:14px;line-height:16px}}._3zwlTiSt3cEQDO{font-weight:400;display:block;margin:0;font-size:14px;color:#6b778c;line-height:18px;display:inline;color:#172b4d;line-height:20px;flex:1}._1J-F5vGwoeXF1a{cursor:pointer}._1J-F5vGwoeXF1a ._3pkDO-MrBdjbjU{border-bottom:2px dashed #97a0af;padding-bottom:1px}._2EiF7tEJdDzjVI{display:flex;flex-direction:column;padding:0 24px;margin-top:8px}._2EiF7tEJdDzjVI p{flex:1;text-align:center;color:#8993a4;font-size:12px}._2EiF7tEJdDzjVI ._1ywZNvfU6aYi4L{display:flex;justify-content:center;align-items:center;margin-bottom:16px}._2EiF7tEJdDzjVI ._1ywZNvfU6aYi4L span{color:#5e6c84;margin-top:20px;margin:0;text-transform:uppercase;padding-right:8px;color:#6b778c;font-size:12px;line-height:16px;font-weight:600}._2EiF7tEJdDzjVI ._1ywZNvfU6aYi4L img{padding:0 8px}._2EiF7tEJdDzjVI ._1A9FfYQGkg0DaB{font-size:12px;line-height:16px;color:#5e6c84;margin-bottom:16px}._2EiF7tEJdDzjVI ._1A9FfYQGkg0DaB span{text-decoration:underline}._2EiF7tEJdDzjVI ._1qINNpZO_1hOCK{align-self:center;display:inline-block;background:rgba(9,30,66,.04);border-radius:3px;padding:6px 12px;font-size:14px;line-height:20px;color:#172b4d;margin-bottom:16px;text-decoration:none}._2EiF7tEJdDzjVI ._1qINNpZO_1hOCK:hover{background:rgba(9,30,66,.13)}._1IGMnFTTE1yvnJ{mix-blend-mode:hard-light}",""]),t.locals={heading:"zy_ZQ64E_28jRU",headingIcon:"_16lmArv_imxoEI",bodyWrapper:"_2PpmAPYBjGdKnA",bcPlan:"_2Oi3zDyOZwlD4Q",freePlan:"tbggjH8n6OtAXV",recommendedLabel:"_3D-KcI-HT3kXuQ",featureItem:"_1Rt7DE1tx8CySC",featureIcon:"_3yDwpWXQhoFxdt",featureItemWrapper:"_1d-dFKXscj4xfb",featureTitle:"_3pkDO-MrBdjbjU",featureContent:"_3zwlTiSt3cEQDO",tooltipTarget:"_1J-F5vGwoeXF1a",actions:"_2EiF7tEJdDzjVI",trustedBy:"_1ywZNvfU6aYi4L",afterTrial:"_1A9FfYQGkg0DaB",secondaryCta:"_1qINNpZO_1hOCK",spinner:"_1IGMnFTTE1yvnJ"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/PlanSelection.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1or2fRlzUFCY7b{padding:16px 32px;text-align:center}._1or2fRlzUFCY7b h1{font-size:24px;margin-top:0;letter-spacing:-.01px;line-height:28px;padding-top:20px}._1or2fRlzUFCY7b h2{font-size:14px;font-weight:400;margin:8px 0 0}@media only screen and (max-width:750px){._1or2fRlzUFCY7b{padding:16px}._1or2fRlzUFCY7b h1{padding-top:0;font-size:20px;margin-bottom:8px}._1or2fRlzUFCY7b h2{line-height:20px}}.Un6lamEaRbz4uy{color:#89609e;font-size:33px}.iy3rXmWQICgxb3{display:flex;flex-direction:row;padding:0 16px 8px}._1iK0jrL0RcWs8y,._1RfayTVWAZtHjj{display:flex;flex:1;flex-direction:column;padding:16px}._1iK0jrL0RcWs8y h2,._1RfayTVWAZtHjj h2{text-align:center;font-size:16px;line-height:20px;margin:0;padding:4px 0 5px}._1iK0jrL0RcWs8y p,._1RfayTVWAZtHjj p{font-weight:400;display:block;margin:0;font-size:14px;color:#6b778c;line-height:18px;color:#5e6c84;padding:8px 0 0;text-align:center}._1iK0jrL0RcWs8y ul,._1RfayTVWAZtHjj ul{flex:1}@media only screen and (max-width:750px){._1iK0jrL0RcWs8y,._1RfayTVWAZtHjj{position:relative;padding:16px 8px 8px}._1iK0jrL0RcWs8y h2,._1RfayTVWAZtHjj h2{font-size:14px;margin-bottom:8px}._1iK0jrL0RcWs8y p,._1RfayTVWAZtHjj p{padding:4px 0;font-size:12px}}._1iK0jrL0RcWs8y h2{color:#5e6c84}._1RfayTVWAZtHjj{position:relative;background-color:#f7f0fa;color:#172b4d}._2ShULneJqBlULX{background-color:#f2d600;border-radius:3px;width:89px;height:18px;padding:1px;transform:rotate(10.21deg);position:absolute;right:-7px;top:-8px;font-size:12px;text-align:center;line-height:16px}@media only screen and (max-width:750px){._2ShULneJqBlULX{position:absolute;top:-12px;transform:translateX(-50%);left:50%;font-size:10px;width:80px;height:16px}}._3JIQjFv2GP7nbR{display:flex;padding:8px}._3JIQjFv2GP7nbR ._1Fm4qaiAuHnXXK{color:#42526e;margin-right:8px;width:20px;height:20px;line-height:20px}@media only screen and (max-width:750px){._3JIQjFv2GP7nbR{padding:8px 0}._3JIQjFv2GP7nbR ._1Fm4qaiAuHnXXK{width:16px;height:16px;line-height:16px;font-size:16px;margin-right:4px}}._3EY0dN0ATMPSbV{display:flex}._161C0v6sUg6hup{font-weight:600;margin:0;line-height:20px;color:#172b4d}@media only screen and (max-width:750px){._161C0v6sUg6hup{font-size:14px;line-height:16px}}._1mFi1D8Y_l8YRL{font-weight:400;display:block;margin:0;font-size:14px;color:#6b778c;line-height:18px;display:inline;color:#172b4d;line-height:20px;flex:1}._27or2EkLlTB6B7{cursor:pointer}._27or2EkLlTB6B7 ._161C0v6sUg6hup{border-bottom:2px dashed #97a0af;padding-bottom:1px}._1ivmjdL7obkKr7{display:flex;align-items:center;flex-direction:column;padding:0 32px;margin-top:8px}._1ivmjdL7obkKr7 p{width:100%;text-align:center;color:#8993a4;font-size:12px}._1G7HxsteMCpeIo{color:#8993a4;margin:12px 0}._1G7HxsteMCpeIo:focus{outline:1px dotted #000}@media screen and (-webkit-min-device-pixel-ratio:0){._1G7HxsteMCpeIo:focus{outline:5px auto -webkit-focus-ring-color}}._1G7HxsteMCpeIo:hover{color:#5e6c84}",""]),t.locals={heading:"_1or2fRlzUFCY7b",headingIcon:"Un6lamEaRbz4uy",bodyWrapper:"iy3rXmWQICgxb3",bcPlan:"_1RfayTVWAZtHjj",freePlan:"_1iK0jrL0RcWs8y",recommendedLabel:"_2ShULneJqBlULX",featureItem:"_3JIQjFv2GP7nbR",featureIcon:"_1Fm4qaiAuHnXXK",featureItemWrapper:"_3EY0dN0ATMPSbV",featureTitle:"_161C0v6sUg6hup",featureContent:"_1mFi1D8Y_l8YRL",tooltipTarget:"_27or2EkLlTB6B7",actions:"_1ivmjdL7obkKr7",learnMore:"_1G7HxsteMCpeIo"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/PlanSelectionOverlay.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".TAPXNueu2hw5pN{box-shadow:0 8px 16px -4px rgba(9,30,66,.25),0 0 0 1px rgba(9,30,66,.08);width:600px;background:#fff;border-radius:3px;border:1px solid rgba(9,30,66,.08);padding:8px;position:relative;outline:0;transition:height .1s ease-in-out}@media only screen and (max-width:750px){.TAPXNueu2hw5pN{max-width:none;min-width:0;width:100%;border:0;display:flex;flex-direction:column;flex-grow:1}}._2ZqK015sU-7zS_{height:651px}._2yYCXbUWAFnxJ1{height:524px}._1y7opsmGmOEJWT{position:absolute;top:6px;padding:0;line-height:20px;margin:0;width:36px;height:36px;border-radius:18px;opacity:.6}._1y7opsmGmOEJWT:focus,._1y7opsmGmOEJWT:hover{opacity:1}._2ZpqyegRfFbQ9D{position:absolute;top:6px;padding:0;line-height:20px;margin:0;width:36px;height:36px;border-radius:18px;opacity:.6;right:6px}._2ZpqyegRfFbQ9D:focus,._2ZpqyegRfFbQ9D:hover{opacity:1}.Gh_AD0DB2L8_4d{position:absolute;top:6px;padding:0;line-height:20px;margin:0;width:36px;height:36px;border-radius:18px;opacity:.6;left:6px}.Gh_AD0DB2L8_4d:focus,.Gh_AD0DB2L8_4d:hover{opacity:1}._3xswMGw_nfN1Th{display:flex;align-items:center;justify-content:center;border-radius:3px;color:#fff;background:#0079bf;text-decoration:none;margin:0;font-weight:400;font-size:16px;height:40px;width:100%}._3xswMGw_nfN1Th:hover{color:#fff;background:#026aa7}.TeZmHGg1-RhPOS{display:flex;align-items:center;justify-content:center;width:100%;border-radius:3px;color:#fff;text-decoration:none;background:#5aac44;margin:0 0 16px;font-size:14px;font-weight:400;line-height:20px;padding:8px 0}.TeZmHGg1-RhPOS:focus{outline:1px dotted #000}@media screen and (-webkit-min-device-pixel-ratio:0){.TeZmHGg1-RhPOS:focus{outline:5px auto -webkit-focus-ring-color}}.TeZmHGg1-RhPOS:hover{color:#fff;background:#49852e}",""]),t.locals={overlay:"TAPXNueu2hw5pN",grow:"_2ZqK015sU-7zS_",shrink:"_2yYCXbUWAFnxJ1","top-button":"_1y7opsmGmOEJWT",close:"_2ZpqyegRfFbQ9D",back:"Gh_AD0DB2L8_4d",planSelectionCtaButton:"_3xswMGw_nfN1Th",freeTrialPlanSelectionCtaButton:"TeZmHGg1-RhPOS"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/UpsellOverlay.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".lifmGNSoimxSIN{padding:8px;background:#fff;border-radius:3px}._1OYaD5X4bOFzHP{background:#fdfae5;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:16px 26px;text-align:center}._1OYaD5X4bOFzHP h3{margin-top:12px}._1OYaD5X4bOFzHP p{margin-top:6px;margin-bottom:16px}._2r0TugWKrjdprP{margin-top:6px;background:#f2d600;padding:2px 4px;border-radius:3px;font-size:11px}._2GUkxuwG8-jCEf{padding:16px 16px 0}._1NTgUUWh46GWue{display:flex;align-items:center;justify-content:space-between;margin-top:-10px;height:40px}._1NTgUUWh46GWue h3{color:#6c547b}._1NTgUUWh46GWue img{transform:rotate(10deg)}._1k-y-i8bm9Rl7F{display:flex;align-items:baseline;margin-bottom:10px}.tV0YibQqlji1H7{margin-bottom:18px}._239mqRKuaByA6p{width:6px;height:6px;background-color:#0079bf;border-radius:50%;margin-right:6px;position:relative;top:-2px}._2mVouPFPjhrU6J{height:32px;padding:0}.-JasI9K5v4uv56{mix-blend-mode:hard-light}",""]),t.locals={upsellOverlay:"lifmGNSoimxSIN",upsellOverlayHeader:"_1OYaD5X4bOFzHP",upsellOverlayTag:"_2r0TugWKrjdprP",upsellOverlayBody:"_2GUkxuwG8-jCEf",upsellOverlayBodyHeader:"_1NTgUUWh46GWue",upsellOverlayThing:"_1k-y-i8bm9Rl7F",upsellOverlayThings:"tV0YibQqlji1H7",upsellOverlayThingBullet:"_239mqRKuaByA6p",button:"_2mVouPFPjhrU6J",spinner:"-JasI9K5v4uv56"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MaxlengthTextarea/MaxlengthTextarea.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".yn1XKjCb10c-xO{display:none;text-align:right;color:#5e6c84;margin-top:-8px}.yn1XKjCb10c-xO._1Cjl0WDcWktnee{display:block}",""]),t.locals={lengthWarning:"yn1XKjCb10c-xO",show:"_1Cjl0WDcWktnee"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MemberAvatar/MemberAvatar.less":function(e,t,n){var r=n("./node_modules/css-loader/lib/url/escape.js");(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,'._1FekJJAz6Hu32v{position:relative;line-height:10px;overflow:hidden;white-space:nowrap}._1FekJJAz6Hu32v._3qYxjbDMKZCXJg{font-size:8px}.DCDOAa6FopPs9s:hover{background-color:#c1c7d0}.DCDOAa6FopPs9s.aYXvcYtXemTcSj{position:relative}.DCDOAa6FopPs9s.aYXvcYtXemTcSj:hover:before{opacity:.2}.DCDOAa6FopPs9s.aYXvcYtXemTcSj:before{background-color:#c1c7d0;border-radius:50%;content:"";height:100%;left:0;opacity:0;position:absolute;top:0;width:100%}._1PufnC2IQNEddD,._257inVnqyNzWRm{background-size:100%;position:absolute;z-index:3;right:1px}._257inVnqyNzWRm{height:7px;width:11px;top:1px;background-image:url('+r(n("./resources/images/TrelloGoldBadge.png"))+")}._1PufnC2IQNEddD{height:9px;width:9px;bottom:0;background-image:url("+r(n("./resources/images/chevron.png"))+")}",""]),t.locals={memberAvatar:"_1FekJJAz6Hu32v",longInitials:"_3qYxjbDMKZCXJg",hoverable:"DCDOAa6FopPs9s",withImage:"aYXvcYtXemTcSj",gold:"_257inVnqyNzWRm",admin:"_1PufnC2IQNEddD"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Overlay/Overlay.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".mBpHYwCdk1ETAw{align-items:center;box-sizing:border-box;display:flex;height:100vh;justify-content:center;overflow:auto;width:100vw}._32SBWPAMFn2zR_{background:rgba(0,0,0,.6)}._2umAI1Blayj0Cg{background:rgba(0,0,0,.75)}._2Kmle_Ne77Dt2c{background:transparent;position:relative;margin:48px 0;width:auto}._2Kmle_Ne77Dt2c:focus{outline:none}._2ddgKgxwLGcW0X{align-items:flex-start}@media only screen and (max-width:750px){._2Kmle_Ne77Dt2c{width:100%}}",""]),t.locals={overlay:"mBpHYwCdk1ETAw",light:"_32SBWPAMFn2zR_",dark:"_2umAI1Blayj0Cg",contents:"_2Kmle_Ne77Dt2c",alignTop:"_2ddgKgxwLGcW0X"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/PowerUpDirectory/ConfluenceCrossflowBanner.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1LpDzIqkw1-8ZX{display:flex;flex-flow:row;flex-wrap:wrap}._3rUzSwgYgn1PjP{display:flex;justify-content:center}.M9moumC_toAuFr{min-height:calc(100vh - 40px);flex:1 1 auto;background-color:#fff;padding-bottom:32px}.OYnS03yCBR876C{display:flex;justify-content:center;padding-top:32px}@media only screen and (max-width:600px){.OYnS03yCBR876C{display:block;padding-top:0}}._2KB6l0siwkBXqz{width:960px}@media only screen and (max-width:1242px){._2KB6l0siwkBXqz{width:640px}}@media only screen and (max-width:1007px){._2KB6l0siwkBXqz{width:100%}}@media only screen and (max-width:600px){._2KB6l0siwkBXqz._3O-FfBIfAQAAUi{display:none}}._3S_Oq3O593SSg4{display:flex;align-items:center;justify-content:center}._1a-Fd6ukXBN2aV{color:#172b4d;font-size:14px;line-height:24px;padding:0 15%}@media only screen and (max-width:1242px){._1a-Fd6ukXBN2aV{padding:0 10%}}._1a-Fd6ukXBN2aV ._3ragCAxIjGk10f{margin:16px auto;width:100%}._3jG3doYkMR2trO{width:100%}@media only screen and (max-width:951px){._3jG3doYkMR2trO{display:none}}._2srz8_zpLe-vWz{position:relative;background-color:#deebff;align-items:center;color:#091e42;display:flex;height:120px;justify-content:center;width:100%;max-width:944px;min-width:306px;border-radius:4px;box-shadow:0 1px 3px rgba(0,0,0,.15);margin-bottom:32px;overflow:hidden}@media only screen and (max-width:1242px){._2srz8_zpLe-vWz{max-width:624px}}@media only screen and (max-width:1333px){.directory-crossflow-wrapper ._2srz8_zpLe-vWz{max-width:624px}}@media only screen and (max-width:1650px){.is-show-menu ._2srz8_zpLe-vWz{max-width:624px}}._2srz8_zpLe-vWz ._3HdTBABqE5SnMJ{margin:0}._2srz8_zpLe-vWz ._23LuCKSdHgaD4m{width:195px;margin-bottom:-3px;margin-right:5px}._2srz8_zpLe-vWz ._3Kvfz_6uxqLhyw{width:460px;padding:64px 20px 12px;text-align:right}@media only screen and (max-width:1242px){._2srz8_zpLe-vWz ._3Kvfz_6uxqLhyw{padding-bottom:20px}}@media only screen and (max-width:1333px){.directory-crossflow-wrapper ._2srz8_zpLe-vWz ._3Kvfz_6uxqLhyw{padding-bottom:20px}}@media only screen and (max-width:1650px){.is-show-menu ._2srz8_zpLe-vWz ._3Kvfz_6uxqLhyw{padding-bottom:20px}}._2srz8_zpLe-vWz ._1778moVwEKeTEm{margin-left:30px}._2srz8_zpLe-vWz .aUGYlkkNUFaEFV{font-size:16px;line-height:1.3}@media only screen and (max-width:1242px){._2srz8_zpLe-vWz .aUGYlkkNUFaEFV{font-size:14px}}@media only screen and (max-width:1333px){.directory-crossflow-wrapper ._2srz8_zpLe-vWz .aUGYlkkNUFaEFV{font-size:14px}}@media only screen and (max-width:1650px){.is-show-menu ._2srz8_zpLe-vWz .aUGYlkkNUFaEFV{font-size:14px}}._2srz8_zpLe-vWz ._3ByLCGa5WE-IVV{display:inline-block;position:absolute;top:10px;left:10px;font-size:13px;background-color:#008da6;color:#fff;padding:3px 12px;border-radius:3px}._2srz8_zpLe-vWz ._3uU7Zjli17Kf34{display:inline-block;width:243px;margin-left:38px}@media only screen and (max-width:1242px){._2srz8_zpLe-vWz ._3uU7Zjli17Kf34{width:150px;margin-left:20px;margin-top:20px}}@media only screen and (max-width:1333px){.directory-crossflow-wrapper ._2srz8_zpLe-vWz ._3uU7Zjli17Kf34{width:150px;margin-left:20px;margin-top:20px}}@media only screen and (max-width:1650px){.is-show-menu ._2srz8_zpLe-vWz ._3uU7Zjli17Kf34{width:150px;margin-left:20px;margin-top:20px}}",""]),t.locals={flexRowWrap:"_1LpDzIqkw1-8ZX",flexAndCenter:"_3rUzSwgYgn1PjP",directoryBody:"M9moumC_toAuFr",navigationAndContent:"OYnS03yCBR876C",directoryContent:"_2KB6l0siwkBXqz",navigationExpanded:"_3O-FfBIfAQAAUi",directorySpinnerContainer:"_3S_Oq3O593SSg4",listingWrapper:"_1a-Fd6ukXBN2aV",upgradePromptFullPupPage:"_3ragCAxIjGk10f",confluenceCrossflowBannerContainer:"_3jG3doYkMR2trO",confluenceCrossflowBanner:"_2srz8_zpLe-vWz",bannerHeading:"_3HdTBABqE5SnMJ",confluenceLogo:"_23LuCKSdHgaD4m",ctaContainer:"_3Kvfz_6uxqLhyw",copyContainer:"_1778moVwEKeTEm",bannerParagraph:"aUGYlkkNUFaEFV",floatingText:"_3ByLCGa5WE-IVV",illustration:"_3uU7Zjli17Kf34"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/PowerUpDirectory/JSWCrossflowBanner.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".BWeUOPxSptzUiX{display:flex;flex-flow:row;flex-wrap:wrap}._1ZgexlYdjw1hHP{display:flex;justify-content:center}._2oH2jdBLN40cXR{min-height:calc(100vh - 40px);flex:1 1 auto;background-color:#fff;padding-bottom:32px}._1Ew1gSy8WCJKH-{display:flex;justify-content:center;padding-top:32px}@media only screen and (max-width:600px){._1Ew1gSy8WCJKH-{display:block;padding-top:0}}._2w3c5qQC9BHLTF{width:960px}@media only screen and (max-width:1242px){._2w3c5qQC9BHLTF{width:640px}}@media only screen and (max-width:1007px){._2w3c5qQC9BHLTF{width:100%}}@media only screen and (max-width:600px){._2w3c5qQC9BHLTF._2AyheTYBjafCR8{display:none}}._3r0HfXIKJepJl6{display:flex;align-items:center;justify-content:center}._3jXfbue4XlRYeu{color:#172b4d;font-size:14px;line-height:24px;padding:0 15%}@media only screen and (max-width:1242px){._3jXfbue4XlRYeu{padding:0 10%}}._3jXfbue4XlRYeu ._1SY7vrcn2IkxKw{margin:16px auto;width:100%}._2RQzG0ylNVnRB-{width:100%}@media only screen and (max-width:951px){._2RQzG0ylNVnRB-{display:none}}._27myoS6__g9hqw{position:relative;background-color:#e9e6ff;align-items:center;color:#091e42;display:flex;height:120px;justify-content:center;width:100%;max-width:944px;min-width:306px;border-radius:4px;box-shadow:0 1px 3px rgba(0,0,0,.15);margin-bottom:32px;overflow:hidden}@media only screen and (max-width:1242px){._27myoS6__g9hqw{max-width:624px}}@media only screen and (max-width:1333px){.directory-crossflow-wrapper ._27myoS6__g9hqw{max-width:624px}}@media only screen and (max-width:1650px){.is-show-menu ._27myoS6__g9hqw{max-width:624px}}._27myoS6__g9hqw ._2FVA853iy8hUuR{margin:0}._27myoS6__g9hqw .bGU72P3B2-ZmR0{width:195px;margin-bottom:-3px;margin-right:5px}._27myoS6__g9hqw ._3lBA3JoNi3jjew{width:460px;padding:64px 20px 12px;text-align:right}@media only screen and (max-width:1242px){._27myoS6__g9hqw ._3lBA3JoNi3jjew{padding-bottom:20px}}@media only screen and (max-width:1333px){.directory-crossflow-wrapper ._27myoS6__g9hqw ._3lBA3JoNi3jjew{padding-bottom:20px}}@media only screen and (max-width:1650px){.is-show-menu ._27myoS6__g9hqw ._3lBA3JoNi3jjew{padding-bottom:20px}}._27myoS6__g9hqw ._1JKDKav7OD7Dve{font-size:16px;line-height:1.3}@media only screen and (max-width:1242px){._27myoS6__g9hqw ._1JKDKav7OD7Dve{font-size:14px}}@media only screen and (max-width:1333px){.directory-crossflow-wrapper ._27myoS6__g9hqw ._1JKDKav7OD7Dve{font-size:14px}}@media only screen and (max-width:1650px){.is-show-menu ._27myoS6__g9hqw ._1JKDKav7OD7Dve{font-size:14px}}._27myoS6__g9hqw ._3cSBXwsA2u3Ope{display:inline-block;position:absolute;top:10px;left:10px;font-size:13px;background-color:#c377e0;color:#fff;padding:3px 12px;border-radius:3px}._27myoS6__g9hqw ._3fPCZB32q4QHCa{display:inline-block;width:300px;margin-left:60px}@media only screen and (max-width:1242px){._27myoS6__g9hqw ._3fPCZB32q4QHCa{width:200px;margin-left:20px;margin-top:40px}}@media only screen and (max-width:1333px){.directory-crossflow-wrapper ._27myoS6__g9hqw ._3fPCZB32q4QHCa{width:200px;margin-left:20px;margin-top:40px}}@media only screen and (max-width:1650px){.is-show-menu ._27myoS6__g9hqw ._3fPCZB32q4QHCa{width:200px;margin-left:20px;margin-top:40px}}",""]),t.locals={flexRowWrap:"BWeUOPxSptzUiX",flexAndCenter:"_1ZgexlYdjw1hHP",directoryBody:"_2oH2jdBLN40cXR",navigationAndContent:"_1Ew1gSy8WCJKH-",directoryContent:"_2w3c5qQC9BHLTF",navigationExpanded:"_2AyheTYBjafCR8",directorySpinnerContainer:"_3r0HfXIKJepJl6",listingWrapper:"_3jXfbue4XlRYeu",upgradePromptFullPupPage:"_1SY7vrcn2IkxKw",jswCrossflowBannerContainer:"_2RQzG0ylNVnRB-",jswCrossflowBanner:"_27myoS6__g9hqw",bannerHeading:"_2FVA853iy8hUuR",jswLogo:"bGU72P3B2-ZmR0",ctaContainer:"_3lBA3JoNi3jjew",bannerParagraph:"_1JKDKav7OD7Dve",floatingText:"_3cSBXwsA2u3Ope",illustration:"_3fPCZB32q4QHCa"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/TeamlessCollaborationPrompt/TeamfulCollaborationAddBoards.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3ilD2LLJXHkPlS{color:#5e6c84;font-size:12px;line-height:36px;min-height:170px;padding-top:80px;text-align:center}.h9-rDL05fPh0xq{color:#172b4d;font-size:16px;font-weight:600;letter-spacing:-.006em;margin-top:24px;margin-top:0}._2saKtDbkPOycjX,.h9-rDL05fPh0xq{line-height:20px;text-align:center}._2saKtDbkPOycjX{color:#5e6c84;font-size:14px;margin:8px 0 12px}._3LYCNdT5WaW4eC{color:#6b778c;font-size:12px;font-style:italic;line-height:16px;margin:8px 0 4px;text-align:center}._3AFsAkTFRTM0-O{margin-bottom:0}._2dBsWKlnfAauND{display:flex;flex-direction:row;height:36px;border-radius:3px;background-color:#f4f5f7;margin-bottom:4px;cursor:pointer}._2dBsWKlnfAauND div,._2dBsWKlnfAauND input,._2dBsWKlnfAauND label,._2dBsWKlnfAauND p,._2dBsWKlnfAauND span{cursor:pointer}._2dBsWKlnfAauND p{margin-top:auto;font-size:14px;max-width:200px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}._2dBsWKlnfAauND:hover,._3KLgrEniDcpNPL{background-color:#ebecf0}._1y7ziODLsywoHT{margin-right:8px;margin-left:0;min-width:36px}._1y7ziODLsywoHT,._1y7ziODLsywoHT img{border-radius:3px 0 0 3px;width:36px;height:36px}._1y7ziODLsywoHT img{object-fit:fill}._1delCD1b6cKWB5{margin-left:auto;margin-top:-1px}",""]),t.locals={addBoardsLoadingState:"_3ilD2LLJXHkPlS",addBoardsTitle:"h9-rDL05fPh0xq",addBoardsDescription:"_2saKtDbkPOycjX",addBoardsSubmitMessaging:"_3LYCNdT5WaW4eC",addBoardsButton:"_3AFsAkTFRTM0-O",boardListEntry:"_2dBsWKlnfAauND",boardListEntryHover:"_3KLgrEniDcpNPL",backgroundTile:"_1y7ziODLsywoHT",checkbox:"_1delCD1b6cKWB5"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/TeamlessCollaborationPrompt/TeamfulCollaborationAddPeople.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._215Z59J3H8QtaG{color:#5e6c84;font-size:12px;line-height:36px;min-height:170px;padding-top:80px;text-align:center}.TATXWClAAHji_R{color:#172b4d;font-size:16px;font-weight:600;letter-spacing:-.006em;margin-top:24px;margin-top:0}.cJx0Rsx8LhOFnb,.TATXWClAAHji_R{line-height:20px;text-align:center}.cJx0Rsx8LhOFnb{color:#5e6c84;font-size:14px;margin:8px 0 12px}._1Kx6YxkA-TIJxY{color:#6b778c;font-size:12px;font-style:italic;line-height:16px;margin:8px 0 4px;text-align:center;margin-top:0;padding-top:8px;border-top:1px solid rgba(9,30,66,.25)}._23jMEsEsAvs_WS{margin-bottom:0}.sckGFtKJCbOiN3{max-height:180px;min-height:64px;overflow-x:hidden;overflow-y:scroll}._2geRY0m_N4sNaj{box-sizing:border-box;border-bottom:1px solid rgba(9,30,66,.08);display:flex;height:34px;padding:1px 3px 2px;margin:0 3px;border-radius:3px;cursor:pointer}._2geRY0m_N4sNaj label{margin:8px 0 0}._2geRY0m_N4sNaj input,._2geRY0m_N4sNaj label,._2geRY0m_N4sNaj span{cursor:pointer}.zOXYts8LOk1O-S{flex-shrink:0;margin-top:6px;width:20px}._21Ecin4LAC62Cu{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex-grow:1;line-height:32px;padding:0 8px}._2geRY0m_N4sNaj:hover,.a1XTIMJIdm4MF6{background-color:#ebecf0;border:none}._2vCWpya2chOslo{flex-shrink:0;width:30px}",""]),t.locals={addPeopleLoadingState:"_215Z59J3H8QtaG",addPeopleTitle:"TATXWClAAHji_R",addPeopleDescription:"cJx0Rsx8LhOFnb",addPeopleSubmitMessaging:"_1Kx6YxkA-TIJxY",addPeopleButton:"_23jMEsEsAvs_WS",addPeopleList:"sckGFtKJCbOiN3",addPeopleListItem:"_2geRY0m_N4sNaj",addPeopleListItemAvatar:"zOXYts8LOk1O-S",addPeopleListItemName:"_21Ecin4LAC62Cu",addPeopleListItemHover:"a1XTIMJIdm4MF6",addPeopleListItemCheckbox:"_2vCWpya2chOslo"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/TeamlessCollaborationPrompt/TeamfulCollaborationPrompt.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"#teamful-collaboration-prompt-target{position:absolute;bottom:24px;right:24px;z-index:100}@keyframes _3Oclm3stdTGRK9{0%{transform:scaleX(1)}50%{transform:scale3d(1.05,1.05,1.05)}to{transform:scaleX(1)}}@keyframes _2wKTJUStuFsqBL{0%{transform:perspective(400px) rotateY(90deg);animation-timing-function:ease-in;opacity:0}80%{transform:perspective(400px) rotateY(-5deg)}to{transform:perspective(400px)}}@keyframes _3p2qNhNE2OQOBE{99%{visibility:hidden}to{visibility:visible}}._3R_bKsQl0Ha2U5{display:flex;background-color:transparent;align-items:flex-end;visibility:hidden;animation-name:_3p2qNhNE2OQOBE;animation-delay:1s;animation-fill-mode:forwards}._25_mib_d07jVH6{box-sizing:border-box;width:304px;background-color:#fff;border-radius:3px;box-shadow:0 2px 8px rgba(0,0,0,.16);border:1px solid #ebecf0;animation-name:_2wKTJUStuFsqBL;animation-duration:375ms;animation-delay:1s}.w-UXwmUtDUi3L8{margin-left:-1px;box-sizing:border-box;background-color:transparent;width:16px;height:42px;z-index:100;overflow:hidden}.ueIj7o4bljbn7S{border:1px solid #ebecf0;position:relative;transform:rotate(45deg) translateX(-30%) translateY(70%);width:18px;height:18px;background-color:#fff}._3dyzMqaOOmhXX9,.ueIj7o4bljbn7S{box-shadow:0 4px 8px rgba(0,0,0,.16);box-sizing:border-box}._3dyzMqaOOmhXX9{display:flex;justify-content:center;align-items:center;background-color:#d3f6e4;height:54px;width:54px;border-radius:50%;border:4px solid #fff;animation-duration:.5s;animation-name:_3Oclm3stdTGRK9;animation-delay:1s}._3dyzMqaOOmhXX9 img{height:100%}._1grSjdp8hBhizq{border-bottom:1px solid rgba(9,30,66,.13);color:#5e6c84;line-height:40px;margin:0 12px;position:relative;text-align:center}._2_CjFgiSpidqEf{cursor:pointer;line-height:20px;position:absolute;right:-2px;top:10px}.pCee1XIeqZlO7d{padding:12px}",""]),t.locals={teamfulCollaborationPrompt:"_3R_bKsQl0Ha2U5",delayIn:"_3p2qNhNE2OQOBE",popover:"_25_mib_d07jVH6",flipInY:"_2wKTJUStuFsqBL",arrowWrapper:"w-UXwmUtDUi3L8",arrow:"ueIj7o4bljbn7S",iconWrapper:"_3dyzMqaOOmhXX9","taco-in":"_3Oclm3stdTGRK9",popoverHeader:"_1grSjdp8hBhizq",popoverCloseButton:"_2_CjFgiSpidqEf",popoverContent:"pCee1XIeqZlO7d"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/TeamlessCollaborationPrompt/TeamfulCollaborationSuccessMessage.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._28x8jHfxm5u5J7{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;margin-top:16px;text-transform:uppercase;transform:uppercase;height:16px;margin-top:8px;margin-bottom:4px}._3dY7mkwTgUvnk4,._28x8jHfxm5u5J7{line-height:16px;text-align:center;width:272px}._3dY7mkwTgUvnk4{color:#172b4d;font-size:14px;font-weight:600;letter-spacing:-.003em;margin-top:16px;margin-top:0;line-height:20px}._3dY7mkwTgUvnk4 ._3H22vP_762lVj1{vertical-align:bottom;display:inline-block;max-width:200px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}._17j_Hyj-r2PneG{margin-bottom:0;margin-top:8px}._1QtjKASKlUZY1c{text-align:center}._1QtjKASKlUZY1c img{margin-right:10px;width:52px;height:52px}._1JpXI5ha9qmfwb{display:flex;justify-content:center;padding-bottom:13px}",""]),t.locals={successMessageMuted:"_28x8jHfxm5u5J7",successMessageLoud:"_3dY7mkwTgUvnk4",orgDisplayName:"_3H22vP_762lVj1",successMessageButton:"_17j_Hyj-r2PneG",partyPopper:"_1QtjKASKlUZY1c",facepileWrapper:"_1JpXI5ha9qmfwb"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/TeamlessCollaborationPrompt/TeamlessCollaborationCreateTeam.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".UGCYDTENW-4_M3 .uu86xHdq3PUNus{width:100%;margin-bottom:8px}._1k3u8dcz6MM0wO{margin-bottom:0}",""]),t.locals={createTeam:"UGCYDTENW-4_M3",createTeamInput:"uu86xHdq3PUNus",createTeamButton:"_1k3u8dcz6MM0wO"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/TeamlessCollaborationPrompt/TeamlessCollaborationCreateTeamMembers.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2oacOj0xSvMCwH{padding-top:8px}._2oacOj0xSvMCwH label{font-style:normal;font-weight:400;font-size:14px;line-height:20px;margin:0;cursor:pointer}._2oacOj0xSvMCwH button{font-size:12px;line-height:16px;-webkit-text-decoration-line:underline;text-decoration-line:underline;color:#0079bf;padding:0;background:none;margin:0 0 16px 24px}._2oacOj0xSvMCwH button:focus{outline:1px dotted #000}@media screen and (-webkit-min-device-pixel-ratio:0){._2oacOj0xSvMCwH button:focus{outline:5px auto -webkit-focus-ring-color}}._3yuwOXh05Lj8Db{padding-left:24px}._3yuwOXh05Lj8Db ._1YJjoNHEkgEe-c{overflow:auto;max-height:100%;padding-right:8px}._3yuwOXh05Lj8Db ._2zQS3Uq1jRJl7Y{display:flex;align-items:center;border-top:1px solid rgba(9,30,66,.08);border-bottom:1px solid rgba(9,30,66,.08);padding:6px 0 6px 3px;box-sizing:border-box;cursor:pointer}._3yuwOXh05Lj8Db ._2zQS3Uq1jRJl7Y:first-child,._3yuwOXh05Lj8Db ._2zQS3Uq1jRJl7Y:last-child{border:none;padding:8px 0 8px 3px}._3yuwOXh05Lj8Db ._2zQS3Uq1jRJl7Y div,._3yuwOXh05Lj8Db ._2zQS3Uq1jRJl7Y input,._3yuwOXh05Lj8Db ._2zQS3Uq1jRJl7Y label,._3yuwOXh05Lj8Db ._2zQS3Uq1jRJl7Y span{cursor:pointer}._3yuwOXh05Lj8Db ._2zQS3Uq1jRJl7Y ._2ETQA3HJxWaqV-{display:flex;flex-grow:1;align-items:center;font-size:12px;line-height:16px;padding-right:8px;overflow:hidden}._3yuwOXh05Lj8Db ._2zQS3Uq1jRJl7Y ._2ETQA3HJxWaqV- ._2efNj2NyMT1l5O{margin-right:8px;flex:0 0 20px}._3yuwOXh05Lj8Db ._2zQS3Uq1jRJl7Y ._2ETQA3HJxWaqV- ._1np8BrrzskfUG1{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}._3yuwOXh05Lj8Db ._2zQS3Uq1jRJl7Y:hover,._3yuwOXh05Lj8Db .lbzSZGMm-F5nJX{border:none;border-radius:3px;background-color:rgba(9,30,66,.08);padding:7px 0 7px 3px}._3yuwOXh05Lj8Db ._2zQS3Uq1jRJl7Y:hover:first-child,._3yuwOXh05Lj8Db ._2zQS3Uq1jRJl7Y:hover:last-child,._3yuwOXh05Lj8Db .lbzSZGMm-F5nJX:first-child,._3yuwOXh05Lj8Db .lbzSZGMm-F5nJX:last-child{padding:8px 0 8px 3px}._1VQ0zEiVkidE6g{margin-top:-3px}",""]),t.locals={inviteMembers:"_2oacOj0xSvMCwH",members:"_3yuwOXh05Lj8Db",membersScroller:"_1YJjoNHEkgEe-c",member:"_2zQS3Uq1jRJl7Y",nameAndAvatar:"_2ETQA3HJxWaqV-",avatar:"_2efNj2NyMT1l5O",name:"_1np8BrrzskfUG1",memberHover:"lbzSZGMm-F5nJX",memberCheckbox:"_1VQ0zEiVkidE6g"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/TeamlessCollaborationPrompt/TeamlessCollaborationPrompt.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._38Xh1iSaWLQmoP img{height:115px;width:279px;border-radius:3px}._38Xh1iSaWLQmoP p{text-align:center;font-size:14px;line-height:20px;color:#5e6c84;padding-bottom:8px}.cHkZv48-0LnsYG{padding-top:15px;font-size:16px;line-height:20px;text-align:center;color:#000}._3feul24NrD66l8{margin-bottom:0;border-radius:3px}",""]),t.locals={createTeamPrompt:"_38Xh1iSaWLQmoP",createTeamTitle:"cHkZv48-0LnsYG",createTeamPromptContinueButton:"_3feul24NrD66l8"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptBanner.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1fEBhj-UvPpb5m{margin-bottom:16px;text-align:center}._1fEBhj-UvPpb5m header{margin-bottom:25px}._1fEBhj-UvPpb5m header h2{font-size:24px;line-height:28px;margin:0 0 12px}._1fEBhj-UvPpb5m header p{font-size:16px}._1fEBhj-UvPpb5m ._3DhK0Y16GdWbDP{display:flex;justify-content:center}._1fEBhj-UvPpb5m ._3DhK0Y16GdWbDP ._2UXv9aODhh-z-G{flex:0.25;padding:0 12px;box-sizing:border-box}._1fEBhj-UvPpb5m ._3DhK0Y16GdWbDP ._2UXv9aODhh-z-G img{max-width:112px;height:112px;margin-bottom:8px}._1fEBhj-UvPpb5m ._1P8a7USWLOyfwB{margin-bottom:20px}._1fEBhj-UvPpb5m a{border-radius:3px;color:#5e6c84;display:block;margin:2px 0;padding:6px 12px;position:relative;-webkit-user-select:none;user-select:none;transition-property:background-color,border-color,box-shadow;transition-duration:85ms;transition-timing-function:ease;margin:8px auto 10px;width:136px;text-align:center}._1fEBhj-UvPpb5m a:hover{background-color:rgba(9,30,66,.08);box-shadow:none;border:none;color:#172b4d}._1fEBhj-UvPpb5m a:active{background-color:#e4f0f6;box-shadow:none;border:none;color:#0079bf}._1fEBhj-UvPpb5m a:active .y16zQbccbIof-4{color:#0079bf}@media only screen and (max-width:750px),only screen and (min-width:751px) and (max-width:900px){._1fEBhj-UvPpb5m ._3DhK0Y16GdWbDP{display:block}._1fEBhj-UvPpb5m ._3DhK0Y16GdWbDP ._2UXv9aODhh-z-G{display:block;margin:0 auto;max-width:400px;width:100%}}",""]),t.locals={upgradePromptBanner:"_1fEBhj-UvPpb5m",features:"_3DhK0Y16GdWbDP",feature:"_2UXv9aODhh-z-G",epilogue:"_1P8a7USWLOyfwB","icon-sm":"y16zQbccbIof-4"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptButton.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._8RbxdseVV49R6m{border-radius:3px;box-sizing:border-box;display:inline-flex;overflow:hidden;padding:6px 12px 6px 6px;position:relative;text-decoration:none}.BhLk7hyE1L79ei{background:#eddbf4}.BhLk7hyE1L79ei:hover{background:#dfc0eb}.BhLk7hyE1L79ei .mF0y-rlipxpKvj{background:#89609e}.BhLk7hyE1L79ei ._3hOaPVUXoPh9lj{color:#fff}.BhLk7hyE1L79ei .SjSnrkndhUYwrg{color:#42526e}._3jzxIyxxHiYEAx{background:#89609e}._3jzxIyxxHiYEAx:hover{background:#583f68}._3jzxIyxxHiYEAx:hover ._3hOaPVUXoPh9lj{color:#583f68}._3jzxIyxxHiYEAx .mF0y-rlipxpKvj{background:#fff}._3jzxIyxxHiYEAx ._3hOaPVUXoPh9lj{color:#89609e}._3jzxIyxxHiYEAx .SjSnrkndhUYwrg{color:#fff}.mF0y-rlipxpKvj{border-radius:2px;height:20px;margin-right:8px;width:20px}._22GuzMUR-IlR-Z{width:100%;display:flex;justify-content:center}",""]),t.locals={upgradePromptButton:"_8RbxdseVV49R6m",upgradePromptButtonLightTheme:"BhLk7hyE1L79ei",upgradePromptButtonIconBackground:"mF0y-rlipxpKvj",upgradePromptButtonIcon:"_3hOaPVUXoPh9lj",upgradePromptButtonCTA:"SjSnrkndhUYwrg",upgradePromptButtonDarkTheme:"_3jzxIyxxHiYEAx",upgradePromptFitContainer:"_22GuzMUR-IlR-Z"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptFull.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".YbF3JXQH2gXlsC{box-shadow:0 1px 1px rgba(9,30,66,.25),0 0 0 1px rgba(9,30,66,.08);padding-left:16px;padding-right:16px;overflow:hidden;position:relative;width:100%;box-sizing:border-box;border-radius:3px;transition:background .3s ease;text-rendering:geometricPrecision}.YbF3JXQH2gXlsC ._3CD8BA2QQVCNAM{text-decoration:underline}._1Mrj74Dt-jrz_K{background:#fff}._1Mrj74Dt-jrz_K ._2xNMNaE5Gc204_{color:#172b4d}._1Mrj74Dt-jrz_K ._-9pGlm2xfXwHs4{color:#6b778c}._1Mrj74Dt-jrz_K ._3CD8BA2QQVCNAM{color:#5e6c84}._1Mrj74Dt-jrz_K ._3CD8BA2QQVCNAM:hover{background-color:transparent;color:#172b4d}._1Mrj74Dt-jrz_K .fkZ0vkuH1V3vBu{color:#fff}._1Mrj74Dt-jrz_K ._3YSrt64LQGxMmX{background:#89609e}._1Mrj74Dt-jrz_K .wMzUsJpeaxp7fH{background:rgba(9,30,66,.04)}._1Mrj74Dt-jrz_K .mEHOJHTJV5iMw5:hover{background-color:#f4f5f7}._2kOLCbYadB51ca{background:#6c547b}._2kOLCbYadB51ca ._2xNMNaE5Gc204_{color:#fff}._2kOLCbYadB51ca ._-9pGlm2xfXwHs4{color:#8fdfeb}._2kOLCbYadB51ca ._3CD8BA2QQVCNAM{color:#fff}._2kOLCbYadB51ca .fkZ0vkuH1V3vBu{color:#6c547b}._2kOLCbYadB51ca ._3YSrt64LQGxMmX{background:#fff}._2kOLCbYadB51ca .wMzUsJpeaxp7fH{background:hsla(0,0%,100%,.1)}._2kOLCbYadB51ca .mEHOJHTJV5iMw5:hover{background:#583f68}._2xNMNaE5Gc204_{color:#172b4d;font-size:14px;font-weight:600;letter-spacing:-.003em;line-height:16px;margin-top:16px;margin-bottom:8px}._-9pGlm2xfXwHs4{margin-bottom:16px}.fkZ0vkuH1V3vBu{width:26px;height:26px;font-size:22px;line-height:24px}._3YSrt64LQGxMmX{position:absolute;bottom:8px;right:8px;width:26px;height:26px;border-radius:3px;z-index:2}.wMzUsJpeaxp7fH{position:absolute;bottom:-64px;right:-28px;width:120px;height:80px;border-radius:12px;z-index:1;transform:rotate(-50deg)}._3CD8BA2QQVCNAM{margin-bottom:16px;display:inline-block;padding:0;background:transparent}._3CD8BA2QQVCNAM:focus{outline:1px dotted #000}@media screen and (-webkit-min-device-pixel-ratio:0){._3CD8BA2QQVCNAM:focus{outline:5px auto -webkit-focus-ring-color}}._3CD8BA2QQVCNAM:active,._3CD8BA2QQVCNAM:hover{background-color:transparent}.mEHOJHTJV5iMw5{position:absolute;top:8px;right:8px;background:none;padding:4px;margin:0;border:0;width:22px;height:22px;display:flex}._1K0LqnoX4a7pZj{color:#a5adba;line-height:14px;margin-left:-1px}",""]),t.locals={upgradePromptFull:"YbF3JXQH2gXlsC",upgradePromptFullCTA:"_3CD8BA2QQVCNAM",upgradePromptFullLightTheme:"_1Mrj74Dt-jrz_K",upgradePromptFullHeadline:"_2xNMNaE5Gc204_",upgradePromptFullContent:"_-9pGlm2xfXwHs4",upgradePromptFullIcon:"fkZ0vkuH1V3vBu",upgradePromptFullIconBackground:"_3YSrt64LQGxMmX",upgradePromptFullIconClippedBackground:"wMzUsJpeaxp7fH",upgradePromptFullCloseButtonWrapper:"mEHOJHTJV5iMw5",upgradePromptFullDarkTheme:"_2kOLCbYadB51ca",upgradePromptFullCloseButton:"_1K0LqnoX4a7pZj"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptFullBase.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3yAElQd0GLZQ7K{width:100%;border-radius:3px;height:60px;animation:_3NfwqyO3_GyP3I 2s infinite}@keyframes _3NfwqyO3_GyP3I{0%{background-color:#f4f5f7}50%{background-color:#ebecf0}to{background-color:#dfe1e6}}._1rk3TDAaU81_Ii{box-shadow:0 1px 1px rgba(9,30,66,.25),0 0 0 1px rgba(9,30,66,.08);padding-left:16px;padding-right:16px;overflow:hidden;position:relative;width:100%;box-sizing:border-box;border-radius:3px;transition:background .3s ease;text-rendering:geometricPrecision}.V6AzWH4E8HBPZX{background:#fff}.V6AzWH4E8HBPZX ._3Cnio1oR4iJKRE{color:#172b4d}.V6AzWH4E8HBPZX ._3Uplc-pCxrlRyl{color:#6b778c}.V6AzWH4E8HBPZX ._3aM7hAccVA2vmN{color:#fff}.V6AzWH4E8HBPZX .k9UvWenTsfCELV{background:#89609e}.V6AzWH4E8HBPZX .bUcOdikdfVj-0U{background:rgba(9,30,66,.04)}.V6AzWH4E8HBPZX ._3pJ-SI7UWvwzAF:hover{background-color:#f4f5f7}._3BALbHgNWTvWKk{background:#6c547b}._3BALbHgNWTvWKk ._3Cnio1oR4iJKRE{color:#fff}._3BALbHgNWTvWKk ._3Uplc-pCxrlRyl{color:#8fdfeb}._3BALbHgNWTvWKk ._3aM7hAccVA2vmN{color:#6c547b}._3BALbHgNWTvWKk .k9UvWenTsfCELV{background:#fff}._3BALbHgNWTvWKk .bUcOdikdfVj-0U{background:hsla(0,0%,100%,.1)}._3BALbHgNWTvWKk ._3pJ-SI7UWvwzAF:hover{background:#583f68}._3Cnio1oR4iJKRE{color:#172b4d;font-size:14px;font-weight:600;letter-spacing:-.003em;line-height:16px;margin-top:16px;margin-bottom:8px}._3Uplc-pCxrlRyl{margin-bottom:16px}._3aM7hAccVA2vmN{width:26px;height:26px;font-size:22px;line-height:24px}.k9UvWenTsfCELV{position:absolute;bottom:8px;right:8px;width:26px;height:26px;border-radius:3px;z-index:2}.bUcOdikdfVj-0U{position:absolute;bottom:-64px;right:-28px;width:120px;height:80px;border-radius:12px;z-index:1;transform:rotate(-50deg)}._3pJ-SI7UWvwzAF{position:absolute;top:8px;right:8px;background:none;padding:4px;margin:0;border:0;width:22px;height:22px;display:flex}._9plRmEW19jh9xU{color:#a5adba;line-height:14px;margin-left:-1px}",""]),t.locals={animation:"_3yAElQd0GLZQ7K",pulse:"_3NfwqyO3_GyP3I",upgradePromptFull:"_1rk3TDAaU81_Ii",upgradePromptFullLightTheme:"V6AzWH4E8HBPZX",upgradePromptFullHeadline:"_3Cnio1oR4iJKRE",upgradePromptFullContent:"_3Uplc-pCxrlRyl",upgradePromptFullIcon:"_3aM7hAccVA2vmN",upgradePromptFullIconBackground:"k9UvWenTsfCELV",upgradePromptFullIconClippedBackground:"bUcOdikdfVj-0U",upgradePromptFullCloseButtonWrapper:"_3pJ-SI7UWvwzAF",upgradePromptFullDarkTheme:"_3BALbHgNWTvWKk",upgradePromptFullCloseButton:"_9plRmEW19jh9xU"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptPill.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".D8PrIBfVHLaC1G{display:inline-flex;border-radius:3px;font-size:12px;padding:4px;text-decoration:none;line-height:12px;margin-bottom:0}._39vNpql8O9h5co{width:12px;height:12px;margin-right:4px;line-height:12px;font-size:14px}._1xgAps5V3J3WWx{background-color:#eddbf4}._1xgAps5V3J3WWx ._39vNpql8O9h5co{color:#89609e}._1xgAps5V3J3WWx ._17EaYJuwhiq6Dy{color:#42526e}._1xgAps5V3J3WWx:hover{background-color:#dfc0eb}.fo3ROqdZZNdBSw{background-color:#89609e}.fo3ROqdZZNdBSw ._17EaYJuwhiq6Dy,.fo3ROqdZZNdBSw ._39vNpql8O9h5co{color:#fff}.fo3ROqdZZNdBSw:hover{background-color:#583f68}",""]),t.locals={upgradePromptPill:"D8PrIBfVHLaC1G",upgradePromptPillIcon:"_39vNpql8O9h5co",upgradeLightTheme:"_1xgAps5V3J3WWx",upgradePromptPillCTA:"_17EaYJuwhiq6Dy",upgradeDarkTheme:"fo3ROqdZZNdBSw"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptSettingsTab.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2UxKMNua2KSiL6{padding-top:8px;padding-right:8px;margin-bottom:0;color:#172b4d}._3fzsq9jEZYVCax{margin-left:24px}._3i3aIPvVcGa13r{position:absolute;left:-10px;top:10px;font-size:30px}.yXN9qZ4e4tA7WG{margin-top:0}",""]),t.locals={bcPromptHeader:"_2UxKMNua2KSiL6",settingItem:"_3fzsq9jEZYVCax",bcPromptSparkle:"_3i3aIPvVcGa13r",bcPromptUpgrade:"yXN9qZ4e4tA7WG"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradeSmartComponent.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".k4fHjDZIpOlJJ3{margin-bottom:16px;display:inline-block;padding:0;background:transparent;text-decoration:underline}.k4fHjDZIpOlJJ3:focus{outline:1px dotted #000}@media screen and (-webkit-min-device-pixel-ratio:0){.k4fHjDZIpOlJJ3:focus{outline:5px auto -webkit-focus-ring-color}}.k4fHjDZIpOlJJ3:active,.k4fHjDZIpOlJJ3:hover{background-color:transparent}._1HU4hZ1sEBp2QC{color:#5e6c84}._1HU4hZ1sEBp2QC:hover{background-color:transparent;color:#172b4d}._2_ySCHs3C0BxvV{color:#fff}",""]),t.locals={cta:"k4fHjDZIpOlJJ3",lightModeCta:"_1HU4hZ1sEBp2QC",darkModeCta:"_2_ySCHs3C0BxvV"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/BoardMemberRestrictionAlert.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".u1Vu5mfX6rvQX7{word-break:break-word}._1RXuPFQtuwFCtA{margin-top:8px}.xjDHW09-9u6lTu{margin-bottom:0}._3troIIxi_a1hqB{word-break:break-word}",""]),t.locals={boardMemberRestrictionAlertMessaging:"u1Vu5mfX6rvQX7",boardMemberRestrictionAlertConfirmButton:"_1RXuPFQtuwFCtA",boardMemberRestrictionAlertCancelButton:"xjDHW09-9u6lTu",boardMemberRestrictionAlertMembers:"_3troIIxi_a1hqB"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/BoardVisibilityRestrictionAlert.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".CzgYfRRMlERKpe{cursor:pointer;margin:0 -12px;padding:4px 12px}.CzgYfRRMlERKpe:hover{background-color:#f4f5f7}._2JxGvjj_Uq0A0H{color:#a5adba}._2JxGvjj_Uq0A0H:hover{background-color:inherit}.CzgYfRRMlERKpe._2JxGvjj_Uq0A0H{cursor:not-allowed}._2JxGvjj_Uq0A0H ._3eguofGPxklNDb{color:#a5adba}._3JWcb2DQedjEve{font-size:12px;margin:0}._39vHcAGvNhCSRc{color:#eb5a46}",""]),t.locals={boardVisibilityOption:"CzgYfRRMlERKpe",boardVisibilityOptionDisabled:"_2JxGvjj_Uq0A0H",boardVisibilityIcon:"_3eguofGPxklNDb",boardVisibilityOptionDescription:"_3JWcb2DQedjEve",boardVisibilityDisabledMessaging:"_39vHcAGvNhCSRc"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/NewBillableGuestsAlert.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2k2zJfwZUVqMkH{margin-top:8px}._1Nc04Bo7h06bHM,._2k2zJfwZUVqMkH{text-align:center}._1Nc04Bo7h06bHM{margin-bottom:16px}._1rlm1GWXa4A6Dy{margin-bottom:0}",""]),t.locals={newBillableGuestsAlertHeadline:"_2k2zJfwZUVqMkH",newBillableGuestsAlertMessaging:"_1Nc04Bo7h06bHM",newBillableGuestsAlertSubmitButton:"_1rlm1GWXa4A6Dy"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/WorkspacesPreambleBoardHeaderButton.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._39NB3aTivewkqd img{height:140px;width:280px;border-radius:3px}._39NB3aTivewkqd p{text-align:center;font-size:14px;line-height:20px;color:#5e6c84;padding-bottom:8px}.tgKieSz3YDD6s-{padding-top:15px;font-size:16px;line-height:20px;text-align:center;color:#000}._3SvvsS-c9gw_yG{margin-bottom:0;border-radius:3px}",""]),t.locals={workspacesPreambleBoardHeaderButtonIntro:"_39NB3aTivewkqd",workspacesPreambleBoardHeaderButtonIntroTitle:"tgKieSz3YDD6s-",workspacesPreambleBoardHeaderButtonContinueButton:"_3SvvsS-c9gw_yG"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/WorkspacesPreambleBoardInviteButton.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1N1zI2BgoVAX-l img{height:140px;width:280px;border-radius:3px}._1N1zI2BgoVAX-l p{text-align:center;font-size:14px;line-height:20px;color:#5e6c84;padding-bottom:8px}._2_VA3TgQs82Iwl{padding-top:15px;font-size:16px;line-height:20px;text-align:center;color:#000}._2D4A_C1TWeTpJw{margin-bottom:0;border-radius:3px}",""]),t.locals={workspacesPreamblePromptInviteIntro:"_1N1zI2BgoVAX-l",workspacesPreamblePromptInviteIntroTitle:"_2_VA3TgQs82Iwl",workspacesPreamblePromptInviteIntroContinueButton:"_2D4A_C1TWeTpJw"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/WorkspacesPreambleBoardMemberList.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._12ruPrqAybvTsA{padding-top:8px}._12ruPrqAybvTsA label{font-style:normal;font-weight:400;font-size:14px;line-height:20px;margin:0;cursor:pointer}._12ruPrqAybvTsA button{font-size:12px;line-height:16px;-webkit-text-decoration-line:underline;text-decoration-line:underline;color:#0079bf;padding:0;background:none;margin:0 0 16px 24px}._12ruPrqAybvTsA button:focus{outline:1px dotted #000}@media screen and (-webkit-min-device-pixel-ratio:0){._12ruPrqAybvTsA button:focus{outline:5px auto -webkit-focus-ring-color}}._22OTn9wMpyuM-m{padding-left:24px}._22OTn9wMpyuM-m ._27nxKSoa7zvT26{overflow:auto;max-height:100%;padding-right:8px}._22OTn9wMpyuM-m .ZKLtcQRl4TCkyY{display:flex;align-items:center;border-top:1px solid rgba(9,30,66,.08);border-bottom:1px solid rgba(9,30,66,.08);padding:6px 0 6px 3px;box-sizing:border-box;cursor:pointer}._22OTn9wMpyuM-m .ZKLtcQRl4TCkyY:first-child,._22OTn9wMpyuM-m .ZKLtcQRl4TCkyY:last-child{border:none;padding:8px 0 8px 3px}._22OTn9wMpyuM-m .ZKLtcQRl4TCkyY div,._22OTn9wMpyuM-m .ZKLtcQRl4TCkyY input,._22OTn9wMpyuM-m .ZKLtcQRl4TCkyY label,._22OTn9wMpyuM-m .ZKLtcQRl4TCkyY span{cursor:pointer}._22OTn9wMpyuM-m .ZKLtcQRl4TCkyY ._1svQrr86Souh3m{display:flex;flex-grow:1;align-items:center;font-size:12px;line-height:16px;padding-right:8px;overflow:hidden}._22OTn9wMpyuM-m .ZKLtcQRl4TCkyY ._1svQrr86Souh3m .LAT1P1MAzBW22Y{margin-right:8px;flex:0 0 20px}._22OTn9wMpyuM-m .ZKLtcQRl4TCkyY ._1svQrr86Souh3m .D1ZpigdfadVZpN{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}._22OTn9wMpyuM-m ._18uacCVEgFerGW,._22OTn9wMpyuM-m .ZKLtcQRl4TCkyY:hover{border:none;border-radius:3px;background-color:rgba(9,30,66,.08);padding:7px 0 7px 3px}._22OTn9wMpyuM-m ._18uacCVEgFerGW:first-child,._22OTn9wMpyuM-m ._18uacCVEgFerGW:last-child,._22OTn9wMpyuM-m .ZKLtcQRl4TCkyY:hover:first-child,._22OTn9wMpyuM-m .ZKLtcQRl4TCkyY:hover:last-child{padding:8px 0 8px 3px}._2DMF3QqAMZ_lQJ{margin-top:-3px}",""]),t.locals={inviteMembers:"_12ruPrqAybvTsA",members:"_22OTn9wMpyuM-m",membersScroller:"_27nxKSoa7zvT26",member:"ZKLtcQRl4TCkyY",nameAndAvatar:"_1svQrr86Souh3m",avatar:"LAT1P1MAzBW22Y",name:"D1ZpigdfadVZpN",memberHover:"_18uacCVEgFerGW",memberCheckbox:"_2DMF3QqAMZ_lQJ"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/WorkspacesPreambleCreateTeam.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".IHqc1QGp3HQPfF ._6XszeBH00nGVni{width:100%;margin-bottom:8px}._3KQHSTrtmaNJqU{margin-top:8px;margin-bottom:0}",""]),t.locals={createTeam:"IHqc1QGp3HQPfF",createTeamInput:"_6XszeBH00nGVni",createTeamButton:"_3KQHSTrtmaNJqU"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/WorkspacesPreambleSelectTeam.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3k_0NQjo7LdE63{margin-top:8px;margin-bottom:0}",""]),t.locals={selectTeamSubmitButton:"_3k_0NQjo7LdE63"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/nachos/src/components/Checkbox/Checkbox.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,'.Jrcvjpyp1hfScV{color:#172b4d;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:14px;line-height:20px;font-weight:400;outline:none;border:none;position:relative}.Jrcvjpyp1hfScV input[type=checkbox]:disabled{cursor:not-allowed}._12KOvNw0rx407A{padding-top:6px;padding-bottom:6px;padding-left:24px}._2yJ0IIKFZ_kLxL,._12KOvNw0rx407A{color:#172b4d;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:14px;line-height:20px;font-weight:400}._2yJ0IIKFZ_kLxL{outline:none;border:none;position:relative;display:flex}._2yJ0IIKFZ_kLxL input[type=checkbox]{position:absolute;top:0;left:0;opacity:0;margin:0}._2yJ0IIKFZ_kLxL input[type=checkbox]+._12KOvNw0rx407A:before{background-color:#fafbfc;box-shadow:inset 0 0 0 2px #dfe1e6;position:absolute;top:8px;left:0;content:"";border-radius:2px;height:16px;width:16px;overflow:hidden;white-space:nowrap;transition:all .2s ease-in-out}._2yJ0IIKFZ_kLxL input[type=checkbox]+._12KOvNw0rx407A:after{content:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="transparent"><path d="M1.49 3.215a.667.667 0 0 0-.98.903l2.408 2.613c.358.351.892.351 1.223.02l.243-.239a1689.645 1689.645 0 0 0 2.625-2.589l.027-.026a328.23 328.23 0 0 0 2.439-2.429.667.667 0 1 0-.95-.936c-.469.476-1.314 1.316-2.426 2.417l-.027.026a1368.126 1368.126 0 0 1-2.517 2.482L1.49 3.215z"/></svg>\');position:absolute;top:12px;left:3px;opacity:0;height:16px;width:16px}._2yJ0IIKFZ_kLxL input[type=checkbox]+._12KOvNw0rx407A:hover:before{background-color:#ebecf0;box-shadow:inset 0 0 0 2px #dfe1e6}._2yJ0IIKFZ_kLxL input[type=checkbox]+._12KOvNw0rx407A:focus:before{box-shadow:inset 0 0 0 2px #0079bf}._2yJ0IIKFZ_kLxL input[type=checkbox]+._12KOvNw0rx407A:active:before{background-color:#e4f0f6;box-shadow:inset 0 0 0 2px #e4f0f6}._2yJ0IIKFZ_kLxL input[type=checkbox]:checked+._12KOvNw0rx407A:before{background-color:#fafbfc;box-shadow:inset 0 0 0 2px #dfe1e6;background-color:#0079bf;box-shadow:inset 0 0 0 2px #0079bf;position:absolute;top:8px;left:0;content:"";border-radius:2px;height:16px;width:16px;overflow:hidden;white-space:nowrap;transition:all .2s ease-in-out}._2yJ0IIKFZ_kLxL input[type=checkbox]:checked+._12KOvNw0rx407A:after{content:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="transparent"><path d="M1.49 3.215a.667.667 0 0 0-.98.903l2.408 2.613c.358.351.892.351 1.223.02l.243-.239a1689.645 1689.645 0 0 0 2.625-2.589l.027-.026a328.23 328.23 0 0 0 2.439-2.429.667.667 0 1 0-.95-.936c-.469.476-1.314 1.316-2.426 2.417l-.027.026a1368.126 1368.126 0 0 1-2.517 2.482L1.49 3.215z"/></svg>\');position:absolute;top:12px;left:3px;opacity:0;height:16px;width:16px;opacity:1;content:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'16\' height=\'16\' fill=\'%23FFF\'%3E%3Cpath d=\'M1.49 3.215a.667.667 0 0 0-.98.903l2.408 2.613c.358.351.892.351 1.223.02l.243-.239a1689.645 1689.645 0 0 0 2.625-2.589l.027-.026a328.23 328.23 0 0 0 2.439-2.429.667.667 0 1 0-.95-.936c-.469.476-1.314 1.316-2.426 2.417l-.027.026a1368.126 1368.126 0 0 1-2.517 2.482L1.49 3.215z\'/%3E%3C/svg%3E")}._2yJ0IIKFZ_kLxL input[type=checkbox]:checked+._12KOvNw0rx407A:hover:before{background-color:#ebecf0;box-shadow:inset 0 0 0 2px #dfe1e6;background-color:#5ba4cf;box-shadow:inset 0 0 0 2px #5ba4cf}._2yJ0IIKFZ_kLxL input[type=checkbox]:checked+._12KOvNw0rx407A:focus:before{box-shadow:inset 0 0 0 2px #0079bf}._2yJ0IIKFZ_kLxL input[type=checkbox]:checked+._12KOvNw0rx407A:active:before{background-color:#e4f0f6;box-shadow:inset 0 0 0 2px #e4f0f6}._2yJ0IIKFZ_kLxL input[type=checkbox]:checked+._12KOvNw0rx407A:active:after{content:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="transparent"><path d="M1.49 3.215a.667.667 0 0 0-.98.903l2.408 2.613c.358.351.892.351 1.223.02l.243-.239a1689.645 1689.645 0 0 0 2.625-2.589l.027-.026a328.23 328.23 0 0 0 2.439-2.429.667.667 0 1 0-.95-.936c-.469.476-1.314 1.316-2.426 2.417l-.027.026a1368.126 1368.126 0 0 1-2.517 2.482L1.49 3.215z"/></svg>\');position:absolute;top:12px;left:3px;opacity:0;height:16px;width:16px;opacity:1;content:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'16\' height=\'16\' fill=\'%230079BF\'%3E%3Cpath d=\'M1.49 3.215a.667.667 0 0 0-.98.903l2.408 2.613c.358.351.892.351 1.223.02l.243-.239a1689.645 1689.645 0 0 0 2.625-2.589l.027-.026a328.23 328.23 0 0 0 2.439-2.429.667.667 0 1 0-.95-.936c-.469.476-1.314 1.316-2.426 2.417l-.027.026a1368.126 1368.126 0 0 1-2.517 2.482L1.49 3.215z\'/%3E%3C/svg%3E")}._2yJ0IIKFZ_kLxL input[type=checkbox]:disabled+._12KOvNw0rx407A:active:before,._2yJ0IIKFZ_kLxL input[type=checkbox]:disabled+._12KOvNw0rx407A:before,._2yJ0IIKFZ_kLxL input[type=checkbox]:disabled+._12KOvNw0rx407A:focus:before,._2yJ0IIKFZ_kLxL input[type=checkbox]:disabled+._12KOvNw0rx407A:hover:before{background-color:#fafbfc;box-shadow:inset 0 0 0 2px #dfe1e6;background-color:#f4f5f7;box-shadow:inset 0 0 0 2px #f4f5f7;position:absolute;top:8px;left:0;content:"";border-radius:2px;height:16px;width:16px;overflow:hidden;white-space:nowrap;transition:all .2s ease-in-out}._2yJ0IIKFZ_kLxL input[type=checkbox]:disabled:checked+._12KOvNw0rx407A:after{content:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="transparent"><path d="M1.49 3.215a.667.667 0 0 0-.98.903l2.408 2.613c.358.351.892.351 1.223.02l.243-.239a1689.645 1689.645 0 0 0 2.625-2.589l.027-.026a328.23 328.23 0 0 0 2.439-2.429.667.667 0 1 0-.95-.936c-.469.476-1.314 1.316-2.426 2.417l-.027.026a1368.126 1368.126 0 0 1-2.517 2.482L1.49 3.215z"/></svg>\');position:absolute;top:12px;left:3px;opacity:0;height:16px;width:16px;opacity:1;content:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'16\' height=\'16\' fill=\'%23A5ADBA\'%3E%3Cpath d=\'M1.49 3.215a.667.667 0 0 0-.98.903l2.408 2.613c.358.351.892.351 1.223.02l.243-.239a1689.645 1689.645 0 0 0 2.625-2.589l.027-.026a328.23 328.23 0 0 0 2.439-2.429.667.667 0 1 0-.95-.936c-.469.476-1.314 1.316-2.426 2.417l-.027.026a1368.126 1368.126 0 0 1-2.517 2.482L1.49 3.215z\'/%3E%3C/svg%3E")}._2yJ0IIKFZ_kLxL input[type=checkbox]:required:not(:checked)+._12KOvNw0rx407A:before{background-color:#fafbfc;box-shadow:inset 0 0 0 2px #dfe1e6;box-shadow:inset 0 0 0 2px #eb5a46;position:absolute;top:8px;left:0;content:"";border-radius:2px;height:16px;width:16px;overflow:hidden;white-space:nowrap;transition:all .2s ease-in-out}',""]),t.locals={"nch-checkbox":"Jrcvjpyp1hfScV","nch-checkbox__label":"_12KOvNw0rx407A","nch-checkbox--static":"_2yJ0IIKFZ_kLxL"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/nachos/src/components/List/List.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2XUnC-GKb6UkpG{color:#172b4d;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:14px;line-height:20px;font-weight:400;cursor:pointer;padding:0;margin:0}._2XUnC-GKb6UkpG,._2XUnC-GKb6UkpG li,._38pq5NbRWAG39y{list-style-type:none}._38pq5NbRWAG39y{padding:6px 12px}._38pq5NbRWAG39y:hover{background-color:rgba(9,30,66,.04)}._38pq5NbRWAG39y:active{background-color:#e4f0f6}.I2WBX22XhJYhvT{color:#172b4d;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:14px;line-height:20px;font-weight:400;cursor:pointer;display:grid;grid-template-rows:1fr;grid-template-columns:1fr;grid-auto-columns:44px;grid-auto-flow:column;min-height:48px}.I2WBX22XhJYhvT:hover{background-color:rgba(9,30,66,.04)}.I2WBX22XhJYhvT:active{background-color:#e4f0f6}._2DNNgL-8Twpnyf{margin:auto 0 auto auto;grid-column-end:1}._1CTfRY17GWJSii{padding:6px 12px}.WDaxXXrS7crTKz{font-size:12px;line-height:16px;color:#5e6c84}.t50cODzF7KObcp{color:#fff}._1VniUx1gUK2kyV{color:#172b4d;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:14px;line-height:20px;font-weight:400;cursor:pointer;list-style-type:none;padding:0;margin:0}._1VniUx1gUK2kyV li{list-style-type:none;padding:6px 12px}._1VniUx1gUK2kyV li:hover{background-color:rgba(9,30,66,.04)}._1VniUx1gUK2kyV li:active{background-color:#e4f0f6}",""]),t.locals={"nch-list":"_2XUnC-GKb6UkpG","nch-list__item":"_38pq5NbRWAG39y","nch-list__cell":"I2WBX22XhJYhvT","nch-list__cell-image":"_2DNNgL-8Twpnyf","nch-list__cell-content":"_1CTfRY17GWJSii","nch-list__cell-meta":"WDaxXXrS7crTKz","nch-list__cell-meta--selected":"t50cODzF7KObcp","nch-list--static":"_1VniUx1gUK2kyV"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/nachos/src/components/Select/Select.less":function(e,t,n){var r=n("./node_modules/css-loader/lib/url/escape.js");(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1E5X2RKu9Rucv2{color:#172b4d;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:14px;line-height:20px;font-weight:400}._1E5X2RKu9Rucv2:focus{outline:none}._1T1MG_BX1zeaq8{min-height:36px;background-color:#fafbfc;box-shadow:inset 0 0 0 2px #dfe1e6;border-radius:3px;-webkit-appearance:none;border:none;width:100%;padding-left:12px;background:#fafbfc url("+r(n("./packages/nachos/src/components/Select/images/icon-chevron-down.svg"))+") no-repeat;background-size:20px;background-position:right 8px center}._1T1MG_BX1zeaq8:hover{background-color:#ebecf0;cursor:pointer}._3VuyTzxJvL9fnY,._3VuyTzxJvL9fnY:hover{background-color:#fff;box-shadow:inset 0 0 0 2px #0079bf}._17oKwiCho39YzQ{box-shadow:0 4px 8px -2px rgba(9,30,66,.25),0 0 0 1px rgba(9,30,66,.08)}._11O9PMdHE0te2R{background-color:#e4f0f6}._3mmTa26C7TsBuF._1Qv4GU0xuPVnrX{color:#a5adba;pointer-events:none}._8BuraJ5qA9us6k,._8BuraJ5qA9us6k:active,._8BuraJ5qA9us6k:hover,._8BuraJ5qA9us6k li,._8BuraJ5qA9us6k li:active{color:#fff;background-color:#172b4d}._2jWrEGE8usKp9N{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-weight:400;color:#172b4d;font-size:14px;margin-bottom:2px}._2jWrEGE8usKp9N,._3BTdRu8Ie4X0Jd{line-height:20px;font-weight:700;display:block}._3BTdRu8Ie4X0Jd{font-size:16px;text-overflow:ellipsis}._2CsKG3pbuiDMf7{color:#172b4d;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:14px;line-height:20px;font-weight:400;min-height:36px;background-color:#fafbfc;box-shadow:inset 0 0 0 2px #dfe1e6;border-radius:3px;-webkit-appearance:none;border:none;width:100%;padding-left:12px;background:#fafbfc url("+r(n("./packages/nachos/src/components/Select/images/icon-chevron-down.svg"))+") no-repeat;background-size:20px;background-position:right 8px center}._2CsKG3pbuiDMf7:focus{outline:none}._2CsKG3pbuiDMf7:hover{background-color:#ebecf0;cursor:pointer}._2CsKG3pbuiDMf7:focus{background-color:#fff;box-shadow:inset 0 0 0 2px #0079bf}",""]),t.locals={"nch-select":"_1E5X2RKu9Rucv2","nch-select__control":"_1T1MG_BX1zeaq8","nch-select__control--focus":"_3VuyTzxJvL9fnY","nch-select__menu":"_17oKwiCho39YzQ","nch-select__option--active":"_11O9PMdHE0te2R","nch-select__option":"_3mmTa26C7TsBuF","nch-select__option--disabled":"_1Qv4GU0xuPVnrX","nch-select__option--selected":"_8BuraJ5qA9us6k","nch-select__label":"_2jWrEGE8usKp9N","nch-select__val":"_3BTdRu8Ie4X0Jd","nch-select--static":"_2CsKG3pbuiDMf7"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/trello-canonical-components/src/avatar/Avatar.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._24AWINHReYjNBf{align-items:center;background-color:#dfe1e6;background-position:50%;background-repeat:no-repeat;background-size:cover;border:0;border-radius:100%;box-sizing:border-box;color:#172b4d;display:inline-flex;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:12px;font-weight:700;justify-content:center;line-height:28px;opacity:1;height:28px;width:28px;overflow:hidden;white-space:nowrap}._24AWINHReYjNBf._3cImyX2kTlgxxi{background-color:#f4f5f7;color:#6b778c}._24AWINHReYjNBf._1BOFNoyaspEBu6{background-color:#dfe1e6;border:1px solid #dfe1e6}._24AWINHReYjNBf._1BOFNoyaspEBu6._3cImyX2kTlgxxi{background-color:#ebecf0}._24AWINHReYjNBf._1I-6Yi0Ntb9U5F{max-width:128px;max-height:128px}._3pnKfi0FcRvKSs ._24AWINHReYjNBf{margin-left:4px;margin-top:4px;float:right}.gane1tbb2Vu40u ._24AWINHReYjNBf{align-self:flex-start;flex:0 0 auto}",""]),t.locals={avatar:"_24AWINHReYjNBf",deactivated:"_3cImyX2kTlgxxi",lightBackground:"_1BOFNoyaspEBu6",atlassianAccount:"_1I-6Yi0Ntb9U5F",cardFront:"_3pnKfi0FcRvKSs",detailHeader:"gane1tbb2Vu40u"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/trello-canonical-components/src/board-card/ActionPanel.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1gYEfDaU8J_w3O{border-bottom:1px solid #dfe1e6;padding:8px;text-align:left}._1gYEfDaU8J_w3O._1gtHda9ScK4htn{padding:4px}._1gYEfDaU8J_w3O._556A8OAIng0Yer{text-align:right}._1gYEfDaU8J_w3O *{vertical-align:middle}._1OEQCG3mmMvXYA{background-color:#ebecf0;border-radius:3px;border:1px solid #dfe1e6}._1OEQCG3mmMvXYA .AWXm0d_cAeWEqd{border:none}._1OEQCG3mmMvXYA ._1gYEfDaU8J_w3O:last-child{border-bottom:none}._1eGfl2XXUFX9_4 ._1OEQCG3mmMvXYA{border-radius:0;border-top:0}._2LOiImrmjA16_u{display:flex;justify-content:space-between;margin-right:0;padding:0 8px}._2LOiImrmjA16_u._1MC8kqDMPoE4O3{justify-content:flex-start}._2LOiImrmjA16_u._1MC8kqDMPoE4O3 .NWqcbUHmr3HboX{margin-right:16px}.NWqcbUHmr3HboX{background-color:transparent;border:none;color:#172b4d;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:12px;height:16px;letter-spacing:-.3px;line-height:1.33;padding:0;text-align:center}._1tXZcITUQgQs7W{line-height:16px;margin-left:4px;vertical-align:middle}._3mtBj9gkLV74FA{display:inline-block;vertical-align:top}._3mtBj9gkLV74FA svg{height:16px;width:16px}._20--e0wrIU3viw{border-radius:3px;box-sizing:border-box;color:#172b4d;font-size:14px;height:24px;letter-spacing:-.3px;line-height:1.14;padding:0 8px}._20--e0wrIU3viw::-webkit-input-placeholder{color:#6b778c}._20--e0wrIU3viw::placeholder{color:#6b778c}",""]),t.locals={actionPanelRow:"_1gYEfDaU8J_w3O",slim:"_1gtHda9ScK4htn",alignRight:"_556A8OAIng0Yer",actionPanel:"_1OEQCG3mmMvXYA",hideBorder:"AWXm0d_cAeWEqd",boardCard:"_1eGfl2XXUFX9_4",actionButtons:"_2LOiImrmjA16_u",alignStart:"_1MC8kqDMPoE4O3",actionButton:"NWqcbUHmr3HboX",actionButtonLabel:"_1tXZcITUQgQs7W",icon:"_3mtBj9gkLV74FA",actionInput:"_20--e0wrIU3viw"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/trello-canonical-components/src/board-card/BoardCard.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2iPSqh1ET8Mdiv{background-position:bottom;background-size:cover;height:auto;padding:0}._2iPSqh1ET8Mdiv._2FYtNv91vusBZU{background-size:100% 40px,cover}._2iPSqh1ET8Mdiv ._1ZZoQ3WtmnsdUp{color:inherit}._3L9kq3U58MeQ4r ._2iPSqh1ET8Mdiv{width:auto;border-bottom-right-radius:0;border-bottom-left-radius:0}.-CqnFUXurbRKKW,.viNCQ95uuyQH_Z{font-weight:700}._2mkH4ELZ00arkF{font-weight:400}._1hYecqld8Zn7Er{display:inline-block;text-decoration:none;color:inherit}._1hYecqld8Zn7Er:hover{color:inherit;text-decoration:underline;cursor:pointer}._1ZZoQ3WtmnsdUp{display:flex;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:12px;height:16px;line-height:16px;letter-spacing:-.2px;padding:4px 8px}._1ZZoQ3WtmnsdUp._12lR2TzHscJyEZ{padding:8px}._1ZZoQ3WtmnsdUp ._2mkH4ELZ00arkF{flex:1}._1ZZoQ3WtmnsdUp .-CqnFUXurbRKKW,._1ZZoQ3WtmnsdUp ._2mkH4ELZ00arkF,._1ZZoQ3WtmnsdUp .viNCQ95uuyQH_Z{display:inline-block;font-size:inherit;height:100%;margin:0;overflow:hidden;position:relative;text-overflow:ellipsis;top:1px;white-space:nowrap}._2vl-kltjWE4evc{display:inline-block;height:0;height:16px;margin-right:8px;width:16px}.D_QIqEJLcWlgID{height:96px;padding:16px}._1QndlTGK-mQ6xb{background-color:#ebecf0;border-radius:100px;display:block;height:8px;position:relative}._1QndlTGK-mQ6xb._3-dmfo8rVthxrB{margin-bottom:8px;width:112px}._1QndlTGK-mQ6xb._23MPeMx_XYmN70{width:32px}",""]),t.locals={board:"_2iPSqh1ET8Mdiv",headerBgColor:"_2FYtNv91vusBZU",nameSection:"_1ZZoQ3WtmnsdUp",detailContainer:"_3L9kq3U58MeQ4r",boardName:"viNCQ95uuyQH_Z",teamName:"-CqnFUXurbRKKW",listName:"_2mkH4ELZ00arkF",nameUrl:"_1hYecqld8Zn7Er",displayLogo:"_12lR2TzHscJyEZ",trelloLogo:"_2vl-kltjWE4evc",placeholderBoard:"D_QIqEJLcWlgID",placeholderBar:"_1QndlTGK-mQ6xb",topPlaceholderBar:"_3-dmfo8rVthxrB",bottomPlaceholderBar:"_23MPeMx_XYmN70"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/trello-canonical-components/src/board/Board.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._34uBsr6N8mHUP1{background-color:#0079bf;background-image:none;background-repeat:no-repeat;background-size:cover;border:none;border-radius:3px;box-sizing:border-box;color:#172b4d;height:158px;overflow:hidden;padding:8px;width:248px}._34uBsr6N8mHUP1._1JM8tzI6T4PDVJ{background-color:rgba(9,30,66,.13)}._34uBsr6N8mHUP1 ._2-ma3_U7ja6h0v,._34uBsr6N8mHUP1 ._3Cski8IJp3Nwe8,._34uBsr6N8mHUP1 ._20wHrf_2c-B3r-{color:inherit}._34uBsr6N8mHUP1 .qQTASGK5eVs6KM{opacity:1}._1JM8tzI6T4PDVJ .qQTASGK5eVs6KM,._21CVj9LrI5-XoA .qQTASGK5eVs6KM{opacity:0}._1JM8tzI6T4PDVJ .ddGyhoHxJauR_5,._21CVj9LrI5-XoA .ddGyhoHxJauR_5{background-color:#ebecf0}._3Cski8IJp3Nwe8{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:14px;font-weight:700;margin:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}._3Cski8IJp3Nwe8~._2FCtOkuFjAEY9m{margin-top:8px}._3Cski8IJp3Nwe8~._20wHrf_2c-B3r-{margin-top:4px}._2FCtOkuFjAEY9m{white-space:nowrap}._2FCtOkuFjAEY9m .ddGyhoHxJauR_5{display:inline-block;margin-right:8px;vertical-align:top}._2FCtOkuFjAEY9m .ddGyhoHxJauR_5:last-child{margin-right:0}._20wHrf_2c-B3r-{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:12px;font-weight:400;margin:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}._2-ma3_U7ja6h0v{overflow:visible;text-overflow:clip;white-space:normal}.qQTASGK5eVs6KM{background-color:#fff;border-radius:2px;box-sizing:border-box;height:24px;opacity:.8}.ddGyhoHxJauR_5{background-color:#dfe1e6;border-radius:3px;box-sizing:border-box;width:40px;padding:4px 4px 16px}.ddGyhoHxJauR_5 .qQTASGK5eVs6KM{margin-bottom:4px}.ddGyhoHxJauR_5 .qQTASGK5eVs6KM:last-child{margin-bottom:0}._1otFYtt0pvD2a-{border-radius:100px;background-color:#fafbfc;display:block;height:8px;margin-bottom:16px;width:112px}",""]),t.locals={board:"_34uBsr6N8mHUP1",boardError:"_1JM8tzI6T4PDVJ",boardName:"_3Cski8IJp3Nwe8",teamName:"_20wHrf_2c-B3r-",errorMessage:"_2-ma3_U7ja6h0v",card:"qQTASGK5eVs6KM",boardLoading:"_21CVj9LrI5-XoA",list:"ddGyhoHxJauR_5",boardLists:"_2FCtOkuFjAEY9m",placeholderTopBar:"_1otFYtt0pvD2a-"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/trello-canonical-components/src/card-front/Badge.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1loVDSWsLhfe_k{display:flex}._3vWVhjKceliSH2{background-color:transparent;border-radius:3px;color:#6b778c;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:12px;font-weight:400;height:24px;line-height:24px;max-width:calc(100% - 16px);min-height:24px;overflow:hidden;padding:0 6px;text-overflow:ellipsis;vertical-align:top;white-space:nowrap}._3ckhypm1ocq4gn{align-items:center;display:flex;flex-shrink:0;height:24px;justify-content:center;width:16px}._3ckhypm1ocq4gn svg{height:16px;width:16px}.efjAjtO-U8uhw1{margin-left:4px}._21YN576zqCm3qo ._3vWVhjKceliSH2{margin-top:4px;margin-right:4px}._3vWVhjKceliSH2._3Bcdb9DE_wA61I{background-color:#e4f0f6;border-radius:3px;color:#172b4d}._3vWVhjKceliSH2._3Bcdb9DE_wA61I ._3ckhypm1ocq4gn{color:#172b4d}._3vWVhjKceliSH2._3wwejHZruQWGXS{color:#172b4d;background-color:rgba(9,30,66,.04)}._3vWVhjKceliSH2._3wwejHZruQWGXS:hover{background-color:rgba(9,30,66,.13)}._3vWVhjKceliSH2._3wwejHZruQWGXS:active{background-color:#e4f0f6}._3vWVhjKceliSH2._3wwejHZruQWGXS._3g_6yg5EhLdDlL{color:#172b4d;background-color:#f5dd29}._3vWVhjKceliSH2._3wwejHZruQWGXS._3g_6yg5EhLdDlL:hover{background-color:#f5ea92}._3vWVhjKceliSH2._3wwejHZruQWGXS._3g_6yg5EhLdDlL:active{background-color:#fdfae5}._3vWVhjKceliSH2._3wwejHZruQWGXS._3uIrHE6kNrA1Ab{color:#fff;background-color:#cf513d}._3vWVhjKceliSH2._3wwejHZruQWGXS._3uIrHE6kNrA1Ab:hover{background-color:#b04632}._3vWVhjKceliSH2._3wwejHZruQWGXS._3uIrHE6kNrA1Ab:active{background-color:#6e2f1a}._3vWVhjKceliSH2._3wwejHZruQWGXS._3JGtgUmif1mY8w{color:#172b4d;background-color:#fbedeb}._3vWVhjKceliSH2._3wwejHZruQWGXS._3JGtgUmif1mY8w:hover{background-color:#f5d3ce}._3vWVhjKceliSH2._3wwejHZruQWGXS._3JGtgUmif1mY8w:active{background-color:#efb3ab}._3vWVhjKceliSH2._3wwejHZruQWGXS.ZYltYJeqXL6Wuw{color:#fff;background-color:#61bd4f}._3vWVhjKceliSH2._3wwejHZruQWGXS.ZYltYJeqXL6Wuw:hover{background-color:#5aac44}._3vWVhjKceliSH2._3wwejHZruQWGXS.ZYltYJeqXL6Wuw:active{background-color:#519839}",""]),t.locals={flex:"_1loVDSWsLhfe_k",badge:"_3vWVhjKceliSH2",badgeIcon:"_3ckhypm1ocq4gn",badgeIconLabel:"efjAjtO-U8uhw1",cardFront:"_21YN576zqCm3qo",isTemplate:"_3Bcdb9DE_wA61I",dueDateBadge:"_3wwejHZruQWGXS",isDueSoon:"_3g_6yg5EhLdDlL",isDueNow:"_3uIrHE6kNrA1Ab",isPastDue:"_3JGtgUmif1mY8w",isComplete:"ZYltYJeqXL6Wuw"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/trello-canonical-components/src/card-front/Card.less":function(e,t,n){var r=n("./node_modules/css-loader/lib/url/escape.js");(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,'._2kkT-Lhc7Rnxuf{background-color:#fff;border-radius:3px;box-sizing:border-box;box-shadow:0 1px 0 0 rgba(9,30,66,.25);display:block;padding-bottom:6px;position:relative;overflow:hidden;width:232px}._1g3mGibhP05Mb2{min-height:56px}._1g3mGibhP05Mb2 ._3qyS0qUsS-VZpY{flex-direction:row;display:flex;background-color:unset;position:absolute;bottom:0}._1g3mGibhP05Mb2 ._2srAf0uqZ0j59O{position:absolute}._1g3mGibhP05Mb2 ._3QBjLLmwilsNyC,._1g3mGibhP05Mb2 ._36usP_bLNzWgNf,._1g3mGibhP05Mb2 .vEgRPGz1dle1D-{display:none}._1g3mGibhP05Mb2 .kbyD4YtX9f__Fj{font-size:16px;line-height:20px;margin-bottom:4px;font-weight:500;width:calc(100% - 16px);align-self:flex-end;margin-bottom:8px}._1g3mGibhP05Mb2.vr-Fywu4ZO842w{overflow:hidden}._1g3mGibhP05Mb2.vr-Fywu4ZO842w ._3qyS0qUsS-VZpY{overflow:visible;background:linear-gradient(180deg,hsla(0,0%,100%,.5),#fff)}._1g3mGibhP05Mb2.vr-Fywu4ZO842w ._3qyS0qUsS-VZpY:before{content:"";height:32px;width:100%;position:absolute;top:-32px;left:0;right:0;background:linear-gradient(180deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.5));mix-blend-mode:normal}._1g3mGibhP05Mb2.vr-Fywu4ZO842w.NGcXv6YajUr6IU ._3qyS0qUsS-VZpY{background:linear-gradient(180deg,rgba(0,0,0,.5),#000)}._1g3mGibhP05Mb2.vr-Fywu4ZO842w.NGcXv6YajUr6IU ._3qyS0qUsS-VZpY:before{background:linear-gradient(180deg,transparent,rgba(0,0,0,.5));mix-blend-mode:normal}._1g3mGibhP05Mb2.vr-Fywu4ZO842w._2N8af91h55q5Jk .kbyD4YtX9f__Fj{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}._1g3mGibhP05Mb2._2ofSoCdHi_7cwN{min-height:120px}._1g3mGibhP05Mb2.NGcXv6YajUr6IU .kbyD4YtX9f__Fj{color:#fff}._1g3mGibhP05Mb2.JtDyzAjXgExxJp{background-color:#5ba4cf}._1g3mGibhP05Mb2._3EjEOB7gHG4zTi{background-color:#7bc86c}._1g3mGibhP05Mb2._1F-iLO2BSaZGmW{background-color:#ffaf3f}._1g3mGibhP05Mb2._2bWIWSSGzD5LKE{background-color:#ef7564}._1g3mGibhP05Mb2.ShFQ65tNzEfWGv{background-color:#cd8de5}._1g3mGibhP05Mb2._28HG4tY337n-hy{background-color:#f5dd29}._1g3mGibhP05Mb2._3sLoTWiuMtqgWW{background-color:#ff8ed4}._1g3mGibhP05Mb2._3x5NO8jvXJzMVw{background-color:#29cce5}._1g3mGibhP05Mb2._3tYl_kERgjDO1Z{background-color:#6deca9}._1g3mGibhP05Mb2._2hhiQy0yDk4CkE{background-color:#172b4d}._1g3mGibhP05Mb2.mYDAf2l-C-65Bt ._3qyS0qUsS-VZpY{left:16px}._1g3mGibhP05Mb2.mYDAf2l-C-65Bt .kbyD4YtX9f__Fj{width:calc(100% - 32px)}._1g3mGibhP05Mb2:hover.JtDyzAjXgExxJp{background-color:#298fca}._1g3mGibhP05Mb2:hover._3EjEOB7gHG4zTi{background-color:#61bd4f}._1g3mGibhP05Mb2:hover._1F-iLO2BSaZGmW{background-color:#ff9f1a}._1g3mGibhP05Mb2:hover._2bWIWSSGzD5LKE{background-color:#eb5a46}._1g3mGibhP05Mb2:hover.ShFQ65tNzEfWGv{background-color:#c377e0}._1g3mGibhP05Mb2:hover._28HG4tY337n-hy{background-color:#f2d600}._1g3mGibhP05Mb2:hover._3sLoTWiuMtqgWW{background-color:#ff78cb}._1g3mGibhP05Mb2:hover._3x5NO8jvXJzMVw{background-color:#00c2e0}._1g3mGibhP05Mb2:hover._3tYl_kERgjDO1Z{background-color:#51e898}._1g3mGibhP05Mb2:hover._2hhiQy0yDk4CkE{background-color:#091e42}._2gDTY-jKw6p1tj{text-decoration:none}._2gDTY-jKw6p1tj:hover{background-color:#f4f5f7;cursor:pointer}._2gDTY-jKw6p1tj:hover ._3qyS0qUsS-VZpY{background:transparent}._8QN4GWOsHHeW8A ._2gDTY-jKw6p1tj,._8QN4GWOsHHeW8A ._2kkT-Lhc7Rnxuf{display:block;margin:8px 8px 0;width:calc(100% - 16px)}._2srAf0uqZ0j59O{position:relative;height:64px;width:100%}._2hawef1oSTSLBB{background-color:transparent;background-position:50%;background-repeat:no-repeat;background-size:cover}._1g3mGibhP05Mb2._2IMinGNNP71UNb,._2hawef1oSTSLBB._2IMinGNNP71UNb{background-image:url('+r(n("./resources/images/patterns/dark/StripeDiagonal.svg"))+");background-size:16px 16px;background-repeat:repeat-y;background-position:0}._1g3mGibhP05Mb2.Jyd-D1IUtDqCgn,._2hawef1oSTSLBB.Jyd-D1IUtDqCgn{background-image:url("+r(n("./resources/images/patterns/dark/WaveSquare.svg"))+");background-size:16px 16px;background-repeat:repeat-y;background-position:0}._1g3mGibhP05Mb2._3IR9bj8-5kRpSw,._2hawef1oSTSLBB._3IR9bj8-5kRpSw{background-image:url("+r(n("./resources/images/patterns/dark/StripeVertical.svg"))+");background-size:16px 16px;background-repeat:repeat-y;background-position:0}._1g3mGibhP05Mb2._2ZetxVWflAMG0t,._2hawef1oSTSLBB._2ZetxVWflAMG0t{background-image:url("+r(n("./resources/images/patterns/dark/DotsChecker.svg"))+");background-size:16px 16px;background-repeat:repeat-y;background-position:0}._1g3mGibhP05Mb2._3K1H0lSH-BY5e_,._2hawef1oSTSLBB._3K1H0lSH-BY5e_{background-image:url("+r(n("./resources/images/patterns/dark/GrooveDiagonal.svg"))+");background-size:16px 16px;background-repeat:repeat-y;background-position:0}._1g3mGibhP05Mb2._8NciWWTZsb2pFG,._2hawef1oSTSLBB._8NciWWTZsb2pFG{background-image:url("+r(n("./resources/images/patterns/dark/StripeHorizontal.svg"))+");background-size:16px 16px;background-repeat:repeat-y;background-position:0}._1g3mGibhP05Mb2._3f-2zrLFVo3Hl3,._2hawef1oSTSLBB._3f-2zrLFVo3Hl3{background-image:url("+r(n("./resources/images/patterns/dark/BrickHorizontal.svg"))+");background-size:16px 16px;background-repeat:repeat-y;background-position:0}._1g3mGibhP05Mb2._3m2KaC_krDYq6Q,._2hawef1oSTSLBB._3m2KaC_krDYq6Q{background-image:url("+r(n("./resources/images/patterns/dark/BrickDiagonal.svg"))+");background-size:16px 16px;background-repeat:repeat-y;background-position:0}._1g3mGibhP05Mb2._2R3IYRyXSfiOYT,._2hawef1oSTSLBB._2R3IYRyXSfiOYT{background-image:url("+r(n("./resources/images/patterns/dark/Scale.svg"))+");background-size:16px 16px;background-repeat:repeat-y;background-position:0}._1g3mGibhP05Mb2.hu2yS1eBYWa1Wx,._2hawef1oSTSLBB.hu2yS1eBYWa1Wx{background-image:url("+r(n("./resources/images/patterns/light/BrickVertical.svg"))+");background-size:16px 16px;background-repeat:repeat-y;background-position:0}._2hawef1oSTSLBB+._2srAf0uqZ0j59O{position:absolute;top:0}._3qyS0qUsS-VZpY{display:inline-block;position:relative;background:hsla(0,0%,100%,.7);width:100%;z-index:10}.kbyD4YtX9f__Fj{color:#172b4d;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:14px;font-weight:400;line-height:20px;margin:0;padding:6px 8px 0;word-wrap:break-word}._36usP_bLNzWgNf{display:flex;flex-shrink:0;flex-wrap:wrap;max-width:100%;padding:2px 4px 0 8px}._36usP_bLNzWgNf+.kbyD4YtX9f__Fj{padding-top:4px}._3QBjLLmwilsNyC{float:left;max-width:calc(100% - 6px);padding-left:6px}._3QBjLLmwilsNyC,.vEgRPGz1dle1D-{box-sizing:border-box;display:inline-block}.vEgRPGz1dle1D-{float:right;max-width:94%;padding-right:6px}",""]),t.locals={card:"_2kkT-Lhc7Rnxuf",fullCover:"_1g3mGibhP05Mb2",details:"_3qyS0qUsS-VZpY",stickers:"_2srAf0uqZ0j59O",members:"vEgRPGz1dle1D-",badges:"_3QBjLLmwilsNyC",labels:"_36usP_bLNzWgNf",title:"kbyD4YtX9f__Fj",fullImageCover:"vr-Fywu4ZO842w",fullCoverDark:"NGcXv6YajUr6IU",truncateNameForFullCover:"_2N8af91h55q5Jk",fullColorCoverWithStickers:"_2ofSoCdHi_7cwN",colorCardCoverBlue:"JtDyzAjXgExxJp",colorCardCoverGreen:"_3EjEOB7gHG4zTi",colorCardCoverOrange:"_1F-iLO2BSaZGmW",colorCardCoverRed:"_2bWIWSSGzD5LKE",colorCardCoverPurple:"ShFQ65tNzEfWGv",colorCardCoverYellow:"_28HG4tY337n-hy",colorCardCoverPink:"_3sLoTWiuMtqgWW",colorCardCoverSky:"_3x5NO8jvXJzMVw",colorCardCoverLime:"_3tYl_kERgjDO1Z",colorCardCoverBlack:"_2hhiQy0yDk4CkE",fullCoverColorBlind:"mYDAf2l-C-65Bt",cardLink:"_2gDTY-jKw6p1tj",boardCard:"_8QN4GWOsHHeW8A",cover:"_2hawef1oSTSLBB",StripeDiagonal:"_2IMinGNNP71UNb",WaveSquare:"Jyd-D1IUtDqCgn",StripeVertical:"_3IR9bj8-5kRpSw",DotsChecker:"_2ZetxVWflAMG0t",GrooveDiagonal:"_3K1H0lSH-BY5e_",StripeHorizontal:"_8NciWWTZsb2pFG",BrickHorizontal:"_3f-2zrLFVo3Hl3",BrickDiagonal:"_3m2KaC_krDYq6Q",Scale:"_2R3IYRyXSfiOYT",BrickVertical:"hu2yS1eBYWa1Wx"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/trello-canonical-components/src/card-front/CardLabel.less":function(e,t,n){var r=n("./node_modules/css-loader/lib/url/escape.js");(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,'._2d9CvjIeYdc-B8{border-radius:100px;color:#fff;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:12px;font-weight:700;height:8px;position:relative;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;width:40px;vertical-align:top}._2d9CvjIeYdc-B8._3xPV8Uzkmy2gxr{border-radius:3px;box-sizing:border-box;height:16px;line-height:16px;max-width:100%;min-width:56px;overflow:hidden;padding:0 8px;text-overflow:ellipsis;white-space:nowrap;width:auto}._2d9CvjIeYdc-B8._2KQ-D8tpT4K7WM{background-color:#0079bf}._2d9CvjIeYdc-B8._34soMZKek3bOCD{background-color:#61bd4f}._2d9CvjIeYdc-B8._1TkTu4kb_CXfos{background-color:#51e898}._2d9CvjIeYdc-B8._2qJYdHZgfb7PlF{background-color:#ff9f1a}._2d9CvjIeYdc-B8._1JhsJA4kp2Ikcv{background-color:#ff78cb}._2d9CvjIeYdc-B8.wu-36sLI7HwIA9{background-color:#c377e0}._2d9CvjIeYdc-B8._360J4pjZxxNQIp{background-color:#eb5a46}._2d9CvjIeYdc-B8._2dPfj5VTFYNx14{background-color:#00c2e0}._2d9CvjIeYdc-B8._2UOqlN4BeL8qrN{background-color:#f2d600}._2d9CvjIeYdc-B8._1elR-WsLZjn28e{background-color:#172b4d}._2d9CvjIeYdc-B8._1N2vopA8xawUAr{background-color:#b3bac5}._2d9CvjIeYdc-B8:before{bottom:0;content:"";left:0;position:absolute;top:0;width:100%}._2d9CvjIeYdc-B8._3xPV8Uzkmy2gxr:before{width:16px}._2d9CvjIeYdc-B8._3xPV8Uzkmy2gxr.-RDju_kIyN7U5U,._2d9CvjIeYdc-B8._3xPV8Uzkmy2gxr._1GPzZeMEKaKL2i,._2d9CvjIeYdc-B8._3xPV8Uzkmy2gxr._1imyBuLw7xJwZf,._2d9CvjIeYdc-B8._3xPV8Uzkmy2gxr._1qsLE2tYR_J1Dm,._2d9CvjIeYdc-B8._3xPV8Uzkmy2gxr._2Oh0eEo14HkIJ5,._2d9CvjIeYdc-B8._3xPV8Uzkmy2gxr._2t5QLJnFhP2iDA,._2d9CvjIeYdc-B8._3xPV8Uzkmy2gxr._2uaVu8-v7o2GGN,._2d9CvjIeYdc-B8._3xPV8Uzkmy2gxr._2VgTHVQlTkqHit,._2d9CvjIeYdc-B8._3xPV8Uzkmy2gxr._3Xb0YU46djXOCf,._2d9CvjIeYdc-B8._3xPV8Uzkmy2gxr._25_MVWVdYyZOkM,._2d9CvjIeYdc-B8._3xPV8Uzkmy2gxr._32QZx_zhfHwNcC,._2d9CvjIeYdc-B8._3xPV8Uzkmy2gxr._385taimPnH0dbi,._2d9CvjIeYdc-B8._3xPV8Uzkmy2gxr.LX004QyP-sZuyY,._2d9CvjIeYdc-B8._3xPV8Uzkmy2gxr.mNec897-fbbbK8{padding-left:20px}._2d9CvjIeYdc-B8._2uaVu8-v7o2GGN:before{background-image:linear-gradient(135deg,hsla(0,0%,100%,.5) 25%,transparent 0),linear-gradient(225deg,hsla(0,0%,100%,.5) 25%,transparent 0),linear-gradient(315deg,hsla(0,0%,100%,.5) 25%,transparent 0),linear-gradient(45deg,hsla(0,0%,100%,.5) 25%,transparent 0);background-size:12px 12px}._2d9CvjIeYdc-B8._25_MVWVdYyZOkM:before{background-image:linear-gradient(to bottom left,hsla(0,0%,100%,.5) 25%,transparent 0,transparent 50%,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,.5) 75%,transparent 0,transparent);background-size:16px 16px}._2d9CvjIeYdc-B8._1imyBuLw7xJwZf:before{background-image:linear-gradient(to bottom right,hsla(0,0%,100%,.5) 25%,transparent 0,transparent 50%,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,.5) 75%,transparent 0,transparent);background-size:16px 16px}._2d9CvjIeYdc-B8.LX004QyP-sZuyY:before{background-image:linear-gradient(90deg,hsla(0,0%,100%,.5) 50%,transparent 0,transparent);background-size:8px 8px}._2d9CvjIeYdc-B8._2VgTHVQlTkqHit:before{background-image:url('+r(n("./resources/images/patterns/light/StripeDiagonal.svg"))+");background-size:16px 16px}._2d9CvjIeYdc-B8._385taimPnH0dbi:before{background-image:url("+r(n("./resources/images/patterns/light/WaveSquare.svg"))+");background-size:16px 16px}._2d9CvjIeYdc-B8._2Oh0eEo14HkIJ5:before{background-image:url("+r(n("./resources/images/patterns/light/StripeVertical.svg"))+");background-size:16px 16px}._2d9CvjIeYdc-B8._2t5QLJnFhP2iDA:before{background-image:url("+r(n("./resources/images/patterns/light/DotsChecker.svg"))+");background-size:16px 16px}._2d9CvjIeYdc-B8._1GPzZeMEKaKL2i:before{background-image:url("+r(n("./resources/images/patterns/light/GrooveDiagonal.svg"))+");background-size:16px 16px}._2d9CvjIeYdc-B8._3Xb0YU46djXOCf:before{background-image:url("+r(n("./resources/images/patterns/light/StripeHorizontal.svg"))+");background-size:16px 16px}._2d9CvjIeYdc-B8.mNec897-fbbbK8:before{background-image:url("+r(n("./resources/images/patterns/light/BrickDiagonal.svg"))+");background-size:16px 16px}._2d9CvjIeYdc-B8._1qsLE2tYR_J1Dm:before{background-image:url("+r(n("./resources/images/patterns/light/Scale.svg"))+");background-size:16px 16px}._2d9CvjIeYdc-B8._32QZx_zhfHwNcC:before{background-image:url("+r(n("./resources/images/patterns/light/BrickHorizontal.svg"))+");background-size:16px 16px}._2d9CvjIeYdc-B8.-RDju_kIyN7U5U:before{background-image:url("+r(n("./resources/images/patterns/light/BrickVertical.svg"))+");background-size:16px 16px}._3ZHTEfg553_IVN ._2d9CvjIeYdc-B8{margin-right:4px;margin-top:4px}",""]),t.locals={label:"_2d9CvjIeYdc-B8",expanded:"_3xPV8Uzkmy2gxr",blue:"_2KQ-D8tpT4K7WM",green:"_34soMZKek3bOCD",lime:"_1TkTu4kb_CXfos",orange:"_2qJYdHZgfb7PlF",pink:"_1JhsJA4kp2Ikcv",purple:"wu-36sLI7HwIA9",red:"_360J4pjZxxNQIp",sky:"_2dPfj5VTFYNx14",yellow:"_2UOqlN4BeL8qrN",black:"_1elR-WsLZjn28e",gray:"_1N2vopA8xawUAr",checkered:"_2uaVu8-v7o2GGN",slantRight:"_25_MVWVdYyZOkM",slantLeft:"_1imyBuLw7xJwZf",striped:"LX004QyP-sZuyY",StripeDiagonal:"_2VgTHVQlTkqHit",WaveSquare:"_385taimPnH0dbi",StripeVertical:"_2Oh0eEo14HkIJ5",DotsChecker:"_2t5QLJnFhP2iDA",GrooveDiagonal:"_1GPzZeMEKaKL2i",StripeHorizontal:"_3Xb0YU46djXOCf",BrickDiagonal:"mNec897-fbbbK8",Scale:"_1qsLE2tYR_J1Dm",BrickHorizontal:"_32QZx_zhfHwNcC",BrickVertical:"-RDju_kIyN7U5U",cardFront:"_3ZHTEfg553_IVN"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/trello-canonical-components/src/card-front/Sticker.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".ulBbHiLD4uV9S3{position:absolute;height:64px;width:64px;transition:transform 85ms ease-in,opacity 85ms ease-in;-webkit-user-select:none;user-select:none}.sR3Nr-iFZ1PoLq{height:64px;width:64px;color:transparent;border:0}",""]),t.locals={sticker:"ulBbHiLD4uV9S3",stickerImage:"sR3Nr-iFZ1PoLq"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/trello-canonical-components/src/detail/Buttons.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,'._1OwcdNg8hntbJj{align-items:center;background-color:#fff;border-radius:4px;border:1px solid #dfe1e6;box-sizing:border-box;color:#172b4d;cursor:pointer;display:flex;font-size:12px;height:40px;justify-content:center;transition:background-color .05s;width:100%;padding:1px}._1OwcdNg8hntbJj+button{margin-left:8px}._1OwcdNg8hntbJj:hover{background-color:rgba(9,30,66,.13)}._1OwcdNg8hntbJj:active{background-color:rgba(9,30,66,.25)}.HWid10SaW7QH1Y{color:#6b778c;display:inline-block;margin-right:6px}._1fCotTL-rtb4hQ,.HWid10SaW7QH1Y,.HWid10SaW7QH1Y svg{height:16px;width:16px}._1fCotTL-rtb4hQ{display:inline-block}._1fCotTL-rtb4hQ svg{height:16px;width:16px}._171imih-o8L7Me+._171imih-o8L7Me:before{content:" \\2022   "}._1Ui7SlsLi4uveH{background:none;border:0;box-shadow:none;color:#6b778c;cursor:pointer;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:14px;margin:0;padding:0;text-decoration:underline}._1Ui7SlsLi4uveH:hover{color:#172b4d}._1Ui7SlsLi4uveH:active{color:#091e42}._1Ui7SlsLi4uveH[disabled]{color:#97a0af;cursor:default;text-decoration:none}._1QHc1MKHf-AecD{display:flex;justify-content:center;align-items:center;background-color:transparent;height:32px;width:32px;border:none;border-radius:50%;padding:0;cursor:pointer}._1QHc1MKHf-AecD:hover{background-color:rgba(9,30,66,.13)}._1QHc1MKHf-AecD:active{background-color:rgba(9,30,66,.25)}._11DbTZ2JGbbxvu ._1QHc1MKHf-AecD{margin-left:auto;align-self:flex-start;flex:0 0 auto}._1dy196_6mEnTW1{display:inline-block;fill:#42526e}._1dy196_6mEnTW1,._1dy196_6mEnTW1 svg{height:16px;width:16px}',""]),t.locals={button:"_1OwcdNg8hntbJj",iconContainer:"HWid10SaW7QH1Y",icon:"_1fCotTL-rtb4hQ",linkButtonContainer:"_171imih-o8L7Me",linkButton:"_1Ui7SlsLi4uveH",overflowButton:"_1QHc1MKHf-AecD",detailHeader:"_11DbTZ2JGbbxvu",overflowIcon:"_1dy196_6mEnTW1"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/trello-canonical-components/src/detail/Detail.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1FqAS_BlXuOxpz{background:#fff;border-radius:4px;box-shadow:0 1px 3px 0 rgba(9,30,66,.13);width:360px}._2KlpYF95HjnjA_{background:#fff;border-radius:4px;box-sizing:border-box;line-height:1.33;padding:.1px 8px}._1bC5KyI_aSlhGz{align-items:center;display:flex;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;margin:16px 8px}._1lcT8pp_Vi5Z85{display:flex;justify-content:space-between;margin:16px 0 8px}._7U7OTpAs2pgdVT{margin-left:8px;min-width:0;overflow-wrap:break-word;overflow:hidden;word-wrap:break-word}._7U7OTpAs2pgdVT ._2sxXp5zq8ZUBHX{color:#172b4d;font-size:14px;font-weight:700}._7U7OTpAs2pgdVT ._3rLOnr97ahnG2Y{color:#6b778c;font-size:12px}._1dbgtswRRDiwzE{font-size:14px;margin-left:8px}._3yv_J6gLaimejG{color:#000;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:14px;margin:16px 8px;overflow-wrap:break-word;word-wrap:break-word}._3DgLhtdRhgaLDd{background:#fff;margin:14px 0 -4px;line-height:2em;display:flex;flex-flow:row wrap}._3sVSFV-Jz_lHyO{background-color:#dfe1e6;border:none;height:1px;margin:20px 0}",""]),t.locals={boardAndDetailContainer:"_1FqAS_BlXuOxpz",detailContainer:"_2KlpYF95HjnjA_",header:"_1bC5KyI_aSlhGz",detailActions:"_1lcT8pp_Vi5Z85",detailInfo:"_7U7OTpAs2pgdVT",primary:"_2sxXp5zq8ZUBHX",secondary:"_3rLOnr97ahnG2Y",dueInfo:"_1dbgtswRRDiwzE",commentText:"_3yv_J6gLaimejG",reactionContainer:"_3DgLhtdRhgaLDd",spacer:"_3sVSFV-Jz_lHyO"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/trello-canonical-components/src/detail/Reply.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,'.q8Ixl_suIwMta9{background-color:#f4f5f7;border-radius:0 0 4px 4px;border-top:1px solid #dfe1e6;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:14px;line-height:1.33;overflow:hidden;position:relative}.q8Ixl_suIwMta9 :empty{border:0}._1ez7iB-uPSh9fN{transition:transform .4s,opacity .4s,min-height .4s}._1ez7iB-uPSh9fN._2AkTnICwSeFzIU,._1ez7iB-uPSh9fN.mYood9W0Y0LC3Z{opacity:0;transform:translateY(-32px)}._1ez7iB-uPSh9fN._1QdIqtWLeC7iYj,._1ez7iB-uPSh9fN.jMn765I_IIzlw-{opacity:1;transform:translateY(0)}._1ez7iB-uPSh9fN._3h1o9APkYnBrDh{left:0;opacity:1;position:absolute;right:0;top:0;transform:translateY(0)}._1ez7iB-uPSh9fN._2PDbwB42x-8WIY{left:0;opacity:0;position:absolute;right:0;top:0;transform:translateY(32px)}._31_PQoPZdQXMMK{margin-top:4px;color:#6b778c}._3hkMMhzQZKwzYX{align-items:flex-start;display:flex;padding:16px 16px 8px}._3hkMMhzQZKwzYX._1ELy_IlBF2Oo4G{align-items:center;padding:0 16px}.WMCn59DKP6RDgu{flex:0 0 auto;margin-right:8px}._3jIQ57R1-f8jqr{flex:1 1 auto;overflow:hidden}.XUCUErY9sUDBP3{background-color:#ebecf0;color:#7a869a;display:block;text-decoration:none;transition:background-color 50ms}.XUCUErY9sUDBP3:hover{background-color:rgba(9,30,66,.13)}._2OMmn-WR45DZ3h{color:#6b778c;font-size:12px;overflow:hidden;padding:16px 8px;text-align:"left";text-overflow:ellipsis;white-space:nowrap}._2OMmn-WR45DZ3h._1ELy_IlBF2Oo4G{text-align:center}._2ttHZX0GAulBoc{background-color:#fff;border-radius:3px;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:14px;line-height:1.33;resize:none;transition:background-color .05s;width:100%}._2ttHZX0GAulBoc:focus{outline:0}',""]),t.locals={replyContainer:"q8Ixl_suIwMta9",slideIn:"_1ez7iB-uPSh9fN","slide-enter":"_2AkTnICwSeFzIU","slide-appear":"mYood9W0Y0LC3Z","slide-enter-active":"_1QdIqtWLeC7iYj","slide-appear-active":"jMn765I_IIzlw-","slide-exit":"_3h1o9APkYnBrDh","slide-exit-active":"_2PDbwB42x-8WIY",replyActions:"_31_PQoPZdQXMMK",replyColumns:"_3hkMMhzQZKwzYX",centered:"_1ELy_IlBF2Oo4G",replyColumnAvatar:"WMCn59DKP6RDgu",replyColumnContent:"_3jIQ57R1-f8jqr",replyLink:"XUCUErY9sUDBP3",replySentText:"_2OMmn-WR45DZ3h",replyTextArea:"_2ttHZX0GAulBoc"}},"./node_modules/emoji-mart/dist-es/components/emoji/nimble-emoji.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/react/index.js"),i=n.n(r),o=(n("./node_modules/prop-types/index.js"),n("./node_modules/emoji-mart/dist-es/utils/index.js")),a=n("./node_modules/emoji-mart/dist-es/utils/data.js"),s=n("./node_modules/emoji-mart/dist-es/utils/shared-props.js"),l=function(e){var t=e.emoji,n=e.skin,r=e.set,i=e.data;return Object(o.b)(t,n,r,i)},c=function(e){var t=l(e),n=t.sheet_x,r=t.sheet_y;return 100/(e.sheetColumns-1)*n+"% "+100/(e.sheetRows-1)*r+"%"},d=function(e){var t=e.emoji,n=e.skin,r=e.set,i=e.data;return Object(o.c)(t,n,r,i)},u=function(e){return!isNaN(e-parseFloat(e))},p=function e(t){for(var n in t.data.compressed&&Object(a.uncompress)(t.data),e.defaultProps)null==t[n]&&null!=e.defaultProps[n]&&(t[n]=e.defaultProps[n]);var r=l(t);if(!r)return t.fallback?t.fallback(null,t):null;var s=r.unified,p=r.custom,m=r.short_names,f=r.imageUrl,h={},g=t.children,v="emoji-mart-emoji",b=null;if(!s&&!p)return t.fallback?t.fallback(r,t):null;if(t.tooltip&&(b=m[0]),t.native&&s)v+=" emoji-mart-emoji-native",h={fontSize:t.size},g=Object(o.f)(s),t.forceSize&&(h.display="inline-block",h.width=t.size,h.height=t.size);else if(p)v+=" emoji-mart-emoji-custom",h={width:t.size,height:t.size,display:"inline-block",backgroundImage:"url("+f+")",backgroundSize:"contain"};else{if(!(null==r["has_img_"+t.set]||r["has_img_"+t.set]))return t.fallback?t.fallback(r,t):null;h={width:t.size,height:t.size,display:"inline-block",backgroundImage:"url("+t.backgroundImageFn(t.set,t.sheetSize)+")",backgroundSize:100*t.sheetColumns+"% "+100*t.sheetRows+"%",backgroundPosition:c(t)}}return t.html?"<span style='"+(h=function(e){var t=document.createElement("div");for(var n in e){var r=e[n];u(r)&&(r+="px"),t.style[n]=r}return t.getAttribute("style")}(h))+"' "+(b?"title='"+b+"'":"")+" class='"+v+"'>"+(g||"")+"</span>":i.a.createElement("span",{key:t.emoji.id||t.emoji,onClick:function(e){return function(e,t){t.onClick&&(0,t.onClick)(d(t),e)}(e,t)},onMouseEnter:function(e){return function(e,t){t.onOver&&(0,t.onOver)(d(t),e)}(e,t)},onMouseLeave:function(e){return function(e,t){t.onLeave&&(0,t.onLeave)(d(t),e)}(e,t)},title:b,className:v},i.a.createElement("span",{style:h},g))};p.defaultProps=s.a,t.default=p},"./node_modules/emoji-mart/dist-es/components/picker/nimble-picker.js":function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"categories",(function(){return g})),n.d(r,"search",(function(){return v}));var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=Object.getPrototypeOf||function(e){return"function"==typeof(e=Object(e)).constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?Object.prototype:null},a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),s=n.n(a),l=n("./node_modules/emoji-mart/dist-es/polyfills/createClass.js");function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=Object;function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=d.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(d.setPrototypeOf?d.setPrototypeOf(e,t):e.__proto__=t)}n("./node_modules/emoji-mart/dist-es/vendor/raf-polyfill.js");var p=n("./node_modules/react/index.js"),m=n.n(p),f=n("./node_modules/prop-types/index.js"),h=n.n(f),g={activity:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},m.a.createElement("path",{d:"M12 0C5.373 0 0 5.372 0 12c0 6.627 5.373 12 12 12 6.628 0 12-5.373 12-12 0-6.628-5.372-12-12-12m9.949 11H17.05c.224-2.527 1.232-4.773 1.968-6.113A9.966 9.966 0 0 1 21.949 11M13 11V2.051a9.945 9.945 0 0 1 4.432 1.564c-.858 1.491-2.156 4.22-2.392 7.385H13zm-2 0H8.961c-.238-3.165-1.536-5.894-2.393-7.385A9.95 9.95 0 0 1 11 2.051V11zm0 2v8.949a9.937 9.937 0 0 1-4.432-1.564c.857-1.492 2.155-4.221 2.393-7.385H11zm4.04 0c.236 3.164 1.534 5.893 2.392 7.385A9.92 9.92 0 0 1 13 21.949V13h2.04zM4.982 4.887C5.718 6.227 6.726 8.473 6.951 11h-4.9a9.977 9.977 0 0 1 2.931-6.113M2.051 13h4.9c-.226 2.527-1.233 4.771-1.969 6.113A9.972 9.972 0 0 1 2.051 13m16.967 6.113c-.735-1.342-1.744-3.586-1.968-6.113h4.899a9.961 9.961 0 0 1-2.931 6.113"}))},custom:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},m.a.createElement("g",{transform:"translate(2.000000, 1.000000)"},m.a.createElement("rect",{id:"Rectangle",x:"8",y:"0",width:"3",height:"21",rx:"1.5"}),m.a.createElement("rect",{id:"Rectangle",transform:"translate(9.843, 10.549) rotate(60) translate(-9.843, -10.549) ",x:"8.343",y:"0.049",width:"3",height:"21",rx:"1.5"}),m.a.createElement("rect",{id:"Rectangle",transform:"translate(9.843, 10.549) rotate(-60) translate(-9.843, -10.549) ",x:"8.343",y:"0.049",width:"3",height:"21",rx:"1.5"})))},flags:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},m.a.createElement("path",{d:"M0 0l6.084 24H8L1.916 0zM21 5h-4l-1-4H4l3 12h3l1 4h13L21 5zM6.563 3h7.875l2 8H8.563l-2-8zm8.832 10l-2.856 1.904L12.063 13h3.332zM19 13l-1.5-6h1.938l2 8H16l3-2z"}))},foods:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},m.a.createElement("path",{d:"M17 4.978c-1.838 0-2.876.396-3.68.934.513-1.172 1.768-2.934 4.68-2.934a1 1 0 0 0 0-2c-2.921 0-4.629 1.365-5.547 2.512-.064.078-.119.162-.18.244C11.73 1.838 10.798.023 9.207.023 8.579.022 7.85.306 7 .978 5.027 2.54 5.329 3.902 6.492 4.999 3.609 5.222 0 7.352 0 12.969c0 4.582 4.961 11.009 9 11.009 1.975 0 2.371-.486 3-1 .629.514 1.025 1 3 1 4.039 0 9-6.418 9-11 0-5.953-4.055-8-7-8M8.242 2.546c.641-.508.943-.523.965-.523.426.169.975 1.405 1.357 3.055-1.527-.629-2.741-1.352-2.98-1.846.059-.112.241-.356.658-.686M15 21.978c-1.08 0-1.21-.109-1.559-.402l-.176-.146c-.367-.302-.816-.452-1.266-.452s-.898.15-1.266.452l-.176.146c-.347.292-.477.402-1.557.402-2.813 0-7-5.389-7-9.009 0-5.823 4.488-5.991 5-5.991 1.939 0 2.484.471 3.387 1.251l.323.276a1.995 1.995 0 0 0 2.58 0l.323-.276c.902-.78 1.447-1.251 3.387-1.251.512 0 5 .168 5 6 0 3.617-4.187 9-7 9"}))},nature:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},m.a.createElement("path",{d:"M15.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 15.5 8M8.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 8.5 8"}),m.a.createElement("path",{d:"M18.933 0h-.027c-.97 0-2.138.787-3.018 1.497-1.274-.374-2.612-.51-3.887-.51-1.285 0-2.616.133-3.874.517C7.245.79 6.069 0 5.093 0h-.027C3.352 0 .07 2.67.002 7.026c-.039 2.479.276 4.238 1.04 5.013.254.258.882.677 1.295.882.191 3.177.922 5.238 2.536 6.38.897.637 2.187.949 3.2 1.102C8.04 20.6 8 20.795 8 21c0 1.773 2.35 3 4 3 1.648 0 4-1.227 4-3 0-.201-.038-.393-.072-.586 2.573-.385 5.435-1.877 5.925-7.587.396-.22.887-.568 1.104-.788.763-.774 1.079-2.534 1.04-5.013C23.929 2.67 20.646 0 18.933 0M3.223 9.135c-.237.281-.837 1.155-.884 1.238-.15-.41-.368-1.349-.337-3.291.051-3.281 2.478-4.972 3.091-5.031.256.015.731.27 1.265.646-1.11 1.171-2.275 2.915-2.352 5.125-.133.546-.398.858-.783 1.313M12 22c-.901 0-1.954-.693-2-1 0-.654.475-1.236 1-1.602V20a1 1 0 1 0 2 0v-.602c.524.365 1 .947 1 1.602-.046.307-1.099 1-2 1m3-3.48v.02a4.752 4.752 0 0 0-1.262-1.02c1.092-.516 2.239-1.334 2.239-2.217 0-1.842-1.781-2.195-3.977-2.195-2.196 0-3.978.354-3.978 2.195 0 .883 1.148 1.701 2.238 2.217A4.8 4.8 0 0 0 9 18.539v-.025c-1-.076-2.182-.281-2.973-.842-1.301-.92-1.838-3.045-1.853-6.478l.023-.041c.496-.826 1.49-1.45 1.804-3.102 0-2.047 1.357-3.631 2.362-4.522C9.37 3.178 10.555 3 11.948 3c1.447 0 2.685.192 3.733.57 1 .9 2.316 2.465 2.316 4.48.313 1.651 1.307 2.275 1.803 3.102.035.058.068.117.102.178-.059 5.967-1.949 7.01-4.902 7.19m6.628-8.202c-.037-.065-.074-.13-.113-.195a7.587 7.587 0 0 0-.739-.987c-.385-.455-.648-.768-.782-1.313-.076-2.209-1.241-3.954-2.353-5.124.531-.376 1.004-.63 1.261-.647.636.071 3.044 1.764 3.096 5.031.027 1.81-.347 3.218-.37 3.235"}))},objects:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},m.a.createElement("path",{d:"M12 0a9 9 0 0 0-5 16.482V21s2.035 3 5 3 5-3 5-3v-4.518A9 9 0 0 0 12 0zm0 2c3.86 0 7 3.141 7 7s-3.14 7-7 7-7-3.141-7-7 3.14-7 7-7zM9 17.477c.94.332 1.946.523 3 .523s2.06-.19 3-.523v.834c-.91.436-1.925.689-3 .689a6.924 6.924 0 0 1-3-.69v-.833zm.236 3.07A8.854 8.854 0 0 0 12 21c.965 0 1.888-.167 2.758-.451C14.155 21.173 13.153 22 12 22c-1.102 0-2.117-.789-2.764-1.453z"}),m.a.createElement("path",{d:"M14.745 12.449h-.004c-.852-.024-1.188-.858-1.577-1.824-.421-1.061-.703-1.561-1.182-1.566h-.009c-.481 0-.783.497-1.235 1.537-.436.982-.801 1.811-1.636 1.791l-.276-.043c-.565-.171-.853-.691-1.284-1.794-.125-.313-.202-.632-.27-.913-.051-.213-.127-.53-.195-.634C7.067 9.004 7.039 9 6.99 9A1 1 0 0 1 7 7h.01c1.662.017 2.015 1.373 2.198 2.134.486-.981 1.304-2.058 2.797-2.075 1.531.018 2.28 1.153 2.731 2.141l.002-.008C14.944 8.424 15.327 7 16.979 7h.032A1 1 0 1 1 17 9h-.011c-.149.076-.256.474-.319.709a6.484 6.484 0 0 1-.311.951c-.429.973-.79 1.789-1.614 1.789"}))},people:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},m.a.createElement("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10"}),m.a.createElement("path",{d:"M8 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 8 7M16 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 16 7M15.232 15c-.693 1.195-1.87 2-3.349 2-1.477 0-2.655-.805-3.347-2H15m3-2H6a6 6 0 1 0 12 0"}))},places:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},m.a.createElement("path",{d:"M6.5 12C5.122 12 4 13.121 4 14.5S5.122 17 6.5 17 9 15.879 9 14.5 7.878 12 6.5 12m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5M17.5 12c-1.378 0-2.5 1.121-2.5 2.5s1.122 2.5 2.5 2.5 2.5-1.121 2.5-2.5-1.122-2.5-2.5-2.5m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5"}),m.a.createElement("path",{d:"M22.482 9.494l-1.039-.346L21.4 9h.6c.552 0 1-.439 1-.992 0-.006-.003-.008-.003-.008H23c0-1-.889-2-1.984-2h-.642l-.731-1.717C19.262 3.012 18.091 2 16.764 2H7.236C5.909 2 4.738 3.012 4.357 4.283L3.626 6h-.642C1.889 6 1 7 1 8h.003S1 8.002 1 8.008C1 8.561 1.448 9 2 9h.6l-.043.148-1.039.346a2.001 2.001 0 0 0-1.359 2.097l.751 7.508a1 1 0 0 0 .994.901H3v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h6v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h1.096a.999.999 0 0 0 .994-.901l.751-7.508a2.001 2.001 0 0 0-1.359-2.097M6.273 4.857C6.402 4.43 6.788 4 7.236 4h9.527c.448 0 .834.43.963.857L19.313 9H4.688l1.585-4.143zM7 21H5v-1h2v1zm12 0h-2v-1h2v1zm2.189-3H2.811l-.662-6.607L3 11h18l.852.393L21.189 18z"}))},recent:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},m.a.createElement("path",{d:"M13 4h-2l-.001 7H9v2h2v2h2v-2h4v-2h-4z"}),m.a.createElement("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10"}))},symbols:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},m.a.createElement("path",{d:"M0 0h11v2H0zM4 11h3V6h4V4H0v2h4zM15.5 17c1.381 0 2.5-1.116 2.5-2.493s-1.119-2.493-2.5-2.493S13 13.13 13 14.507 14.119 17 15.5 17m0-2.986c.276 0 .5.222.5.493 0 .272-.224.493-.5.493s-.5-.221-.5-.493.224-.493.5-.493M21.5 19.014c-1.381 0-2.5 1.116-2.5 2.493S20.119 24 21.5 24s2.5-1.116 2.5-2.493-1.119-2.493-2.5-2.493m0 2.986a.497.497 0 0 1-.5-.493c0-.271.224-.493.5-.493s.5.222.5.493a.497.497 0 0 1-.5.493M22 13l-9 9 1.513 1.5 8.99-9.009zM17 11c2.209 0 4-1.119 4-2.5V2s.985-.161 1.498.949C23.01 4.055 23 6 23 6s1-1.119 1-3.135C24-.02 21 0 21 0h-2v6.347A5.853 5.853 0 0 0 17 6c-2.209 0-4 1.119-4 2.5s1.791 2.5 4 2.5M10.297 20.482l-1.475-1.585a47.54 47.54 0 0 1-1.442 1.129c-.307-.288-.989-1.016-2.045-2.183.902-.836 1.479-1.466 1.729-1.892s.376-.871.376-1.336c0-.592-.273-1.178-.818-1.759-.546-.581-1.329-.871-2.349-.871-1.008 0-1.79.293-2.344.879-.556.587-.832 1.181-.832 1.784 0 .813.419 1.748 1.256 2.805-.847.614-1.444 1.208-1.794 1.784a3.465 3.465 0 0 0-.523 1.833c0 .857.308 1.56.924 2.107.616.549 1.423.823 2.42.823 1.173 0 2.444-.379 3.813-1.137L8.235 24h2.819l-2.09-2.383 1.333-1.135zm-6.736-6.389a1.02 1.02 0 0 1 .73-.286c.31 0 .559.085.747.254a.849.849 0 0 1 .283.659c0 .518-.419 1.112-1.257 1.784-.536-.651-.805-1.231-.805-1.742a.901.901 0 0 1 .302-.669M3.74 22c-.427 0-.778-.116-1.057-.349-.279-.232-.418-.487-.418-.766 0-.594.509-1.288 1.527-2.083.968 1.134 1.717 1.946 2.248 2.438-.921.507-1.686.76-2.3.76"}))}},v={search:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"13",viewBox:"0 0 20 20",opacity:"0.5"},m.a.createElement("path",{d:"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12z"}))},delete:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"13",viewBox:"0 0 20 20",opacity:"0.5"},m.a.createElement("path",{d:"M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z"}))}},b="emoji-mart",y=JSON,k="undefined"!=typeof window&&"localStorage"in window,w=void 0,x=void 0;function C(e,t){if(x)x(e,t);else{if(!k)return;try{window.localStorage[b+"."+e]=y.stringify(t)}catch(e){}}}var _={update:function(e){for(var t in e){C(t,e[t])}},set:C,get:function(e){if(w)return w(e);if(k){try{var t=window.localStorage[b+"."+e]}catch(e){return}return t?JSON.parse(t):void 0}},setNamespace:function(e){b=e},setHandlers:function(e){e||(e={}),w=e.getter,x=e.setter}},j=["+1","grinning","kissing_heart","heart_eyes","laughing","stuck_out_tongue_winking_eye","sweat_smile","joy","scream","disappointed","unamused","weary","sob","sunglasses","heart","poop"],S=void 0,O=void 0,E={};function N(){O=!0,S=_.get("frequently")}var T={add:function(e){O||N();var t=e.id;S||(S=E),S[t]||(S[t]=0),S[t]+=1,_.set("last",t),_.set("frequently",S)},get:function(e){if(O||N(),!S){E={};for(var t=[],n=0;n<e;n++)E[j[n]]=e-n,t.push(j[n]);return t}var r=4*e,i=[];for(var o in S)S.hasOwnProperty(o)&&i.push(o);var a=i.sort((function(e,t){return S[e]-S[t]})).reverse().slice(0,r),s=_.get("last");return s&&-1==a.indexOf(s)&&(a.pop(),a.push(s)),a}},P=n("./node_modules/emoji-mart/dist-es/utils/index.js"),B=n("./node_modules/emoji-mart/dist-es/utils/data.js"),D=n("./node_modules/emoji-mart/dist-es/utils/shared-props.js"),I=function(e){function t(e){s()(this,t);var n=c(this,(t.__proto__||o(t)).call(this,e)),r=e.categories.filter((function(e){return e.first}))[0];return n.state={selected:r.name},n.handleClick=n.handleClick.bind(n),n}return u(t,e),Object(l.a)(t,[{key:"handleClick",value:function(e){var t=e.currentTarget.getAttribute("data-index"),n=this.props,r=n.categories;(0,n.onAnchorClick)(r[t],t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.categories,r=t.color,i=t.i18n,o=t.icons,a=this.state.selected;return m.a.createElement("div",{className:"emoji-mart-anchors"},n.map((function(t,n){var s=t.id,l=t.name,c=t.anchor,d=l==a;return!1===c?null:m.a.createElement("span",{key:s,title:i.categories[s],"data-index":n,onClick:e.handleClick,className:"emoji-mart-anchor "+(d?"emoji-mart-anchor-selected":""),style:{color:d?r:null}},m.a.createElement("div",{className:"emoji-mart-anchor-icon"},o.categories[s]()),m.a.createElement("span",{className:"emoji-mart-anchor-bar",style:{backgroundColor:r}}))})))}}]),t}(m.a.PureComponent),A=I;I.defaultProps={categories:[],onAnchorClick:function(){},icons:{}};var L=n("./node_modules/emoji-mart/dist-es/components/emoji/nimble-emoji.js"),M=function(e){function t(){return s()(this,t),c(this,(t.__proto__||o(t)).apply(this,arguments))}return u(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.emojiProps,r=e.i18n,o=e.notFound,a=e.notFoundEmoji;return o&&o()||m.a.createElement("div",{className:"emoji-mart-no-results"},Object(L.default)(i({data:t},n,{size:38,emoji:a,onOver:null,onLeave:null,onClick:null})),m.a.createElement("div",{className:"emoji-mart-no-results-label"},r.notfound))}}]),t}(m.a.PureComponent),F=function(e){function t(e){s()(this,t);var n=c(this,(t.__proto__||o(t)).call(this,e));return n.data=e.data,n.setContainerRef=n.setContainerRef.bind(n),n.setLabelRef=n.setLabelRef.bind(n),n}return u(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.parent=this.container.parentNode,this.margin=0,this.minMargin=0,this.memoizeSize()}},{key:"shouldComponentUpdate",value:function(e,t){var n=this.props,r=n.name,i=n.perLine,o=n.native,a=n.hasStickyPosition,s=n.emojis,l=n.emojiProps,c=l.skin,d=l.size,u=l.set,p=e.perLine,m=e.native,f=e.hasStickyPosition,h=e.emojis,g=e.emojiProps,v=g.skin,b=g.size,y=g.set,k=!1;return"Recent"==r&&i!=p&&(k=!0),"Search"==r&&(k=!(s==h)),c==v&&d==b&&o==m&&u==y&&a==f||(k=!0),k}},{key:"memoizeSize",value:function(){var e=this.container.getBoundingClientRect(),t=e.top,n=e.height,r=this.parent.getBoundingClientRect().top,i=this.label.getBoundingClientRect().height;this.top=t-r+this.parent.scrollTop,this.maxMargin=0==n?0:n-i}},{key:"handleScroll",value:function(e){var t=e-this.top;if((t=(t=t<this.minMargin?this.minMargin:t)>this.maxMargin?this.maxMargin:t)!=this.margin)return this.props.hasStickyPosition||(this.label.style.top=t+"px"),this.margin=t,!0}},{key:"getEmojis",value:function(){var e=this,t=this.props,n=t.name,r=t.emojis,i=t.recent,o=t.perLine;if("Recent"==n){var a=this.props.custom,s=i||T.get(o);if(s.length&&(r=s.map((function(e){var t=a.filter((function(t){return t.id===e}))[0];return t||e})).filter((function(t){return!!Object(P.b)(t,null,null,e.data)}))),0===r.length&&s.length>0)return null}return r&&(r=r.slice(0)),r}},{key:"updateDisplay",value:function(e){this.getEmojis()&&(this.container.style.display=e)}},{key:"setContainerRef",value:function(e){this.container=e}},{key:"setLabelRef",value:function(e){this.label=e}},{key:"render",value:function(){var e=this,t=this.props,n=t.id,r=t.name,o=t.hasStickyPosition,a=t.emojiProps,s=t.i18n,l=t.notFound,c=t.notFoundEmoji,d=this.getEmojis(),u={},p={},f={};return d||(f={display:"none"}),o||(u={height:28},p={position:"absolute"}),m.a.createElement("div",{ref:this.setContainerRef,className:"emoji-mart-category",style:f},m.a.createElement("div",{style:u,"data-name":r,className:"emoji-mart-category-label"},m.a.createElement("span",{style:p,ref:this.setLabelRef},s.categories[n])),d&&d.map((function(t){return Object(L.default)(i({emoji:t,data:e.data},a))})),d&&!d.length&&m.a.createElement(M,{i18n:s,notFound:l,notFoundEmoji:c,data:this.data,emojiProps:a}))}}]),t}(m.a.Component),R=F;F.defaultProps={emojis:[],hasStickyPosition:!0};var z=function(e){function t(e){s()(this,t);var n=c(this,(t.__proto__||o(t)).call(this,e));return n.state={opened:!1},n}return u(t,e),Object(l.a)(t,[{key:"handleClick",value:function(e){var t=parseInt(e.currentTarget.getAttribute("data-skin")),n=this.props.onChange;this.state.opened?(this.setState({opened:!1}),t!=this.props.skin&&n(t)):this.setState({opened:!0})}},{key:"render",value:function(){return null}}]),t}(m.a.PureComponent),V=z;z.defaultProps={onChange:function(){}};var U=function(e){function t(e){s()(this,t);var n=c(this,(t.__proto__||o(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n}return u(t,e),Object(l.a)(t,[{key:"render",value:function(){for(var e=this.props,t=e.skin,n=e.emojiProps,r=e.data,i=e.skinEmoji,o=e.i18n,a=this.state.opened,s=[],l=1;l<=6;l++){var c=l===t;s.push(m.a.createElement("span",{key:"skin-tone-"+l,className:"emoji-mart-skin-swatch custom"+(c?" selected":"")},m.a.createElement("span",{onClick:this.handleClick,"data-skin":l,className:"emoji-mart-skin-tone-"+l},Object(L.default)({emoji:i,data:r,skin:l,backgroundImageFn:n.backgroundImageFn,native:n.native,set:n.set,sheetSize:n.sheetSize,size:23}))))}return m.a.createElement("div",{className:"emoji-mart-skin-swatches custom"+(a?" opened":"")},m.a.createElement("div",{className:"emoji-mart-skin-text"+(a?" opened":"")},o.skintext),s)}}]),t}(V),H=U;U.propTypes={onChange:h.a.func,skin:h.a.number.isRequired,emojiProps:h.a.object.isRequired,skinTone:h.a.number,skinEmoji:h.a.string.isRequired,i18n:h.a.object},U.defaultProps={onChange:function(){},skinTone:null};var $=function(e){function t(e){s()(this,t);var n=c(this,(t.__proto__||o(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n}return u(t,e),Object(l.a)(t,[{key:"render",value:function(){for(var e=this.props,t=e.skin,n=(e.i18n,this.state.opened),r=[],i=1;i<=6;i++){var o=i===t;r.push(m.a.createElement("span",{key:"skin-tone-"+i,className:"emoji-mart-skin-swatch"+(o?" selected":"")},m.a.createElement("span",{onClick:this.handleClick,"data-skin":i,className:"emoji-mart-skin emoji-mart-skin-tone-"+i})))}return m.a.createElement("div",{className:"emoji-mart-skin-swatches"+(n?" opened":"")},r)}}]),t}(V),W=$;$.propTypes={onChange:h.a.func,skin:h.a.number.isRequired,i18n:h.a.object},$.defaultProps={onChange:function(){}};var G=function(e){function t(e){s()(this,t);var n=c(this,(t.__proto__||o(t)).call(this,e));return n.data=e.data,n.state={emoji:null},n}return u(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.emoji,t=this.props,n=t.emojiProps,r=t.skinsProps,o=t.showSkinTones,a=t.title,s=t.emoji,l=t.i18n;if(e){var c=Object(P.b)(e,null,null,this.data),d=c.emoticons,u=[],p=[];return(void 0===d?[]:d).forEach((function(e){u.indexOf(e.toLowerCase())>=0||(u.push(e.toLowerCase()),p.push(e))})),m.a.createElement("div",{className:"emoji-mart-preview"},m.a.createElement("div",{className:"emoji-mart-preview-emoji"},Object(L.default)(i({key:e.id,emoji:e,data:this.data},n))),m.a.createElement("div",{className:"emoji-mart-preview-data"},m.a.createElement("div",{className:"emoji-mart-preview-name"},e.name),m.a.createElement("div",{className:"emoji-mart-preview-shortnames"},c.short_names.map((function(e){return m.a.createElement("span",{key:e,className:"emoji-mart-preview-shortname"},":",e,":")}))),m.a.createElement("div",{className:"emoji-mart-preview-emoticons"},p.map((function(e){return m.a.createElement("span",{key:e,className:"emoji-mart-preview-emoticon"},e)})))))}return m.a.createElement("div",{className:"emoji-mart-preview"},m.a.createElement("div",{className:"emoji-mart-preview-emoji"},s&&s.length&&Object(L.default)(i({emoji:s,data:this.data},n))),m.a.createElement("div",{className:"emoji-mart-preview-data"},m.a.createElement("span",{className:"emoji-mart-title-label"},a)),o&&m.a.createElement("div",{className:"emoji-mart-preview-skins"+(r.skinEmoji?" custom":"")},r.skinEmoji?m.a.createElement(H,{skin:r.skin,emojiProps:n,data:this.data,skinEmoji:r.skinEmoji,i18n:l,onChange:r.onChange}):m.a.createElement(W,{skin:r.skin,i18n:l,onChange:r.onChange})))}}]),t}(m.a.PureComponent),q=G;G.defaultProps={showSkinTones:!0,onChange:function(){}};var K=n("./node_modules/emoji-mart/dist-es/utils/emoji-index/nimble-emoji-index.js"),Y=function(e){function t(e){s()(this,t);var n=c(this,(t.__proto__||o(t)).call(this,e));return n.state={icon:v.search,isSearching:!1},n.data=e.data,n.emojiIndex=new K.default(n.data),n.setRef=n.setRef.bind(n),n.handleChange=n.handleChange.bind(n),n.clear=n.clear.bind(n),n.handleKeyUp=n.handleKeyUp.bind(n),n}return u(t,e),Object(l.a)(t,[{key:"search",value:function(e){""==e?this.setState({icon:v.search,isSearching:!1}):this.setState({icon:v.delete,isSearching:!0}),this.props.onSearch(this.emojiIndex.search(e,{emojisToShowFilter:this.props.emojisToShowFilter,maxResults:this.props.maxResults,include:this.props.include,exclude:this.props.exclude,custom:this.props.custom}))}},{key:"clear",value:function(){""!=this.input.value&&(this.input.value="",this.search(""))}},{key:"handleChange",value:function(){this.search(this.input.value)}},{key:"handleKeyUp",value:function(e){13===e.keyCode&&this.clear()}},{key:"setRef",value:function(e){this.input=e}},{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.autoFocus,r=this.state,i=r.icon,o=r.isSearching;return m.a.createElement("div",{className:"emoji-mart-search"},m.a.createElement("input",{ref:this.setRef,type:"text",onChange:this.handleChange,placeholder:t.search,autoFocus:n}),m.a.createElement("button",{className:"emoji-mart-search-icon",onClick:this.clear,onKeyUp:this.handleKeyUp,disabled:!o},i()))}}]),t}(m.a.PureComponent),J=Y;Y.defaultProps={onSearch:function(){},maxResults:75,emojisToShowFilter:null,autoFocus:!1};var X={search:"Search",notfound:"No Emoji Found",skintext:"Choose your default skin tone",categories:{search:"Search Results",recent:"Frequently Used",people:"Smileys & People",nature:"Animals & Nature",foods:"Food & Drink",activity:"Activity",places:"Travel & Places",objects:"Objects",symbols:"Symbols",flags:"Flags",custom:"Custom"}},Q=function(e){function t(e){s()(this,t);var n=c(this,(t.__proto__||o(t)).call(this,e));n.RECENT_CATEGORY={id:"recent",name:"Recent",emojis:null},n.CUSTOM_CATEGORY={id:"custom",name:"Custom",emojis:[]},n.SEARCH_CATEGORY={id:"search",name:"Search",emojis:null,anchor:!1},e.data.compressed&&Object(B.uncompress)(e.data),n.data=e.data,n.i18n=Object(P.a)(X,e.i18n),n.icons=Object(P.a)(r,e.icons),n.state={skin:e.skin||_.get("skin")||e.defaultSkin,firstRender:!0},n.categories=[];var a=[].concat(n.data.categories);e.custom.length>0&&(n.CUSTOM_CATEGORY.emojis=e.custom.map((function(e){return i({},e,{id:e.short_names[0],custom:!0})})),a.push(n.CUSTOM_CATEGORY)),n.hideRecent=!0,null!=e.include&&a.sort((function(t,n){return e.include.indexOf(t.id)>e.include.indexOf(n.id)?1:-1}));for(var l=0;l<a.length;l++){var d=a[l],u=!e.include||!e.include.length||e.include.indexOf(d.id)>-1,p=!(!e.exclude||!e.exclude.length)&&e.exclude.indexOf(d.id)>-1;if(u&&!p)if(e.emojisToShowFilter){for(var m=[],f=d.emojis,h=0;h<f.length;h++){var g=f[h];e.emojisToShowFilter(n.data.emojis[g]||g)&&m.push(g)}if(m.length){var v={emojis:m,name:d.name,id:d.id};n.categories.push(v)}}else n.categories.push(d)}var b=!e.include||!e.include.length||e.include.indexOf(n.RECENT_CATEGORY.id)>-1,y=!(!e.exclude||!e.exclude.length)&&e.exclude.indexOf(n.RECENT_CATEGORY.id)>-1;return b&&!y&&(n.hideRecent=!1,n.categories.unshift(n.RECENT_CATEGORY)),n.categories[0]&&(n.categories[0].first=!0),n.categories.unshift(n.SEARCH_CATEGORY),n.setAnchorsRef=n.setAnchorsRef.bind(n),n.handleAnchorClick=n.handleAnchorClick.bind(n),n.setSearchRef=n.setSearchRef.bind(n),n.handleSearch=n.handleSearch.bind(n),n.setScrollRef=n.setScrollRef.bind(n),n.handleScroll=n.handleScroll.bind(n),n.handleScrollPaint=n.handleScrollPaint.bind(n),n.handleEmojiOver=n.handleEmojiOver.bind(n),n.handleEmojiLeave=n.handleEmojiLeave.bind(n),n.handleEmojiClick=n.handleEmojiClick.bind(n),n.handleEmojiSelect=n.handleEmojiSelect.bind(n),n.setPreviewRef=n.setPreviewRef.bind(n),n.handleSkinChange=n.handleSkinChange.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n}return u(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.skin?this.setState({skin:e.skin}):e.defaultSkin&&!_.get("skin")&&this.setState({skin:e.defaultSkin})}},{key:"componentDidMount",value:function(){var e=this;this.state.firstRender&&(this.testStickyPosition(),this.firstRenderTimeout=setTimeout((function(){e.setState({firstRender:!1})}),60))}},{key:"componentDidUpdate",value:function(){this.updateCategoriesSize(),this.handleScroll()}},{key:"componentWillUnmount",value:function(){this.SEARCH_CATEGORY.emojis=null,clearTimeout(this.leaveTimeout),clearTimeout(this.firstRenderTimeout)}},{key:"testStickyPosition",value:function(){var e=document.createElement("div");["","-webkit-","-ms-","-moz-","-o-"].forEach((function(t){return e.style.position=t+"sticky"})),this.hasStickyPosition=!!e.style.position.length}},{key:"handleEmojiOver",value:function(e){var t=this.preview;if(t){var n=this.CUSTOM_CATEGORY.emojis.filter((function(t){return t.id===e.id}))[0];for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);t.setState({emoji:e}),clearTimeout(this.leaveTimeout)}}},{key:"handleEmojiLeave",value:function(e){var t=this.preview;t&&(this.leaveTimeout=setTimeout((function(){t.setState({emoji:null})}),16))}},{key:"handleEmojiClick",value:function(e,t){this.props.onClick(e,t),this.handleEmojiSelect(e)}},{key:"handleEmojiSelect",value:function(e){var t=this;this.props.onSelect(e),this.hideRecent||this.props.recent||T.add(e);var n=this.categoryRefs["category-1"];if(n){var r=n.maxMargin;n.forceUpdate(),window.requestAnimationFrame((function(){t.scroll&&(n.memoizeSize(),r!=n.maxMargin&&(t.updateCategoriesSize(),t.handleScrollPaint(),t.SEARCH_CATEGORY.emojis&&n.updateDisplay("none")))}))}}},{key:"handleScroll",value:function(){this.waitingForPaint||(this.waitingForPaint=!0,window.requestAnimationFrame(this.handleScrollPaint))}},{key:"handleScrollPaint",value:function(){if(this.waitingForPaint=!1,this.scroll){var e=null;if(this.SEARCH_CATEGORY.emojis)e=this.SEARCH_CATEGORY;else{for(var t=this.scroll.scrollTop,n=t>(this.scrollTop||0),r=0,i=0,o=this.categories.length;i<o;i++){var a=n?this.categories.length-1-i:i,s=this.categories[a],l=this.categoryRefs["category-"+a];if(l){var c=l.handleScroll(t);(!r||l.top<r)&&l.top>0&&(r=l.top),c&&!e&&(e=s)}}t<r?e=this.categories.filter((function(e){return!(!1===e.anchor)}))[0]:t+this.clientHeight>=this.scrollHeight&&(e=this.categories[this.categories.length-1])}if(e){var d=this.anchors,u=e.name;d.state.selected!=u&&d.setState({selected:u})}this.scrollTop=t}}},{key:"handleSearch",value:function(e){this.SEARCH_CATEGORY.emojis=e;for(var t=0,n=this.categories.length;t<n;t++){var r=this.categoryRefs["category-"+t];if(r&&"Search"!=r.props.name){var i=e?"none":"inherit";r.updateDisplay(i)}}this.forceUpdate(),this.scroll.scrollTop=0,this.handleScroll()}},{key:"handleAnchorClick",value:function(e,t){var n,r=this.categoryRefs["category-"+t],i=this.scroll;this.anchors;n=function(){if(r){var t=r.top;e.first?t=0:t+=1,i.scrollTop=t}},this.SEARCH_CATEGORY.emojis?(this.handleSearch(null),this.search.clear(),window.requestAnimationFrame(n)):n()}},{key:"handleSkinChange",value:function(e){var t={skin:e},n=this.props.onSkinChange;this.setState(t),_.update(t),n(e)}},{key:"handleKeyDown",value:function(e){var t=!1;switch(e.keyCode){case 13:var n=void 0;this.SEARCH_CATEGORY.emojis&&(n=this.SEARCH_CATEGORY.emojis[0])&&this.handleEmojiSelect(n),t=!0}t&&e.preventDefault()}},{key:"updateCategoriesSize",value:function(){for(var e=0,t=this.categories.length;e<t;e++){var n=this.categoryRefs["category-"+e];n&&n.memoizeSize()}if(this.scroll){var r=this.scroll;this.scrollHeight=r.scrollHeight,this.clientHeight=r.clientHeight}}},{key:"getCategories",value:function(){return this.state.firstRender?this.categories.slice(0,3):this.categories}},{key:"setAnchorsRef",value:function(e){this.anchors=e}},{key:"setSearchRef",value:function(e){this.search=e}},{key:"setPreviewRef",value:function(e){this.preview=e}},{key:"setScrollRef",value:function(e){this.scroll=e}},{key:"setCategoryRef",value:function(e,t){this.categoryRefs||(this.categoryRefs={}),this.categoryRefs[e]=t}},{key:"render",value:function(){var e=this,t=this.props,n=t.perLine,r=t.emojiSize,o=t.set,a=t.sheetSize,s=t.sheetColumns,l=t.sheetRows,c=t.style,d=t.title,u=t.emoji,p=t.color,f=t.native,h=t.backgroundImageFn,g=t.emojisToShowFilter,v=t.showPreview,b=t.showSkinTones,y=t.emojiTooltip,k=t.include,w=t.exclude,x=t.recent,C=t.autoFocus,_=t.skinEmoji,j=t.notFound,S=t.notFoundEmoji,O=this.state.skin,E=n*(r+12)+12+2+Object(P.e)();return m.a.createElement("div",{style:i({width:E},c),className:"emoji-mart",onKeyDown:this.handleKeyDown},m.a.createElement("div",{className:"emoji-mart-bar"},m.a.createElement(A,{ref:this.setAnchorsRef,data:this.data,i18n:this.i18n,color:p,categories:this.categories,onAnchorClick:this.handleAnchorClick,icons:this.icons})),m.a.createElement(J,{ref:this.setSearchRef,onSearch:this.handleSearch,data:this.data,i18n:this.i18n,emojisToShowFilter:g,include:k,exclude:w,custom:this.CUSTOM_CATEGORY.emojis,autoFocus:C}),m.a.createElement("div",{ref:this.setScrollRef,className:"emoji-mart-scroll",onScroll:this.handleScroll},this.getCategories().map((function(t,i){return m.a.createElement(R,{ref:e.setCategoryRef.bind(e,"category-"+i),key:t.name,id:t.id,name:t.name,emojis:t.emojis,perLine:n,native:f,hasStickyPosition:e.hasStickyPosition,data:e.data,i18n:e.i18n,recent:t.id==e.RECENT_CATEGORY.id?x:void 0,custom:t.id==e.RECENT_CATEGORY.id?e.CUSTOM_CATEGORY.emojis:void 0,emojiProps:{native:f,skin:O,size:r,set:o,sheetSize:a,sheetColumns:s,sheetRows:l,forceSize:f,tooltip:y,backgroundImageFn:h,onOver:e.handleEmojiOver,onLeave:e.handleEmojiLeave,onClick:e.handleEmojiClick},notFound:j,notFoundEmoji:S})}))),v&&m.a.createElement("div",{className:"emoji-mart-bar"},m.a.createElement(q,{ref:this.setPreviewRef,data:this.data,title:d,emoji:u,showSkinTones:b,emojiProps:{native:f,size:38,skin:O,set:o,sheetSize:a,sheetColumns:s,sheetRows:l,backgroundImageFn:h},skinsProps:{skin:O,onChange:this.handleSkinChange,skinEmoji:_},i18n:this.i18n})))}}]),t}(m.a.PureComponent);t.default=Q;Q.defaultProps=i({},D.b)},"./node_modules/emoji-mart/dist-es/polyfills/createClass.js":function(e,t,n){"use strict";var r=Object;t.a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),r.defineProperty(e,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},"./node_modules/emoji-mart/dist-es/utils/data.js":function(e,t,n){"use strict";n.r(t),n.d(t,"buildSearch",(function(){return i})),n.d(t,"compress",(function(){return o})),n.d(t,"uncompress",(function(){return a}));var r={name:"a",unified:"b",non_qualified:"c",has_img_apple:"d",has_img_google:"e",has_img_twitter:"f",has_img_emojione:"g",has_img_facebook:"h",has_img_messenger:"i",keywords:"j",sheet:"k",emoticons:"l",text:"m",short_names:"n",added_in:"o"},i=function(e){var t=[],n=function(e,n){e&&(Array.isArray(e)?e:[e]).forEach((function(e){(n?e.split(/[-|_|\s]+/):[e]).forEach((function(e){e=e.toLowerCase(),-1==t.indexOf(e)&&t.push(e)}))}))};return n(e.short_names,!0),n(e.name,!0),n(e.keywords,!1),n(e.emoticons,!1),t.join(",")},o=function(e){for(var t in e.short_names=e.short_names.filter((function(t){return t!==e.short_name})),delete e.short_name,e.sheet=[e.sheet_x,e.sheet_y],delete e.sheet_x,delete e.sheet_y,e.added_in=parseInt(e.added_in),6===e.added_in&&delete e.added_in,r)e[r[t]]=e[t],delete e[t];for(var n in e){var i=e[n];Array.isArray(i)&&!i.length?delete e[n]:"string"!=typeof i||i.length?null===i&&delete e[n]:delete e[n]}},a=function(e){for(var t in e.compressed=!1,e.emojis){var n=e.emojis[t];for(var o in r)n[o]=n[r[o]],delete n[r[o]];n.short_names||(n.short_names=[]),n.short_names.unshift(t),n.sheet_x=n.sheet[0],n.sheet_y=n.sheet[1],delete n.sheet,n.text||(n.text=""),n.added_in||(n.added_in=6),n.added_in=n.added_in.toFixed(1),n.search=i(n)}}},"./node_modules/emoji-mart/dist-es/utils/emoji-index/nimble-emoji-index.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=n.n(r),o=n("./node_modules/emoji-mart/dist-es/polyfills/createClass.js"),a=n("./node_modules/emoji-mart/dist-es/utils/index.js"),s=n("./node_modules/emoji-mart/dist-es/utils/data.js"),l=function(){function e(t){i()(this,e),t.compressed&&Object(s.uncompress)(t),this.data=t||{},this.originalPool={},this.index={},this.emojis={},this.emoticons={},this.customEmojisList=[],this.buildIndex()}return Object(o.a)(e,[{key:"buildIndex",value:function(){var e=this,t=function(t){var n=e.data.emojis[t],r=n.short_names,i=n.emoticons,o=r[0];i&&i.forEach((function(t){e.emoticons[t]||(e.emoticons[t]=o)})),e.emojis[o]=Object(a.c)(o,null,null,e.data),e.originalPool[o]=n};for(var n in this.data.emojis)t(n)}},{key:"clearCustomEmojis",value:function(e){var t=this;this.customEmojisList.forEach((function(n){var r=n.id||n.short_names[0];delete e[r],delete t.emojis[r]}))}},{key:"addCustomToPool",value:function(e,t){var n=this;this.customEmojisList.length&&this.clearCustomEmojis(t),e.forEach((function(e){var r=e.id||e.short_names[0];r&&!t[r]&&(t[r]=Object(a.b)(e,null,null,n.data),n.emojis[r]=Object(a.c)(e,null,null,n.data))})),this.customEmojisList=e,this.index={}}},{key:"search",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.emojisToShowFilter,i=n.maxResults,o=n.include,s=n.exclude,l=n.custom,c=void 0===l?[]:l;this.customEmojisList!=c&&this.addCustomToPool(c,this.originalPool),i||(i=75),o||(o=[]),s||(s=[]);var d=null,u=this.originalPool;if(e.length){if("-"==e||"-1"==e)return[this.emojis[-1]];var p=e.toLowerCase().split(/[\s|,|\-|_]+/),m=[];if(p.length>2&&(p=[p[0],p[1]]),(o.length||s.length)&&(u={},this.data.categories.forEach((function(e){var n=!o||!o.length||o.indexOf(e.id)>-1,r=!(!s||!s.length)&&s.indexOf(e.id)>-1;n&&!r&&e.emojis.forEach((function(e){return u[e]=t.data.emojis[e]}))})),c.length)){var f=!o||!o.length||o.indexOf("custom")>-1,h=!(!s||!s.length)&&s.indexOf("custom")>-1;f&&!h&&this.addCustomToPool(c,u)}d=(m=p.map((function(e){for(var n=u,r=t.index,i=0,o=0;o<e.length;o++){var a=e[o];i++,r[a]||(r[a]={}),(r=r[a]).results||function(){var o={};for(var a in r.results=[],r.pool={},n){var s=n[a],l=s.search,c=e.substr(0,i),d=l.indexOf(c);if(-1!=d){var u=d+1;c==a&&(u=0),r.results.push(t.emojis[a]),r.pool[a]=s,o[a]=u}}r.results.sort((function(e,t){return o[e.id]-o[t.id]}))}(),n=r.pool}return r.results})).filter((function(e){return e}))).length>1?a.d.apply(null,m):m.length?m[0]:[]}return d&&(r&&(d=d.filter((function(e){return r(u[e.id])}))),d&&d.length>i&&(d=d.slice(0,i))),d}}]),e}();t.default=l},"./node_modules/emoji-mart/dist-es/utils/index.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"a",(function(){return g})),n.d(t,"f",(function(){return d})),n.d(t,"e",(function(){return v}));var r=n("./node_modules/babel-runtime/core-js/object/keys.js"),i=n.n(r),o=n("./node_modules/emoji-mart/dist-es/utils/data.js"),a=String.fromCodePoint||function(){var e,t,n=16384,r=[],i=-1,o=arguments.length;if(!o)return"";for(var a="";++i<o;){var s=Number(arguments[i]);if(!isFinite(s)||s<0||s>1114111||Math.floor(s)!=s)throw RangeError("Invalid code point: "+s);s<=65535?r.push(s):(e=55296+((s-=65536)>>10),t=s%1024+56320,r.push(e,t)),(i+1===o||r.length>n)&&(a+=String.fromCharCode.apply(null,r),r.length=0)}return a},s=JSON,l=/^(?:\:([^\:]+)\:)(?:\:skin-tone-(\d)\:)?$/,c=["1F3FA","1F3FB","1F3FC","1F3FD","1F3FE","1F3FF"];function d(e){var t=e.split("-").map((function(e){return"0x"+e}));return a.apply(null,t)}function u(e){var t=e.name,n=e.short_names,r=e.skin_tone,i=e.skin_variations,o=e.emoticons,a=e.unified,s=e.custom,l=e.imageUrl,c=e.id||n[0],u=":"+c+":";return s?{id:c,name:t,colons:u,emoticons:o,custom:s,imageUrl:l}:(r&&(u+=":skin-tone-"+r+":"),{id:c,name:t,colons:u,emoticons:o,unified:a.toLowerCase(),skin:r||(i?1:null),native:d(a)})}function p(){return u(m.apply(void 0,arguments))}function m(e,t,n,r){var a={};if("string"==typeof e){var d=e.match(l);if(d&&(e=d[1],d[2]&&(t=parseInt(d[2],10))),r.aliases.hasOwnProperty(e)&&(e=r.aliases[e]),!r.emojis.hasOwnProperty(e))return null;a=r.emojis[e]}else e.id&&(r.aliases.hasOwnProperty(e.id)&&(e.id=r.aliases[e.id]),r.emojis.hasOwnProperty(e.id)&&(a=r.emojis[e.id],t||(t=e.skin)));if(i()(a).length||((a=e).custom=!0,a.search||(a.search=Object(o.buildSearch)(e))),a.emoticons||(a.emoticons=[]),a.variations||(a.variations=[]),a.skin_variations&&t>1&&n){a=JSON.parse(s.stringify(a));var u=c[t-1],p=a.skin_variations[u];if(!p.variations&&a.variations&&delete a.variations,null==p["has_img_"+n]||p["has_img_"+n])for(var m in a.skin_tone=t,p){var f=p[m];a[m]=f}}return a.variations&&a.variations.length&&((a=JSON.parse(s.stringify(a))).unified=a.variations.shift()),a}function f(e){return e.reduce((function(e,t){return-1===e.indexOf(t)&&e.push(t),e}),[])}function h(e,t){var n=f(e),r=f(t);return n.filter((function(e){return r.indexOf(e)>=0}))}function g(e,t){var n={};for(var r in e){var i=e[r],o=i;t.hasOwnProperty(r)&&(o=t[r]),"object"==typeof o&&(o=g(i,o)),n[r]=o}return n}function v(){if("undefined"==typeof document)return 0;var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.overflow="scroll",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}},"./node_modules/emoji-mart/dist-es/utils/shared-props.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var r=n("./node_modules/prop-types/index.js"),i=n.n(r),o=(i.a.object.isRequired,i.a.func,i.a.func,i.a.func,i.a.func,i.a.func,i.a.bool,i.a.bool,i.a.bool,i.a.oneOf([1,2,3,4,5,6]),i.a.oneOf([16,20,32,64]),i.a.number,i.a.number,i.a.oneOf(["apple","google","twitter","emojione","messenger","facebook"]),i.a.number.isRequired,i.a.oneOfType([i.a.string,i.a.object]).isRequired,{skin:1,set:"apple",sheetSize:64,sheetColumns:52,sheetRows:52,native:!1,forceSize:!1,tooltip:!1,backgroundImageFn:function(e,t){return"https://unpkg.com/emoji-datasource-"+e+"@4.0.4/img/"+e+"/sheets-256/"+t+".png"},onOver:function(){},onLeave:function(){},onClick:function(){}}),a=(i.a.func,i.a.func,i.a.func,i.a.number,i.a.number,i.a.object,i.a.object,i.a.string,i.a.string,i.a.string,i.a.bool,i.a.func,i.a.bool,i.a.bool,i.a.arrayOf(i.a.string),i.a.arrayOf(i.a.string),i.a.arrayOf(i.a.string),i.a.bool,i.a.arrayOf(i.a.shape({name:i.a.string.isRequired,short_names:i.a.arrayOf(i.a.string).isRequired,emoticons:i.a.arrayOf(i.a.string),keywords:i.a.arrayOf(i.a.string),imageUrl:i.a.string.isRequired})),i.a.string,i.a.func,i.a.string,i.a.object,{onClick:function(){},onSelect:function(){},onSkinChange:function(){},emojiSize:24,perLine:9,i18n:{},style:{},title:"Emoji Mart",emoji:"department_store",color:"#ae65c5",set:o.set,skin:null,defaultSkin:o.skin,native:o.native,sheetSize:o.sheetSize,backgroundImageFn:o.backgroundImageFn,emojisToShowFilter:null,showPreview:!0,showSkinTones:!0,emojiTooltip:o.tooltip,autoFocus:!1,custom:[],skinEmoji:"",notFound:function(){},notFoundEmoji:"sleuth_or_spy",icons:{}})},"./node_modules/emoji-mart/dist-es/vendor/raf-polyfill.js":function(e,t){"undefined"!=typeof window&&function(){for(var e=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var r=(new Date).getTime(),i=Math.max(0,16-(r-e)),o=window.setTimeout((function(){t(r+i)}),i);return e=r+i,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}()},"./node_modules/emotion/dist/index.esm.js":function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var r=n("./node_modules/create-emotion/dist/index.esm.js"),i=void 0!==e?e:{},o=Object(r.a)(i),a=(o.flush,o.hydrate,o.cx,o.merge,o.getRegisteredStyles,o.injectGlobal),s=(o.keyframes,o.css);o.sheet,o.caches}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/flexsearch/dist/flexsearch.min.js":function(e,t,n){"use strict";!function(t,n,r){let i;(i=r.define)&&i.amd?i([],(function(){return n})):(i=r.modules)?i["FlexSearch".toLowerCase()]=n:e.exports=n}(0,function e(t){function n(e,t){const n=t?t.id:e&&e.id;this.id=n||0===n?n:N++,this.init(e,t),a(this,"index",(function(){return this.a?Object.keys(this.a.index[this.a.keys[0]].c):Object.keys(this.c)})),a(this,"length",(function(){return this.index.length}))}function r(e,t,n,r){return this.u!==this.g&&(this.o=this.o.concat(n),this.u++,r&&this.o.length>=r&&(this.u=this.g),this.u===this.g&&(this.cache&&this.j.set(t,this.o),this.F&&this.F(this.o))),this}function i(e,t){const n=e.length,r=y(t),i=[];for(let o=0,a=0;o<n;o++){const n=e[o];(r&&t(n)||!r&&!t[n])&&(i[a++]=n)}return i}function o(e,t,n,r,i,o,a,s,l,c){let d;if(n=g(n,a?0:i,s,o,t,l,c),s&&(s=n.page,d=n.next,n=n.result),a)t=this.where(a,null,i,n);else{for(t=n,n=this.l,i=t.length,o=Array(i),a=0;a<i;a++)o[a]=n[t[a]];t=o}return n=t,r&&(y(r)||(B=r.split(":"),1<B.length?r=f:(B=B[0],r=m)),n.sort(r)),n=h(s,d,n),this.cache&&this.j.set(e,n),n}function a(e,t,n){Object.defineProperty(e,t,{get:n})}function s(e){return new RegExp(e,"g")}function l(e,t){for(let n=0;n<t.length;n+=2)e=e.replace(t[n],t[n+1]);return e}function c(e,t,n,r,i,o,a,s){return t[n]?t[n]:(i=i?(s-(a||s/1.5))*o+(a||s/1.5)*i:o,t[n]=i,i>=a&&((e=(e=e[s-(i+.5>>0)])[n]||(e[n]=[]))[e.length]=r),i)}function d(e,t){if(e){const n=Object.keys(e);for(let r=0,i=n.length;r<i;r++){const i=n[r],o=e[i];if(o)for(let n=0,r=o.length;n<r;n++){if(o[n]===t){1===r?delete e[i]:o.splice(n,1);break}k(o[n])&&d(o[n],t)}}}}function u(e){let t="",n="";var r="";for(let i=0;i<e.length;i++){const o=e[i];o!==n&&(i&&"h"===o?(r="a"===r||"e"===r||"i"===r||"o"===r||"u"===r||"y"===r,(("a"===n||"e"===n||"i"===n||"o"===n||"u"===n||"y"===n)&&r||" "===n)&&(t+=o)):t+=o),r=i===e.length-1?"":e[i+1],n=o}return t}function p(e,t){return 0>(e=e.length-t.length)?1:e?-1:0}function m(e,t){return(e=e[B])<(t=t[B])?-1:e>t?1:0}function f(e,t){const n=B.length;for(let r=0;r<n;r++)e=e[B[r]],t=t[B[r]];return e<t?-1:e>t?1:0}function h(e,t,n){return e?{page:e,next:t?""+t:null,result:n}:n}function g(e,t,n,r,i,o,a){let s,l=[];if(!0===n){n="0";var c=""}else c=n&&n.split(":");const d=e.length;if(1<d){const y=C(),k=[];let x,_;var u,p=0;let j;var m=!0;let S,O,E,N,T,P,B=0;if(c&&(2===c.length?(N=c,c=!1):c=T=parseInt(c[0],10)),a){for(x=C();p<d;p++)if("not"===i[p])for(_=e[p],j=_.length,u=0;u<j;u++)x["@"+_[u]]=1;else E=p+1;if(w(E))return h(n,s,l);p=0}else O=v(i)&&i;for(;p<d;p++){const v=p===(E||d)-1;if(!O||!p)if((u=O||i&&i[p])&&"and"!==u){if("or"!==u)continue;P=!1}else P=o=!0;if(_=e[p],j=_.length){if(m){if(!S){S=_;continue}var f=S.length;for(u=0;u<f;u++){var g="@"+(m=S[u]);a&&x[g]||(y[g]=1,o||(l[B++]=m))}S=null,m=!1}for(g=!1,u=0;u<j;u++){var b="@"+(f=_[u]);const e=o?y[b]||0:p;if(!(!e&&!r||a&&x[b]||!o&&y[b]))if(e===p){if(v){if((!T||--T<B)&&(l[B++]=f,t&&B===t))return h(n,B+(c||0),l)}else y[b]=p+1;g=!0}else r&&((b=k[e]||(k[e]=[]))[b.length]=f)}if(P&&!g&&!r)break}else if(P&&!r)return h(n,s,_)}if(S)if(p=S.length,a)for(u=c?parseInt(c,10):0;u<p;u++)x["@"+(e=S[u])]||(l[B++]=e);else l=S;if(r)for(B=l.length,N?(p=parseInt(N[0],10)+1,u=parseInt(N[1],10)+1):(p=k.length,u=0);p--;)if(f=k[p]){for(j=f.length;u<j;u++)if(r=f[u],(!a||!x["@"+r])&&(l[B++]=r,t&&B===t))return h(n,p+":"+u,l);u=0}}else!d||i&&"not"===i[0]||(l=e[0],c&&(c=parseInt(c[0],10)));return t&&(a=l.length,c&&c>a&&(c=0),s=(c=c||0)+t,s<a?l=l.slice(c,s):(s=0,c&&(l=l.slice(c)))),h(n,s,l)}function v(e){return"string"==typeof e}function b(e){return e.constructor===Array}function y(e){return"function"==typeof e}function k(e){return"object"==typeof e}function w(e){return void 0===e}function x(e){const t=Array(e);for(let n=0;n<e;n++)t[n]=C();return t}function C(){return Object.create(null)}function _(){let e,t;self.onmessage=function(n){if(n=n.data)if(n.search){const r=t.search(n.content,n.threshold?{limit:n.limit,threshold:n.threshold,where:n.where}:n.limit);self.postMessage({id:e,content:n.content,limit:n.limit,result:r})}else n.add?t.add(n.id,n.content):n.update?t.update(n.id,n.content):n.remove?t.remove(n.id):n.clear?t.clear():n.info?((n=t.info()).worker=e,console.log(n)):n.register&&(e=n.id,n.options.cache=!1,n.options.async=!1,n.options.worker=!1,t=new Function(n.register.substring(n.register.indexOf("{")+1,n.register.lastIndexOf("}")))(),t=new t(n.options))}}function j(n,r,i,o){n=t("flexsearch","id"+n,_,(function(e){(e=e.data)&&e.result&&o(e.id,e.content,e.result,e.limit,e.where,e.cursor,e.suggest)}),r);const a=e.toString();return i.id=r,n.postMessage({register:a,options:i,id:r}),n}const S={encode:"icase",f:"forward",split:/\W+/,cache:!1,async:!1,g:!1,D:!1,a:!1,b:9,threshold:0,depth:0},O={memory:{encode:"extra",f:"strict",threshold:0,b:1},speed:{encode:"icase",f:"strict",threshold:1,b:3,depth:2},match:{encode:"extra",f:"full",threshold:1,b:3},score:{encode:"extra",f:"strict",threshold:1,b:9,depth:4},balance:{encode:"balance",f:"strict",threshold:0,b:3,depth:3},fast:{encode:"icase",f:"strict",threshold:8,b:9,depth:1}},E=[];let N=0;const T={},P={};let B;n.create=function(e,t){return new n(e,t)},n.registerMatcher=function(e){for(const t in e)e.hasOwnProperty(t)&&E.push(s(t),e[t]);return this},n.registerEncoder=function(e,t){return I[e]=t.bind(I),this},n.registerLanguage=function(e,t){return T[e]=t.filter,P[e]=t.stemmer,this},n.encode=function(e,t){return I[e](t)},n.prototype.init=function(e,t){if(this.v=[],t){var i=t.preset;e=t}else e||(e=S),i=e.preset;if(t={},v(e)?(t=O[e],e={}):i&&(t=O[i]),i=e.worker)if("undefined"==typeof Worker)e.worker=!1,this.m=null;else{var o=parseInt(i,10)||4;this.C=-1,this.u=0,this.o=[],this.F=null,this.m=Array(o);for(var a=0;a<o;a++)this.m[a]=j(this.id,a,e,r.bind(this))}if(this.f=e.tokenize||t.f||this.f||S.f,this.split=w(i=e.split)?this.split||S.split:v(i)?s(i):i,this.D=e.rtl||this.D||S.D,this.async="undefined"==typeof Promise||w(i=e.async)?this.async||S.async:i,this.g=w(i=e.worker)?this.g||S.g:i,this.threshold=w(i=e.threshold)?t.threshold||this.threshold||S.threshold:i,this.b=w(i=e.resolution)?i=t.b||this.b||S.b:i,i<=this.threshold&&(this.b=this.threshold+1),this.depth="strict"!==this.f||w(i=e.depth)?t.depth||this.depth||S.depth:i,this.w=(i=w(i=e.encode)?t.encode||S.encode:i)&&I[i]&&I[i].bind(I)||(y(i)?i:this.w||!1),(i=e.matcher)&&this.addMatcher(i),i=(t=e.lang)||e.filter){if(v(i)&&(i=T[i]),b(i)){o=this.w,a=C();for(var l=0;l<i.length;l++){var c=o?o(i[l]):i[l];a[c]=1}i=a}this.filter=i}if(i=t||e.stemmer){var d;for(d in t=v(i)?P[i]:i,o=this.w,a=[],t)t.hasOwnProperty(d)&&(l=o?o(d):d,a.push(s(l+"($|\\W)"),o?o(t[d]):t[d]));this.stemmer=d=a}if(this.a=a=(i=e.doc)?function e(t){const n=C();for(const r in t)if(t.hasOwnProperty(r)){const i=t[r];b(i)?n[r]=i.slice(0):k(i)?n[r]=e(i):n[r]=i}return n}(i):this.a||S.a,this.i=x(this.b-(this.threshold||0)),this.h=C(),this.c=C(),a){if(this.l=C(),e.doc=null,d=a.index={},t=a.keys=[],o=a.field,l=a.tag,c=a.store,b(a.id)||(a.id=a.id.split(":")),c){var u=C();if(v(c))u[c]=1;else if(b(c))for(let e=0;e<c.length;e++)u[c[e]]=1;else k(c)&&(u=c);a.store=u}if(l){if(this.G=C(),c=C(),o)if(v(o))c[o]=e;else if(b(o))for(u=0;u<o.length;u++)c[o[u]]=e;else k(o)&&(c=o);for(b(l)||(a.tag=l=[l]),o=0;o<l.length;o++)this.G[l[o]]=C();this.I=l,o=c}if(o){let r;for(b(o)||(k(o)?(r=o,a.field=o=Object.keys(o)):a.field=o=[o]),a=0;a<o.length;a++)b(l=o[a])||(r&&(e=r[l]),t[a]=l,o[a]=l.split(":")),d[l]=new n(e)}e.doc=i}return this.B=!0,this.j=!!(this.cache=i=w(i=e.cache)?this.cache||S.cache:i)&&new A(i),this},n.prototype.encode=function(e){return e&&(E.length&&(e=l(e,E)),this.v.length&&(e=l(e,this.v)),this.w&&(e=this.w(e)),this.stemmer&&(e=l(e,this.stemmer))),e},n.prototype.addMatcher=function(e){const t=this.v;for(const n in e)e.hasOwnProperty(n)&&t.push(s(n),e[n]);return this},n.prototype.add=function(e,t,n,r,o){if(this.a&&k(e))return this.A("add",e,t);if(t&&v(t)&&(e||0===e)){var a="@"+e;if(this.c[a]&&!r)return this.update(e,t);if(this.g)return++this.C>=this.m.length&&(this.C=0),this.m[this.C].postMessage({add:!0,id:e,content:t}),this.c[a]=""+this.C,n&&n(),this;if(!o){if(this.async&&"function"!=typeof importScripts){let i=this;return a=new Promise((function(n){setTimeout((function(){i.add(e,t,null,r,!0),i=null,n()}))})),n?(a.then(n),this):a}if(n)return this.add(e,t,null,r,!0),n(),this}if(!(t=this.encode(t)).length)return this;o=y(n=this.f)?n(t):t.split(this.split),this.filter&&(o=i(o,this.filter));const m=C();m._ctx=C();const f=o.length,h=this.threshold,g=this.depth,v=this.b,b=this.i,k=this.D;for(let t=0;t<f;t++){var s=o[t];if(s){var l=s.length,d=(k?t+1:f-t)/f,u="";switch(n){case"reverse":case"both":for(var p=l;--p;)c(b,m,u=s[p]+u,e,k?1:(l-p)/l,d,h,v-1);u="";case"forward":for(p=0;p<l;p++)c(b,m,u+=s[p],e,k?(p+1)/l:1,d,h,v-1);break;case"full":for(p=0;p<l;p++){const t=(k?p+1:l-p)/l;for(let n=l;n>p;n--)c(b,m,u=s.substring(p,n),e,t,d,h,v-1)}break;default:if(l=c(b,m,s,e,1,d,h,v-1),g&&1<f&&l>=h)for(l=m._ctx[s]||(m._ctx[s]=C()),s=this.h[s]||(this.h[s]=x(v-(h||0))),0>(d=t-g)&&(d=0),(u=t+g+1)>f&&(u=f);d<u;d++)d!==t&&c(s,l,o[d],e,0,v-(d<t?t-d:d-t),h,v-1)}}}this.c[a]=1,this.B=!1}return this},n.prototype.A=function(e,t,n){if(b(t)){var r=t.length;if(r--){for(var i=0;i<r;i++)this.A(e,t[i]);return this.A(e,t[r],n)}}else{var o,a=this.a.index,s=this.a.keys,l=this.a.tag;i=this.a.store;var c=this.a.id;r=t;for(var d=0;d<c.length;d++)r=r[c[d]];if("remove"===e&&(delete this.l[r],c=s.length,c--)){for(t=0;t<c;t++)a[s[t]].remove(r);return a[s[c]].remove(r,n)}if(l){for(o=0;o<l.length;o++){var u=l[o],p=t;for(c=u.split(":"),d=0;d<c.length;d++)p=p[c[d]];p="@"+p}o=(o=this.G[u])[p]||(o[p]=[])}for(let i=0,o=(c=this.a.field).length;i<o;i++){for(u=c[i],l=t,p=0;p<u.length;p++)l=l[u[p]];u=a[s[i]],p="add"===e?u.add:u.update,i===o-1?p.call(u,r,l,n):p.call(u,r,l)}if(i){for(n=Object.keys(i),e=C(),a=0;a<n.length;a++)if(i[s=n[a]]){let n,r;for(s=s.split(":"),c=0;c<s.length;c++)r=(r||t)[l=s[c]],n=(n||e)[l]=r}t=e}o&&(o[o.length]=t),this.l[r]=t}return this},n.prototype.update=function(e,t,n){return this.a&&k(e)?this.A("update",e,t):(this.c["@"+e]&&v(t)&&(this.remove(e),this.add(e,t,n,!0)),this)},n.prototype.remove=function(e,t,n){if(this.a&&k(e))return this.A("remove",e,t);var r="@"+e;if(this.c[r]){if(this.g)return this.m[this.c[r]].postMessage({remove:!0,id:e}),delete this.c[r],t&&t(),this;if(!n){if(this.async&&"function"!=typeof importScripts){let n=this;return r=new Promise((function(t){setTimeout((function(){n.remove(e,null,!0),n=null,t()}))})),t?(r.then(t),this):r}if(t)return this.remove(e,null,!0),t(),this}for(t=0;t<this.b-(this.threshold||0);t++)d(this.i[t],e);this.depth&&d(this.h,e),delete this.c[r],this.B=!1}return this},n.prototype.search=function(e,t,n,r){if(k(t)){if(b(t))for(var a=0;a<t.length;a++)t[a].query=e;else t.query=e;e=t,t=1e3}else t&&y(t)?(n=t,t=1e3):t||0===t||(t=1e3);let s,l,c,d=[],u=e;if(k(e)&&!b(e)){n||(n=e.callback)&&(u.callback=null),l=e.sort,s=e.page,t=e.limit;var m=e.threshold;c=e.suggest,e=e.query}if(this.a){m=this.a.index;const i=u.where;var f=u.bool||"or",h=u.field;let p,g,y=f;if(h)b(h)||(h=[h]);else if(b(u)){var w=u;h=[],y=[];for(var x=0;x<u.length;x++)a=(r=u[x]).bool||f,h[x]=r.field,y[x]=a,"not"===a?p=!0:"and"===a&&(g=!0)}else h=this.a.keys;for(f=h.length,x=0;x<f;x++)w&&(u=w[x]),s&&!v(u)&&(u.page=null,u.limit=0),d[x]=m[h[x]].search(u,0);if(n)return n(o.call(this,e,y,d,l,t,c,i,s,g,p));if(this.async){const n=this;return new Promise((function(r){Promise.all(d).then((function(a){r(o.call(n,e,y,a,l,t,c,i,s,g,p))}))}))}return o.call(this,e,y,d,l,t,c,i,s,g,p)}if(m||(m=this.threshold||0),!this.g){if(!r){if(this.async&&"function"!=typeof importScripts){let e=this;return m=new Promise((function(n){setTimeout((function(){n(e.search(u,t,null,!0)),e=null}))})),n?(m.then(n),this):m}if(n)return n(this.search(u,t,null,!0)),this}if(!e||!v(e))return d;if(u=e,this.cache)if(this.B){if(n=this.j.get(e))return n}else this.j.clear(),this.B=!0;if(u=this.encode(u),!u.length)return d;n=y(n=this.f)?n(u):u.split(this.split),this.filter&&(n=i(n,this.filter)),w=n.length,r=!0,a=[];var _=C(),j=0;if(1<w&&(this.depth&&"strict"===this.f?f=!0:n.sort(p)),!f||(x=this.h)){const e=this.b;for(;j<w;j++){let t=n[j];if(t){if(f){if(!h)if(x[t])h=t,_[t]=1;else if(!c)return d;if(c&&j===w-1&&!a.length)f=!1,t=h||t,_[t]=0;else if(!h)continue}if(!_[t]){const n=[];let i=!1,o=0;const s=f?x[h]:this.i;if(s){let r;for(let a=0;a<e-m;a++)(r=s[a]&&s[a][t])&&(n[o++]=r,i=!0)}if(i)h=t,a[a.length]=1<o?n.concat.apply([],n):n[0];else if(!c){r=!1;break}_[t]=1}}}}else r=!1;return r&&(d=g(a,t,s,c)),this.cache&&this.j.set(e,d),d}for(this.F=n,this.u=0,this.o=[],m=0;m<this.g;m++)this.m[m].postMessage({search:!0,limit:t,content:u})},n.prototype.find=function(e,t){return this.where(e,t,1)[0]||null},n.prototype.where=function(e,t,n,r){const i=this.l,o=[];let a,s=0;var l;let c;if(k(e)){n||(n=t);var d=Object.keys(e),u=d.length;if(a=!1,1===u&&"id"===d[0])return[i[e.id]];if((l=this.I)&&!r)for(var p=0;p<l.length;p++){var m=l[p],f=e[m];if(!w(f)){if(c=this.G[m]["@"+f],0==--u)return c;d.splice(d.indexOf(m),1),delete e[m];break}}for(l=Array(u),p=0;p<u;p++)l[p]=d[p].split(":")}else{if(y(e)){for(n=(t=r||Object.keys(i)).length,d=0;d<n;d++)e(u=i[t[d]])&&(o[s++]=u);return o}if(w(t))return[i[e]];if("id"===e)return[i[t]];d=[e],u=1,l=[e.split(":")],a=!0}for(p=(r=c||r||Object.keys(i)).length,m=0;m<p;m++){f=c?r[m]:i[r[m]];let p=!0;for(let n=0;n<u;n++){a||(t=e[d[n]]);const r=l[n],i=r.length;let o=f;if(1<i)for(let e=0;e<i;e++)o=o[r[e]];else o=o[r[0]];if(o!==t){p=!1;break}}if(p&&(o[s++]=f,n&&s===n))break}return o},n.prototype.info=function(){if(!this.g)return{id:this.id,items:this.length,cache:!(!this.cache||!this.cache.s)&&this.cache.s.length,matcher:E.length+(this.v?this.v.length:0),worker:this.g,threshold:this.threshold,depth:this.depth,resolution:this.b,contextual:this.depth&&"strict"===this.f};for(let e=0;e<this.g;e++)this.m[e].postMessage({info:!0,id:this.id})},n.prototype.clear=function(){return this.destroy().init()},n.prototype.destroy=function(){if(this.cache&&(this.j.clear(),this.j=null),this.i=this.h=this.c=null,this.a){const e=this.a.keys;for(let t=0;t<e.length;t++)this.a.index[e[t]].destroy();this.a=this.l=null}return this},n.prototype.export=function(e){const t=!e||w(e.serialize)||e.serialize;if(this.a){const t=!e||w(e.doc)||e.doc;var n=!e||w(e.index)||e.index;e=[];let r=0;if(n)for(n=this.a.keys;r<n.length;r++){const t=this.a.index[n[r]];e[r]=[t.i,t.h,Object.keys(t.c)]}t&&(e[r]=this.l)}else e=[this.i,this.h,Object.keys(this.c)];return t&&(e=JSON.stringify(e)),e},n.prototype.import=function(e,t){(!t||w(t.serialize)||t.serialize)&&(e=JSON.parse(e));const n=C();if(this.a){var r=!t||w(t.doc)||t.doc,i=0;if(!t||w(t.index)||t.index){const r=(t=this.a.keys).length;for(var o=e[0][2];i<o.length;i++)n[o[i]]=1;for(i=0;i<r;i++){o=this.a.index[t[i]];const r=e[i];r&&(o.i=r[0],o.h=r[1],o.c=n)}}r&&(this.l=k(r)?r:e[i])}else{for(r=e[2],i=0;i<r.length;i++)n[r[i]]=1;this.i=e[0],this.h=e[1],this.c=n}};const D=function(){const e=s("\\s+"),t=s("[^a-z0-9 ]"),n=[s("[-/]")," ",t,"",e," "];return function(e){return u(l(e.toLowerCase(),n))}}(),I={icase:function(e){return e.toLowerCase()},simple:function(){const e=s("\\s+"),t=s("[^a-z0-9 ]"),n=s("[-/]"),r=[s("[]"),"a",s("[]"),"e",s("[]"),"i",s("[]"),"o",s("[]"),"u",s("[]"),"y",s(""),"n",s("[c]"),"k",s(""),"s",s(" & ")," and ",n," ",t,"",e," "];return function(e){return" "===(e=l(e.toLowerCase(),r))?"":e}}(),advanced:function(){const e=s("ae"),t=s("ai"),n=s("ay"),r=s("ey"),i=s("oe"),o=s("ue"),a=s("ie"),c=s("sz"),d=s("zs"),p=s("ck"),m=s("cc"),f=[e,"a",t,"ei",n,"ei",r,"ei",i,"o",o,"u",a,"i",c,"s",d,"s",s("sh"),"s",p,"k",m,"k",s("th"),"t",s("dt"),"t",s("ph"),"f",s("pf"),"f",s("ou"),"o",s("uo"),"u"];return function(e,t){return e?(2<(e=this.simple(e)).length&&(e=l(e,f)),t||1<e.length&&(e=u(e)),e):e}}(),extra:function(){const e=[s("p"),"b",s("z"),"s",s("[cgq]"),"k",s("n"),"m",s("d"),"t",s("[vw]"),"f",s("[aeiouy]"),""];return function(t){if(!t)return t;if(1<(t=this.advanced(t,!0)).length){t=t.split(" ");for(let n=0;n<t.length;n++){const r=t[n];1<r.length&&(t[n]=r[0]+l(r.substring(1),e))}t=u(t=t.join(" "))}return t}}(),balance:D},A=function(){function e(e){this.clear(),this.H=!0!==e&&e}return e.prototype.clear=function(){this.cache=C(),this.count=C(),this.index=C(),this.s=[]},e.prototype.set=function(e,t){if(this.H&&w(this.cache[e])){let n=this.s.length;if(n===this.H){n--;const e=this.s[n];delete this.cache[e],delete this.count[e],delete this.index[e]}this.index[e]=n,this.s[n]=e,this.count[e]=-1,this.cache[e]=t,this.get(e)}else this.cache[e]=t},e.prototype.get=function(e){const t=this.cache[e];if(this.H&&t){var n=++this.count[e];const t=this.index;let i=t[e];if(0<i){const o=this.s;for(var r=i;this.count[o[--i]]<=n&&-1!==i;);if(i++,i!==r){for(n=r;n>i;n--)r=o[n-1],o[n]=r,t[r]=n;o[i]=e,t[e]=i}}}return t},e}();return n}(function(){const e={},t="undefined"!=typeof Blob&&"undefined"!=typeof URL&&URL.createObjectURL;return function(n,r,i,o,a){return i=t?URL.createObjectURL(new Blob(["("+i.toString()+")()"],{type:"text/javascript"})):n+".min.js",e[n+="-"+r]||(e[n]=[]),e[n][a]=new Worker(i),e[n][a].onmessage=o,e[n][a]}}()),this)},"./node_modules/flushable/dist/index.umd.js":function(e,t,n){e.exports=function(){"use strict";return function(e,t){var n=setTimeout((function(){n=null,e(!1)}),t),r=function(){n&&(clearTimeout(n),n=null)};return{cancel:r,flush:function(){n&&(r(),e(!0))},pending:function(){return Boolean(n)}}}}()},"./node_modules/invariant/browser.js":function(e,t,n){"use strict";e.exports=function(e,t,n,r,i,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],d=0;(l=new Error(t.replace(/%s/g,(function(){return c[d++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},"./node_modules/joinn/lib/joinn.js":function(e,t){(function(){e.exports=function(e,t,n){var r;switch(null==t&&(t=", "),null==n&&(n=" and "),e.length){case 0:return"";case 1:return e.pop();default:return r=e.pop(),e.join(t)+n+r}}}).call(this)},"./node_modules/performance-now/lib/performance-now.js":function(e,t,n){(function(t){(function(){var n,r,i,o,a,s;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:null!=t&&t.hrtime?(e.exports=function(){return(n()-a)/1e6},r=t.hrtime,o=(n=function(){var e;return 1e9*(e=r())[0]+e[1]})(),s=1e9*t.uptime(),a=o-s):Date.now?(e.exports=function(){return Date.now()-i},i=Date.now()):(e.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)}).call(this,n("./node_modules/process/browser.js"))},"./node_modules/raf/index.js":function(e,t,n){(function(t){for(var r=n("./node_modules/performance-now/lib/performance-now.js"),i="undefined"==typeof window?t:window,o=["moz","webkit"],a="AnimationFrame",s=i["request"+a],l=i["cancel"+a]||i["cancelRequest"+a],c=0;!s&&c<o.length;c++)s=i[o[c]+"Request"+a],l=i[o[c]+"Cancel"+a]||i[o[c]+"CancelRequest"+a];if(!s||!l){var d=0,u=0,p=[];s=function(e){if(0===p.length){var t=r(),n=Math.max(0,1e3/60-(t-d));d=n+t,setTimeout((function(){var e=p.slice(0);p.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(d)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(n))}return p.push({handle:++u,callback:e,cancelled:!1}),u},l=function(e){for(var t=0;t<p.length;t++)p[t].handle===e&&(p[t].cancelled=!0)}}e.exports=function(e){return s.call(i,e)},e.exports.cancel=function(){l.apply(i,arguments)},e.exports.polyfill=function(e){e||(e=i),e.requestAnimationFrame=s,e.cancelAnimationFrame=l}}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/react-animate-height/lib/AnimateHeight.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=l(n("./node_modules/react/index.js")),a=l(n("./node_modules/prop-types/index.js")),s=l(n("./node_modules/classnames/index.js"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d={animating:"rah-animating",animatingUp:"rah-animating--up",animatingDown:"rah-animating--down",animatingToHeightZero:"rah-animating--to-height-zero",animatingToHeightAuto:"rah-animating--to-height-auto",animatingToHeightSpecific:"rah-animating--to-height-specific",static:"rah-static",staticHeightZero:"rah-static--height-zero",staticHeightAuto:"rah-static--height-auto",staticHeightSpecific:"rah-static--height-specific"},u=["animateOpacity","animationStateClasses","applyInlineTransitions","children","contentClassName","delay","duration","easing","height","onAnimationEnd","onAnimationStart"];function p(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(!n.length)return e;for(var i={},o=Object.keys(e),a=0;a<o.length;a++){var s=o[a];-1===n.indexOf(s)&&(i[s]=e[s])}return i}function m(e){return!isNaN(parseFloat(e))&&isFinite(e)}function f(e){return"string"==typeof e&&e.search("%")===e.length-1&&m(e.substr(0,e.length-1))}function h(e,t){e&&"function"==typeof e&&e(t)}var g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),i="auto",o="visible";m(e.height)?(i=e.height<0?0:e.height,o="hidden"):f(e.height)&&(i=e.height,o="hidden"),n.animationStateClasses=r({},d,e.animationStateClasses);var a=n.getStaticStateClasses(i);return n.state={animationStateClasses:a,height:i,overflow:o,shouldUseTransitions:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this.state.height;this.contentElement&&this.contentElement.style&&this.hideContent(e)}},{key:"componentDidUpdate",value:function(e,t){var n,r=this,i=this.props,o=i.delay,a=i.duration,l=i.height,d=i.onAnimationEnd,u=i.onAnimationStart;if(this.contentElement&&l!==e.height){var p;this.showContent(t.height),this.contentElement.style.overflow="hidden";var g=this.contentElement.offsetHeight;this.contentElement.style.overflow="";var v=a+o,b=null,y={height:null,overflow:"hidden"},k="auto"===t.height;m(l)?(b=l<0?0:l,y.height=b):f(l)?(b=l,y.height=b):(b=g,y.height="auto",y.overflow=null),k&&(y.height=b,b=g);var w=(0,s.default)((c(p={},this.animationStateClasses.animating,!0),c(p,this.animationStateClasses.animatingUp,"auto"===e.height||l<e.height),c(p,this.animationStateClasses.animatingDown,"auto"===l||l>e.height),c(p,this.animationStateClasses.animatingToHeightZero,0===y.height),c(p,this.animationStateClasses.animatingToHeightAuto,"auto"===y.height),c(p,this.animationStateClasses.animatingToHeightSpecific,y.height>0),p)),x=this.getStaticStateClasses(y.height);this.setState({animationStateClasses:w,height:b,overflow:"hidden",shouldUseTransitions:!k}),clearTimeout(this.timeoutID),clearTimeout(this.animationClassesTimeoutID),k?(y.shouldUseTransitions=!0,n=function(){r.setState(y),h(u,{newHeight:y.height})},requestAnimationFrame((function(){requestAnimationFrame((function(){n()}))})),this.animationClassesTimeoutID=setTimeout((function(){r.setState({animationStateClasses:x,shouldUseTransitions:!1}),r.hideContent(y.height),h(d,{newHeight:y.height})}),v)):(h(u,{newHeight:b}),this.timeoutID=setTimeout((function(){y.animationStateClasses=x,y.shouldUseTransitions=!1,r.setState(y),"auto"!==l&&r.hideContent(b),h(d,{newHeight:b})}),v))}}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeoutID),clearTimeout(this.animationClassesTimeoutID),this.timeoutID=null,this.animationClassesTimeoutID=null,this.animationStateClasses=null}},{key:"showContent",value:function(e){0===e&&(this.contentElement.style.display="")}},{key:"hideContent",value:function(e){0===e&&(this.contentElement.style.display="none")}},{key:"getStaticStateClasses",value:function(e){var t;return(0,s.default)((c(t={},this.animationStateClasses.static,!0),c(t,this.animationStateClasses.staticHeightZero,0===e),c(t,this.animationStateClasses.staticHeightSpecific,e>0),c(t,this.animationStateClasses.staticHeightAuto,"auto"===e),t))}},{key:"render",value:function(){var e,t=this,n=this.props,i=n.animateOpacity,a=n.applyInlineTransitions,l=n.children,d=n.className,m=n.contentClassName,f=n.duration,h=n.easing,g=n.delay,v=n.style,b=this.state,y=b.height,k=b.overflow,w=b.animationStateClasses,x=b.shouldUseTransitions,C=r({},v,{height:y,overflow:k||v.overflow});x&&a&&(C.transition="height "+f+"ms "+h+" "+g+"ms",v.transition&&(C.transition=v.transition+", "+C.transition),C.WebkitTransition=C.transition);var _={};i&&(_.transition="opacity "+f+"ms "+h+" "+g+"ms",_.WebkitTransition=_.transition,0===y&&(_.opacity=0));var j=(0,s.default)((c(e={},w,!0),c(e,d,d),e));return o.default.createElement("div",r({},p.apply(void 0,[this.props].concat(u)),{"aria-hidden":0===y,className:j,style:C}),o.default.createElement("div",{className:m,style:_,ref:function(e){return t.contentElement=e}},l))}}]),t}(o.default.Component);g.propTypes={animateOpacity:a.default.bool,animationStateClasses:a.default.object,applyInlineTransitions:a.default.bool,children:a.default.any.isRequired,className:a.default.string,contentClassName:a.default.string,duration:a.default.number,delay:a.default.number,easing:a.default.string,height:a.default.oneOfType([a.default.string,a.default.number]),onAnimationEnd:a.default.func,onAnimationStart:a.default.func,style:a.default.object},g.defaultProps={animateOpacity:!1,animationStateClasses:d,applyInlineTransitions:!0,duration:250,delay:0,easing:"ease",style:{}},t.default=g},"./node_modules/react-dnd/dist/esm/common/DndContext.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return De})),n.d(t,"b",(function(){return Ie}));var r,i=n("./node_modules/react/index.js");!function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(r||(r={}));var o=n("./node_modules/redux/es/redux.js"),a=n("./node_modules/invariant/browser.js"),s=n.n(a),l="dnd-core/INIT_COORDS",c="dnd-core/BEGIN_DRAG",d="dnd-core/PUBLISH_DRAG_SOURCE",u="dnd-core/HOVER",p="dnd-core/DROP",m="dnd-core/END_DRAG";function f(e,t){return{type:l,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t,n){return t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:n||null}),e)}function v(e,t){return e.filter((function(e){return e!==t}))}function b(e){return"object"===h(e)}function y(e,t){var n=new Map,r=function(e){return n.set(e,n.has(e)?n.get(e)+1:1)};e.forEach(r),t.forEach(r);var i=[];return n.forEach((function(e,t){1===e&&i.push(t)})),i}var k={type:l,payload:{clientOffset:null,sourceClientOffset:null}};function w(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{publishSource:!0},r=n.publishSource,i=void 0===r||r,o=n.clientOffset,a=n.getSourceClientOffset,s=e.getMonitor(),l=e.getRegistry();e.dispatch(f(o)),x(t,s,l);var d=j(t,s);if(null!==d){var u=null;o&&(C(a),u=a(d)),e.dispatch(f(o,u));var p=l.getSource(d),m=p.beginDrag(s,d);_(m),l.pinSource(d);var h=l.getSourceType(d);return{type:c,payload:{itemType:h,item:m,sourceId:d,clientOffset:o||null,sourceClientOffset:u||null,isSourcePublic:!!i}}}e.dispatch(k)}}function x(e,t,n){s()(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach((function(e){s()(n.getSource(e),"Expected sourceIds to be registered.")}))}function C(e){s()("function"==typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}function _(e){s()(b(e),"Item must be an object.")}function j(e,t){for(var n=null,r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}function S(e){return function(){if(e.getMonitor().isDragging())return{type:d}}}function O(e,t){return null===t?null===e:Array.isArray(e)?e.some((function(e){return e===t})):e===t}function E(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.clientOffset;N(t);var i=t.slice(0),o=e.getMonitor(),a=e.getRegistry();T(i,o,a);var s=o.getItemType();return P(i,a,s),B(i,o,a),{type:u,payload:{targetIds:i,clientOffset:r||null}}}}function N(e){s()(Array.isArray(e),"Expected targetIds to be an array.")}function T(e,t,n){s()(t.isDragging(),"Cannot call hover while not dragging."),s()(!t.didDrop(),"Cannot call hover after drop.");for(var r=0;r<e.length;r++){var i=e[r];s()(e.lastIndexOf(i)===r,"Expected targetIds to be unique in the passed array.");var o=n.getTarget(i);s()(o,"Expected targetIds to be registered.")}}function P(e,t,n){for(var r=e.length-1;r>=0;r--){var i=e[r];O(t.getTargetType(i),n)||e.splice(r,1)}}function B(e,t,n){e.forEach((function(e){n.getTarget(e).hover(t,e)}))}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(n,!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.getMonitor(),r=e.getRegistry();M(n);var i=R(n);i.forEach((function(i,o){var a=F(i,o,r,n),s={type:p,payload:{dropResult:I({},t,{},a)}};e.dispatch(s)}))}}function M(e){s()(e.isDragging(),"Cannot call drop while not dragging."),s()(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function F(e,t,n,r){var i=n.getTarget(e),o=i?i.drop(r,e):void 0;return function(e){s()(void 0===e||b(e),"Drop result must either be an object or undefined.")}(o),void 0===o&&(o=0===t?{}:r.getDropResult()),o}function R(e){var t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function z(e){return function(){var t=e.getMonitor(),n=e.getRegistry();!function(e){s()(e.isDragging(),"Cannot call endDrag while not dragging.")}(t);var r=t.getSourceId();return n.getSource(r,!0).endDrag(t,r),n.unpinSource(),{type:m}}}var V=function(e,t){return e===t};function U(e,t){return!e&&!t||!(!e||!t)&&(e.x===t.x&&e.y===t.y)}function H(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:V;if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(n,!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function K(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case l:case c:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case u:return U(e.clientOffset,n.clientOffset)?e:W({},e,{clientOffset:n.clientOffset});case m:case p:return q;default:return e}}var Y="dnd-core/ADD_SOURCE",J="dnd-core/ADD_TARGET",X="dnd-core/REMOVE_SOURCE",Q="dnd-core/REMOVE_TARGET";function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(n,!0).forEach((function(t){te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ne={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case c:return ee({},e,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case d:return ee({},e,{isSourcePublic:!0});case u:return ee({},e,{targetIds:n.targetIds});case Q:return-1===e.targetIds.indexOf(n.targetId)?e:ee({},e,{targetIds:v(e.targetIds,n.targetId)});case p:return ee({},e,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case m:return ee({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function ie(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:case J:return e+1;case X:case Q:return e-1;default:return e}}var oe=[],ae=[];function se(e,t){return e!==oe&&(e===ae||void 0===t||(n=e,t.filter((function(e){return n.indexOf(e)>-1}))).length>0);var n}function le(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case u:break;case Y:case J:case Q:case X:return oe;case c:case d:case m:case p:default:return ae}var t=e.payload,n=t.targetIds,r=void 0===n?[]:n,i=t.prevTargetIds,o=void 0===i?[]:i,a=y(r,o),s=a.length>0||!H(r,o);if(!s)return oe;var l=o[o.length-1],f=r[r.length-1];return l!==f&&(l&&a.push(l),f&&a.push(f)),a}function ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e+1}function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(n,!0).forEach((function(t){pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:le(e.dirtyHandlerIds,{type:t.type,payload:ue({},t.payload,{prevTargetIds:g(e,"dragOperation.targetIds",[])})}),dragOffset:K(e.dragOffset,t),refCount:ie(e.refCount,t),dragOperation:re(e.dragOperation,t),stateId:ce(e.stateId)}}function fe(e,t){return{x:e.x-t.x,y:e.y-t.y}}function he(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}oe.__IS_NONE__=!0,ae.__IS_ALL__=!0;var ge=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.registry=n}var t,n,r;return t=e,(n=[{key:"subscribeToStateChange",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{handlerIds:void 0},r=n.handlerIds;s()("function"==typeof e,"listener must be a function."),s()(void 0===r||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");var i=this.store.getState().stateId,o=function(){var n=t.store.getState(),o=n.stateId;try{o===i||o===i+1&&!se(n.dirtyHandlerIds,r)||e()}finally{i=o}};return this.store.subscribe(o)}},{key:"subscribeToOffsetChange",value:function(e){var t=this;s()("function"==typeof e,"listener must be a function.");var n=this.store.getState().dragOffset;return this.store.subscribe((function(){var r=t.store.getState().dragOffset;r!==n&&(n=r,e())}))}},{key:"canDragSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e);return s()(t,"Expected to find a valid source."),!this.isDragging()&&t.canDrag(this,e)}},{key:"canDropOnTarget",value:function(e){if(!e)return!1;var t=this.registry.getTarget(e);return s()(t,"Expected to find a valid target."),!(!this.isDragging()||this.didDrop())&&O(this.registry.getTargetType(e),this.getItemType())&&t.canDrop(this,e)}},{key:"isDragging",value:function(){return Boolean(this.getItemType())}},{key:"isDraggingSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e,!0);return s()(t,"Expected to find a valid source."),!(!this.isDragging()||!this.isSourcePublic())&&this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e)}},{key:"isOverTarget",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shallow:!1};if(!e)return!1;var n=t.shallow;if(!this.isDragging())return!1;var r=this.registry.getTargetType(e),i=this.getItemType();if(i&&!O(r,i))return!1;var o=this.getTargetIds();if(!o.length)return!1;var a=o.indexOf(e);return n?a===o.length-1:a>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return this.store.getState().dragOperation.isSourcePublic}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return e=this.store.getState().dragOffset,r=e.clientOffset,i=e.initialClientOffset,o=e.initialSourceClientOffset,r&&i&&o?fe((n=o,{x:(t=r).x+n.x,y:t.y+n.y}),i):null;var e,t,n,r,i,o}},{key:"getDifferenceFromInitialOffset",value:function(){return e=this.store.getState().dragOffset,t=e.clientOffset,n=e.initialClientOffset,t&&n?fe(t,n):null;var e,t,n}}])&&he(t.prototype,n),r&&he(t,r),e}(),ve=n("./node_modules/asap/browser-asap.js"),be=n.n(ve),ye=0;function ke(e){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(e,t){t&&Array.isArray(e)?e.forEach((function(e){return we(e,!1)})):s()("string"==typeof e||"symbol"===ke(e),t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}function xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _e(e){var t=(ye++).toString();switch(e){case r.SOURCE:return"S".concat(t);case r.TARGET:return"T".concat(t);default:throw new Error("Unknown Handler Role: ".concat(e))}}function je(e){switch(e[0]){case"S":return r.SOURCE;case"T":return r.TARGET;default:s()(!1,"Cannot parse handler ID: ".concat(e))}}function Se(e,t){var n=e.entries(),r=!1;do{var i=n.next(),o=i.done;if(Ce(i.value,2)[1]===t)return!0;r=!!o}while(!r);return!1}var Oe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}var t,n,i;return t=e,(n=[{key:"addSource",value:function(e,t){we(e),function(e){s()("function"==typeof e.canDrag,"Expected canDrag to be a function."),s()("function"==typeof e.beginDrag,"Expected beginDrag to be a function."),s()("function"==typeof e.endDrag,"Expected endDrag to be a function.")}(t);var n=this.addHandler(r.SOURCE,e,t);return this.store.dispatch(function(e){return{type:Y,payload:{sourceId:e}}}(n)),n}},{key:"addTarget",value:function(e,t){we(e,!0),function(e){s()("function"==typeof e.canDrop,"Expected canDrop to be a function."),s()("function"==typeof e.hover,"Expected hover to be a function."),s()("function"==typeof e.drop,"Expected beginDrag to be a function.")}(t);var n=this.addHandler(r.TARGET,e,t);return this.store.dispatch(function(e){return{type:J,payload:{targetId:e}}}(n)),n}},{key:"containsHandler",value:function(e){return Se(this.dragSources,e)||Se(this.dropTargets,e)}},{key:"getSource",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];s()(this.isSourceId(e),"Expected a valid source ID.");var n=t&&e===this.pinnedSourceId,r=n?this.pinnedSource:this.dragSources.get(e);return r}},{key:"getTarget",value:function(e){return s()(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}},{key:"getSourceType",value:function(e){return s()(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}},{key:"getTargetType",value:function(e){return s()(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}},{key:"isSourceId",value:function(e){return je(e)===r.SOURCE}},{key:"isTargetId",value:function(e){return je(e)===r.TARGET}},{key:"removeSource",value:function(e){var t=this;s()(this.getSource(e),"Expected an existing source."),this.store.dispatch(function(e){return{type:X,payload:{sourceId:e}}}(e)),be()((function(){t.dragSources.delete(e),t.types.delete(e)}))}},{key:"removeTarget",value:function(e){s()(this.getTarget(e),"Expected an existing target."),this.store.dispatch(function(e){return{type:Q,payload:{targetId:e}}}(e)),this.dropTargets.delete(e),this.types.delete(e)}},{key:"pinSource",value:function(e){var t=this.getSource(e);s()(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}},{key:"unpinSource",value:function(){s()(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}},{key:"addHandler",value:function(e,t,n){var i=_e(e);return this.types.set(i,t),e===r.SOURCE?this.dragSources.set(i,n):e===r.TARGET&&this.dropTargets.set(i,n),i}}])&&xe(t.prototype,n),i&&xe(t,i),e}();function Ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Te(e){var t="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return Object(o.e)(me,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}var Pe=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Ee(this,e),this.isSetUp=!1,this.handleRefCountChange=function(){var e=t.store.getState().refCount>0;t.backend&&(e&&!t.isSetUp?(t.backend.setup(),t.isSetUp=!0):!e&&t.isSetUp&&(t.backend.teardown(),t.isSetUp=!1))};var r=Te(n);this.store=r,this.monitor=new ge(r,new Oe(r)),r.subscribe(this.handleRefCountChange)}var t,n,r;return t=e,(n=[{key:"receiveBackend",value:function(e){this.backend=e}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.monitor.registry}},{key:"getActions",value:function(){var e=this,t=this.store.dispatch,n=function(e){return{beginDrag:w(e),publishDragSource:S(e),hover:E(e),drop:L(e),endDrag:z(e)}}(this);return Object.keys(n).reduce((function(r,i){var o,a=n[i];return r[i]=(o=a,function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=o.apply(e,r);void 0!==a&&t(a)}),r}),{})}},{key:"dispatch",value:function(e){this.store.dispatch(e)}}])&&Ne(t.prototype,n),r&&Ne(t,r),e}();function Be(e,t,n,r){var i=new Pe(r),o=e(i,t,n);return i.receiveBackend(o),i}var De=i.createContext({dragDropManager:void 0});function Ie(e,t,n,r){return{dragDropManager:Be(e,t,n,r)}}},"./node_modules/react-dnd/dist/esm/common/DndProvider.js":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var r=n("./node_modules/react/index.js"),i=n("./node_modules/react-dnd/dist/esm/common/DndContext.js");function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=0,l=Object(r.memo)((function(e){var t=e.children,n=o(function(e){if("manager"in e){return[{dragDropManager:e.manager},!1]}var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d(),n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=t;o[c]||(o[c]=Object(i.b)(e,t,n,r));return o[c]}(e.backend,e.context,e.options,e.debugMode),n=!e.context;return[t,n]}(a(e,["children"])),2),l=n[0],u=n[1];return r.useEffect((function(){return u&&s++,function(){u&&(0===--s&&(d()[c]=null))}}),[]),r.createElement(i.a.Provider,{value:l},t)}));l.displayName="DndProvider";var c=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");function d(){return void 0!==e?e:window}}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/react-dnd/dist/esm/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,"DndContext",(function(){return r.a})),n.d(t,"createDndContext",(function(){return r.b})),n.d(t,"DndProvider",(function(){return i.a})),n.d(t,"DragPreviewImage",(function(){return a})),n.d(t,"useDrag",(function(){return I})),n.d(t,"useDrop",(function(){return U})),n.d(t,"useDragLayer",(function(){return $})),n.d(t,"DragSource",(function(){return ye})),n.d(t,"DropTarget",(function(){return _e})),n.d(t,"DragLayer",(function(){return De}));var r=n("./node_modules/react-dnd/dist/esm/common/DndContext.js"),i=n("./node_modules/react-dnd/dist/esm/common/DndProvider.js"),o=n("./node_modules/react/index.js"),a=o.memo((function(e){var t=e.connect,n=e.src;if("undefined"!=typeof Image){var r=new Image;r.src=n,r.onload=function(){return t(r)}}return null}));a.displayName="DragPreviewImage";var s=n("./node_modules/invariant/browser.js"),l=n.n(s),c="undefined"!=typeof window?o.useLayoutEffect:o.useEffect,d=n("./node_modules/shallowequal/index.js"),u=n.n(d);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function m(e,t,n){var r=p(Object(o.useState)((function(){return t(e)})),2),i=r[0],a=r[1],s=Object(o.useCallback)((function(){var r=t(e);u()(i,r)||(a(r),n&&n())}),[i,e,n]);return c(s,[]),[i,s]}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function h(e,t,n){var r=f(m(e,t,n),2),i=r[0],o=r[1];return c((function(){var t=e.getHandlerId();if(null!=t)return e.subscribeToStateChange(o,{handlerIds:[t]})}),[e,o]),i}function g(e,t,n){var r=n.getRegistry(),i=r.addTarget(e,t);return[i,function(){return r.removeTarget(i)}]}function v(e,t,n){var r=n.getRegistry(),i=r.addSource(e,t);return[i,function(){return r.removeSource(i)}]}function b(){var e=Object(o.useContext)(r.a).dragDropManager;return l()(null!=e,"Expected drag drop context"),e}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var k=!1,w=!1,x=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sourceId=null,this.internalMonitor=t.getMonitor()}var t,n,r;return t=e,(n=[{key:"receiveHandlerId",value:function(e){this.sourceId=e}},{key:"getHandlerId",value:function(){return this.sourceId}},{key:"canDrag",value:function(){l()(!k,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return k=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{k=!1}}},{key:"isDragging",value:function(){if(!this.sourceId)return!1;l()(!w,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return w=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{w=!1}}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"isDraggingSource",value:function(e){return this.internalMonitor.isDraggingSource(e)}},{key:"isOverTarget",value:function(e,t){return this.internalMonitor.isOverTarget(e,t)}},{key:"getTargetIds",value:function(){return this.internalMonitor.getTargetIds()}},{key:"isSourcePublic",value:function(){return this.internalMonitor.isSourcePublic()}},{key:"getSourceId",value:function(){return this.internalMonitor.getSourceId()}},{key:"subscribeToOffsetChange",value:function(e){return this.internalMonitor.subscribeToOffsetChange(e)}},{key:"canDragSource",value:function(e){return this.internalMonitor.canDragSource(e)}},{key:"canDropOnTarget",value:function(e){return this.internalMonitor.canDropOnTarget(e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}])&&y(t.prototype,n),r&&y(t,r),e}();function C(e,t){"function"==typeof e?e(t):e.current=t}function _(e,t){var n=e.ref;return l()("string"!=typeof n,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute"),n?Object(o.cloneElement)(e,{ref:function(e){C(n,e),C(t,e)}}):Object(o.cloneElement)(e,{ref:t})}function j(e){if("string"!=typeof e.type){var t=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors."+"You can either wrap ".concat(t," into a <div>, or turn it into a ")+"drag source or a drop target itself.")}}function S(e){var t={};return Object.keys(e).forEach((function(n){var r=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{var i=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Object(o.isValidElement)(t)){var r=t;return e(r,n),r}var i=t;j(i);var a=n?function(t){return e(t,n)}:e;return _(i,a)}}(r);t[n]=function(){return i}}})),t}function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e){return null!==e&&"object"===O(e)&&e.hasOwnProperty("current")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var T=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hooks=S({dragSource:function(e,t){n.clearDragSource(),n.dragSourceOptions=t||null,E(e)?n.dragSourceRef=e:n.dragSourceNode=e,n.reconnectDragSource()},dragPreview:function(e,t){n.clearDragPreview(),n.dragPreviewOptions=t||null,E(e)?n.dragPreviewRef=e:n.dragPreviewNode=e,n.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}var t,n,r;return t=e,(n=[{key:"receiveHandlerId",value:function(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}},{key:"reconnect",value:function(){this.reconnectDragSource(),this.reconnectDragPreview()}},{key:"reconnectDragSource",value:function(){var e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();t&&this.disconnectDragSource(),this.handlerId&&(e?t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)):this.lastConnectedDragSource=e)}},{key:"reconnectDragPreview",value:function(){var e=this.dragPreview,t=this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();this.handlerId?this.dragPreview&&t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=e,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.disconnectDragPreview(),this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,e,this.dragPreviewOptions)):this.disconnectDragPreview()}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didConnectedDragSourceChange",value:function(){return this.lastConnectedDragSource!==this.dragSource}},{key:"didConnectedDragPreviewChange",value:function(){return this.lastConnectedDragPreview!==this.dragPreview}},{key:"didDragSourceOptionsChange",value:function(){return!u()(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}},{key:"didDragPreviewOptionsChange",value:function(){return!u()(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}},{key:"disconnectDragSource",value:function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}},{key:"disconnectDragPreview",value:function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}},{key:"clearDragSource",value:function(){this.dragSourceNode=null,this.dragSourceRef=null}},{key:"clearDragPreview",value:function(){this.dragPreviewNode=null,this.dragPreviewRef=null}},{key:"connectTarget",get:function(){return this.dragSource}},{key:"dragSourceOptions",get:function(){return this.dragSourceOptionsInternal},set:function(e){this.dragSourceOptionsInternal=e}},{key:"dragPreviewOptions",get:function(){return this.dragPreviewOptionsInternal},set:function(e){this.dragPreviewOptionsInternal=e}},{key:"dragSource",get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}},{key:"dragPreview",get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}}])&&N(t.prototype,n),r&&N(t,r),e}();function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function I(e){var t=Object(o.useRef)(e);t.current=e,l()(null!=e.item,"item must be defined"),l()(null!=e.item.type,"item type must be defined");var n,r=D((n=b(),[Object(o.useMemo)((function(){return new x(n)}),[n]),Object(o.useMemo)((function(){return new T(n.getBackend())}),[n])]),2),i=r[0],a=r[1];!function(e,t,n){var r=b(),i=Object(o.useMemo)((function(){return{beginDrag:function(){var n=e.current,r=n.begin,i=n.item;if(r){var o=r(t);return l()(null==o||"object"===B(o),"dragSpec.begin() must either return an object, undefined, or null"),o||i||{}}return i||{}},canDrag:function(){return"boolean"==typeof e.current.canDrag?e.current.canDrag:"function"!=typeof e.current.canDrag||e.current.canDrag(t)},isDragging:function(n,r){var i=e.current.isDragging;return i?i(t):r===n.getSourceId()},endDrag:function(){var r=e.current.end;r&&r(t.getItem(),t),n.reconnect()}}}),[]);c((function(){var o=P(v(e.current.item.type,i,r),2),a=o[0],s=o[1];return t.receiveHandlerId(a),n.receiveHandlerId(a),s}),[])}(t,i,a);var s=h(i,t.current.collect||function(){return{}},(function(){return a.reconnect()})),d=Object(o.useMemo)((function(){return a.hooks.dragSource()}),[a]),u=Object(o.useMemo)((function(){return a.hooks.dragPreview()}),[a]);return c((function(){a.dragSourceOptions=t.current.options||null,a.reconnect()}),[a]),c((function(){a.dragPreviewOptions=t.current.previewOptions||null,a.reconnect()}),[a]),[s,d,u]}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var L=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hooks=S({dropTarget:function(e,t){n.clearDropTarget(),n.dropTargetOptions=t,E(e)?n.dropTargetRef=e:n.dropTargetNode=e,n.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}var t,n,r;return t=e,(n=[{key:"reconnect",value:function(){var e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();var t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)}},{key:"receiveHandlerId",value:function(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didDropTargetChange",value:function(){return this.lastConnectedDropTarget!==this.dropTarget}},{key:"didOptionsChange",value:function(){return!u()(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}},{key:"disconnectDropTarget",value:function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}},{key:"clearDropTarget",value:function(){this.dropTargetRef=null,this.dropTargetNode=null}},{key:"connectTarget",get:function(){return this.dropTarget}},{key:"dropTargetOptions",get:function(){return this.dropTargetOptionsInternal},set:function(e){this.dropTargetOptionsInternal=e}},{key:"dropTarget",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}}])&&A(t.prototype,n),r&&A(t,r),e}();function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var F=!1,R=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.targetId=null,this.internalMonitor=t.getMonitor()}var t,n,r;return t=e,(n=[{key:"receiveHandlerId",value:function(e){this.targetId=e}},{key:"getHandlerId",value:function(){return this.targetId}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"canDrop",value:function(){if(!this.targetId)return!1;l()(!F,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return F=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{F=!1}}},{key:"isOver",value:function(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}])&&M(t.prototype,n),r&&M(t,r),e}();function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function U(e){var t=Object(o.useRef)(e);t.current=e,l()(null!=e.accept,"accept must be defined");var n,r=V((n=b(),[Object(o.useMemo)((function(){return new R(n)}),[n]),Object(o.useMemo)((function(){return new L(n.getBackend())}),[n])]),2),i=r[0],a=r[1];!function(e,t,n){var r=b(),i=Object(o.useMemo)((function(){return{canDrop:function(){var n=e.current.canDrop;return!n||n(t.getItem(),t)},hover:function(){var n=e.current.hover;n&&n(t.getItem(),t)},drop:function(){var n=e.current.drop;if(n)return n(t.getItem(),t)}}}),[t]);c((function(){var o=z(g(e.current.accept,i,r),2),a=o[0],s=o[1];return t.receiveHandlerId(a),n.receiveHandlerId(a),s}),[t,n])}(t,i,a);var s=h(i,t.current.collect||function(){return{}},(function(){return a.reconnect()})),d=Object(o.useMemo)((function(){return a.hooks.dropTarget()}),[a]);return c((function(){a.dropTargetOptions=e.options||null,a.reconnect()}),[e.options]),[s,d]}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function $(e){var t=b().getMonitor(),n=H(m(t,e),2),r=n[0],i=n[1];return Object(o.useEffect)((function(){return t.subscribeToOffsetChange(i)})),Object(o.useEffect)((function(){return t.subscribeToStateChange(i)})),r}function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e){return"function"==typeof e}function q(){}function K(e){if(!function(e){return"object"===W(e)&&null!==e}(e))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Y(e){var t=e.current;return null==t?null:t.decoratedRef?t.decoratedRef.current:t}function J(e){return(t=e)&&t.prototype&&"function"==typeof t.prototype.render||function(e){return e&&e.$$typeof&&"Symbol(react.forward_ref)"===e.$$typeof.toString()}(e);var t}var X=n("./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js"),Q=n.n(X);function Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function te(e,t,n){return t&&ee(e.prototype,t),n&&ee(e,n),e}var ne=function(){function e(t){Z(this,e),this.isDisposed=!1,this.action=G(t)?t:q}return te(e,[{key:"dispose",value:function(){this.isDisposed||(this.action(),this.isDisposed=!0)}}],[{key:"isDisposable",value:function(e){return e&&G(e.dispose)}},{key:"_fixup",value:function(t){return e.isDisposable(t)?t:e.empty}},{key:"create",value:function(t){return new e(t)}}]),e}();ne.empty={dispose:q};var re=function(){function e(){Z(this,e),this.isDisposed=!1;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.disposables=n}return te(e,[{key:"add",value:function(e){this.isDisposed?e.dispose():this.disposables.push(e)}},{key:"remove",value:function(e){var t=!1;if(!this.isDisposed){var n=this.disposables.indexOf(e);-1!==n&&(t=!0,this.disposables.splice(n,1),e.dispose())}return t}},{key:"clear",value:function(){if(!this.isDisposed){for(var e=this.disposables.length,t=new Array(e),n=0;n<e;n++)t[n]=this.disposables[n];this.disposables=[];for(var r=0;r<e;r++)t[r].dispose()}}},{key:"dispose",value:function(){if(!this.isDisposed){this.isDisposed=!0;for(var e=this.disposables.length,t=new Array(e),n=0;n<e;n++)t[n]=this.disposables[n];this.disposables=[];for(var r=0;r<e;r++)t[r].dispose()}}}]),e}(),ie=function(){function e(){Z(this,e),this.isDisposed=!1}return te(e,[{key:"getDisposable",value:function(){return this.current}},{key:"setDisposable",value:function(e){var t=this.isDisposed;if(!t){var n=this.current;this.current=e,n&&n.dispose()}t&&e&&e.dispose()}},{key:"dispose",value:function(){if(!this.isDisposed){this.isDisposed=!0;var e=this.current;this.current=void 0,e&&e.dispose()}}}]),e}();function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e,t){return!t||"object"!==oe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function de(e,t){return(de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ue(e){var t=e.DecoratedComponent,n=e.createHandler,i=e.createMonitor,a=e.createConnector,s=e.registerHandler,c=e.containerDisplayName,d=e.getType,p=e.collect,m=e.options.arePropsEqual,f=void 0===m?u.a:m,h=t,g=t.displayName||t.name||"Component",v=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=le(this,ce(t).call(this,e))).decoratedRef=o.createRef(),n.handleChange=function(){var e=n.getCurrentState();u()(e,n.state)||n.setState(e)},n.disposable=new ie,n.receiveProps(e),n.dispose(),n}var c,m,v;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&de(e,t)}(t,e),c=t,(m=[{key:"getHandlerId",value:function(){return this.handlerId}},{key:"getDecoratedComponentInstance",value:function(){return l()(this.decoratedRef.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.decoratedRef.current}},{key:"shouldComponentUpdate",value:function(e,t){return!f(e,this.props)||!u()(t,this.state)}},{key:"componentDidMount",value:function(){this.disposable=new ie,this.currentType=void 0,this.receiveProps(this.props),this.handleChange()}},{key:"componentDidUpdate",value:function(e){f(this.props,e)||(this.receiveProps(this.props),this.handleChange())}},{key:"componentWillUnmount",value:function(){this.dispose()}},{key:"receiveProps",value:function(e){this.handler&&(this.handler.receiveProps(e),this.receiveType(d(e)))}},{key:"receiveType",value:function(e){if(this.handlerMonitor&&this.manager&&this.handlerConnector&&e!==this.currentType){this.currentType=e;var t=ae(s(e,this.handler,this.manager),2),n=t[0],r=t[1];this.handlerId=n,this.handlerMonitor.receiveHandlerId(n),this.handlerConnector.receiveHandlerId(n);var i=this.manager.getMonitor().subscribeToStateChange(this.handleChange,{handlerIds:[n]});this.disposable.setDisposable(new re(new ne(i),new ne(r)))}}},{key:"dispose",value:function(){this.disposable.dispose(),this.handlerConnector&&this.handlerConnector.receiveHandlerId(null)}},{key:"getCurrentState",value:function(){return this.handlerConnector?p(this.handlerConnector.hooks,this.handlerMonitor,this.props):{}}},{key:"render",value:function(){var e=this;return o.createElement(r.a.Consumer,null,(function(t){var n=t.dragDropManager;return e.receiveDragDropManager(n),"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame((function(){return e.handlerConnector.reconnect()})),o.createElement(h,Object.assign({},e.props,e.getCurrentState(),{ref:J(h)?e.decoratedRef:null}))}))}},{key:"receiveDragDropManager",value:function(e){void 0===this.manager&&(l()(void 0!==e,"Could not find the drag and drop manager in the context of %s. Make sure to render a DndProvider component in your top-level component. Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context",g,g),void 0!==e&&(this.manager=e,this.handlerMonitor=i(e),this.handlerConnector=a(e.getBackend()),this.handler=n(this.handlerMonitor,this.decoratedRef)))}}])&&se(c.prototype,m),v&&se(c,v),t}(o.Component);return v.DecoratedComponent=t,v.displayName="".concat(c,"(").concat(g,")"),Q()(v,t)}function pe(e){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,t){return"string"==typeof e||"symbol"===pe(e)||!!t&&Array.isArray(e)&&e.every((function(e){return me(e,!1)}))}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var he=["canDrag","beginDrag","isDragging","endDrag"],ge=["beginDrag"],ve=function(){function e(t,n,r){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.props=null,this.beginDrag=function(){if(i.props)return i.spec.beginDrag(i.props,i.monitor,i.ref.current)},this.spec=t,this.monitor=n,this.ref=r}var t,n,r;return t=e,(n=[{key:"receiveProps",value:function(e){this.props=e}},{key:"canDrag",value:function(){return!!this.props&&(!this.spec.canDrag||this.spec.canDrag(this.props,this.monitor))}},{key:"isDragging",value:function(e,t){return!!this.props&&(this.spec.isDragging?this.spec.isDragging(this.props,this.monitor):t===e.getSourceId())}},{key:"endDrag",value:function(){this.props&&this.spec.endDrag&&this.spec.endDrag(this.props,this.monitor,Y(this.ref))}}])&&fe(t.prototype,n),r&&fe(t,r),e}();function be(e){return Object.keys(e).forEach((function(t){l()(he.indexOf(t)>-1,'Expected the drag source specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',he.join(", "),t),l()("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])})),ge.forEach((function(t){l()("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])})),function(t,n){return new ve(e,t,n)}}function ye(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=e;"function"!=typeof e&&(l()(me(e),'Expected "type" provided as the first argument to DragSource to be a string, or a function that returns a string given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',e),i=function(){return e}),l()(K(t),'Expected "spec" provided as the second argument to DragSource to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',t);var o=be(t);return l()("function"==typeof n,'Expected "collect" provided as the third argument to DragSource to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',n),l()(K(r),'Expected "options" provided as the fourth argument to DragSource to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',n),function(e){return ue({containerDisplayName:"DragSource",createHandler:o,registerHandler:v,createConnector:function(e){return new T(e)},createMonitor:function(e){return new x(e)},DecoratedComponent:e,getType:i,collect:n,options:r})}}function ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var we=["canDrop","hover","drop"],xe=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.props=null,this.spec=t,this.monitor=n,this.ref=r}var t,n,r;return t=e,(n=[{key:"receiveProps",value:function(e){this.props=e}},{key:"receiveMonitor",value:function(e){this.monitor=e}},{key:"canDrop",value:function(){return!this.spec.canDrop||this.spec.canDrop(this.props,this.monitor)}},{key:"hover",value:function(){this.spec.hover&&this.spec.hover(this.props,this.monitor,Y(this.ref))}},{key:"drop",value:function(){if(this.spec.drop)return this.spec.drop(this.props,this.monitor,this.ref.current)}}])&&ke(t.prototype,n),r&&ke(t,r),e}();function Ce(e){return Object.keys(e).forEach((function(t){l()(we.indexOf(t)>-1,'Expected the drop target specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',we.join(", "),t),l()("function"==typeof e[t],"Expected %s in the drop target specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target",t,t,e[t])})),function(t,n){return new xe(e,t,n)}}function _e(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=e;"function"!=typeof e&&(l()(me(e,!0),'Expected "type" provided as the first argument to DropTarget to be a string, an array of strings, or a function that returns either given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',e),i=function(){return e}),l()(K(t),'Expected "spec" provided as the second argument to DropTarget to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',t);var o=Ce(t);return l()("function"==typeof n,'Expected "collect" provided as the third argument to DropTarget to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',n),l()(K(r),'Expected "options" provided as the fourth argument to DropTarget to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',n),function(e){return ue({containerDisplayName:"DropTarget",createHandler:o,registerHandler:g,createMonitor:function(e){return new R(e)},createConnector:function(e){return new L(e)},DecoratedComponent:e,getType:i,collect:n,options:r})}}function je(e){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ee(e,t,n){return t&&Oe(e.prototype,t),n&&Oe(e,n),e}function Ne(e,t){return!t||"object"!==je(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Te(e){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Be(e,t)}function Be(e,t){return(Be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function De(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l()("function"==typeof e,'Expected "collect" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ',"Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer",e),l()(K(t),'Expected "options" provided as the second argument to DragLayer to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer',t),function(n){var i=n,a=t.arePropsEqual,s=void 0===a?u.a:a,c=i.displayName||i.name||"Component",d=function(t){function n(){var e;return Se(this,n),(e=Ne(this,Te(n).apply(this,arguments))).isCurrentlyMounted=!1,e.ref=o.createRef(),e.handleChange=function(){if(e.isCurrentlyMounted){var t=e.getCurrentState();u()(t,e.state)||e.setState(t)}},e}return Pe(n,t),Ee(n,[{key:"getDecoratedComponentInstance",value:function(){return l()(this.ref.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.ref.current}},{key:"shouldComponentUpdate",value:function(e,t){return!s(e,this.props)||!u()(t,this.state)}},{key:"componentDidMount",value:function(){this.isCurrentlyMounted=!0,this.handleChange()}},{key:"componentWillUnmount",value:function(){this.isCurrentlyMounted=!1,this.unsubscribeFromOffsetChange&&(this.unsubscribeFromOffsetChange(),this.unsubscribeFromOffsetChange=void 0),this.unsubscribeFromStateChange&&(this.unsubscribeFromStateChange(),this.unsubscribeFromStateChange=void 0)}},{key:"render",value:function(){var e=this;return o.createElement(r.a.Consumer,null,(function(t){var n=t.dragDropManager;return void 0===n?null:(e.receiveDragDropManager(n),e.isCurrentlyMounted?o.createElement(i,Object.assign({},e.props,e.state,{ref:J(i)?e.ref:null})):null)}))}},{key:"receiveDragDropManager",value:function(e){if(void 0===this.manager){this.manager=e,l()("object"===je(e),"Could not find the drag and drop manager in the context of %s. Make sure to render a DndProvider component in your top-level component. Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context",c,c);var t=this.manager.getMonitor();this.unsubscribeFromOffsetChange=t.subscribeToOffsetChange(this.handleChange),this.unsubscribeFromStateChange=t.subscribeToStateChange(this.handleChange)}}},{key:"getCurrentState",value:function(){if(!this.manager)return{};var t=this.manager.getMonitor();return e(t,this.props)}}]),n}(o.Component);return d.displayName="DragLayer(".concat(c,")"),d.DecoratedComponent=n,Q()(d,n)}}},"./node_modules/react-input-autosize/lib/AutosizeInput.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("./node_modules/react/index.js"),a=l(o),s=l(n("./node_modules/prop-types/index.js"));function l(e){return e&&e.__esModule?e:{default:e}}var c={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},d=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],u=function(e,t){t.style.fontSize=e.fontSize,t.style.fontFamily=e.fontFamily,t.style.fontWeight=e.fontWeight,t.style.fontStyle=e.fontStyle,t.style.letterSpacing=e.letterSpacing,t.style.textTransform=e.textTransform},p=!("undefined"==typeof window||!window.navigator)&&/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent),m=function(){return p?"_"+Math.random().toString(36).substr(2,12):void 0},f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.inputRef=function(e){n.input=e,"function"==typeof n.props.inputRef&&n.props.inputRef(e)},n.placeHolderSizerRef=function(e){n.placeHolderSizer=e},n.sizerRef=function(e){n.sizer=e},n.state={inputWidth:e.minWidth,inputId:e.id||m()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentWillReceiveProps",value:function(e){var t=e.id;t!==this.props.id&&this.setState({inputId:t||m()})}},{key:"componentDidUpdate",value:function(e,t){t.inputWidth!==this.state.inputWidth&&"function"==typeof this.props.onAutosize&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(this.mounted&&window.getComputedStyle){var e=this.input&&window.getComputedStyle(this.input);e&&(u(e,this.sizer),this.placeHolderSizer&&u(e,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(this.mounted&&this.sizer&&void 0!==this.sizer.scrollWidth){var e=void 0;e=this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:this.sizer.scrollWidth+2,(e+="number"===this.props.type&&void 0===this.props.extraWidth?16:parseInt(this.props.extraWidth)||0)<this.props.minWidth&&(e=this.props.minWidth),e!==this.state.inputWidth&&this.setState({inputWidth:e})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var e=this.props.injectStyles;return p&&e?a.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var e=[this.props.defaultValue,this.props.value,""].reduce((function(e,t){return null!=e?e:t})),t=r({},this.props.style);t.display||(t.display="inline-block");var n=r({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),i=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(this.props,[]);return function(e){d.forEach((function(t){return delete e[t]}))}(i),i.className=this.props.inputClassName,i.id=this.state.inputId,i.style=n,a.default.createElement("div",{className:this.props.className,style:t},this.renderStyles(),a.default.createElement("input",r({},i,{ref:this.inputRef})),a.default.createElement("div",{ref:this.sizerRef,style:c},e),this.props.placeholder?a.default.createElement("div",{ref:this.placeHolderSizerRef,style:c},this.props.placeholder):null)}}]),t}(o.Component);f.propTypes={className:s.default.string,defaultValue:s.default.any,extraWidth:s.default.oneOfType([s.default.number,s.default.string]),id:s.default.string,injectStyles:s.default.bool,inputClassName:s.default.string,inputRef:s.default.func,inputStyle:s.default.object,minWidth:s.default.oneOfType([s.default.number,s.default.string]),onAutosize:s.default.func,onChange:s.default.func,placeholder:s.default.string,placeholderIsMinWidth:s.default.bool,style:s.default.object,value:s.default.any},f.defaultProps={minWidth:1,injectStyles:!0},t.default=f},"./node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js":function(e,t,n){"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function i(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function o(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,a=null,s=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?s="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var l=e.displayName||e.name,c="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=i),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=o;var d=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;d.call(this,e,t,r)}}return e}n.r(t),n.d(t,"polyfill",(function(){return a})),r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},"./node_modules/react-node-resolver/lib/NodeResolver.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("./node_modules/react/index.js"),o=n("./node_modules/react-dom/index.js");function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){this.props.innerRef((0,o.findDOMNode)(this))}},{key:"componentWillUnmount",value:function(){this.props.innerRef(null)}},{key:"render",value:function(){return this.props.children}}]),t}(i.Component);t.default=l},"./node_modules/react-node-resolver/lib/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/react-node-resolver/lib/NodeResolver.js");Object.defineProperty(t,"default",{enumerable:!0,get:function(){return(e=r,e&&e.__esModule?e:{default:e}).default;var e}})},"./node_modules/react-select/dist/react-select.esm.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return Me}));var r=n("./node_modules/react/index.js"),i=n.n(r);function o(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var a=function(e,t){var n;void 0===t&&(t=o);var r,i=[],a=!1;return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return a&&n===this&&t(o,i)||(r=e.apply(this,o),a=!0,n=this,i=o),r}},s=n("./node_modules/emotion/dist/index.esm.js"),l=n("./node_modules/react-dom/index.js"),c=n("./node_modules/prop-types/index.js"),d=n.n(c),u=n("./node_modules/raf/index.js"),p=n.n(u),m=n("./node_modules/react-input-autosize/lib/AutosizeInput.js"),f=n.n(m),h=n("./node_modules/react-select/node_modules/react-transition-group/index.js");function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){k(e,t,n[t])}))}return e}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?O(e):t}function N(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var T=function(){};function P(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function B(e,t,n,r){var i=[t,r];if(n&&e)for(var o in n)n.hasOwnProperty(o)&&n[o]&&i.push("".concat(P(e,o)));return i.filter((function(e){return e})).map((function(e){return String(e).trim()})).join(" ")}var D=function(e){return Array.isArray(e)?e.filter(Boolean):"object"===g(e)&&null!==e?[e]:[]};function I(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function A(e){return I(e)?window.pageYOffset:e.scrollTop}function L(e,t){I(e)?window.scrollTo(0,t):e.scrollTop=t}function M(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}function F(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:T,i=A(e),o=t-i,a=10,s=0;function l(){var t=M(s+=a,i,o,n);L(e,t),s<n?p()(l):r(e)}l()}function R(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}function z(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,i=e.placement,o=e.shouldScroll,a=e.isFixedPosition,s=e.theme.spacing,l=function(e){var t=getComputedStyle(e),n="absolute"===t.position,r=/(auto|scroll)/,i=document.documentElement;if("fixed"===t.position)return i;for(var o=e;o=o.parentElement;)if(t=getComputedStyle(o),(!n||"static"!==t.position)&&r.test(t.overflow+t.overflowY+t.overflowX))return o;return i}(n),c={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return c;var d=l.getBoundingClientRect().height,u=n.getBoundingClientRect(),p=u.bottom,m=u.height,f=u.top,h=n.offsetParent.getBoundingClientRect().top,g=window.innerHeight,v=A(l),b=parseInt(getComputedStyle(n).marginBottom,10),y=parseInt(getComputedStyle(n).marginTop,10),k=h-y,w=g-f,x=k+v,C=d-v-f,_=p-g+v+b,j=v+f-y;switch(i){case"auto":case"bottom":if(w>=m)return{placement:"bottom",maxHeight:t};if(C>=m&&!a)return o&&F(l,_,160),{placement:"bottom",maxHeight:t};if(!a&&C>=r||a&&w>=r)return o&&F(l,_,160),{placement:"bottom",maxHeight:a?w-b:C-b};if("auto"===i||a){var S=t,O=a?k:x;return O>=r&&(S=Math.min(O-b-s.controlHeight,t)),{placement:"top",maxHeight:S}}if("bottom"===i)return L(l,_),{placement:"bottom",maxHeight:t};break;case"top":if(k>=m)return{placement:"top",maxHeight:t};if(x>=m&&!a)return o&&F(l,j,160),{placement:"top",maxHeight:t};if(!a&&x>=r||a&&k>=r){var E=t;return(!a&&x>=r||a&&k>=r)&&(E=a?k-y:x-y),o&&F(l,j,160),{placement:"top",maxHeight:E}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return c}var V=function(e){return"auto"===e?"bottom":e},U=function(e){function t(){var e,n;v(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return k(O(O(n=E(this,(e=_(t)).call.apply(e,[this].concat(i))))),"state",{maxHeight:n.props.maxMenuHeight,placement:null}),k(O(O(n)),"getPlacement",(function(e){var t=n.props,r=t.minMenuHeight,i=t.maxMenuHeight,o=t.menuPlacement,a=t.menuPosition,s=t.menuShouldScrollIntoView,l=t.theme,c=n.context.getPortalPlacement;if(e){var d="fixed"===a,u=z({maxHeight:i,menuEl:e,minHeight:r,placement:o,shouldScroll:s&&!d,isFixedPosition:d,theme:l});c&&c(u),n.setState(u)}})),k(O(O(n)),"getUpdatedProps",(function(){var e=n.props.menuPlacement,t=n.state.placement||V(e);return x({},n.props,{placement:t,maxHeight:n.state.maxHeight})})),n}return C(t,e),y(t,[{key:"render",value:function(){return(0,this.props.children)({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),t}(r.Component);k(U,"contextTypes",{getPortalPlacement:d.a.func});var H=function(e){var t=e.theme,n=t.spacing.baseUnit;return{color:t.colors.neutral40,padding:"".concat(2*n,"px ").concat(3*n,"px"),textAlign:"center"}},$=H,W=H,G=function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,a=e.innerProps;return i.a.createElement("div",w({className:r(Object(s.a)(o("noOptionsMessage",e)),{"menu-notice":!0,"menu-notice--no-options":!0},n)},a),t)};G.defaultProps={children:"No options"};var q=function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,a=e.innerProps;return i.a.createElement("div",w({className:r(Object(s.a)(o("loadingMessage",e)),{"menu-notice":!0,"menu-notice--loading":!0},n)},a),t)};q.defaultProps={children:"Loading..."};var K=function(e){function t(){var e,n;v(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return k(O(O(n=E(this,(e=_(t)).call.apply(e,[this].concat(i))))),"state",{placement:null}),k(O(O(n)),"getPortalPlacement",(function(e){var t=e.placement;t!==V(n.props.menuPlacement)&&n.setState({placement:t})})),n}return C(t,e),y(t,[{key:"getChildContext",value:function(){return{getPortalPlacement:this.getPortalPlacement}}},{key:"render",value:function(){var e=this.props,t=e.appendTo,n=e.children,r=e.controlElement,o=e.menuPlacement,a=e.menuPosition,c=e.getStyles,d="fixed"===a;if(!t&&!d||!r)return null;var u=this.state.placement||V(o),p=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(r),m=d?0:window.pageYOffset,f={offset:p[u]+m,position:a,rect:p},h=i.a.createElement("div",{className:Object(s.a)(c("menuPortal",f))},n);return t?Object(l.createPortal)(h,t):h}}]),t}(r.Component);k(K,"childContextTypes",{getPortalPlacement:d.a.func});var Y=Array.isArray,J=Object.keys,X=Object.prototype.hasOwnProperty;function Q(e,t){try{return function e(t,n){if(t===n)return!0;if(t&&n&&"object"==g(t)&&"object"==g(n)){var r,i,o,a=Y(t),s=Y(n);if(a&&s){if((i=t.length)!=n.length)return!1;for(r=i;0!=r--;)if(!e(t[r],n[r]))return!1;return!0}if(a!=s)return!1;var l=t instanceof Date,c=n instanceof Date;if(l!=c)return!1;if(l&&c)return t.getTime()==n.getTime();var d=t instanceof RegExp,u=n instanceof RegExp;if(d!=u)return!1;if(d&&u)return t.toString()==n.toString();var p=J(t);if((i=p.length)!==J(n).length)return!1;for(r=i;0!=r--;)if(!X.call(n,p[r]))return!1;for(r=i;0!=r--;)if(!("_owner"===(o=p[r])&&t.$$typeof||e(t[o],n[o])))return!1;return!0}return t!=t&&n!=n}(e,t)}catch(e){if(e.message&&e.message.match(/stack|recursion/i))return console.warn("Warning: react-fast-compare does not handle circular references.",e.name,e.message),!1;throw e}}var Z=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}],ee=function(e){for(var t=0;t<Z.length;t++)e=e.replace(Z[t].letters,Z[t].base);return e},te=function(e){return e.replace(/^\s+|\s+$/g,"")},ne=function(e){return"".concat(e.label," ").concat(e.value)},re=function(e){return i.a.createElement("span",w({className:Object(s.a)({label:"a11yText",zIndex:9999,border:0,clip:"rect(1px, 1px, 1px, 1px)",height:1,width:1,position:"absolute",overflow:"hidden",padding:0,whiteSpace:"nowrap",backgroundColor:"red",color:"blue"})},e))},ie=function(e){function t(){return v(this,t),E(this,_(t).apply(this,arguments))}return C(t,e),y(t,[{key:"render",value:function(){var e=this.props,t=(e.in,e.out,e.onExited,e.appear,e.enter,e.exit,e.innerRef),n=(e.emotion,S(e,["in","out","onExited","appear","enter","exit","innerRef","emotion"]));return i.a.createElement("input",w({ref:t},n,{className:Object(s.a)({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"})}))}}]),t}(r.Component),oe=function(e){function t(){return v(this,t),E(this,_(t).apply(this,arguments))}return C(t,e),y(t,[{key:"componentDidMount",value:function(){this.props.innerRef(Object(l.findDOMNode)(this))}},{key:"componentWillUnmount",value:function(){this.props.innerRef(null)}},{key:"render",value:function(){return this.props.children}}]),t}(r.Component),ae=["boxSizing","height","overflow","paddingRight","position"],se={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function le(e){e.preventDefault()}function ce(e){e.stopPropagation()}function de(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function ue(){return"ontouchstart"in window||navigator.maxTouchPoints}var pe=!("undefined"==typeof window||!window.document||!window.document.createElement),me=0,fe=function(e){function t(){var e,n;v(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return k(O(O(n=E(this,(e=_(t)).call.apply(e,[this].concat(i))))),"originalStyles",{}),k(O(O(n)),"listenerOptions",{capture:!1,passive:!1}),n}return C(t,e),y(t,[{key:"componentDidMount",value:function(){var e=this;if(pe){var t=this.props,n=t.accountForScrollbars,r=t.touchScrollTarget,i=document.body,o=i&&i.style;if(n&&ae.forEach((function(t){var n=o&&o[t];e.originalStyles[t]=n})),n&&me<1){var a=parseInt(this.originalStyles.paddingRight,10)||0,s=document.body?document.body.clientWidth:0,l=window.innerWidth-s+a||0;Object.keys(se).forEach((function(e){var t=se[e];o&&(o[e]=t)})),o&&(o.paddingRight="".concat(l,"px"))}i&&ue()&&(i.addEventListener("touchmove",le,this.listenerOptions),r&&(r.addEventListener("touchstart",de,this.listenerOptions),r.addEventListener("touchmove",ce,this.listenerOptions))),me+=1}}},{key:"componentWillUnmount",value:function(){var e=this;if(pe){var t=this.props,n=t.accountForScrollbars,r=t.touchScrollTarget,i=document.body,o=i&&i.style;me=Math.max(me-1,0),n&&me<1&&ae.forEach((function(t){var n=e.originalStyles[t];o&&(o[t]=n)})),i&&ue()&&(i.removeEventListener("touchmove",le,this.listenerOptions),r&&(r.removeEventListener("touchstart",de,this.listenerOptions),r.removeEventListener("touchmove",ce,this.listenerOptions)))}}},{key:"render",value:function(){return null}}]),t}(r.Component);k(fe,"defaultProps",{accountForScrollbars:!0});var he=function(e){function t(){var e,n;v(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return k(O(O(n=E(this,(e=_(t)).call.apply(e,[this].concat(i))))),"state",{touchScrollTarget:null}),k(O(O(n)),"getScrollTarget",(function(e){e!==n.state.touchScrollTarget&&n.setState({touchScrollTarget:e})})),k(O(O(n)),"blurSelectInput",(function(){document.activeElement&&document.activeElement.blur()})),n}return C(t,e),y(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.isEnabled,r=this.state.touchScrollTarget;return n?i.a.createElement("div",null,i.a.createElement("div",{onClick:this.blurSelectInput,className:Object(s.a)({position:"fixed",left:0,bottom:0,right:0,top:0})}),i.a.createElement(oe,{innerRef:this.getScrollTarget},t),r?i.a.createElement(fe,{touchScrollTarget:r}):null):t}}]),t}(r.PureComponent),ge=function(e){function t(){var e,n;v(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return k(O(O(n=E(this,(e=_(t)).call.apply(e,[this].concat(i))))),"isBottom",!1),k(O(O(n)),"isTop",!1),k(O(O(n)),"scrollTarget",void 0),k(O(O(n)),"touchStart",void 0),k(O(O(n)),"cancelScroll",(function(e){e.preventDefault(),e.stopPropagation()})),k(O(O(n)),"handleEventDelta",(function(e,t){var r=n.props,i=r.onBottomArrive,o=r.onBottomLeave,a=r.onTopArrive,s=r.onTopLeave,l=n.scrollTarget,c=l.scrollTop,d=l.scrollHeight,u=l.clientHeight,p=n.scrollTarget,m=t>0,f=d-u-c,h=!1;f>t&&n.isBottom&&(o&&o(e),n.isBottom=!1),m&&n.isTop&&(s&&s(e),n.isTop=!1),m&&t>f?(i&&!n.isBottom&&i(e),p.scrollTop=d,h=!0,n.isBottom=!0):!m&&-t>c&&(a&&!n.isTop&&a(e),p.scrollTop=0,h=!0,n.isTop=!0),h&&n.cancelScroll(e)})),k(O(O(n)),"onWheel",(function(e){n.handleEventDelta(e,e.deltaY)})),k(O(O(n)),"onTouchStart",(function(e){n.touchStart=e.changedTouches[0].clientY})),k(O(O(n)),"onTouchMove",(function(e){var t=n.touchStart-e.changedTouches[0].clientY;n.handleEventDelta(e,t)})),k(O(O(n)),"getScrollTarget",(function(e){n.scrollTarget=e})),n}return C(t,e),y(t,[{key:"componentDidMount",value:function(){this.startListening(this.scrollTarget)}},{key:"componentWillUnmount",value:function(){this.stopListening(this.scrollTarget)}},{key:"startListening",value:function(e){e&&(e.scrollHeight<=e.clientHeight||("function"==typeof e.addEventListener&&e.addEventListener("wheel",this.onWheel,!1),"function"==typeof e.addEventListener&&e.addEventListener("touchstart",this.onTouchStart,!1),"function"==typeof e.addEventListener&&e.addEventListener("touchmove",this.onTouchMove,!1)))}},{key:"stopListening",value:function(e){e.scrollHeight<=e.clientHeight||("function"==typeof e.removeEventListener&&e.removeEventListener("wheel",this.onWheel,!1),"function"==typeof e.removeEventListener&&e.removeEventListener("touchstart",this.onTouchStart,!1),"function"==typeof e.removeEventListener&&e.removeEventListener("touchmove",this.onTouchMove,!1))}},{key:"render",value:function(){return i.a.createElement(oe,{innerRef:this.getScrollTarget},this.props.children)}}]),t}(r.Component),ve=function(e){function t(){return v(this,t),E(this,_(t).apply(this,arguments))}return C(t,e),y(t,[{key:"render",value:function(){var e=this.props,t=e.isEnabled,n=S(e,["isEnabled"]);return t?i.a.createElement(ge,n):this.props.children}}]),t}(r.Component);k(ve,"defaultProps",{isEnabled:!0});var be=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.isSearchable,r=t.isMulti,i=t.label,o=t.isDisabled;switch(e){case"menu":return"Use Up and Down to choose options".concat(o?"":", press Enter to select the currently focused option",", press Escape to exit the menu, press Tab to select the option and exit the menu.");case"input":return"".concat(i||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value"}},ye=function(e,t){var n=t.value,r=t.isDisabled;if(n)switch(e){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(n,", deselected.");case"select-option":return"option ".concat(n,r?" is disabled. Select another option.":", selected.")}},ke=function(e){return!!e.isDisabled},we=function(e){function t(){return v(this,t),E(this,_(t).apply(this,arguments))}return C(t,e),y(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.cx,o=e.isMulti,a=e.getStyles,l=e.hasValue;return i.a.createElement("div",{className:r(Object(s.a)(a("valueContainer",this.props)),{"value-container":!0,"value-container--is-multi":o,"value-container--has-value":l},n)},t)}}]),t}(r.Component),xe=function(e){var t=e.size,n=S(e,["size"]);return i.a.createElement("svg",w({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",className:Object(s.a)({display:"inline-block",fill:"currentColor",lineHeight:1,stroke:"currentColor",strokeWidth:0})},n))},Ce=function(e){return i.a.createElement(xe,w({size:20},e),i.a.createElement("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},_e=function(e){return i.a.createElement(xe,w({size:20},e),i.a.createElement("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},je=function(e){var t=e.isFocused,n=e.theme,r=n.spacing.baseUnit,i=n.colors;return{label:"indicatorContainer",color:t?i.neutral60:i.neutral20,display:"flex",padding:2*r,transition:"color 150ms",":hover":{color:t?i.neutral80:i.neutral40}}},Se=je,Oe=je,Ee=!1,Ne=function(e){var t=e.color,n=e.delay,r=e.offset;return i.a.createElement("span",{className:Object(s.a)({animationDuration:"1s",animationDelay:"".concat(n,"ms"),animationIterationCount:"infinite",animationName:"react-select-loading-indicator",animationTimingFunction:"ease-in-out",backgroundColor:t,borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":null,height:"1em",verticalAlign:"top",width:"1em"})})},Te=function(e){var t=e.className,n=e.cx,r=e.getStyles,o=e.innerProps,a=e.isFocused,l=e.isRtl,c=e.theme.colors,d=a?c.neutral80:c.neutral20;return Ee||(Object(s.b)("@keyframes ","react-select-loading-indicator","{0%,80%,100%{opacity:0;}40%{opacity:1;}};"),Ee=!0),i.a.createElement("div",w({},o,{className:n(Object(s.a)(r("loadingIndicator",e)),{indicator:!0,"loading-indicator":!0},t)}),i.a.createElement(Ne,{color:d,delay:0,offset:l}),i.a.createElement(Ne,{color:d,delay:160,offset:!0}),i.a.createElement(Ne,{color:d,delay:320,offset:!l}))};Te.defaultProps={size:4};var Pe=function(e){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:e?0:1,outline:0,padding:0,color:"inherit"}},Be=function(e){var t=e.children,n=e.innerProps;return i.a.createElement("div",n,t)},De=Be,Ie=Be,Ae=function(e){function t(){return v(this,t),E(this,_(t).apply(this,arguments))}return C(t,e),y(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.innerProps;return i.a.createElement("div",n,t||i.a.createElement(Ce,{size:14}))}}]),t}(r.Component),Le=function(e){function t(){return v(this,t),E(this,_(t).apply(this,arguments))}return C(t,e),y(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.components,o=e.cx,a=e.data,l=e.getStyles,c=e.innerProps,d=e.isDisabled,u=e.removeProps,p=e.selectProps,m=r.Container,f=r.Label,h=r.Remove,g=x({className:o(Object(s.a)(l("multiValue",this.props)),{"multi-value":!0,"multi-value--is-disabled":d},n)},c),v={className:o(Object(s.a)(l("multiValueLabel",this.props)),{"multi-value__label":!0},n)},b=x({className:o(Object(s.a)(l("multiValueRemove",this.props)),{"multi-value__remove":!0},n)},u);return i.a.createElement(m,{data:a,innerProps:g,selectProps:p},i.a.createElement(f,{data:a,innerProps:v,selectProps:p},t),i.a.createElement(h,{data:a,innerProps:b,selectProps:p}))}}]),t}(r.Component);k(Le,"defaultProps",{cropWithEllipsis:!0});var Me={ClearIndicator:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,a=e.innerProps;return i.a.createElement("div",w({},a,{className:r(Object(s.a)(o("clearIndicator",e)),{indicator:!0,"clear-indicator":!0},n)}),t||i.a.createElement(Ce,null))},Control:function(e){var t=e.children,n=e.cx,r=e.getStyles,o=e.className,a=e.isDisabled,l=e.isFocused,c=e.innerRef,d=e.innerProps,u=e.menuIsOpen;return i.a.createElement("div",w({ref:c,className:n(Object(s.a)(r("control",e)),{control:!0,"control--is-disabled":a,"control--is-focused":l,"control--menu-is-open":u},o)},d),t)},DropdownIndicator:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,a=e.innerProps;return i.a.createElement("div",w({},a,{className:r(Object(s.a)(o("dropdownIndicator",e)),{indicator:!0,"dropdown-indicator":!0},n)}),t||i.a.createElement(_e,null))},DownChevron:_e,CrossIcon:Ce,Group:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,a=e.Heading,l=e.headingProps,c=e.label,d=e.theme,u=e.selectProps;return i.a.createElement("div",{className:r(Object(s.a)(o("group",e)),{group:!0},n)},i.a.createElement(a,w({},l,{selectProps:u,theme:d,getStyles:o,cx:r}),c),i.a.createElement("div",null,t))},GroupHeading:function(e){var t=e.className,n=e.cx,r=e.getStyles,o=e.theme,a=(e.selectProps,S(e,["className","cx","getStyles","theme","selectProps"]));return i.a.createElement("div",w({className:n(Object(s.a)(r("groupHeading",x({theme:o},a))),{"group-heading":!0},t)},a))},IndicatorsContainer:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles;return i.a.createElement("div",{className:r(Object(s.a)(o("indicatorsContainer",e)),{indicators:!0},n)},t)},IndicatorSeparator:function(e){var t=e.className,n=e.cx,r=e.getStyles,o=e.innerProps;return i.a.createElement("span",w({},o,{className:n(Object(s.a)(r("indicatorSeparator",e)),{"indicator-separator":!0},t)}))},Input:function(e){var t=e.className,n=e.cx,r=e.getStyles,o=e.innerRef,a=e.isHidden,l=e.isDisabled,c=e.theme,d=(e.selectProps,S(e,["className","cx","getStyles","innerRef","isHidden","isDisabled","theme","selectProps"]));return i.a.createElement("div",{className:Object(s.a)(r("input",x({theme:c},d)))},i.a.createElement(f.a,w({className:n(null,{input:!0},t),inputRef:o,inputStyle:Pe(a),disabled:l},d)))},LoadingIndicator:Te,Menu:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,a=e.innerRef,l=e.innerProps,c=r(Object(s.a)(o("menu",e)),{menu:!0},n);return i.a.createElement("div",w({className:c},l,{ref:a}),t)},MenuList:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,a=e.isMulti,l=e.innerRef;return i.a.createElement("div",{className:r(Object(s.a)(o("menuList",e)),{"menu-list":!0,"menu-list--is-multi":a},n),ref:l},t)},MenuPortal:K,LoadingMessage:q,NoOptionsMessage:G,MultiValue:Le,MultiValueContainer:De,MultiValueLabel:Ie,MultiValueRemove:Ae,Option:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,a=e.isDisabled,l=e.isFocused,c=e.isSelected,d=e.innerRef,u=e.innerProps;return i.a.createElement("div",w({ref:d,className:r(Object(s.a)(o("option",e)),{option:!0,"option--is-disabled":a,"option--is-focused":l,"option--is-selected":c},n)},u),t)},Placeholder:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,a=e.innerProps;return i.a.createElement("div",w({className:r(Object(s.a)(o("placeholder",e)),{placeholder:!0},n)},a),t)},SelectContainer:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,a=e.innerProps,l=e.isDisabled,c=e.isRtl;return i.a.createElement("div",w({className:r(Object(s.a)(o("container",e)),{"--is-disabled":l,"--is-rtl":c},n)},a),t)},SingleValue:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,a=e.isDisabled,l=e.innerProps;return i.a.createElement("div",w({className:r(Object(s.a)(o("singleValue",e)),{"single-value":!0,"single-value--is-disabled":a},n)},l),t)},ValueContainer:we},Fe=function(e){return x({},Me,e.components)},Re={clearIndicator:Oe,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":null,pointerEvents:t?"none":null,position:"relative"}},control:function(e){var t=e.isDisabled,n=e.isFocused,r=e.theme,i=r.colors,o=r.borderRadius,a=r.spacing;return{label:"control",alignItems:"center",backgroundColor:t?i.neutral5:i.neutral0,borderColor:t?i.neutral10:n?i.primary:i.neutral20,borderRadius:o,borderStyle:"solid",borderWidth:1,boxShadow:n?"0 0 0 1px ".concat(i.primary):null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:a.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:n?i.primary:i.neutral30}}},dropdownIndicator:Se,group:function(e){var t=e.theme.spacing;return{paddingBottom:2*t.baseUnit,paddingTop:2*t.baseUnit}},groupHeading:function(e){var t=e.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:3*t.baseUnit,paddingRight:3*t.baseUnit,textTransform:"uppercase"}},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e){var t=e.isDisabled,n=e.theme,r=n.spacing.baseUnit,i=n.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:t?i.neutral10:i.neutral20,marginBottom:2*r,marginTop:2*r,width:1}},input:function(e){var t=e.isDisabled,n=e.theme,r=n.spacing,i=n.colors;return{margin:r.baseUnit/2,paddingBottom:r.baseUnit/2,paddingTop:r.baseUnit/2,visibility:t?"hidden":"visible",color:i.neutral80}},loadingIndicator:function(e){var t=e.isFocused,n=e.size,r=e.theme,i=r.colors,o=r.spacing.baseUnit;return{label:"loadingIndicator",color:t?i.neutral60:i.neutral20,display:"flex",padding:2*o,transition:"color 150ms",alignSelf:"center",fontSize:n,lineHeight:1,marginRight:n,textAlign:"center",verticalAlign:"middle"}},loadingMessage:W,menu:function(e){var t,n=e.placement,r=e.theme,i=r.borderRadius,o=r.spacing,a=r.colors;return k(t={label:"menu"},function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(n),"100%"),k(t,"backgroundColor",a.neutral0),k(t,"borderRadius",i),k(t,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),k(t,"marginBottom",o.menuGutter),k(t,"marginTop",o.menuGutter),k(t,"position","absolute"),k(t,"width","100%"),k(t,"zIndex",1),t},menuList:function(e){var t=e.maxHeight,n=e.theme.spacing.baseUnit;return{maxHeight:t,overflowY:"auto",paddingBottom:n,paddingTop:n,position:"relative",WebkitOverflowScrolling:"touch"}},menuPortal:function(e){var t=e.rect,n=e.offset,r=e.position;return{left:t.left,position:r,top:n,width:t.width,zIndex:1}},multiValue:function(e){var t=e.theme,n=t.spacing,r=t.borderRadius;return{label:"multiValue",backgroundColor:t.colors.neutral10,borderRadius:r/2,display:"flex",margin:n.baseUnit/2,minWidth:0}},multiValueLabel:function(e){var t=e.theme,n=t.borderRadius,r=t.colors,i=e.cropWithEllipsis;return{borderRadius:n/2,color:r.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:i?"ellipsis":null,whiteSpace:"nowrap"}},multiValueRemove:function(e){var t=e.theme,n=t.spacing,r=t.borderRadius,i=t.colors;return{alignItems:"center",borderRadius:r/2,backgroundColor:e.isFocused&&i.dangerLight,display:"flex",paddingLeft:n.baseUnit,paddingRight:n.baseUnit,":hover":{backgroundColor:i.dangerLight,color:i.danger}}},noOptionsMessage:$,option:function(e){var t=e.isDisabled,n=e.isFocused,r=e.isSelected,i=e.theme,o=i.spacing,a=i.colors;return{label:"option",backgroundColor:r?a.primary:n?a.primary25:"transparent",color:t?a.neutral20:r?a.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(2*o.baseUnit,"px ").concat(3*o.baseUnit,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!t&&(r?a.primary:a.primary50)}}},placeholder:function(e){var t=e.theme,n=t.spacing;return{label:"placeholder",color:t.colors.neutral50,marginLeft:n.baseUnit/2,marginRight:n.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},singleValue:function(e){var t=e.isDisabled,n=e.theme,r=n.spacing,i=n.colors;return{label:"singleValue",color:t?i.neutral40:i.neutral80,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2,maxWidth:"calc(100% - ".concat(2*r.baseUnit,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},valueContainer:function(e){var t=e.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(t.baseUnit/2,"px ").concat(2*t.baseUnit,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}}};var ze,Ve={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},Ue={backspaceRemovesValue:!0,blurInputOnSelect:R(),captureMenuScroll:!R(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){var n=x({ignoreCase:!0,ignoreAccents:!0,stringify:ne,trim:!0,matchFrom:"any"},ze),r=n.ignoreCase,i=n.ignoreAccents,o=n.stringify,a=n.trim,s=n.matchFrom,l=a?te(t):t,c=a?te(o(e)):o(e);return r&&(l=l.toLowerCase(),c=c.toLowerCase()),i&&(l=ee(l),c=ee(c)),"start"===s?c.substr(0,l.length)===l:c.indexOf(l)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:ke,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0},He=1,$e=function(e){function t(e){var n;v(this,t),k(O(O(n=E(this,_(t).call(this,e)))),"state",{ariaLiveSelection:"",ariaLiveContext:"",focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,menuOptions:{render:[],focusable:[]},selectValue:[]}),k(O(O(n)),"blockOptionHover",!1),k(O(O(n)),"isComposing",!1),k(O(O(n)),"clearFocusValueOnUpdate",!1),k(O(O(n)),"commonProps",void 0),k(O(O(n)),"components",void 0),k(O(O(n)),"hasGroups",!1),k(O(O(n)),"initialTouchX",0),k(O(O(n)),"initialTouchY",0),k(O(O(n)),"inputIsHiddenAfterUpdate",void 0),k(O(O(n)),"instancePrefix",""),k(O(O(n)),"openAfterFocus",!1),k(O(O(n)),"scrollToFocusedOptionOnUpdate",!1),k(O(O(n)),"userIsDragging",void 0),k(O(O(n)),"controlRef",null),k(O(O(n)),"getControlRef",(function(e){n.controlRef=e})),k(O(O(n)),"focusedOptionRef",null),k(O(O(n)),"getFocusedOptionRef",(function(e){n.focusedOptionRef=e})),k(O(O(n)),"menuListRef",null),k(O(O(n)),"getMenuListRef",(function(e){n.menuListRef=e})),k(O(O(n)),"inputRef",null),k(O(O(n)),"getInputRef",(function(e){n.inputRef=e})),k(O(O(n)),"cacheComponents",(function(e){n.components=Fe({components:e})})),k(O(O(n)),"focus",n.focusInput),k(O(O(n)),"blur",n.blurInput),k(O(O(n)),"onChange",(function(e,t){var r=n.props;(0,r.onChange)(e,x({},t,{name:r.name}))})),k(O(O(n)),"setValue",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"set-value",r=arguments.length>2?arguments[2]:void 0,i=n.props,o=i.closeMenuOnSelect,a=i.isMulti;n.onInputChange("",{action:"set-value"}),o&&(n.inputIsHiddenAfterUpdate=!a,n.onMenuClose()),n.clearFocusValueOnUpdate=!0,n.onChange(e,{action:t,option:r})})),k(O(O(n)),"selectOption",(function(e){var t=n.props,r=t.blurInputOnSelect,i=t.isMulti,o=n.state.selectValue;if(i)if(n.isOptionSelected(e,o)){var a=n.getOptionValue(e);n.setValue(o.filter((function(e){return n.getOptionValue(e)!==a})),"deselect-option",e),n.announceAriaLiveSelection({event:"deselect-option",context:{value:n.getOptionLabel(e)}})}else n.isOptionDisabled(e,o)?n.announceAriaLiveSelection({event:"select-option",context:{value:n.getOptionLabel(e),isDisabled:!0}}):(n.setValue([].concat(N(o),[e]),"select-option",e),n.announceAriaLiveSelection({event:"select-option",context:{value:n.getOptionLabel(e)}}));else n.isOptionDisabled(e,o)?n.announceAriaLiveSelection({event:"select-option",context:{value:n.getOptionLabel(e),isDisabled:!0}}):(n.setValue(e,"select-option"),n.announceAriaLiveSelection({event:"select-option",context:{value:n.getOptionLabel(e)}}));r&&n.blurInput()})),k(O(O(n)),"removeValue",(function(e){var t=n.state.selectValue,r=n.getOptionValue(e);n.onChange(t.filter((function(e){return n.getOptionValue(e)!==r})),{action:"remove-value",removedValue:e}),n.announceAriaLiveSelection({event:"remove-value",context:{value:e?n.getOptionLabel(e):""}}),n.focusInput()})),k(O(O(n)),"clearValue",(function(){var e=n.props.isMulti;n.onChange(e?[]:null,{action:"clear"})})),k(O(O(n)),"popValue",(function(){var e=n.state.selectValue,t=e[e.length-1];n.announceAriaLiveSelection({event:"pop-value",context:{value:t?n.getOptionLabel(t):""}}),n.onChange(e.slice(0,e.length-1),{action:"pop-value",removedValue:t})})),k(O(O(n)),"getOptionLabel",(function(e){return n.props.getOptionLabel(e)})),k(O(O(n)),"getOptionValue",(function(e){return n.props.getOptionValue(e)})),k(O(O(n)),"getStyles",(function(e,t){var r=Re[e](t);r.boxSizing="border-box";var i=n.props.styles[e];return i?i(r,t):r})),k(O(O(n)),"getElementId",(function(e){return"".concat(n.instancePrefix,"-").concat(e)})),k(O(O(n)),"getActiveDescendentId",(function(){var e=n.props.menuIsOpen,t=n.state,r=t.menuOptions,i=t.focusedOption;if(i&&e){var o=r.focusable.indexOf(i),a=r.render[o];return a&&a.key}})),k(O(O(n)),"announceAriaLiveSelection",(function(e){var t=e.event,r=e.context;n.setState({ariaLiveSelection:ye(t,r)})})),k(O(O(n)),"announceAriaLiveContext",(function(e){var t=e.event,r=e.context;n.setState({ariaLiveContext:be(t,x({},r,{label:n.props["aria-label"]}))})})),k(O(O(n)),"onMenuMouseDown",(function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),n.focusInput())})),k(O(O(n)),"onMenuMouseMove",(function(e){n.blockOptionHover=!1})),k(O(O(n)),"onControlMouseDown",(function(e){var t=n.props.openMenuOnClick;n.state.isFocused?n.props.menuIsOpen?"INPUT"!==e.target.tagName&&n.onMenuClose():t&&n.openMenu("first"):(t&&(n.openAfterFocus=!0),n.focusInput()),"INPUT"!==e.target.tagName&&e.preventDefault()})),k(O(O(n)),"onDropdownIndicatorMouseDown",(function(e){if(!(e&&"mousedown"===e.type&&0!==e.button||n.props.isDisabled)){var t=n.props,r=t.isMulti,i=t.menuIsOpen;n.focusInput(),i?(n.inputIsHiddenAfterUpdate=!r,n.onMenuClose()):n.openMenu("first"),e.preventDefault(),e.stopPropagation()}})),k(O(O(n)),"onClearIndicatorMouseDown",(function(e){e&&"mousedown"===e.type&&0!==e.button||(n.clearValue(),e.stopPropagation(),n.openAfterFocus=!1,setTimeout((function(){return n.focusInput()})))})),k(O(O(n)),"onScroll",(function(e){"boolean"==typeof n.props.closeMenuOnScroll?e.target instanceof HTMLElement&&I(e.target)&&n.props.onMenuClose():"function"==typeof n.props.closeMenuOnScroll&&n.props.closeMenuOnScroll(e)&&n.props.onMenuClose()})),k(O(O(n)),"onCompositionStart",(function(){n.isComposing=!0})),k(O(O(n)),"onCompositionEnd",(function(){n.isComposing=!1})),k(O(O(n)),"onTouchStart",(function(e){var t=e.touches.item(0);t&&(n.initialTouchX=t.clientX,n.initialTouchY=t.clientY,n.userIsDragging=!1)})),k(O(O(n)),"onTouchMove",(function(e){var t=e.touches.item(0);if(t){var r=Math.abs(t.clientX-n.initialTouchX),i=Math.abs(t.clientY-n.initialTouchY);n.userIsDragging=r>5||i>5}})),k(O(O(n)),"onTouchEnd",(function(e){n.userIsDragging||(n.controlRef&&!n.controlRef.contains(e.target)&&n.menuListRef&&!n.menuListRef.contains(e.target)&&n.blurInput(),n.initialTouchX=0,n.initialTouchY=0)})),k(O(O(n)),"onControlTouchEnd",(function(e){n.userIsDragging||n.onControlMouseDown(e)})),k(O(O(n)),"onClearIndicatorTouchEnd",(function(e){n.userIsDragging||n.onClearIndicatorMouseDown(e)})),k(O(O(n)),"onDropdownIndicatorTouchEnd",(function(e){n.userIsDragging||n.onDropdownIndicatorMouseDown(e)})),k(O(O(n)),"handleInputChange",(function(e){var t=e.currentTarget.value;n.inputIsHiddenAfterUpdate=!1,n.onInputChange(t,{action:"input-change"}),n.onMenuOpen()})),k(O(O(n)),"onInputFocus",(function(e){var t=n.props,r=t.isSearchable,i=t.isMulti;n.props.onFocus&&n.props.onFocus(e),n.inputIsHiddenAfterUpdate=!1,n.announceAriaLiveContext({event:"input",context:{isSearchable:r,isMulti:i}}),n.setState({isFocused:!0}),(n.openAfterFocus||n.props.openMenuOnFocus)&&n.openMenu("first"),n.openAfterFocus=!1})),k(O(O(n)),"onInputBlur",(function(e){n.menuListRef&&n.menuListRef.contains(document.activeElement)?n.inputRef.focus():(n.props.onBlur&&n.props.onBlur(e),n.onInputChange("",{action:"input-blur"}),n.onMenuClose(),n.setState({focusedValue:null,isFocused:!1}))})),k(O(O(n)),"onOptionHover",(function(e){n.blockOptionHover||n.state.focusedOption===e||n.setState({focusedOption:e})})),k(O(O(n)),"shouldHideSelectedOptions",(function(){var e=n.props,t=e.hideSelectedOptions,r=e.isMulti;return void 0===t?r:t})),k(O(O(n)),"onKeyDown",(function(e){var t=n.props,r=t.isMulti,i=t.backspaceRemovesValue,o=t.escapeClearsValue,a=t.inputValue,s=t.isClearable,l=t.isDisabled,c=t.menuIsOpen,d=t.onKeyDown,u=t.tabSelectsValue,p=t.openMenuOnFocus,m=n.state,f=m.focusedOption,h=m.focusedValue,g=m.selectValue;if(!(l||"function"==typeof d&&(d(e),e.defaultPrevented))){switch(n.blockOptionHover=!0,e.key){case"ArrowLeft":if(!r||a)return;n.focusValue("previous");break;case"ArrowRight":if(!r||a)return;n.focusValue("next");break;case"Delete":case"Backspace":if(a)return;if(h)n.removeValue(h);else{if(!i)return;r?n.popValue():s&&n.clearValue()}break;case"Tab":if(n.isComposing)return;if(e.shiftKey||!c||!u||!f||p&&n.isOptionSelected(f,g))return;n.selectOption(f);break;case"Enter":if(229===e.keyCode)break;if(c){if(!f)return;if(n.isComposing)return;n.selectOption(f);break}return;case"Escape":c?(n.inputIsHiddenAfterUpdate=!1,n.onInputChange("",{action:"menu-close"}),n.onMenuClose()):s&&o&&n.clearValue();break;case" ":if(a)return;if(!c){n.openMenu("first");break}if(!f)return;n.selectOption(f);break;case"ArrowUp":c?n.focusOption("up"):n.openMenu("last");break;case"ArrowDown":c?n.focusOption("down"):n.openMenu("first");break;case"PageUp":if(!c)return;n.focusOption("pageup");break;case"PageDown":if(!c)return;n.focusOption("pagedown");break;case"Home":if(!c)return;n.focusOption("first");break;case"End":if(!c)return;n.focusOption("last");break;default:return}e.preventDefault()}}));var r=e.value;n.cacheComponents=a(n.cacheComponents,Q).bind(O(O(n))),n.cacheComponents(e.components),n.instancePrefix="react-select-"+(n.props.instanceId||++He);var i=D(r),o=n.buildMenuOptions(e,i);return n.state.menuOptions=o,n.state.selectValue=i,n}return C(t,e),y(t,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.options,r=t.value,i=t.inputValue;if(this.cacheComponents(e.components),e.value!==r||e.options!==n||e.inputValue!==i){var o=D(e.value),a=this.buildMenuOptions(e,o),s=this.getNextFocusedValue(o),l=this.getNextFocusedOption(a.focusable);this.setState({menuOptions:a,selectValue:o,focusedOption:l,focusedValue:s})}null!=this.inputIsHiddenAfterUpdate&&(this.setState({inputIsHidden:this.inputIsHiddenAfterUpdate}),delete this.inputIsHiddenAfterUpdate)}},{key:"componentDidUpdate",value:function(e){var t,n,r,i,o,a=this.props,s=a.isDisabled,l=a.menuIsOpen,c=this.state.isFocused;(c&&!s&&e.isDisabled||c&&l&&!e.menuIsOpen)&&this.focusInput(),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(t=this.menuListRef,n=this.focusedOptionRef,r=t.getBoundingClientRect(),i=n.getBoundingClientRect(),o=n.offsetHeight/3,i.bottom+o>r.bottom?L(t,Math.min(n.offsetTop+n.clientHeight-t.offsetHeight+o,t.scrollHeight)):i.top-o<r.top&&L(t,Math.max(n.offsetTop-o,0))),this.scrollToFocusedOptionOnUpdate=!1}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){var e=this.props,t=e.isSearchable,n=e.isMulti;this.announceAriaLiveContext({event:"input",context:{isSearchable:t,isMulti:n}}),this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this.state,n=t.menuOptions,r=t.selectValue,i=t.isFocused,o=this.props.isMulti,a="first"===e?0:n.focusable.length-1;if(!o){var s=n.focusable.indexOf(r[0]);s>-1&&(a=s)}this.scrollToFocusedOptionOnUpdate=!(i&&this.menuListRef),this.inputIsHiddenAfterUpdate=!1,this.onMenuOpen(),this.setState({focusedValue:null,focusedOption:n.focusable[a]}),this.announceAriaLiveContext({event:"menu"})}},{key:"focusValue",value:function(e){var t=this.props,n=t.isMulti,r=t.isSearchable,i=this.state,o=i.selectValue,a=i.focusedValue;if(n){this.setState({focusedOption:null});var s=o.indexOf(a);a||(s=-1,this.announceAriaLiveContext({event:"value"}));var l=o.length-1,c=-1;if(o.length){switch(e){case"previous":c=0===s?0:-1===s?l:s-1;break;case"next":s>-1&&s<l&&(c=s+1)}-1===c&&this.announceAriaLiveContext({event:"input",context:{isSearchable:r,isMulti:n}}),this.setState({inputIsHidden:-1!==c,focusedValue:o[c]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state,r=n.focusedOption,i=n.menuOptions,o=i.focusable;if(o.length){var a=0,s=o.indexOf(r);r||(s=-1,this.announceAriaLiveContext({event:"menu"})),"up"===e?a=s>0?s-1:o.length-1:"down"===e?a=(s+1)%o.length:"pageup"===e?(a=s-t)<0&&(a=0):"pagedown"===e?(a=s+t)>o.length-1&&(a=o.length-1):"last"===e&&(a=o.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:o[a],focusedValue:null}),this.announceAriaLiveContext({event:"menu",context:{isDisabled:ke(o[a])}})}}},{key:"getTheme",value:function(){return this.props.theme?"function"==typeof this.props.theme?this.props.theme(Ve):x({},Ve,this.props.theme):Ve}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.getStyles,n=this.setValue,r=this.selectOption,i=this.props,o=i.classNamePrefix,a=i.isMulti,s=i.isRtl,l=i.options,c=this.state.selectValue,d=this.hasValue();return{cx:B.bind(null,o),clearValue:e,getStyles:t,getValue:function(){return c},hasValue:d,isMulti:a,isRtl:s,options:l,selectOption:r,setValue:n,selectProps:i,theme:this.getTheme()}}},{key:"getNextFocusedValue",value:function(e){if(this.clearFocusValueOnUpdate)return this.clearFocusValueOnUpdate=!1,null;var t=this.state,n=t.focusedValue,r=t.selectValue.indexOf(n);if(r>-1){if(e.indexOf(n)>-1)return n;if(r<e.length)return e[r]}return null}},{key:"getNextFocusedOption",value:function(e){var t=this.state.focusedOption;return t&&e.indexOf(t)>-1?t:e[0]}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.state.menuOptions.render.length}},{key:"countOptions",value:function(){return this.state.menuOptions.focusable.length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return"function"==typeof this.props.isOptionDisabled&&this.props.isOptionDisabled(e,t)}},{key:"isOptionSelected",value:function(e,t){var n=this;if(t.indexOf(e)>-1)return!0;if("function"==typeof this.props.isOptionSelected)return this.props.isOptionSelected(e,t);var r=this.getOptionValue(e);return t.some((function(e){return n.getOptionValue(e)===r}))}},{key:"filterOption",value:function(e,t){return!this.props.filterOption||this.props.filterOption(e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"==typeof this.props.formatOptionLabel){var n=this.props.inputValue,r=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:r})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"buildMenuOptions",value:function(e,t){var n=this,r=e.inputValue,i=void 0===r?"":r,o=e.options,a=function(e,r){var o=n.isOptionDisabled(e,t),a=n.isOptionSelected(e,t),s=n.getOptionLabel(e),l=n.getOptionValue(e);if(!(n.shouldHideSelectedOptions()&&a||!n.filterOption({label:s,value:l,data:e},i))){var c=o?void 0:function(){return n.onOptionHover(e)},d=o?void 0:function(){return n.selectOption(e)},u="".concat(n.getElementId("option"),"-").concat(r);return{innerProps:{id:u,onClick:d,onMouseMove:c,onMouseOver:c,tabIndex:-1},data:e,isDisabled:o,isSelected:a,key:u,label:s,type:"option",value:l}}};return o.reduce((function(e,t,r){if(t.options){n.hasGroups||(n.hasGroups=!0);var i=t.options.map((function(t,n){var i=a(t,"".concat(r,"-").concat(n));return i&&e.focusable.push(t),i})).filter(Boolean);if(i.length){var o="".concat(n.getElementId("group"),"-").concat(r);e.render.push({type:"group",key:o,data:t,options:i})}}else{var s=a(t,"".concat(r));s&&(e.render.push(s),e.focusable.push(t))}return e}),{render:[],focusable:[]})}},{key:"constructAriaLiveMessage",value:function(){var e=this.state,t=e.ariaLiveContext,n=e.selectValue,r=e.focusedValue,i=e.focusedOption,o=this.props,a=o.options,s=o.menuIsOpen,l=o.inputValue,c=o.screenReaderStatus,d=r?function(e){var t=e.focusedValue,n=e.getOptionLabel,r=e.selectValue;return"value ".concat(n(t)," focused, ").concat(r.indexOf(t)+1," of ").concat(r.length,".")}({focusedValue:r,getOptionLabel:this.getOptionLabel,selectValue:n}):"",u=i&&s?function(e){var t=e.focusedOption,n=e.getOptionLabel,r=e.options;return"option ".concat(n(t)," focused").concat(t.isDisabled?" disabled":"",", ").concat(r.indexOf(t)+1," of ").concat(r.length,".")}({focusedOption:i,getOptionLabel:this.getOptionLabel,options:a}):"",p=function(e){var t=e.inputValue,n=e.screenReaderMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}({inputValue:l,screenReaderMessage:c({count:this.countOptions()})});return"".concat(d," ").concat(u," ").concat(p," ").concat(t)}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,n=e.isSearchable,r=e.inputId,o=e.inputValue,a=e.tabIndex,s=this.components.Input,l=this.state.inputIsHidden,c=r||this.getElementId("input");if(!n)return i.a.createElement(ie,{id:c,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:T,onFocus:this.onInputFocus,readOnly:!0,disabled:t,tabIndex:a,value:""});var d={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]},u=this.commonProps,p=u.cx,m=u.theme,f=u.selectProps;return i.a.createElement(s,w({autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",cx:p,getStyles:this.getStyles,id:c,innerRef:this.getInputRef,isDisabled:t,isHidden:l,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,selectProps:f,spellCheck:"false",tabIndex:a,theme:m,type:"text",value:o},d))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.components,n=t.MultiValue,r=t.MultiValueContainer,o=t.MultiValueLabel,a=t.MultiValueRemove,s=t.SingleValue,l=t.Placeholder,c=this.commonProps,d=this.props,u=d.controlShouldRenderValue,p=d.isDisabled,m=d.isMulti,f=d.inputValue,h=d.placeholder,g=this.state,v=g.selectValue,b=g.focusedValue,y=g.isFocused;if(!this.hasValue()||!u)return f?null:i.a.createElement(l,w({},c,{key:"placeholder",isDisabled:p,isFocused:y}),h);if(m)return v.map((function(t){var s=t===b;return i.a.createElement(n,w({},c,{components:{Container:r,Label:o,Remove:a},isFocused:s,isDisabled:p,key:e.getOptionValue(t),removeProps:{onClick:function(){return e.removeValue(t)},onTouchEnd:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault(),e.stopPropagation()}},data:t}),e.formatOptionLabel(t,"value"))}));if(f)return null;var k=v[0];return i.a.createElement(s,w({},c,{data:k,isDisabled:p}),this.formatOptionLabel(k,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.components.ClearIndicator,t=this.commonProps,n=this.props,r=n.isDisabled,o=n.isLoading,a=this.state.isFocused;if(!this.isClearable()||!e||r||!this.hasValue()||o)return null;var s={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return i.a.createElement(e,w({},t,{innerProps:s,isFocused:a}))}},{key:"renderLoadingIndicator",value:function(){var e=this.components.LoadingIndicator,t=this.commonProps,n=this.props,r=n.isDisabled,o=n.isLoading,a=this.state.isFocused;if(!e||!o)return null;return i.a.createElement(e,w({},t,{innerProps:{"aria-hidden":"true"},isDisabled:r,isFocused:a}))}},{key:"renderIndicatorSeparator",value:function(){var e=this.components,t=e.DropdownIndicator,n=e.IndicatorSeparator;if(!t||!n)return null;var r=this.commonProps,o=this.props.isDisabled,a=this.state.isFocused;return i.a.createElement(n,w({},r,{isDisabled:o,isFocused:a}))}},{key:"renderDropdownIndicator",value:function(){var e=this.components.DropdownIndicator;if(!e)return null;var t=this.commonProps,n=this.props.isDisabled,r=this.state.isFocused,o={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return i.a.createElement(e,w({},t,{innerProps:o,isDisabled:n,isFocused:r}))}},{key:"renderMenu",value:function(){var e=this,t=this.components,n=t.Group,r=t.GroupHeading,o=t.Menu,a=t.MenuList,s=t.MenuPortal,l=t.LoadingMessage,c=t.NoOptionsMessage,d=t.Option,u=this.commonProps,p=this.state,m=p.focusedOption,f=p.menuOptions,h=this.props,g=h.captureMenuScroll,v=h.inputValue,b=h.isLoading,y=h.loadingMessage,k=h.minMenuHeight,x=h.maxMenuHeight,C=h.menuIsOpen,_=h.menuPlacement,j=h.menuPosition,O=h.menuPortalTarget,E=h.menuShouldBlockScroll,N=h.menuShouldScrollIntoView,T=h.noOptionsMessage,P=h.onMenuScrollToTop,B=h.onMenuScrollToBottom;if(!C)return null;var D,I=function(t){var n=m===t.data;return t.innerRef=n?e.getFocusedOptionRef:void 0,i.a.createElement(d,w({},u,t,{isFocused:n}),e.formatOptionLabel(t.data,"menu"))};if(this.hasOptions())D=f.render.map((function(t){if("group"===t.type){t.type;var o=S(t,["type"]),a="".concat(t.key,"-heading");return i.a.createElement(n,w({},u,o,{Heading:r,headingProps:{id:a},label:e.formatGroupLabel(t.data)}),t.options.map((function(e){return I(e)})))}if("option"===t.type)return I(t)}));else if(b){var A=y({inputValue:v});if(null===A)return null;D=i.a.createElement(l,u,A)}else{var L=T({inputValue:v});if(null===L)return null;D=i.a.createElement(c,u,L)}var M={minMenuHeight:k,maxMenuHeight:x,menuPlacement:_,menuPosition:j,menuShouldScrollIntoView:N},F=i.a.createElement(U,w({},u,M),(function(t){var n=t.ref,r=t.placerProps,s=r.placement,l=r.maxHeight;return i.a.createElement(o,w({},u,M,{innerRef:n,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove},isLoading:b,placement:s}),i.a.createElement(ve,{isEnabled:g,onTopArrive:P,onBottomArrive:B},i.a.createElement(he,{isEnabled:E},i.a.createElement(a,w({},u,{innerRef:e.getMenuListRef,isLoading:b,maxHeight:l}),D))))}));return O||"fixed"===j?i.a.createElement(s,w({},u,{appendTo:O,controlElement:this.controlRef,menuPlacement:_,menuPosition:j}),F):F}},{key:"renderFormField",value:function(){var e=this,t=this.props,n=t.delimiter,r=t.isDisabled,o=t.isMulti,a=t.name,s=this.state.selectValue;if(a&&!r){if(o){if(n){var l=s.map((function(t){return e.getOptionValue(t)})).join(n);return i.a.createElement("input",{name:a,type:"hidden",value:l})}var c=s.length>0?s.map((function(t,n){return i.a.createElement("input",{key:"i-".concat(n),name:a,type:"hidden",value:e.getOptionValue(t)})})):i.a.createElement("input",{name:a,type:"hidden"});return i.a.createElement("div",null,c)}var d=s[0]?this.getOptionValue(s[0]):"";return i.a.createElement("input",{name:a,type:"hidden",value:d})}}},{key:"renderLiveRegion",value:function(){return this.state.isFocused?i.a.createElement(re,{"aria-live":"assertive"},i.a.createElement("p",{id:"aria-selection-event"},"",this.state.ariaLiveSelection),i.a.createElement("p",{id:"aria-context"},"",this.constructAriaLiveMessage())):null}},{key:"render",value:function(){var e=this.components,t=e.Control,n=e.IndicatorsContainer,r=e.SelectContainer,o=e.ValueContainer,a=this.props,s=a.className,l=a.id,c=a.isDisabled,d=a.menuIsOpen,u=this.state.isFocused,p=this.commonProps=this.getCommonProps();return i.a.createElement(r,w({},p,{className:s,innerProps:{id:l,onKeyDown:this.onKeyDown},isDisabled:c,isFocused:u}),this.renderLiveRegion(),i.a.createElement(t,w({},p,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:c,isFocused:u,menuIsOpen:d}),i.a.createElement(o,w({},p,{isDisabled:c}),this.renderPlaceholderOrValue(),this.renderInput()),i.a.createElement(n,w({},p,{isDisabled:c}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}]),t}(r.Component);k($e,"defaultProps",Ue);var We={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},Ge=function(e){var t,n;return n=t=function(t){function n(){var e,t;v(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return k(O(O(t=E(this,(e=_(n)).call.apply(e,[this].concat(i))))),"select",void 0),k(O(O(t)),"state",{inputValue:void 0!==t.props.inputValue?t.props.inputValue:t.props.defaultInputValue,menuIsOpen:void 0!==t.props.menuIsOpen?t.props.menuIsOpen:t.props.defaultMenuIsOpen,value:void 0!==t.props.value?t.props.value:t.props.defaultValue}),k(O(O(t)),"onChange",(function(e,n){t.callProp("onChange",e,n),t.setState({value:e})})),k(O(O(t)),"onInputChange",(function(e,n){var r=t.callProp("onInputChange",e,n);t.setState({inputValue:void 0!==r?r:e})})),k(O(O(t)),"onMenuOpen",(function(){t.callProp("onMenuOpen"),t.setState({menuIsOpen:!0})})),k(O(O(t)),"onMenuClose",(function(){t.callProp("onMenuClose"),t.setState({menuIsOpen:!1})})),t}return C(n,t),y(n,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(e){return void 0!==this.props[e]?this.props[e]:this.state[e]}},{key:"callProp",value:function(e){if("function"==typeof this.props[e]){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(t=this.props)[e].apply(t,r)}}},{key:"render",value:function(){var t=this,n=this.props,r=(n.defaultInputValue,n.defaultMenuIsOpen,n.defaultValue,S(n,["defaultInputValue","defaultMenuIsOpen","defaultValue"]));return i.a.createElement(e,w({},r,{ref:function(e){t.select=e},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),n}(r.Component),k(t,"defaultProps",We),n},qe={cacheOptions:!1,defaultOptions:!1,filterOption:null},Ke=function(e){var t,n;return n=t=function(t){function n(e){var t;return v(this,n),k(O(O(t=E(this,_(n).call(this)))),"select",void 0),k(O(O(t)),"lastRequest",void 0),k(O(O(t)),"mounted",!1),k(O(O(t)),"optionsCache",{}),k(O(O(t)),"handleInputChange",(function(e,n){var r=t.props,i=r.cacheOptions,o=function(e,t,n){if(n){var r=n(e,t);if("string"==typeof r)return r}return e}(e,n,r.onInputChange);if(!o)return delete t.lastRequest,void t.setState({inputValue:"",loadedInputValue:"",loadedOptions:[],isLoading:!1,passEmptyOptions:!1});if(i&&t.optionsCache[o])t.setState({inputValue:o,loadedInputValue:o,loadedOptions:t.optionsCache[o],isLoading:!1,passEmptyOptions:!1});else{var a=t.lastRequest={};t.setState({inputValue:o,isLoading:!0,passEmptyOptions:!t.state.loadedInputValue},(function(){t.loadOptions(o,(function(e){t.mounted&&(e&&(t.optionsCache[o]=e),a===t.lastRequest&&(delete t.lastRequest,t.setState({isLoading:!1,loadedInputValue:o,loadedOptions:e||[],passEmptyOptions:!1})))}))}))}return o})),t.state={defaultOptions:Array.isArray(e.defaultOptions)?e.defaultOptions:void 0,inputValue:void 0!==e.inputValue?e.inputValue:"",isLoading:!0===e.defaultOptions,loadedOptions:[],passEmptyOptions:!1},t}return C(n,t),y(n,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0;var t=this.props.defaultOptions,n=this.state.inputValue;!0===t&&this.loadOptions(n,(function(t){if(e.mounted){var n=!!e.lastRequest;e.setState({defaultOptions:t||[],isLoading:n})}}))}},{key:"componentWillReceiveProps",value:function(e){e.cacheOptions!==this.props.cacheOptions&&(this.optionsCache={}),e.defaultOptions!==this.props.defaultOptions&&this.setState({defaultOptions:Array.isArray(e.defaultOptions)?e.defaultOptions:void 0})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"loadOptions",value:function(e,t){var n=this.props.loadOptions;if(!n)return t();var r=n(e,t);r&&"function"==typeof r.then&&r.then(t,(function(){return t()}))}},{key:"render",value:function(){var t=this,n=this.props,r=(n.loadOptions,S(n,["loadOptions"])),o=this.state,a=o.defaultOptions,s=o.inputValue,l=o.isLoading,c=o.loadedInputValue,d=o.loadedOptions,u=o.passEmptyOptions?[]:s&&c?d:a||[];return i.a.createElement(e,w({},r,{ref:function(e){t.select=e},options:u,isLoading:l,onInputChange:this.handleInputChange}))}}]),n}(r.Component),k(t,"defaultProps",qe),n},Ye=(Ke(Ge($e)),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=String(e).toLowerCase(),r=String(t.value).toLowerCase(),i=String(t.label).toLowerCase();return r===n||i===n}),Je=x({allowCreateWhileLoading:!1,createOptionPosition:"last"},{formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,t,n){return!(!e||t.some((function(t){return Ye(e,t)}))||n.some((function(t){return Ye(e,t)})))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}}),Xe=function(e){var t,n;return n=t=function(t){function n(e){var t;v(this,n),k(O(O(t=E(this,_(n).call(this,e)))),"select",void 0),k(O(O(t)),"onChange",(function(e,n){var r=t.props,i=r.getNewOptionData,o=r.inputValue,a=r.isMulti,s=r.onChange,l=r.onCreateOption,c=r.value;if("select-option"!==n.action)return s(e,n);var d=t.state.newOption,u=Array.isArray(e)?e:[e];if(u[u.length-1]!==d)s(e,n);else if(l)l(o);else{var p=i(o,o),m={action:"create-option"};s(a?[].concat(N(D(c)),[p]):p,m)}}));var r=e.options||[];return t.state={newOption:void 0,options:r},t}return C(n,t),y(n,[{key:"componentWillReceiveProps",value:function(e){var t=e.allowCreateWhileLoading,n=e.createOptionPosition,r=e.formatCreateLabel,i=e.getNewOptionData,o=e.inputValue,a=e.isLoading,s=e.isValidNewOption,l=e.value,c=e.options||[],d=this.state.newOption;d=s(o,D(l),c)?i(o,r(o)):void 0,this.setState({newOption:d,options:!t&&a||!d?c:"first"===n?[d].concat(N(c)):[].concat(N(c),[d])})}},{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"render",value:function(){var t=this,n=w({},this.props),r=this.state.options;return i.a.createElement(e,w({},n,{ref:function(e){t.select=e},options:r,onChange:this.onChange}))}}]),n}(r.Component),k(t,"defaultProps",Je),n},Qe=(Ge(Xe($e)),Ke(Ge(Xe($e))),function(e){return function(t){t.in,t.onExited,t.appear,t.enter,t.exit;var n=S(t,["in","onExited","appear","enter","exit"]);return i.a.createElement(e,n)}}),Ze=function(e){var t=e.component,n=e.duration,r=void 0===n?1:n,o=e.in,a=(e.onExited,S(e,["component","duration","in","onExited"])),s={entering:{opacity:0},entered:{opacity:1,transition:"opacity ".concat(r,"ms")},exiting:{opacity:0},exited:{opacity:0}};return i.a.createElement(h.Transition,{mountOnEnter:!0,unmountOnExit:!0,in:o,timeout:r},(function(e){var n={style:x({},s[e])};return i.a.createElement(t,w({innerProps:n},a))}))},et=function(e){function t(){var e,n;v(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return k(O(O(n=E(this,(e=_(t)).call.apply(e,[this].concat(i))))),"duration",260),k(O(O(n)),"rafID",void 0),k(O(O(n)),"state",{width:"auto"}),k(O(O(n)),"transition",{exiting:{width:0,transition:"width ".concat(n.duration,"ms ease-out")},exited:{width:0}}),k(O(O(n)),"getWidth",(function(e){e&&isNaN(n.state.width)&&(n.rafID=window.requestAnimationFrame((function(){var t=e.getBoundingClientRect().width;n.setState({width:t})})))})),k(O(O(n)),"getStyle",(function(e){return{overflow:"hidden",whiteSpace:"nowrap",width:e}})),k(O(O(n)),"getTransition",(function(e){return n.transition[e]})),n}return C(t,e),y(t,[{key:"componentWillUnmount",value:function(){this.rafID&&window.cancelAnimationFrame(this.rafID)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.in,o=this.state.width;return i.a.createElement(h.Transition,{enter:!1,mountOnEnter:!0,unmountOnExit:!0,in:r,timeout:this.duration},(function(t){var r=x({},e.getStyle(o),e.getTransition(t));return i.a.createElement("div",{ref:e.getWidth,style:r},n)}))}}]),t}(r.Component),tt=function(e){return function(t){var n=t.in,r=t.onExited,o=S(t,["in","onExited"]);return i.a.createElement(et,{in:n,onExited:r},i.a.createElement(e,w({cropWithEllipsis:n},o)))}},nt=function(e){return function(t){return i.a.createElement(Ze,w({component:e,duration:t.isMulti?260:1},t))}},rt=function(e){return function(t){return i.a.createElement(Ze,w({component:e},t))}},it=function(e){return function(t){return i.a.createElement(h.TransitionGroup,w({component:e},t))}},ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Fe({components:e}),n=t.Input,r=t.MultiValue,i=t.Placeholder,o=t.SingleValue,a=t.ValueContainer,s=S(t,["Input","MultiValue","Placeholder","SingleValue","ValueContainer"]);return x({Input:Qe(n),MultiValue:tt(r),Placeholder:nt(i),SingleValue:rt(o),ValueContainer:it(a)},s)},at=ot(),st=(at.Input,at.MultiValue,at.Placeholder,at.SingleValue,at.ValueContainer,a(ot,Q),Ge($e));t.b=st},"./node_modules/react-select/node_modules/dom-helpers/class/addClass.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,i.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var i=r(n("./node_modules/react-select/node_modules/dom-helpers/class/hasClass.js"));e.exports=t.default},"./node_modules/react-select/node_modules/dom-helpers/class/hasClass.js":function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},"./node_modules/react-select/node_modules/dom-helpers/class/removeClass.js":function(e,t,n){"use strict";function r(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=r(e.className,t):e.setAttribute("class",r(e.className&&e.className.baseVal||"",t))}},"./node_modules/react-select/node_modules/react-transition-group/CSSTransition.js":function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n("./node_modules/prop-types/index.js"));var r=s(n("./node_modules/react-select/node_modules/dom-helpers/class/addClass.js")),i=s(n("./node_modules/react-select/node_modules/dom-helpers/class/removeClass.js")),o=s(n("./node_modules/react/index.js")),a=s(n("./node_modules/react-select/node_modules/react-transition-group/Transition.js"));n("./node_modules/react-select/node_modules/react-transition-group/utils/PropTypes.js");function s(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,r.default)(e,t)}))},d=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,i.default)(e,t)}))},u=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onEnter=function(e,n){var r=t.getClassNames(n?"appear":"enter").className;t.removeClasses(e,"exit"),c(e,r),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.getClassNames(n?"appear":"enter").activeClassName;t.reflowAndAddClass(e,r),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.getClassNames("appear").doneClassName,i=t.getClassNames("enter").doneClassName,o=n?r+" "+i:i;t.removeClasses(e,n?"appear":"enter"),c(e,o),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.getClassNames("exit").className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),c(e,n),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.getClassNames("exit").activeClassName;t.reflowAndAddClass(e,n),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.getClassNames("exit").doneClassName;t.removeClasses(e,"exit"),c(e,n),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var n=t.props.classNames,r="string"==typeof n,i=r?(r&&n?n+"-":"")+e:n[e];return{className:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.removeClasses=function(e,t){var n=this.getClassNames(t),r=n.className,i=n.activeClassName,o=n.doneClassName;r&&d(e,r),i&&d(e,i),o&&d(e,o)},i.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,c(e,t))},i.render=function(){var e=l({},this.props);return delete e.classNames,o.default.createElement(a.default,l({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},r}(o.default.Component);u.defaultProps={classNames:""},u.propTypes={};var p=u;t.default=p,e.exports=t.default},"./node_modules/react-select/node_modules/react-transition-group/ReplaceTransition.js":function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;a(n("./node_modules/prop-types/index.js"));var r=a(n("./node_modules/react/index.js")),i=n("./node_modules/react-dom/index.js"),o=a(n("./node_modules/react-select/node_modules/react-transition-group/TransitionGroup.js"));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleEnter=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEnter",0,n)},t.handleEntering=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntering",0,n)},t.handleEntered=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntered",0,n)},t.handleExit=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExit",1,n)},t.handleExiting=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExiting",1,n)},t.handleExited=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExited",1,n)},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=a.prototype;return s.handleLifecycle=function(e,t,n){var o,a=this.props.children,s=r.default.Children.toArray(a)[t];s.props[e]&&(o=s.props)[e].apply(o,n),this.props[e]&&this.props[e]((0,i.findDOMNode)(this))},s.render=function(){var e=this.props,t=e.children,n=e.in,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["children","in"]),a=r.default.Children.toArray(t),s=a[0],l=a[1];return delete i.onEnter,delete i.onEntering,delete i.onEntered,delete i.onExit,delete i.onExiting,delete i.onExited,r.default.createElement(o.default,i,n?r.default.cloneElement(s,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):r.default.cloneElement(l,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},a}(r.default.Component);s.propTypes={};var l=s;t.default=l,e.exports=t.default},"./node_modules/react-select/node_modules/react-transition-group/Transition.js":function(e,t,n){"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n("./node_modules/prop-types/index.js")),i=s(n("./node_modules/react/index.js")),o=s(n("./node_modules/react-dom/index.js")),a=n("./node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js");n("./node_modules/react-select/node_modules/react-transition-group/utils/PropTypes.js");function s(e){return e&&e.__esModule?e:{default:e}}t.UNMOUNTED="unmounted";t.EXITED="exited";t.ENTERING="entering";t.ENTERED="entered";t.EXITING="exiting";var l=function(e){var t,n;function r(t,n){var r;r=e.call(this,t,n)||this;var i,o=n.transitionGroup,a=o&&!o.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i="exited",r.appearStatus="entering"):i="entered":i=t.unmountOnExit||t.mountOnEnter?"unmounted":"exited",r.state={status:i},r.nextCallback=null,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getChildContext=function(){return{transitionGroup:null}},r.getDerivedStateFromProps=function(e,t){return e.in&&"unmounted"===t.status?{status:"exited"}:null},a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?"entering"!==n&&"entered"!==n&&(t="entering"):"entering"!==n&&"entered"!==n||(t="exiting")}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=o.default.findDOMNode(this);"entering"===t?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&"exited"===this.state.status&&this.setState({status:"unmounted"})},a.performEnter=function(e,t){var n=this,r=this.props.enter,i=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,o=this.getTimeouts(),a=i?o.appear:o.enter;t||r?(this.props.onEnter(e,i),this.safeSetState({status:"entering"},(function(){n.props.onEntering(e,i),n.onTransitionEnd(e,a,(function(){n.safeSetState({status:"entered"},(function(){n.props.onEntered(e,i)}))}))}))):this.safeSetState({status:"entered"},(function(){n.props.onEntered(e)}))},a.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:"exiting"},(function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,(function(){t.safeSetState({status:"exited"},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:"exited"},(function(){t.props.onExited(e)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var r=null==t&&!this.props.addEndListener;e&&!r?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if("unmounted"===e)return null;var t=this.props,n=t.children,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"==typeof n)return n(e,r);var o=i.default.Children.only(n);return i.default.cloneElement(o,r)},r}(i.default.Component);function c(){}l.contextTypes={transitionGroup:r.object},l.childContextTypes={transitionGroup:function(){}},l.propTypes={},l.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:c,onEntering:c,onEntered:c,onExit:c,onExiting:c,onExited:c},l.UNMOUNTED=0,l.EXITED=1,l.ENTERING=2,l.ENTERED=3,l.EXITING=4;var d=(0,a.polyfill)(l);t.default=d},"./node_modules/react-select/node_modules/react-transition-group/TransitionGroup.js":function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n("./node_modules/prop-types/index.js")),i=s(n("./node_modules/react/index.js")),o=n("./node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js"),a=n("./node_modules/react-select/node_modules/react-transition-group/utils/ChildMapping.js");function s(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var d=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},u=function(e){var t,n;function r(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(c(c(r)));return r.state={handleExited:i,firstRender:!0},r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},o.componentDidMount=function(){this.appeared=!0,this.mounted=!0},o.componentWillUnmount=function(){this.mounted=!1},r.getDerivedStateFromProps=function(e,t){var n=t.children,r=t.handleExited;return{children:t.firstRender?(0,a.getInitialChildMapping)(e,r):(0,a.getNextChildMapping)(e,n,r),firstRender:!1}},o.handleExited=function(e,t){var n=(0,a.getChildMapping)(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=l({},t.children);return delete n[e.key],{children:n}})))},o.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["component","childFactory"]),o=d(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?o:i.default.createElement(t,r,o)},r}(i.default.Component);u.childContextTypes={transitionGroup:r.default.object.isRequired},u.propTypes={},u.defaultProps={component:"div",childFactory:function(e){return e}};var p=(0,o.polyfill)(u);t.default=p,e.exports=t.default},"./node_modules/react-select/node_modules/react-transition-group/index.js":function(e,t,n){"use strict";var r=s(n("./node_modules/react-select/node_modules/react-transition-group/CSSTransition.js")),i=s(n("./node_modules/react-select/node_modules/react-transition-group/ReplaceTransition.js")),o=s(n("./node_modules/react-select/node_modules/react-transition-group/TransitionGroup.js")),a=s(n("./node_modules/react-select/node_modules/react-transition-group/Transition.js"));function s(e){return e&&e.__esModule?e:{default:e}}e.exports={Transition:a.default,TransitionGroup:o.default,ReplaceTransition:i.default,CSSTransition:r.default}},"./node_modules/react-select/node_modules/react-transition-group/utils/ChildMapping.js":function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=i,t.mergeChildMappings=o,t.getInitialChildMapping=function(e,t){return i(e.children,(function(n){return(0,r.cloneElement)(n,{onExited:t.bind(null,n),in:!0,appear:a(n,"appear",e),enter:a(n,"enter",e),exit:a(n,"exit",e)})}))},t.getNextChildMapping=function(e,t,n){var s=i(e.children),l=o(t,s);return Object.keys(l).forEach((function(i){var o=l[i];if((0,r.isValidElement)(o)){var c=i in t,d=i in s,u=t[i],p=(0,r.isValidElement)(u)&&!u.props.in;!d||c&&!p?d||!c||p?d&&c&&(0,r.isValidElement)(u)&&(l[i]=(0,r.cloneElement)(o,{onExited:n.bind(null,o),in:u.props.in,exit:a(o,"exit",e),enter:a(o,"enter",e)})):l[i]=(0,r.cloneElement)(o,{in:!1}):l[i]=(0,r.cloneElement)(o,{onExited:n.bind(null,o),in:!0,exit:a(o,"exit",e),enter:a(o,"enter",e)})}})),l};var r=n("./node_modules/react/index.js");function i(e,t){var n=Object.create(null);return e&&r.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,r.isValidElement)(e)?t(e):e}(e)})),n}function o(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var c=i[l][r];s[i[l][r]]=n(c)}s[l]=n(l)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}function a(e,t,n){return null!=n[t]?n[t]:e.props[t]}},"./node_modules/react-select/node_modules/react-transition-group/utils/PropTypes.js":function(e,t,n){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;var r;(r=n("./node_modules/prop-types/index.js"))&&r.__esModule;t.timeoutsShape=null;t.classNamesShape=null},"./node_modules/react-transition-group/esm/CSSTransition.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/esm/extends.js"),i=n("./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"),o=n("./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js");n("./node_modules/prop-types/index.js");function a(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var s=n("./node_modules/react/index.js"),l=n.n(s),c=n("./node_modules/react-transition-group/esm/Transition.js"),d=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"==typeof n.className?n.className=a(n.className,r):n.setAttribute("class",a(n.className&&n.className.baseVal||"",r)));var n,r}))},u=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){t.removeClasses(e,"exit"),t.addClass(e,n?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=n?"appear":"enter";t.addClass(e,r,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=n?"appear":"enter";t.removeClasses(e,r),t.addClass(e,r,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),t.addClass(e,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){t.addClass(e,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){t.removeClasses(e,"exit"),t.addClass(e,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var n=t.props.classNames,r="string"==typeof n,i=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}Object(o.a)(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"];"appear"===t&&"done"===n&&(r+=" "+this.getClassNames("enter").doneClassName),"active"===n&&e&&e.scrollTop,this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"==typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))}(e,r)},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,o=n.done;this.appliedClasses[t]={},r&&d(e,r),i&&d(e,i),o&&d(e,o)},n.render=function(){var e=this.props,t=(e.classNames,Object(i.a)(e,["classNames"]));return l.a.createElement(c.a,Object(r.a)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(l.a.Component);u.defaultProps={classNames:""},u.propTypes={};t.a=u},"./node_modules/react-transition-group/esm/TransitionGroup.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"),i=n("./node_modules/@babel/runtime/helpers/esm/extends.js"),o=n("./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),a=n("./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),s=(n("./node_modules/prop-types/index.js"),n("./node_modules/react/index.js")),l=n.n(s),c=n("./node_modules/react-transition-group/esm/TransitionGroupContext.js");function d(e,t){var n=Object.create(null);return e&&s.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&Object(s.isValidElement)(e)?t(e):e}(e)})),n}function u(e,t,n){return null!=n[t]?n[t]:e.props[t]}function p(e,t,n){var r=d(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var c=i[l][r];s[i[l][r]]=n(c)}s[l]=n(l)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}(t,r);return Object.keys(i).forEach((function(o){var a=i[o];if(Object(s.isValidElement)(a)){var l=o in t,c=o in r,d=t[o],p=Object(s.isValidElement)(d)&&!d.props.in;!c||l&&!p?c||!l||p?c&&l&&Object(s.isValidElement)(d)&&(i[o]=Object(s.cloneElement)(a,{onExited:n.bind(null,a),in:d.props.in,exit:u(a,"exit",e),enter:u(a,"enter",e)})):i[o]=Object(s.cloneElement)(a,{in:!1}):i[o]=Object(s.cloneElement)(a,{onExited:n.bind(null,a),in:!0,exit:u(a,"exit",e),enter:u(a,"enter",e)})}})),i}var m=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},f=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(Object(a.a)(Object(a.a)(r)));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}Object(o.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,i=t.children,o=t.handleExited;return{children:t.firstRender?(n=e,r=o,d(n.children,(function(e){return Object(s.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:u(e,"appear",n),enter:u(e,"enter",n),exit:u(e,"exit",n)})}))):p(e,i,o),firstRender:!1}},n.handleExited=function(e,t){var n=d(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=Object(i.a)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,i=Object(r.a)(e,["component","childFactory"]),o=this.state.contextValue,a=m(this.state.children).map(n);return delete i.appear,delete i.enter,delete i.exit,null===t?l.a.createElement(c.a.Provider,{value:o},a):l.a.createElement(c.a.Provider,{value:o},l.a.createElement(t,i,a))},t}(l.a.Component);f.propTypes={},f.defaultProps={component:"div",childFactory:function(e){return e}};t.a=f},"./node_modules/shallowequal/index.js":function(e,t){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<o.length;l++){var c=o[l];if(!s(c))return!1;var d=e[c],u=t[c];if(!1===(i=n?n.call(r,d,u,c):void 0)||void 0===i&&d!==u)return!1}return!0}},"./packages/nachos/button.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./node_modules/@atlaskit/button/dist/esm/components/Button.js"),a=n("./packages/nachos/tokens.ts");function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}"".concat(a.GLOBAL_NAMESPACE_PREFIX).concat(a.ButtonClassnameBase),"".concat(a.GLOBAL_NAMESPACE_PREFIX).concat(a.ButtonClassnameBase,"--").concat(a.ComponentClassnamePrimary),"".concat(a.GLOBAL_NAMESPACE_PREFIX).concat(a.ButtonClassnameBase,"--").concat(a.ComponentClassnameDanger),"".concat(a.GLOBAL_NAMESPACE_PREFIX).concat(a.ButtonClassnameBase,"--").concat(a.ButtonClassnameSubtle),"".concat(a.GLOBAL_NAMESPACE_PREFIX).concat(a.ButtonClassnameBase,"--").concat(a.ComponentClassnameSelected),"".concat(a.GLOBAL_NAMESPACE_PREFIX).concat(a.ButtonClassnameBase,"--").concat(a.ComponentClassnameStatic);var u,p={[a.ComponentClassnameDefault]:{[a.ComponentClassnameDefault]:{backgroundColor:a.ButtonDefaultBackgroundColor,color:a.ButtonDefaultColor,fontSize:a.ButtonDefaultFontSize,lineHeight:a.ButtonDefaultLineHeight,padding:"".concat(a.ButtonDefaultPaddingY," ").concat(a.ButtonDefaultPaddingX),fontWeight:Number(a.ButtonDefaultFontWeight)},[a.ComponentClassnameHover]:{backgroundColor:a.ButtonDefaultHoverBackgroundColor},[a.ComponentClassnameActive]:{color:a.ButtonDefaultActiveColor,backgroundColor:a.ButtonDefaultActiveBackgroundColor},[a.ComponentClassnameFocus]:{color:a.ButtonDefaultActiveColor,backgroundColor:a.ButtonDefaultActiveBackgroundColor},[a.ComponentClassnameFocusSelected]:{color:a.ButtonDefaultActiveColor,backgroundColor:a.ButtonDefaultActiveBackgroundColor},[a.ComponentClassnameDisabled]:{backgroundColor:a.ButtonDefaultDisabledBackgroundColor,color:a.ButtonDefaultDisabledColor},[a.ComponentClassnameSelected]:{backgroundColor:a.ButtonDefaultSelectedBackgroundColor,color:a.ButtonDefaultSelectedColor}},[a.ComponentClassnamePrimary]:{[a.ComponentClassnameDefault]:{backgroundColor:a.ButtonPrimaryBackgroundColor,color:a.ButtonPrimaryColor},[a.ComponentClassnameHover]:{backgroundColor:a.ButtonPrimaryHoverBackgroundColor},[a.ComponentClassnameActive]:{backgroundColor:a.ButtonPrimaryActiveBackgroundColor},[a.ComponentClassnameFocus]:{backgroundColor:a.ButtonPrimaryActiveBackgroundColor}},[a.ComponentClassnameDanger]:{[a.ComponentClassnameDefault]:{backgroundColor:a.ButtonDangerBackgroundColor,color:a.ButtonDangerColor},[a.ComponentClassnameHover]:{backgroundColor:a.ButtonDangerHoverBackgroundColor},[a.ComponentClassnameActive]:{backgroundColor:a.ButtonDangerActiveBackgroundColor},[a.ComponentClassnameFocus]:{backgroundColor:a.ButtonDangerActiveBackgroundColor}},[a.ButtonClassnameSubtle]:{[a.ComponentClassnameDefault]:{backgroundColor:a.ButtonSubtleBackgroundColor,color:a.ButtonSubtleColor},[a.ComponentClassnameHover]:{backgroundColor:a.ButtonSubtleHoverBackgroundColor},[a.ComponentClassnameActive]:{backgroundColor:a.ButtonSubtleActiveBackgroundColor},[a.ComponentClassnameFocus]:{backgroundColor:a.ButtonSubtleActiveBackgroundColor}}},m=function(e,t,n){var r=p[a.ComponentClassnameDefault],i=p[a.ComponentClassnameDefault][a.ComponentClassnameDefault],o=p[e]?p[e]:r,s=void 0!==o[t]?o[t]:r[t];return s[n]?s[n]:o[a.ComponentClassnameDefault][n]?o[a.ComponentClassnameDefault][n]:r[t][n]?r[t][n]:i[n]},f=function(e,t){var n=e(t),r=n.buttonStyles,i=n.spinnerStyles,o=t.state,a=t.appearance;return{buttonStyles:c({},r,{boxShadow:"none",color:m(a,o,"color"),backgroundColor:m(a,o,"backgroundColor"),fontSize:m(a,o,"fontSize"),lineHeight:m(a,o,"lineHeight"),padding:m(a,o,"padding"),fontWeight:m(a,o,"fontWeight")}),spinnerStyles:i}},h=((u=function(e,t){var n=e.children;return i.a.createElement(o.a,s({theme:f},e,{ref:t}),n)}).displayName="Button",i.a.forwardRef(u))},"./packages/nachos/checkbox.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return ye}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./node_modules/tslib/tslib.es6.js");function a(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var s=function(e,t){var n;void 0===t&&(t=a);var r,i=[],o=!1;return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return o&&n===this&&t(a,i)||(r=e.apply(this,a),o=!0,n=this,i=a),r}},l=n("./node_modules/@atlaskit/analytics-next/dist/esm/createAndFireEvent.js"),c=n("./node_modules/@atlaskit/analytics-next/dist/esm/withAnalyticsContext.js"),d=n("./node_modules/@atlaskit/analytics-next/dist/esm/withAnalyticsEvents.js"),u=n("./node_modules/@atlaskit/theme/dist/esm/components/Theme.js"),p=n("./node_modules/@atlaskit/icon/glyph/checkbox.js"),m=n.n(p),f=n("./node_modules/@atlaskit/icon/glyph/checkbox-indeterminate.js"),h=n.n(f),g=n("./node_modules/@emotion/core/dist/core.browser.esm.js"),v=function(e){return{}},b=function(e,t){if(void 0===t&&(t=Object.create(Object.prototype)),!e)throw new Error("a default set of overrides *must* be passed in as the first argument");return function(n){var r=e[n],i=r.cssFn,o=r.attributesFn,a=r.component;if(!t[n])return{cssFn:i,attributesFn:o,component:a};var s=t[n],l=s.cssFn,c=s.attributesFn,d=s.component;return{cssFn:l?function(e){return l(i(e),e)}:i,attributesFn:c||o,component:d||a}}},y=function(e){var t,n=e.tokens,r=Object(o.__rest)(e,["tokens"]);return r.isDisabled?{stroke:(t=n.icon).borderColor.disabled,strokeWidth:t.borderWidth}:r.isActive?function(e){return{stroke:e.borderColor.active,strokeWidth:e.borderWidth}}(n.icon):r.isFocused?function(e){return{stroke:e.borderColor.focused,strokeWidth:e.borderWidth}}(n.icon):r.isInvalid?r.isChecked?function(e){return{stroke:e.borderColor.invalidAndChecked,strokeWidth:e.borderWidth}}(n.icon):function(e){return{stroke:e.borderColor.invalid,strokeWidth:e.borderWidth}}(n.icon):r.isHovered?r.isChecked?function(e){return{stroke:e.borderColor.hoveredAndChecked,strokeWidth:e.borderWidth}}(n.icon):function(e){return{stroke:e.borderColor.hovered,strokeWidth:e.borderWidth}}(n.icon):r.isChecked?function(e){return{stroke:e.borderColor.checked,strokeWidth:e.borderWidth}}(n.icon):{stroke:n.icon.borderColor.rest,strokeWidth:n.icon.borderWidth}},k=function(e){var t=e.isChecked,n=e.isDisabled,r=e.isActive,i=e.tokens.icon,o=i.tickColor.checked;return n&&t?o=i.tickColor.disabledAndChecked:r&&t&&!n?o=i.tickColor.activeAndChecked:t||(o=i.tickColor.rest),o},w=function(e){var t=e.isChecked,n=e.isDisabled,r=e.isActive,i=e.isHovered,o=e.tokens.icon,a=o.boxColor.rest;return n?a=o.boxColor.disabled:r?a=o.boxColor.active:i&&t?a=o.boxColor.hoveredAndChecked:i?a=o.boxColor.hovered:t&&(a=o.boxColor.checked),a};var x={component:function(e){var t=e.attributesFn,n=e.cssFn,r=e.children,i=Object(o.__rest)(e,["attributesFn","cssFn","children"]);return Object(g.b)("span",Object(o.__assign)({css:n(i)},t(i),{children:r}))},cssFn:function(e){return{lineHeight:0,flexShrink:0,color:w(e),fill:k(e),transition:"all 0.2s ease-in-out;","& rect:first-of-type":Object(o.__assign)({transition:"stroke 0.2s ease-in-out;"},y(e)),"> span":{display:"flex"}}},attributesFn:v},C=n("./node_modules/@atlaskit/theme/dist/esm/index.js"),_=n("./node_modules/@atlaskit/theme/dist/esm/utils/createTheme.js"),j={label:{textColor:{rest:{light:C.a.N900,dark:C.a.DN600},disabled:{light:C.a.N80,dark:C.a.N80}},spacing:{top:"2px",right:"4px",bottom:"2px",left:"4px"}},icon:{borderWidth:"2px",borderColor:{rest:{light:C.a.N40,dark:C.a.DN80},disabled:{light:"",dark:""},checked:{light:"currentColor",dark:"currentColor"},active:{light:"currentColor",dark:"currentColor"},invalid:{light:C.a.R300,dark:C.a.R300},invalidAndChecked:{light:C.a.R300,dark:C.a.R300},focused:{light:C.a.B100,dark:C.a.B75},hovered:{light:C.a.N40,dark:C.a.DN200},hoveredAndChecked:{light:"currentColor",dark:"currentColor"}},boxColor:{rest:{light:C.a.N10,dark:C.a.DN10},disabled:{light:C.a.N20,dark:C.a.DN10},active:{light:C.a.B50,dark:C.a.B200},hoveredAndChecked:{light:C.a.B300,dark:C.a.B75},hovered:{light:C.a.N30,dark:C.a.DN30},checked:{light:C.a.B400,dark:C.a.B400}},tickColor:{rest:{light:"transparent",dark:"transparent"},disabledAndChecked:{light:C.a.N70,dark:C.a.DN90},activeAndChecked:{light:C.a.B400,dark:C.a.DN10},checked:{light:C.a.N10,dark:C.a.DN10}},size:"medium"},requiredIndicator:{textColor:{rest:C.a.R500}}},S=Object(_.a)((function(e){return function(e,t){return function e(n){return Object.keys(n).reduce((function(r,i){var o=n[i];return"object"!=typeof o||null==typeof o||Array.isArray(o)?r[i]=o:Object.keys(o).includes(t)?r[i]=o[t]:r[i]=e(n[i]),r}),{})}(e)}(e.tokens,e.mode)})),O={IconWrapper:x,IconIndeterminate:{component:h.a},Icon:{component:m.a}},E=function(e){function t(t){var n=e.call(this,t)||this;return n.createExtender=s(b).bind(n),n}return Object(o.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.isChecked,n=e.isDisabled,r=e.isInvalid,a=e.isActive,s=e.isFocused,l=e.isHovered,c=e.isIndeterminate,d=e.overrides,p=e.primaryColor,m=e.secondaryColor,f=e.theme,h=this.createExtender(O,d),g=h("IconWrapper"),v=g.component,b=Object(o.__rest)(g,["component"]),y=h("IconIndeterminate").component,k=h("Icon").component;return i.a.createElement(S.Provider,{value:f},i.a.createElement(u.a.Consumer,null,(function(e){var d=e.mode;return i.a.createElement(S.Consumer,{mode:d,tokens:j},(function(e){return i.a.createElement(v,Object(o.__assign)({},b,{tokens:e,isChecked:t,isDisabled:n,isFocused:s,isActive:a,isHovered:l,isInvalid:r}),c?i.a.createElement(y,{primaryColor:p,secondaryColor:m,size:e.icon.size,label:""}):i.a.createElement(k,{primaryColor:p,secondaryColor:m,size:e.icon.size,label:""}))}))})))},t.defaultProps={primaryColor:"inherit",secondaryColor:"inherit",isIndeterminate:!1,theme:function(e,t){return e(t)}},t}(r.Component);var N={component:function(e){var t=e.attributesFn,n=e.children,r=e.isDisabled,i=e.onMouseUp,a=e.onMouseDown,s=e.onMouseLeave,l=e.onMouseEnter,c=e.tokens,d=e.cssFn,u=e.testId;return Object(g.b)("label",Object(o.__assign)({},t({isDisabled:r}),{onMouseUp:i,onMouseDown:a,onMouseLeave:s,onMouseEnter:l,css:d({isDisabled:r,tokens:c}),"data-testid":u}),n)},cssFn:function(e){var t=e.isDisabled,n=e.tokens;return Object(o.__assign)({alignItems:"flex-start",display:"flex",color:t?n.label.textColor.disabled:n.label.textColor.rest},t&&{cursor:"not-allowed"})},attributesFn:v};var T={component:function(e){var t=e.attributesFn,n=e.tokens,r=e.children,i=e.cssFn;return Object(g.b)("span",Object(o.__assign)({},t(),{css:i({tokens:n})}),r)},cssFn:function(e){var t=e.tokens;return{paddingTop:t.label.spacing.top,paddingRight:t.label.spacing.right,paddingBottom:t.label.spacing.bottom,paddingLeft:t.label.spacing.left}},attributesFn:v},P=function(e){var t=e.children;return Object(g.b)("span",{css:{display:"flex;",flexShrink:0,position:"relative"}},t)},B=Object(r.forwardRef)((function(e,t){e.createAnalyticsEvent;var n=e.attributesFn,r=e.testId,i=Object(o.__rest)(e,["createAnalyticsEvent","attributesFn","testId"]);return Object(g.b)("input",Object(o.__assign)({type:"checkbox"},n({disabled:i.disabled,checked:i.checked,required:i.required}),i,{ref:t,css:{left:"50%",margin:0,opacity:0,padding:0,position:"absolute",transform:"translate(-50%, -50%)",top:"50%",pointerEvents:"none"},"data-testid":r}))})),D=n("./node_modules/@atlaskit/theme/dist/esm/constants.js"),I=function(e){var t=e.tokens,n=Object(o.__rest)(e,["tokens"]);return Object(g.b)("span",Object(o.__assign)({css:{color:t.requiredIndicator.textColor.rest,paddingLeft:C.c.multiply(D.g,.25)+"px;"}},n))},A=n("./node_modules/@atlaskit/checkbox/dist/esm/version.json"),L={Label:N,LabelText:T,HiddenCheckbox:{attributesFn:function(){return{}}}},M=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isActive:!1,isFocused:!1,isHovered:!1,isMouseDown:!1,isChecked:void 0!==n.props.isChecked?n.props.isChecked:n.props.defaultChecked},n.checkbox=void 0,n.actionKeys=[" "],n.onChange=function(e){return n.props.isDisabled?null:(e.persist(),void 0!==e.target.checked&&n.setState({isChecked:e.target.checked}),n.props.onChange&&n.props.onChange(e),!0)},n.blur=function(){n.checkbox&&n.checkbox.blur&&n.checkbox.blur()},n.focus=function(){n.checkbox&&n.checkbox.focus&&n.checkbox.focus()},n.onBlur=function(){return n.setState({isActive:n.state.isMouseDown&&n.state.isActive,isFocused:!1})},n.onFocus=function(){return n.setState({isFocused:!0})},n.onMouseLeave=function(){return n.setState({isActive:!1,isHovered:!1})},n.onMouseEnter=function(){return n.setState({isHovered:!0})},n.onMouseUp=function(){return n.setState({isActive:!1,isMouseDown:!1})},n.onMouseDown=function(){return n.setState({isActive:!0,isMouseDown:!0})},n.onKeyDown=function(e){e.key in n.actionKeys&&n.setState({isActive:!0})},n.onKeyUp=function(e){e.key in n.actionKeys&&n.setState({isActive:!1})},n.createExtender=s(b),n}return Object(o.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this.props.isIndeterminate;this.checkbox&&(this.checkbox.indeterminate=!!e,this.props.inputRef&&this.props.inputRef(this.checkbox))},t.prototype.componentDidUpdate=function(e){var t=this.props.isIndeterminate;e.isIndeterminate!==t&&this.checkbox&&(this.checkbox.indeterminate=!!t)},t.prototype.render=function(){var e=this,t=this.props,n=t.isDisabled,r=t.isInvalid,a=t.isIndeterminate,s=t.label,l=t.name,c=t.overrides,d=t.value,p=t.isRequired,m=t.isChecked,f=t.theme,h=t.testId,g=void 0===this.props.isChecked?this.state.isChecked:m,v=this.state,y=v.isFocused,k=v.isActive,w=v.isHovered,x=b(L,c),C=x("Label"),_=C.component,O=Object(o.__rest)(C,["component"]),N=x("LabelText"),T=N.component,D=Object(o.__rest)(N,["component"]),A=x("HiddenCheckbox").attributesFn;return i.a.createElement(S.Provider,{value:f},i.a.createElement(u.a.Consumer,null,(function(t){var u=t.mode;return i.a.createElement(S.Consumer,{mode:u,tokens:j},(function(t){return i.a.createElement(_,Object(o.__assign)({},O,{isDisabled:n,onMouseDown:e.onMouseDown,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onMouseUp:e.onMouseUp,tokens:t,testId:h&&h+"--checkbox-label"}),i.a.createElement(P,null,i.a.createElement(B,{disabled:n,checked:g,onChange:e.onChange,onBlur:e.onBlur,onFocus:e.onFocus,onKeyUp:e.onKeyUp,onKeyDown:e.onKeyDown,value:d,name:l,ref:function(t){return e.checkbox=t},required:p,attributesFn:A,testId:h&&h+"--hidden-checkbox"}),i.a.createElement(E,{theme:f,overrides:{IconWrapper:c&&c.IconWrapper,Icon:c&&c.Icon,IconIndeterminate:c&&c.IconIndeterminate},isChecked:g,isDisabled:n,isFocused:y,isActive:k,isHovered:w,isInvalid:r,isIndeterminate:a,primaryColor:"inherit",secondaryColor:"inherit",label:""})),i.a.createElement(T,Object(o.__assign)({},D,{tokens:t}),s,p&&i.a.createElement(I,{tokens:t,"aria-hidden":"true"},"*")))}))})))},t.defaultProps={isDisabled:!1,isInvalid:!1,defaultChecked:!1,isIndeterminate:!1,theme:function(e,t){return e(t)}},t}(r.Component),F=Object(l.a)("atlaskit"),R=Object(c.a)({componentName:"checkbox",packageName:A.name,packageVersion:A.version})(Object(d.a)({onChange:F({action:"changed",actionSubject:"checkbox",attributes:{componentName:"checkbox",packageName:A.name,packageVersion:A.version}})})(M)),z=n("./node_modules/@atlaskit/icon/cjs/index.js"),V=n.n(z),U=n("./packages/nachos/tokens.ts"),H=n("./node_modules/classnames/index.js"),$=n.n(H),W=n("./packages/nachos/src/components/Checkbox/Checkbox.less"),G=n.n(W);function q(){return(q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){X(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function J(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e,t,n){return t&&Z(e.prototype,t),n&&Z(e,n),e}function te(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function re(e){return function(){var t,n=se(e);if(ae()){var r=se(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return ie(this,t)}}function ie(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?oe(e):t}function oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ae(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var le="".concat(U.GLOBAL_NAMESPACE_PREFIX).concat(U.CheckboxClassnameBase),ce=("".concat(U.GLOBAL_NAMESPACE_PREFIX).concat(U.CheckboxClassnameBase,"__").concat(U.ComponentClassnameLabel),"".concat(U.GLOBAL_NAMESPACE_PREFIX).concat(U.CheckboxClassnameBase,"--").concat(U.ComponentClassnameStatic),parseInt(U.CheckboxDefaultStrokeWidth,10)/2),de=parseInt(U.CheckboxDefaultStrokeWidth,10)/2,ue=function(){return i.a.createElement("svg",{width:U.CheckboxDefaultWidth,height:U.CheckboxDefaultHeight,viewBox:"0 0 ".concat(U.CheckboxDefaultViewBoxY," ").concat(U.CheckboxDefaultViewBoxX),focusable:"false",role:"presentation"},i.a.createElement("g",{fillRule:"evenodd"},i.a.createElement("rect",{fill:"currentColor",x:ce,y:de,width:U.CheckboxDefaultWidth,height:U.CheckboxDefaultHeight,rx:U.CheckboxDefaultBorderRadius,strokeWidth:U.CheckboxDefaultStrokeWidth}),i.a.createElement("path",{d:"M1.49022 3.21486C1.2407 2.94412 0.818938 2.92692 0.548195 3.17644C0.277453 3.42597 0.260252 3.84773 0.509776 4.11847L2.91785 6.73131C3.2762 7.08204 3.80964 7.08204 4.14076 6.75092C4.18159 6.71082 4.18159 6.71082 4.38359 6.51218C4.57995 6.31903 4.79875 6.1037 5.03438 5.87167C5.70762 5.20868 6.38087 4.54459 7.00931 3.92318L7.0362 3.89659C8.15272 2.79246 9.00025 1.9491 9.47463 1.46815C9.73318 1.20602 9.73029 0.783922 9.46815 0.525367C9.20602 0.266812 8.78392 0.269712 8.52537 0.531843C8.05616 1.00754 7.21125 1.84829 6.09866 2.94854L6.07182 2.97508C5.4441 3.59578 4.77147 4.25926 4.09883 4.92165C3.90522 5.11231 3.72299 5.29168 3.55525 5.4567L1.49022 3.21486Z",fill:"inherit"})))},pe=parseInt(U.CheckboxDefaultWidth,10)/2,me=pe/2,fe=function(){return i.a.createElement("svg",{width:U.CheckboxDefaultViewBoxX,height:U.CheckboxDefaultViewBoxY,viewBox:"0 0 ".concat(U.CheckboxDefaultViewBoxY," ").concat(U.CheckboxDefaultViewBoxX),focusable:"false",role:"presentation"},i.a.createElement("g",{fillRule:"evenodd"},i.a.createElement("rect",{fill:"currentColor",x:ce,y:de,width:U.CheckboxDefaultWidth,height:U.CheckboxDefaultHeight,rx:U.CheckboxDefaultBorderRadius,strokeWidth:U.CheckboxDefaultStrokeWidth}),i.a.createElement("rect",{fill:"inherit",x:ce+me,y:parseInt(U.CheckboxDefaultHeight,10)/2,width:pe,height:U.CheckboxDefaultStrokeWidth,rx:"1"})))},he=function(e){te(n,e);var t=re(n);function n(){return Q(this,n),t.apply(this,arguments)}return ee(n,[{key:"render",value:function(){return i.a.createElement(V.a,{glyph:ue,label:"",size:U.ComponentSizeS,primaryColor:"inherit",secondaryColor:"inherit"})}}]),n}(i.a.Component),ge=function(e){te(n,e);var t=re(n);function n(){return Q(this,n),t.apply(this,arguments)}return ee(n,[{key:"render",value:function(){return i.a.createElement(V.a,{glyph:fe,label:"",size:U.ComponentSizeS,primaryColor:"inherit",secondaryColor:"inherit"})}}]),n}(i.a.Component),ve={label:{textColor:{rest:U.TextDefaultColor},spacing:{top:U.CheckboxLabelDefaultPaddingY,bottom:U.CheckboxLabelDefaultPaddingY,left:U.CheckboxLabelDefaultPaddingX}},icon:{borderColor:{rest:U.CheckboxIconDefaultBorderColor,hovered:U.CheckboxIconHoverBorderColor,[U.ComponentStateActive]:U.CheckboxIconActiveBorderColor,[U.ComponentStateDisabled]:U.CheckboxIconDisabledBorderColor,[U.ComponentStateInvalid]:U.CheckboxIconInvalidBorderColor,[U.ComponentStateChecked]:U.CheckboxIconCheckedBorderColor,[U.ComponentStateHoveredAndChecked]:U.CheckboxIconHoveredAndCheckedBorderColor,focused:U.CheckboxIconFocusBorderColor},boxColor:{rest:U.CheckboxIconDefaultBoxColor,hovered:U.CheckboxIconHoverBoxColor,[U.ComponentStateActive]:U.CheckboxIconActiveBoxColor,[U.ComponentStateDisabled]:U.CheckboxIconDisabledBoxColor,[U.ComponentStateChecked]:U.CheckboxIconCheckedBoxColor,[U.ComponentStateHoveredAndChecked]:U.CheckboxIconHoveredAndCheckedBoxColor},tickColor:{rest:U.CheckboxIconDefaultTickColor,[U.ComponentStateChecked]:U.CheckboxIconCheckedTickColor,[U.ComponentStateActiveAndChecked]:U.CheckboxIconActiveAndCheckedTickColor,[U.ComponentStateDisabledAndChecked]:U.CheckboxIconDisabledTickColor}}},be=function(e,t){var n=e(t);return Object.assign({},n,ve)},ye=function(e){te(n,e);var t=re(n);function n(){var e;Q(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return X(oe(e=t.call.apply(t,[this].concat(i))),"checkboxRef",void 0),e}return ee(n,[{key:"componentDidMount",value:function(){this.props.testId&&this.checkboxRef&&this.checkboxRef.setAttribute("data-test-id",this.props.testId)}},{key:"componentDidUpdate",value:function(e){this.checkboxRef&&this.props.testId!==e.testId&&(this.props.testId?this.checkboxRef.setAttribute("data-test-id",this.props.testId):this.checkboxRef.removeAttribute("data-test-id"))}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.label,o=t.onChange,a=t.name,s=(t.testId,J(t,["className","label","onChange","name","testId"])),l=$()({[le]:!0,[G.a[le]]:!0},n),c=a;return c||(c=G.a[le]),i.a.createElement("div",{className:l},i.a.createElement(R,q({theme:be,name:c,label:r,inputRef:function(t){return e.checkboxRef=t},onChange:function(t){e.checkboxRef&&e.checkboxRef.blur(),o&&o(t)},overrides:{Icon:{component:he},IconIndeterminate:{component:ge},IconWrapper:{cssFn:function(e){return Y({},e,{"& path":{transform:U.CheckboxIconPathDefaultTransform}})}},Label:{cssFn:function(e){return Y({},e,{alignItems:U.CheckboxLabelDefaultAlignItems})}}}},s)))}}]),n}(i.a.Component)},"./packages/nachos/popover.ts":function(e,t,n){"use strict";var r=n("./packages/nachos/src/components/Popover/index.ts");n.d(t,"b",(function(){return r.b})),n.d(t,"d",(function(){return r.e})),n.d(t,"c",(function(){return r.d})),n.d(t,"a",(function(){return r.a}))},"./packages/nachos/select.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return H})),n.d(t,"b",(function(){return $}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./node_modules/react-select/dist/react-select.esm.js"),a=n("./node_modules/classnames/index.js"),s=n.n(a),l=n("./packages/keybindings/index.ts"),c=n("./packages/layer-manager/index.ts"),d=n("./packages/test-ids/index.ts"),u=n("./packages/nachos/tokens.ts"),p=n("./packages/nachos/src/components/List/List.less"),m=n.n(p);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.ListClassnameBase);var h="".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.ListClassnameBase,"__").concat(u.ListClassnameItem),g={BASE:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.ListClassnameBase,"__").concat(u.ListClassnameCell),IMAGE:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.ListClassnameBase,"__").concat(u.ListClassnameCell,"-").concat(u.ListClassnameImage),META:{BASE:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.ListClassnameBase,"__").concat(u.ListClassnameCell,"-").concat(u.ListClassnameMeta),SELECTED:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.ListClassnameBase,"__").concat(u.ListClassnameCell,"-").concat(u.ListClassnameMeta,"--").concat(u.ComponentClassnameSelected)},LABEL:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.ListClassnameBase,"__").concat(u.ListClassnameCell,"-").concat(u.ComponentClassnameLabel),CONTENT:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.ListClassnameBase,"__").concat(u.ListClassnameCell,"-").concat(u.ListClassnameContent)},v=("".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.ListClassnameBase,"--").concat(u.ComponentClassnameStatic),function(e){return i.a.createElement("li",f({className:m.a[h]},e),e.children)}),b=function(e){var t=e.meta,n=e.image,r=e.label,o=e.isSelected,a=null;n&&("string"==typeof n&&(a=i.a.createElement("img",{className:m.a[g.IMAGE],alt:r,src:n})),i.a.isValidElement(n)&&(a=i.a.createElement("div",{className:m.a[g.IMAGE]},n)));var l=s()({[m.a[g.META.BASE]]:!0,[m.a[g.META.SELECTED]]:o});return i.a.createElement("li",f({className:m.a[g.BASE]},e),a&&a,i.a.createElement("div",{className:m.a[g.CONTENT]},i.a.createElement("div",{className:m.a[g.LABEL]},r),t&&i.a.createElement("div",{className:l},t)))};function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return k({},e&&{textOverflow:"ellipsis"},{overflow:"hidden",whiteSpace:"nowrap"})},C=n("./packages/nachos/src/components/Select/Select.less"),_=n.n(C);function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var B="".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase),D=("".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"-").concat(u.SelectClassnameContainer),{BASE:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"__").concat(u.SelectClassnameControl),FOCUS:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"__").concat(u.SelectClassnameControl,"--").concat(u.ComponentClassnameFocus)}),I="".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"__").concat(u.SelectClassnameMenu),A={BASE:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"__").concat(u.SelectClassnameOption),ACTIVE:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"__").concat(u.SelectClassnameOption,"--").concat(u.ComponentClassnameActive),DISABLED:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"__").concat(u.SelectClassnameOption,"--").concat(u.ComponentClassnameDisabled),SELECTED:"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"__").concat(u.SelectClassnameOption,"--").concat(u.ComponentClassnameSelected)},L=("".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"__").concat(u.SelectClassnameVal),"".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"__").concat(u.ComponentClassnameLabel)),M=("".concat(u.GLOBAL_NAMESPACE_PREFIX).concat(u.SelectClassnameBase,"--").concat(u.ComponentClassnameStatic),{control:function(e){e.backgroundColor,e.border,e.borderColor,e.borderWidth,e.borderStyle,e.boxShadow;return N({},P(e,["backgroundColor","border","borderColor","borderWidth","borderStyle","boxShadow"]),{borderRadius:u.SelectControlDefaultBorderRadius,border:u.SelectControlDefaultBorder,height:u.SelectControlDefaultHeight,position:u.SelectControlDefaultPosition,padding:"".concat(u.SelectControlDefaultPaddingY," ").concat(u.SelectControlDefaultPaddingX)})},valueContainer:function(){return{padding:u.SelectValueContainerDefaultPadding,position:u.SelectValueContainerDefaultPosition,display:u.SelectValueContainerDefaultDisplay,maxWidth:u.SelectValueContainerDefaultMaxWidth,maxHeight:u.SelectValueContainerDefaultMaxHeight}},input:function(){return N({position:u.SelectInputDefaultPosition,top:u.SelectInputDefaultTop,left:u.SelectInputDefaultLeft,maxWidth:u.SelectInputDefaultMaxWidth},x(!1))},option:function(e,t){return{cursor:t.isDisabled?"initial":"pointer"}},singleValue:function(){return N({marginLeft:u.SelectSingleValueDefaultMarginLeft},x())},groupHeading:function(e){return N({},e,{color:u.SelectGroupHeadingDefaultColor,fontSize:u.SelectGroupHeadingDefaultFontSize,fontWeight:u.SelectGroupHeadingDefaultFontWeight,lineHeight:u.SelectGroupHeadingDefaultLineHeight,marginBottom:u.SelectGroupHeadingDefaultMarginBottom})}}),F=function(e){var t=e.selectProps,n=t.isDisabled,r=t.isFocused,a=e.isSelected,l=e.data,c=l.label,u=l.meta,p=l.image,m=l.testId,f=P(e,["selectProps","isSelected","data"]),h=s()({[_.a[A.BASE]]:!0,[_.a[A.SELECTED]]:a,[_.a[A.DISABLED]]:n,[_.a[A.ACTIVE]]:r});return i.a.createElement("div",{[d.TEST_ID_ATTR]:m},i.a.createElement(o.a.Option,O({className:h},f),u||p?i.a.createElement(b,{label:c,meta:u,image:p,isSelected:a}):i.a.createElement(v,null,c)))},R=function(e){var t,n,r=null!==(t=null==e||null===(n=e.selectProps)||void 0===n?void 0:n.menuElevation)&&void 0!==t?t:0;return i.a.createElement("div",{[c.ELEVATION_ATTR]:r},i.a.createElement(o.a.Menu,O({className:_.a[I]},e)))},z=function(e){var t,n,r=s()({[_.a[D.BASE]]:!0,[_.a[D.FOCUS]]:e.isFocused}),a=null!==(t=null==e||null===(n=e.selectProps)||void 0===n?void 0:n.testId)&&void 0!==t?t:null;return i.a.createElement("div",{[d.TEST_ID_ATTR]:a},i.a.createElement(o.a.Control,O({className:r},e)))},V=function(){return null},U=function(e){e.key===l.Key.Escape&&(e.nativeEvent.stopImmediatePropagation(),e.preventDefault())},H=function(e){var t=e.className,n=e.defaultValue,a=e.value,l=e.label,d=e.options,u=e.testId,p=e.isSearchable,m=void 0!==p&&p,f=e.scrollIntoViewSelectedOption,h=void 0===f||f,g=e.menuPosition,v=void 0===g?"fixed":g,b=P(e,["className","defaultValue","value","label","options","testId","isSearchable","scrollIntoViewSelectedOption","menuPosition"]),y=Object(r.useRef)(null),k=j(Object(c.useCallbackRef)(),2),w=k[0],x=k[1],C=Object(c.useCurrentElevation)(w)+1,S=s()({[B]:!0,[_.a[B]]:!0},t),E=l;"string"==typeof l&&(E=i.a.createElement("label",{className:_.a[L]},l)),d.forEach((function(e,t,n){"string"==typeof e&&(n[t]={value:e,label:e})}));var T=a;"string"==typeof a&&(T={value:a,label:a});var D=n;"string"==typeof n&&(D={value:n,label:n});return y&&y.current&&(y.current.select.openMenu=function(e){var t=y.current.select,n=t.state,r=n.menuOptions,i=n.selectValue,o=n.isFocused,a=b.isMulti,s="first"===e?0:r.focusable.length-1;if(!a&&i[0]&&h){var l=r.focusable.findIndex((function(e){return e.value===i[0].value}));l>-1&&(s=l)}t.scrollToFocusedOptionOnUpdate=!(o&&t.menuListRef),t.inputIsHiddenAfterUpdate=!1,t.onMenuOpen(),t.setState({focusedValue:null,focusedOption:r.focusable[s]}),t.announceAriaLiveContext({event:"menu"})}),i.a.createElement("div",{ref:x},E,i.a.createElement(o.b,O({ref:y,onKeyDown:U,className:S,styles:M,value:T,defaultValue:D,options:d,isOptionDisabled:function(e){return e.isDisabled},menuPortalTarget:document.body,menuPosition:v,isSearchable:m,components:N({Menu:R,Option:F,Control:z,IndicatorSeparator:V,DropdownIndicator:V},b.components),testId:u,menuElevation:C},b)))},$=o.a},"./packages/nachos/src/components/Checkbox/Checkbox.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/nachos/src/components/Checkbox/Checkbox.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./packages/nachos/src/components/List/List.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/nachos/src/components/List/List.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./packages/nachos/src/components/Popover/index.ts":function(e,t,n){"use strict";var r=n("./packages/nachos/src/components/Popover/Popover.tsx");n.d(t,"b",(function(){return r.c})),n.d(t,"c",(function(){return r.d})),n.d(t,"a",(function(){return r.a}));var i=n("./packages/nachos/src/components/Popover/PopoverScreen.tsx");n.d(t,"d",(function(){return i.b}));n("./packages/nachos/src/components/Popover/PopoverBoundary.tsx");var o=n("./packages/nachos/src/components/Popover/usePopover.ts");n.d(t,"e",(function(){return o.a}))},"./packages/nachos/src/components/Select/Select.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/nachos/src/components/Select/Select.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./packages/nachos/src/components/Select/images/icon-chevron-down.svg":function(e,t,n){e.exports=n.p+"images/src/components/Select/images/icon-chevron-down.41bf41146ae366789e1e.svg"},"./packages/nachos/tooltip.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return l}));var r=n("./node_modules/@atlaskit/tooltip/dist/esm/components/Tooltip.js"),i=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),o=n("./node_modules/@atlaskit/tooltip/dist/esm/styled.js"),a=n("./packages/colors/index.ts");function s(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  background: ",";\n  border-radius: 4px;\n  box-shadow: 0 1px 2px ",";\n  box-sizing: content-box;\n  color: ",";\n  max-height: 300px;\n  max-width: 300px;\n  padding: 8px 12px;\n"]);return s=function(){return e},e}var l=Object(i.default)(o.b)(s(),a.N0,a.OpacityDark2,a.N800)},"./packages/trello-canonical-components/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"CanonicalBoard",(function(){return r})),n.d(t,"CanonicalCard",(function(){return O})),n.d(t,"CanonicalBoardCard",(function(){return i})),n.d(t,"CanonicalDetail",(function(){return o})),n.d(t,"CanonicalAvatar",(function(){return Vt}));var r={};n.r(r),n.d(r,"Board",(function(){return h})),n.d(r,"BoardLists",(function(){return g})),n.d(r,"TeamName",(function(){return v})),n.d(r,"BoardName",(function(){return b})),n.d(r,"ErrorMessage",(function(){return y})),n.d(r,"BoardTile",(function(){return S})),n.d(r,"List",(function(){return w})),n.d(r,"PlaceholderBoardTile",(function(){return j})),n.d(r,"ProportionalBoardLists",(function(){return _})),n.d(r,"Card",(function(){return x}));var i={};n.r(i),n.d(i,"ActionPanelRow",(function(){return I})),n.d(i,"ActionPanel",(function(){return A})),n.d(i,"ActionButtons",(function(){return L})),n.d(i,"ActionButton",(function(){return M})),n.d(i,"IconButton",(function(){return F})),n.d(i,"JoinButton",(function(){return R})),n.d(i,"SubscribeButton",(function(){return z})),n.d(i,"VoteButton",(function(){return V})),n.d(i,"Board",(function(){return ne})),n.d(i,"ListNameOnly",(function(){return re})),n.d(i,"BoardAndListName",(function(){return ie})),n.d(i,"TeamBoardAndListName",(function(){return oe})),n.d(i,"PlaceholderCard",(function(){return ae}));var o={};n.r(o),n.d(o,"BoardAndDetailContainer",(function(){return he})),n.d(o,"Header",(function(){return ve})),n.d(o,"DetailActions",(function(){return be})),n.d(o,"CommentText",(function(){return ye})),n.d(o,"ReactionContainer",(function(){return ke})),n.d(o,"DetailInfo",(function(){return _e})),n.d(o,"DetailContainer",(function(){return ge})),n.d(o,"DetailInfoPrimary",(function(){return xe})),n.d(o,"DetailInfoSecondary",(function(){return Ce})),n.d(o,"DetailInfoUserName",(function(){return we})),n.d(o,"DueInfo",(function(){return je})),n.d(o,"Spacer",(function(){return Se})),n.d(o,"Button",(function(){return De})),n.d(o,"ButtonLink",(function(){return Ie})),n.d(o,"Icon",(function(){return Ae})),n.d(o,"IconButton",(function(){return Le})),n.d(o,"OverflowButton",(function(){return Me})),n.d(o,"ReplyContainer",(function(){return xt})),n.d(o,"ReplyActions",(function(){return Ct})),n.d(o,"ReplyColumnAvatar",(function(){return jt})),n.d(o,"ReplyColumnContent",(function(){return St})),n.d(o,"ReplyColumns",(function(){return _t})),n.d(o,"ReplyLink",(function(){return Ot})),n.d(o,"ReplySentText",(function(){return Et})),n.d(o,"ReplyTextarea",(function(){return Nt})),n.d(o,"ClockIcon",(function(){return Pt})),n.d(o,"CompleteIcon",(function(){return Dt})),n.d(o,"DismissIcon",(function(){return At})),n.d(o,"ForwardIcon",(function(){return Mt})),n.d(o,"SendIcon",(function(){return Rt}));var a=n("./node_modules/react/index.js"),s=n.n(a),l=n("./node_modules/classnames/index.js"),c=n.n(l),d=n("./packages/trello-canonical-components/src/board/Board.less"),u=n.n(d),p=n("./packages/colors/index.ts");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){var t=e.bgColor,n=e.bgImage,r=e.borderColor,i=e.hasError,o=e.headerBgColor,a=e.children,l=e.className,d=e.loading,h=e.numLists,g=void 0===h?5:h,v=e.widthPx,b=e.style,y=void 0===b?{}:b,k=c()(u.a.board,l,i&&u.a.boardError,d&&u.a.boardLoading),w=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},y);if(t&&(w.backgroundColor=t),n&&!o)w.backgroundImage="url(".concat(n,")"),w.backgroundSize="cover";else if(o){var x=Object(p.makeRGBA)(o,.7),C="linear-gradient(0deg, ".concat(x," 50%, ").concat(x," 0%)");w.backgroundImage="".concat(C,", url(").concat(n,")"),w.backgroundSize="100% 64px, cover"}var _=o||t||p.TrelloBlue500;return w.color=Object(p.useLightText)(_)&&!i?p.N0:p.N800,5!==g&&(w.width="".concat(48*g+8,"px")),r&&(w.border="1px solid ".concat(r)),v&&(w.width="".concat(v,"px")),s.a.createElement("div",{className:k,style:w},a)},g=function(e){var t=e.children;return s.a.createElement("div",{className:u.a.boardLists},t)},v=function(e){var t=e.children;return s.a.createElement("h2",{className:u.a.teamName},t)},b=function(e){var t=e.children;return s.a.createElement("h1",{className:u.a.boardName},t)},y=function(e){var t=e.children;return s.a.createElement("h1",{className:c()(u.a.boardName,u.a.errorMessage)},t)},k=n("./node_modules/underscore/underscore.js"),w=function(e){var t=e.children;return s.a.createElement("div",{className:u.a.list},t)},x=function(e){var t=e.children;return s.a.createElement("div",{className:u.a.card},t)},C=function(e){var t=e.size,n=e.id,r=Math.min(t||0,3);return s.a.createElement(w,{key:n},Object(k.range)(r).map((function(e,t){return s.a.createElement(x,{key:t})})))},_=function(e){var t=e.lists,n=e.numLists,r=function(e,t){if(e&&0!==e.length){if(1===e.length)return[e[0].size];var n=Object(k.sortBy)(e,"size"),r=n[n.length-1],i=n[0],o=i.size/r.size*100;if(o<80)return e.slice(0,t).map((function(e){if(0===e.size)return 0;var t=n.findIndex((function(t){return t.id===e.id}));return t<n.length/3?1:t<n.length/3*2?2:3}));if(o<90){var a=1,s=2;return i.size>8&&(a=2,s=3),e.slice(0,t).map((function(e){return 0===e.size?0:n.findIndex((function(t){return t.id===e.id}))<n.length/2?a:s}))}return e.slice(0,t).map((function(e){var t=e.size;return t?t<9?1:t<17?2:3:0}))}return[]}(t,n);return s.a.createElement(g,null,r.map((function(e,n){return s.a.createElement(C,{size:e,id:t[n].id,key:t[n].id})})))},j=function(e){var t=e.numLists;return s.a.createElement(h,{bgColor:p.N40A,loading:!0,numLists:t},s.a.createElement("span",{className:u.a.placeholderTopBar}),s.a.createElement(_,{lists:[{id:"1",size:2},{id:"2",size:3},{id:"3",size:1},{id:"4",size:2},{id:"5",size:2},{id:"6",size:1}],numLists:t}))},S=function(e){var t,n=e.board,r=void 0===n?{}:n,i=e.error,o=e.loading,a=e.numLists,l=void 0===a?5:a,c=l<4||l>6?5:l;if(o)return s.a.createElement(j,{numLists:l});if(i)return s.a.createElement(h,{className:"board-background",hasError:!0,numLists:c},s.a.createElement(y,null,i),s.a.createElement(_,{lists:[{id:"1",size:2},{id:"2",size:3},{id:"3",size:1},{id:"4",size:2},{id:"5",size:2},{id:"6",size:1}],numLists:c}));r.prefs&&r.prefs.backgroundColor&&(t=r.prefs.backgroundColor);var d,u=t;if(r.prefs&&r.prefs.backgroundImage&&(d=r.prefs.backgroundImage,u="light"===r.prefs.backgroundBrightness?p.N30:p.N800,r.prefs.backgroundImageScaled)){var m=Object(k.sortBy)(r.prefs.backgroundImageScaled,"width").filter((function(e){return e.width>248&&e.height>158}));m.length>0&&(d=m[0].url)}var f=r.lists||[];return s.a.createElement(h,{className:"board-background",bgColor:t,bgImage:d,headerBgColor:u,numLists:c},s.a.createElement(b,null,r.name),r.organization&&s.a.createElement(v,null,r.organization.displayName),s.a.createElement(_,{lists:f,numLists:l}))},O=n("./packages/trello-canonical-components/src/card-front/index.ts"),E=n("./packages/trello-canonical-components/src/board-card/ActionPanel.less"),N=n.n(E);function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var P=function(e){return s.a.createElement("svg",T({width:24,height:24,viewBox:"0 0 24 24"},e),s.a.createElement("path",{fill:e.color||"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M15 8C15 9.65685 13.6569 11 12 11C10.3431 11 9 9.65685 9 8C9 6.34315 10.3431 5 12 5C13.6569 5 15 6.34315 15 8ZM12 13C14.7614 13 17 10.7614 17 8C17 5.23858 14.7614 3 12 3C9.23858 3 7 5.23858 7 8C7 9.44777 7.61532 10.7518 8.59871 11.6649C5.31433 13.0065 3 16.233 3 20C3 20.5523 3.44772 21 4 21H12C12.5523 21 13 20.5523 13 20C13 19.4477 12.5523 19 12 19H5.07089C5.55612 15.6077 8.47353 13 12 13ZM17 14C17 13.4477 17.4477 13 18 13C18.5523 13 19 13.4477 19 14V16H21C21.5523 16 22 16.4477 22 17C22 17.5523 21.5523 18 21 18H19V20C19 20.5523 18.5523 21 18 21C17.4477 21 17 20.5523 17 20V18H15C14.4477 18 14 17.5523 14 17C14 16.4477 14.4477 16 15 16H17V14Z"}))},B=n("./packages/trello-canonical-components/src/icons/SubscribeIcon.js"),D=n("./packages/trello-canonical-components/src/icons/VoteIcon.js");var I=function(e){var t=e.alignRight,n=e.slim,r=e.children,i=c()(N.a.actionPanelRow,n&&N.a.slim,t&&N.a.alignRight);return s.a.createElement("div",{className:i},r)},A=function(e){var t=e.hideBorder,n=e.className,r=e.children,i=c()(N.a.actionPanel,n,t&&N.a.hideBorder);return s.a.createElement("div",{className:i},r)},L=function(e){var t=e.children,n=c()(N.a.actionButtons,s.a.Children.count(t)<3&&N.a.alignStart);return s.a.createElement("div",{className:n},t)},M=function(e){var t=e.children,n=e.className;return s.a.createElement("button",{className:c()(N.a.actionButton,n)},t)},F=function(e){var t=e.icon,n=e.children,r=e.className;return s.a.createElement(M,{className:r},s.a.createElement("span",{className:N.a.icon},t),s.a.createElement("span",{className:N.a.actionButtonLabel},n))},R=function(e){var t=e.className;return s.a.createElement(F,{className:t,icon:s.a.createElement(P,{color:p.N200})},"Join")},z=function(e){var t=e.className;return s.a.createElement(F,{className:t,icon:s.a.createElement(B.a,{color:p.N200})},"Subscribe")},V=function(e){var t=e.className;return s.a.createElement(F,{className:t,icon:s.a.createElement(D.a,{color:p.N200})},"Vote")},U=n("./packages/test-ids/index.ts");function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var $=function(e){return s.a.createElement("svg",H({width:24,height:24,viewBox:"0 0 24 24"},e),s.a.createElement("path",{fill:e.color||"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M3 5C3 3.89543 3.89543 3 5 3H19C20.1046 3 21 3.89543 21 5V19C21 20.1046 20.1046 21 19 21H5C3.89543 21 3 20.1046 3 19V5ZM5 6C5 5.44772 5.44772 5 6 5H10C10.5523 5 11 5.44772 11 6V16C11 16.5523 10.5523 17 10 17H6C5.44772 17 5 16.5523 5 16V6ZM14 5C13.4477 5 13 5.44772 13 6V12C13 12.5523 13.4477 13 14 13H18C18.5523 13 19 12.5523 19 12V6C19 5.44772 18.5523 5 18 5H14Z"}))},W=n("./packages/trello-canonical-components/src/board-card/BoardCard.less"),G=n.n(W),q=n("./packages/trello-canonical-components/src/card-front/Card.less"),K=n.n(q);function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function J(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var X=function(e){var t=e.linkComponent,n=J(e,["linkComponent"]);return t?s.a.createElement(t,Y({className:G.a.nameUrl},n)):s.a.createElement("a",Y({className:G.a.nameUrl},n))},Q=function(e){var t=e.displayLogo,n=e.children;return s.a.createElement("div",{className:c()(G.a.nameSection,t&&G.a.displayLogo)},n)},Z=Q,ee=Q,te=function(e){return s.a.createElement("span",Y({className:G.a.trelloLogo},e),s.a.createElement($,{height:16,width:16}))},ne=function(e){var t=e.children,n=e.className,r=J(e,["children","className"]),i=c()(G.a.board,K.a.boardCard,N.a.boardCard,n,r.headerBgColor&&G.a.headerBgColor),o=r.headerBgColor||r.bgColor||p.TrelloBlue500,a={color:Object(p.useLightText)(o)?p.N0:p.N800};return s.a.createElement(h,Y({className:i},r,{style:a}),t)},re=function(e){var t=e.listName,n=J(e,["listName"]);return s.a.createElement(Q,n,s.a.createElement("div",{className:G.a.listName},t))},ie=function(e){var t=e.boardName,n=e.boardUrl,r=e.displayLogo,i=void 0!==r&&r,o=e.listName,a=e.linkComponent,l=J(e,["boardName","boardUrl","displayLogo","listName","linkComponent"]);return s.a.createElement(ee,Y({displayLogo:i},l),i&&s.a.createElement(te,null),s.a.createElement("div",{className:G.a.boardName,"data-test-class":U.CanonicalCard.BoardName},n?s.a.createElement(X,{href:n,linkComponent:a},t):t,o?":":null,""),s.a.createElement("div",{className:G.a.listName,"data-test-class":U.CanonicalCard.ListName},o))},oe=function(e){var t=e.boardName,n=e.boardUrl,r=e.teamName,i=e.teamUrl,o=e.displayLogo,a=void 0!==o&&o,l=e.listName,c=e.onClick,d=e.linkComponent,u=J(e,["boardName","boardUrl","teamName","teamUrl","displayLogo","listName","onClick","linkComponent"]);return s.a.createElement(Z,Y({displayLogo:a},u),a&&s.a.createElement(te,null),s.a.createElement("div",{className:G.a.teamName},i?s.a.createElement(X,{href:i,linkComponent:d},r):r,r?" |":null,""),s.a.createElement("div",{className:G.a.boardName},n?s.a.createElement(X,{href:n,onClick:c,linkComponent:d},t):t,l?":":null,""),s.a.createElement("div",{className:G.a.listName},l))},ae=function(){return s.a.createElement(ne,{className:G.a.placeholderBoard,bgColor:p.N40A},s.a.createElement("div",{className:c()(G.a.placeholderBar,G.a.topPlaceholderBar)}),s.a.createElement("div",{className:c()(G.a.placeholderBar,G.a.bottomPlaceholderBar)}))},se=n("./packages/trello-canonical-components/src/detail/Detail.less"),le=n.n(se),ce=n("./packages/trello-canonical-components/src/avatar/Avatar.less"),de=n.n(ce),ue=n("./packages/trello-canonical-components/src/detail/Buttons.less"),pe=n.n(ue);function me(){return(me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function fe(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var he=function(e){var t,n=e.width,r=e.children,i=fe(e,["width","children"]);return n&&(t={width:"".concat(n,"px")}),s.a.createElement("div",me({className:c()(le.a.boardAndDetailContainer,G.a.detailContainer)},i,{style:t}),r)},ge=function(e){return s.a.createElement("div",me({className:le.a.detailContainer},e))},ve=function(e){var t=e.children;return s.a.createElement("div",{className:c()(le.a.header,de.a.detailHeader,pe.a.detailHeader)},t)},be=function(e){return s.a.createElement("div",me({className:le.a.detailActions},e))},ye=function(e){return s.a.createElement("div",me({className:le.a.commentText},e))},ke=function(e){return s.a.createElement("div",me({className:le.a.reactionContainer},e))},we=function(e){return s.a.createElement("div",me({className:le.a.primary},e))},xe=we,Ce=function(e){return s.a.createElement("div",me({className:le.a.secondary},e))},_e=function(e){var t=e.name,n=e.date,r=e.children,i=fe(e,["name","date","children"]);return s.a.createElement("div",me({className:le.a.detailInfo},i),t&&s.a.createElement(xe,null,t),n&&s.a.createElement(Ce,null,n),r)},je=function(e){var t=e.className,n=e.cardTitle,r=e.dueText;return s.a.createElement("span",{className:c()(le.a.dueInfo,t)},s.a.createElement("b",null,n)," ",r)},Se=function(e){return s.a.createElement("div",me({className:le.a.spacer},e))};function Oe(){return(Oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ee=function(e){return s.a.createElement("svg",Oe({width:24,height:24,viewBox:"0 0 24 24"},e),s.a.createElement("path",{fill:e.color||"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M5 14C6.10457 14 7 13.1046 7 12C7 10.8954 6.10457 10 5 10C3.89543 10 3 10.8954 3 12C3 13.1046 3.89543 14 5 14ZM12 14C13.1046 14 14 13.1046 14 12C14 10.8954 13.1046 10 12 10C10.8954 10 10 10.8954 10 12C10 13.1046 10.8954 14 12 14ZM21 12C21 13.1046 20.1046 14 19 14C17.8954 14 17 13.1046 17 12C17 10.8954 17.8954 10 19 10C20.1046 10 21 10.8954 21 12Z"}))};function Ne(){return(Ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Te=function(e){return s.a.createElement("svg",Ne({width:24,height:24,viewBox:"0 0 24 24"},e),s.a.createElement("path",{fill:e.color||"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M14 5C14 6.10457 13.1046 7 12 7C10.8954 7 10 6.10457 10 5C10 3.89543 10.8954 3 12 3C13.1046 3 14 3.89543 14 5ZM12 14C13.1046 14 14 13.1046 14 12C14 10.8954 13.1046 10 12 10C10.8954 10 10 10.8954 10 12C10 13.1046 10.8954 14 12 14ZM12 21C13.1046 21 14 20.1046 14 19C14 17.8954 13.1046 17 12 17C10.8954 17 10 17.8954 10 19C10 20.1046 10.8954 21 12 21Z"}))};function Pe(){return(Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Be(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var De=function(e){var t=e.className,n=Be(e,["className"]);return s.a.createElement("button",Pe({className:c()(pe.a.button,t)},n))},Ie=function(e){return s.a.createElement("span",{className:pe.a.linkButtonContainer},s.a.createElement("button",Pe({className:pe.a.linkButton},e)))},Ae=function(e){return s.a.createElement("span",Pe({className:pe.a.icon},e))},Le=function(e){var t=e.children,n=e.icon,r=Be(e,["children","icon"]);return s.a.createElement(De,r,s.a.createElement("span",{className:pe.a.iconContainer},n),t)},Me=function(e){var t=e.isVertical,n=e.className,r=Be(e,["isVertical","className"]);return s.a.createElement(De,Pe({className:c()(pe.a.overflowButton,n)},r),s.a.createElement("span",{className:pe.a.overflowIcon},t?s.a.createElement(Te,null):s.a.createElement(Ee,null)))},Fe=n("./node_modules/react-transition-group/esm/TransitionGroup.js"),Re=n("./node_modules/react-transition-group/esm/CSSTransition.js"),ze=n("./node_modules/prop-types/index.js"),Ve=n.n(ze);function Ue(){return(Ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var He=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e};"object"==typeof Reflect&&Reflect.construct;var $e="undefined"!=typeof window&&"undefined"!=typeof document,We=!!$e&&!!document.documentElement.currentStyle,Ge={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},qe=["letter-spacing","line-height","font-family","font-weight","font-size","font-style","tab-size","text-rendering","text-transform","width","text-indent","padding-top","padding-right","padding-bottom","padding-left","border-top-width","border-right-width","border-bottom-width","border-left-width","box-sizing"],Ke={},Ye=$e&&document.createElement("textarea"),Je=function(e){Object.keys(Ge).forEach((function(t){e.style.setProperty(t,Ge[t],"important")}))};function Xe(e,t,n,r,i){void 0===n&&(n=!1),void 0===r&&(r=null),void 0===i&&(i=null),null===Ye.parentNode&&document.body.appendChild(Ye);var o=function(e,t,n){void 0===n&&(n=!1);if(n&&Ke[t])return Ke[t];var r=window.getComputedStyle(e);if(null===r)return null;var i=qe.reduce((function(e,t){return e[t]=r.getPropertyValue(t),e}),{}),o=i["box-sizing"];if(""===o)return null;We&&"border-box"===o&&(i.width=parseFloat(i.width)+parseFloat(r["border-right-width"])+parseFloat(r["border-left-width"])+parseFloat(r["padding-right"])+parseFloat(r["padding-left"])+"px");var a=parseFloat(i["padding-bottom"])+parseFloat(i["padding-top"]),s=parseFloat(i["border-bottom-width"])+parseFloat(i["border-top-width"]),l={sizingStyle:i,paddingSize:a,borderSize:s,boxSizing:o};n&&(Ke[t]=l);return l}(e,t,n);if(null===o)return null;var a=o.paddingSize,s=o.borderSize,l=o.boxSizing,c=o.sizingStyle;Object.keys(c).forEach((function(e){Ye.style[e]=c[e]})),Je(Ye),Ye.value=e.value||e.placeholder||"x";var d=-1/0,u=1/0,p=Ye.scrollHeight;"border-box"===l?p+=s:"content-box"===l&&(p-=a),Ye.value="x";var m=Ye.scrollHeight-a;return null===r&&null===i||(null!==r&&(d=m*r,"border-box"===l&&(d=d+a+s),p=Math.max(d,p)),null!==i&&(u=m*i,"border-box"===l&&(u=u+a+s),p=Math.min(u,p))),{height:p,minHeight:d,maxHeight:u,rowCount:Math.floor(p/m)}}$e&&Je(Ye);var Qe,Ze=(void 0===Qe&&(Qe=0),function(){return++Qe}),et=function(){},tt=$e&&window.requestAnimationFrame?[window.requestAnimationFrame,window.cancelAnimationFrame]:[setTimeout,clearTimeout],nt=tt[0],rt=tt[1],it=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this)._resizeLock=!1,n._onRootDOMNode=function(e){n._rootDOMNode=e,n.props.inputRef(e)},n._onChange=function(e){n._controlled||n._resizeComponent(),n.props.onChange(e)},n._resizeComponent=function(e){if(void 0===e&&(e=et),void 0!==n._rootDOMNode){var t=Xe(n._rootDOMNode,n._uid,n.props.useCacheForDOMMeasurements,n.props.minRows,n.props.maxRows);if(null!==t){var r=t.height,i=t.minHeight,o=t.maxHeight,a=t.rowCount;n.rowCount=a,n.state.height===r&&n.state.minHeight===i&&n.state.maxHeight===o?e():n.setState({height:r,minHeight:i,maxHeight:o},e)}else e()}else e()},n.state={height:t.style&&t.style.height||0,minHeight:-1/0,maxHeight:1/0},n._uid=Ze(),n._controlled="string"==typeof t.value,n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.render=function(){var e=this.props,t=(e.inputRef,e.maxRows,e.minRows,e.onHeightChange,e.useCacheForDOMMeasurements,function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["inputRef","maxRows","minRows","onHeightChange","useCacheForDOMMeasurements"]));return t.style=Ue({},t.style,{height:this.state.height}),Math.max(t.style.maxHeight||1/0,this.state.maxHeight)<this.state.height&&(t.style.overflow="hidden"),s.a.createElement("textarea",Ue({},t,{onChange:this._onChange,ref:this._onRootDOMNode}))},i.componentDidMount=function(){var e=this;this._resizeComponent(),this._resizeListener=function(){e._resizeLock||(e._resizeLock=!0,e._resizeComponent((function(){return e._resizeLock=!1})))},window.addEventListener("resize",this._resizeListener)},i.componentDidUpdate=function(e,t){var n=this;e!==this.props&&(this._clearNextFrame(),this._onNextFrameActionId=nt((function(){return n._resizeComponent()}))),this.state.height!==t.height&&this.props.onHeightChange(this.state.height,this)},i.componentWillUnmount=function(){this._clearNextFrame(),window.removeEventListener("resize",this._resizeListener),function(e){delete Ke[e]}(this._uid)},i._clearNextFrame=function(){rt(this._onNextFrameActionId)},r}(s.a.Component);it.propTypes={inputRef:Ve.a.func,maxRows:Ve.a.number,minRows:Ve.a.number,onChange:Ve.a.func,onHeightChange:Ve.a.func,useCacheForDOMMeasurements:Ve.a.bool,value:Ve.a.string},it.defaultProps={inputRef:et,onChange:et,onHeightChange:et,useCacheForDOMMeasurements:!1};var ot=it,at=n("./packages/trello-canonical-components/src/detail/Reply.less"),st=n.n(at);function lt(){return(lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ct(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pt(e,t,n){return t&&ut(e.prototype,t),n&&ut(e,n),e}function mt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ft(e,t)}function ft(e,t){return(ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ht(e){return function(){var t,n=yt(e);if(bt()){var r=yt(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return gt(this,t)}}function gt(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?vt(e):t}function vt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function yt(e){return(yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wt=function(e){mt(n,e);var t=ht(n);function n(){var e;dt(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return kt(vt(e=t.call.apply(t,[this].concat(i))),"state",{height:"auto",isAnimating:!1}),kt(vt(e),"setInitialHeight",(function(t){e.setState({height:t,isAnimating:!0})})),kt(vt(e),"setTargetHeight",(function(t){(window.requestAnimationFrame||window.setTimeout)((function(){e.setState({height:t})}))})),kt(vt(e),"endAnimation",(function(){e.setState({isAnimating:!1})})),e}return pt(n,[{key:"render",value:function(){var e=this.state,t=e.isAnimating,n=e.height,r={height:t?n:"auto",transition:"200ms height"};return s.a.createElement("div",{style:r},this.props.render(this.setInitialHeight,this.setTargetHeight,this.endAnimation))}}]),n}(s.a.Component),xt=function(e){var t=e.children,n=ct(e,["children"]);return s.a.createElement("div",lt({className:st.a.replyContainer},n),s.a.createElement(wt,{render:function(e,n,r){return s.a.createElement(Fe.a,null,s.a.Children.map(t,(function(t,i){return s.a.createElement(Re.a,{key:t.key||i,timeout:400,classNames:"slide",unmountOnExit:!0,onExit:function(t){return e(t.offsetHeight)},onEnter:function(e){return n(e.offsetHeight)},onExited:function(){return r()}},s.a.createElement("div",{className:st.a.slideIn},t))})))}}))},Ct=function(e){var t=e.centered,n=ct(e,["centered"]);return s.a.createElement("div",lt({className:c()(st.a.replyActions,t&&st.a.centered)},n))},_t=function(e){return s.a.createElement("div",lt({className:st.a.replyColumns},e))},jt=function(e){return s.a.createElement("div",lt({className:st.a.replyColumnAvatar},e))},St=function(e){return s.a.createElement("div",lt({className:st.a.replyColumnContent},e))},Ot=function(e){return s.a.createElement("a",lt({className:st.a.replyLink},e))},Et=function(e){var t=e.centered,n=ct(e,["centered"]);return s.a.createElement("div",lt({className:c()(st.a.replySentText,t&&st.a.centered)},n))},Nt=function(e){mt(n,e);var t=ht(n);function n(){var e;dt(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return kt(vt(e=t.call.apply(t,[this].concat(i))),"inputRef",null),e}return pt(n,[{key:"componentDidMount",value:function(){if(this.inputRef){var e=this.inputRef.value.length;this.inputRef.focus(),this.inputRef.setSelectionRange(e,e)}}},{key:"render",value:function(){var e=this;return s.a.createElement(ot,lt({className:st.a.replyTextArea,inputRef:function(t){return e.inputRef=t}},this.props))}}]),n}(s.a.Component);function Tt(){return(Tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Pt=function(e){return s.a.createElement("svg",Tt({width:24,height:24,viewBox:"0 0 24 24"},e),s.a.createElement("g",{fill:e.color||"currentColor",fillRule:"evenodd"},s.a.createElement("path",{d:"M13 6C13 5.44772 12.5523 5 12 5C11.4477 5 11 5.44772 11 6V12C11 12.2652 11.1054 12.5196 11.2929 12.7071L13.7929 15.2071C14.1834 15.5976 14.8166 15.5976 15.2071 15.2071C15.5976 14.8166 15.5976 14.1834 15.2071 13.7929L13 11.5858V6Z"}),s.a.createElement("path",{d:"M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20Z"})))};function Bt(){return(Bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Dt=function(e){return s.a.createElement("svg",Bt({width:24,height:24,viewBox:"0 0 24 24"},e),s.a.createElement("path",{fill:e.color||"currentColor",d:"M6.73534 12.3223C6.36105 11.9162 5.72841 11.8904 5.3223 12.2647C4.91619 12.639 4.89039 13.2716 5.26467 13.6777L8.87678 17.597C9.41431 18.1231 10.2145 18.1231 10.7111 17.6264C10.7724 17.5662 10.7724 17.5662 11.0754 17.2683C11.3699 16.9785 11.6981 16.6556 12.0516 16.3075C13.0614 15.313 14.0713 14.3169 15.014 13.3848L15.0543 13.3449C16.7291 11.6887 18.0004 10.4236 18.712 9.70223C19.0998 9.30904 19.0954 8.67589 18.7022 8.28805C18.309 7.90022 17.6759 7.90457 17.2881 8.29777C16.5843 9.01131 15.3169 10.2724 13.648 11.9228L13.6077 11.9626C12.6662 12.8937 11.6572 13.8889 10.6483 14.8825C10.3578 15.1685 10.0845 15.4375 9.83288 15.6851L6.73534 12.3223Z"}))};function It(){return(It=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var At=function(e){return s.a.createElement("svg",It({width:24,height:24,viewBox:"0 0 24 24"},e),s.a.createElement("path",{fill:e.color||"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M10.5858 12L5.29289 6.70711C4.90237 6.31658 4.90237 5.68342 5.29289 5.29289C5.68342 4.90237 6.31658 4.90237 6.70711 5.29289L12 10.5858L17.2929 5.29289C17.6834 4.90237 18.3166 4.90237 18.7071 5.29289C19.0976 5.68342 19.0976 6.31658 18.7071 6.70711L13.4142 12L18.7071 17.2929C19.0976 17.6834 19.0976 18.3166 18.7071 18.7071C18.3166 19.0976 17.6834 19.0976 17.2929 18.7071L12 13.4142L6.70711 18.7071C6.31658 19.0976 5.68342 19.0976 5.29289 18.7071C4.90237 18.3166 4.90237 17.6834 5.29289 17.2929L10.5858 12Z"}))};function Lt(){return(Lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Mt=function(e){return s.a.createElement("svg",Lt({width:24,height:24,viewBox:"0 0 24 24"},e),s.a.createElement("path",{fill:e.color||"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M12.292 4.2915C11.903 4.6795 11.903 5.3165 12.292 5.7055L17.586 10.9995H4C3.45 10.9995 3 11.4495 3 11.9995C3 12.5505 3.45 13.0005 4 13.0005H17.586L12.289 18.2965C11.9 18.6855 11.9 19.3215 12.289 19.7105C12.678 20.1005 13.315 20.1005 13.703 19.7105L20.702 12.7125C20.704 12.7115 20.706 12.7095 20.709 12.7075C20.903 12.5145 21 12.2565 21 11.9995C21 11.7425 20.903 11.4855 20.709 11.2915C20.706 11.2905 20.703 11.2885 20.701 11.2865L13.706 4.2915C13.512 4.0975 13.255 4.0005 12.999 4.0005C12.743 4.0005 12.486 4.0975 12.292 4.2915Z"}))};function Ft(){return(Ft=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Rt=function(e){return s.a.createElement("svg",Ft({width:24,height:24,viewBox:"0 0 24 24"},e),s.a.createElement("path",{fill:e.color||"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M6.97825 19.4775C6.97825 20.8483 8.62306 21.5185 9.55451 20.5262L21.5578 7.72363C22.5185 6.69516 21.8025 5 20.409 5H3.49575C2.1784 5 1.50464 6.6071 2.41801 7.57211L6.97825 12.3997V19.4775ZM8.9711 12.6314V18.2121L19.4591 7.02581H4.66483L8.18175 10.7489L11.5762 9.09818C12.073 8.85657 12.6659 9.07559 12.9004 9.58737C13.135 10.0991 12.9223 10.7099 12.4255 10.9515L8.9711 12.6314Z"}))},zt=n("./packages/browser/index.ts"),Vt=function(e){var t=e.avatarSource,n=e.children,r=e.className,i=e.deactivated,o=e.img,a=e.img2x,l=e.initials,d=e.lightBackground,u=e.size,p=void 0===u?28:u,m=c()(de.a.avatar,i&&de.a.deactivated,d&&de.a.lightBackground,"atlassianAccount"===t&&de.a.atlassianAccount,r),f={};if(a&&Object(zt.isHighDPI)())f.backgroundImage="url(".concat(a,")");else if(o)f.backgroundImage="url(".concat(o,")");else if(l&&l.length){var h=p/2-2;l.length>=4?h*=.5:3===l.length&&(h*=.66),p<=20&&(h-=2),f.fontSize="".concat(Math.floor(h),"px")}return(o||a)&&i&&(f.opacity=.2),p&&(f.height="".concat(p,"px"),f.width="".concat(p,"px")),(p||d)&&(f.lineHeight="".concat(d?p?p-2:"26":p||"28","px")),s.a.createElement("span",{className:m,style:f},!o&&!a&&l,n)}},"./packages/trello-canonical-components/src/avatar/Avatar.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/trello-canonical-components/src/avatar/Avatar.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./packages/trello-canonical-components/src/board-card/ActionPanel.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/trello-canonical-components/src/board-card/ActionPanel.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./packages/trello-canonical-components/src/board-card/BoardCard.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/trello-canonical-components/src/board-card/BoardCard.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./packages/trello-canonical-components/src/board/Board.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/trello-canonical-components/src/board/Board.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./packages/trello-canonical-components/src/card-front/Badge.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/trello-canonical-components/src/card-front/Badge.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./packages/trello-canonical-components/src/card-front/Badge.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./node_modules/classnames/index.js"),a=n.n(o),s=n("./packages/trello-canonical-components/src/card-front/Badge.less"),l=n.n(s),c=function(e){var t=e.bgColor,n=e.className,r=e.fontColor,o=e.children,s={};return t&&(s.backgroundColor=t),r&&(s.color=r),i.a.createElement("span",{className:a()(l.a.badge,n),style:s},o)},d=function(e){var t=e.bgColor,n=void 0===t?"":t,r=e.children,o=e.className,a=void 0===o?"":o,s=e.fontColor,d=void 0===s?"":s,u=e.icon,p=e.dataTestClass;return i.a.createElement(c,{bgColor:n,className:a,fontColor:d},i.a.createElement("div",{className:l.a.flex},i.a.createElement("span",{className:l.a.badgeIcon},u),r&&i.a.createElement("span",{className:l.a.badgeIconLabel,"data-test-class":p},r)))}},"./packages/trello-canonical-components/src/card-front/Badges.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return M})),n.d(t,"b",(function(){return F})),n.d(t,"c",(function(){return R})),n.d(t,"d",(function(){return z})),n.d(t,"e",(function(){return V})),n.d(t,"f",(function(){return U})),n.d(t,"g",(function(){return H})),n.d(t,"h",(function(){return $})),n.d(t,"i",(function(){return W})),n.d(t,"j",(function(){return G})),n.d(t,"k",(function(){return q}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./packages/colors/index.ts"),a=n("./packages/dates/index.ts"),s=n("./packages/test-ids/index.ts"),l=n("./node_modules/classnames/index.js"),c=n.n(l),d=n("./packages/trello-canonical-components/src/card-front/Badge.less"),u=n.n(d),p=n("./packages/trello-canonical-components/src/card-front/Badge.tsx");function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f=function(e){return i.a.createElement("svg",m({width:24,height:24,viewBox:"0 0 24 24"},e),i.a.createElement("g",{fill:e.color||"currentColor",fillRule:"evenodd"},i.a.createElement("path",{d:"M3.03418 5.59623C2.98604 5.04604 3.39303 4.56101 3.94322 4.51287L19.8823 3.11838C20.4325 3.07025 20.9175 3.47724 20.9657 4.02742L21.0528 5.02362L3.12133 6.59242L3.03418 5.59623Z"}),i.a.createElement("path",{d:"M9 12.9999C9 12.4477 9.44772 11.9999 10 11.9999H14C14.5523 11.9999 15 12.4477 15 12.9999C15 13.5522 14.5523 13.9999 14 13.9999H10C9.44772 13.9999 9 13.5522 9 12.9999Z"}),i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 18.9999V7.99994H21V18.9999C21 20.1045 20.1046 20.9999 19 20.9999H5C3.89543 20.9999 3 20.1045 3 18.9999ZM5 9.99994H19V18.9999H5L5 9.99994Z"})))};function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var g=function(e){return i.a.createElement("svg",h({width:24,height:24,viewBox:"0 0 24 24"},e),i.a.createElement("path",{fill:e.color||"currentColor",d:"M11.6426 17.9647C10.1123 19.46 7.62736 19.4606 6.10092 17.9691C4.57505 16.478 4.57769 14.0467 6.10253 12.5566L13.2505 5.57184C14.1476 4.6952 15.5861 4.69251 16.4832 5.56921C17.3763 6.44184 17.3778 7.85135 16.4869 8.72199L9.78361 15.2722C9.53288 15.5172 9.12807 15.5163 8.86954 15.2636C8.61073 15.0107 8.60963 14.6158 8.86954 14.3618L15.0989 8.27463C15.4812 7.90109 15.4812 7.29546 15.0989 6.92192C14.7167 6.54838 14.0969 6.54838 13.7146 6.92192L7.48523 13.0091C6.45911 14.0118 6.46356 15.618 7.48523 16.6163C8.50674 17.6145 10.1511 17.6186 11.1679 16.6249L17.8712 10.0747C19.5274 8.45632 19.5244 5.83555 17.8676 4.2165C16.2047 2.59156 13.5266 2.59657 11.8662 4.21913L4.71822 11.2039C2.42951 13.4404 2.42555 17.083 4.71661 19.3218C7.00774 21.5606 10.7323 21.5597 13.0269 19.3174L19.7133 12.7837C20.0956 12.4101 20.0956 11.8045 19.7133 11.431C19.331 11.0574 18.7113 11.0574 18.329 11.431L11.6426 17.9647Z"}))};function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var b=function(e){return i.a.createElement("svg",v({width:24,height:24,viewBox:"0 0 24 24"},e),i.a.createElement("g",{fill:e.color||"currentColor"},i.a.createElement("path",{d:"M6 4C4.89543 4 4 4.89543 4 6V18C4 19.1046 4.89543 20 6 20H18C19.1046 20 20 19.1046 20 18V13C20 12.4477 19.5523 12 19 12C18.4477 12 18 12.4477 18 13V18H6V6L16 6C16.5523 6 17 5.55228 17 5C17 4.44772 16.5523 4 16 4H6ZM8.73534 10.3223C8.36105 9.91618 7.72841 9.89038 7.3223 10.2647C6.91619 10.639 6.89039 11.2716 7.26467 11.6777L10.8768 15.597C11.4143 16.1231 12.2145 16.1231 12.7111 15.6264L13.0754 15.2683C13.3699 14.9785 13.6981 14.6556 14.0516 14.3075C15.0614 13.313 16.0713 12.3169 17.014 11.3848L17.0543 11.3449C18.7291 9.68869 20.0004 8.42365 20.712 7.70223C21.0998 7.30904 21.0954 6.67589 20.7022 6.28805C20.309 5.90022 19.6759 5.90457 19.2881 6.29777C18.5843 7.01131 17.3169 8.27244 15.648 9.92281L15.6077 9.96263C14.6662 10.8937 13.6572 11.8889 12.6483 12.8825L11.8329 13.6851L8.73534 10.3223Z",fillRule:"evenodd",clipRule:"evenodd"})))};function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var k=function(e){return i.a.createElement("svg",y({width:24,height:24,viewBox:"0 0 24 24"},e),i.a.createElement("g",{fill:e.color||"currentColor"},i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 4C4.89543 4 4 4.89543 4 6V18C4 19.1046 4.89543 20 6 20H18C19.1046 20 20 19.1046 20 18V13C20 12.4477 19.5523 12 19 12C18.4477 12 18 12.4477 18 13V18H6V6L16 6C16.5523 6 17 5.55228 17 5C17 4.44772 16.5523 4 16 4H6ZM8.73534 10.3223C8.36105 9.91618 7.72841 9.89038 7.3223 10.2647C6.91619 10.639 6.89039 11.2716 7.26467 11.6777L10.8768 15.597C11.4143 16.1231 12.2145 16.1231 12.7111 15.6264L13.0754 15.2683C13.3699 14.9785 13.6981 14.6556 14.0516 14.3075C15.0614 13.313 16.0713 12.3169 17.014 11.3848L17.0543 11.3449C18.7291 9.68869 20.0004 8.42365 20.712 7.70223C21.0998 7.30904 21.0954 6.67589 20.7022 6.28805C20.309 5.90022 19.6759 5.90457 19.2881 6.29777C18.5843 7.01131 17.3169 8.27244 15.648 9.92281L15.6077 9.96263C14.6662 10.8937 13.6572 11.8889 12.6483 12.8825L11.8329 13.6851L8.73534 10.3223Z"})))};function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var x=function(e){return i.a.createElement("svg",w({width:24,height:24,viewBox:"0 0 24 24"},e),i.a.createElement("path",{fill:e.color||"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M16 17H12.5L8.28037 20.4014C6.97772 21.4869 5 20.5606 5 18.865V16.1973C3.2066 15.1599 2 13.2208 2 11C2 7.68629 4.68629 5 8 5H16C19.3137 5 22 7.68629 22 11C22 14.3137 19.3137 17 16 17ZM16 7H8C5.79086 7 4 8.79086 4 11C4 12.8638 5.27477 14.4299 7 14.874V19L12 15H16C18.2091 15 20 13.2091 20 11C20 8.79086 18.2091 7 16 7Z"}))};function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var _=function(e){return i.a.createElement("svg",C({width:24,height:24,viewBox:"0 0 24 24"},e),i.a.createElement("path",{fill:e.color||"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M4 5C3.44772 5 3 5.44772 3 6C3 6.55228 3.44772 7 4 7H20C20.5523 7 21 6.55228 21 6C21 5.44772 20.5523 5 20 5H4ZM4 9C3.44772 9 3 9.44772 3 10C3 10.5523 3.44772 11 4 11H20C20.5523 11 21 10.5523 21 10C21 9.44772 20.5523 9 20 9H4ZM3 14C3 13.4477 3.44772 13 4 13H20C20.5523 13 21 13.4477 21 14C21 14.5523 20.5523 15 20 15H4C3.44772 15 3 14.5523 3 14ZM4 17C3.44772 17 3 17.4477 3 18C3 18.5523 3.44772 19 4 19H14C14.5523 19 15 18.5523 15 18C15 17.4477 14.5523 17 14 17H4Z"}))};function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var S=function(e){return i.a.createElement("svg",j({width:24,height:24,viewBox:"0 0 24 24"},e),i.a.createElement("g",{fill:e.color||"currentColor",fillRule:"evenodd"},i.a.createElement("path",{d:"M13 6C13 5.44772 12.5523 5 12 5C11.4477 5 11 5.44772 11 6V12C11 12.2652 11.1054 12.5196 11.2929 12.7071L13.7929 15.2071C14.1834 15.5976 14.8166 15.5976 15.2071 15.2071C15.5976 14.8166 15.5976 14.1834 15.2071 13.7929L13 11.5858V6Z"}),i.a.createElement("path",{d:"M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20Z"})))};function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var E=function(e){return i.a.createElement("svg",O({width:24,height:24,viewBox:"0 0 24 24"},e),i.a.createElement("g",{fill:e.color||"currentColor",fillRule:"evenodd"},i.a.createElement("path",{d:"M13 6C13 5.44772 12.5523 5 12 5C11.4477 5 11 5.44772 11 6V12C11 12.2652 11.1054 12.5196 11.2929 12.7071L13.7929 15.2071C14.1834 15.5976 14.8166 15.5976 15.2071 15.2071C15.5976 14.8166 15.5976 14.1834 15.2071 13.7929L13 11.5858V6Z"}),i.a.createElement("path",{d:"M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20Z"})))};function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var T=function(e){return i.a.createElement("svg",N({width:24,height:24,viewBox:"0 0 24 24"},e),i.a.createElement("path",{fill:e.color||"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C11.4477 2 11 2.44772 11 3V3.078C10.2728 3.19668 9.65318 3.44603 9.1328 3.79295C8.39456 4.28511 7.91489 4.93416 7.60557 5.55279C7.29822 6.1675 7.14952 6.77011 7.07611 7.2106C7.039 7.43322 7.02007 7.62092 7.01035 7.75688C7.00549 7.82503 7.0029 7.88067 7.00153 7.92176C7.00085 7.94232 7.00046 7.95929 7.00025 7.9724L7.00005 7.98916L7.00001 7.99533L7 7.99786L7 7.99898C7 7.9995 7 8 8 8H7V11.723L4.14251 16.4855C3.95715 16.7944 3.95229 17.1792 4.1298 17.4927C4.30731 17.8062 4.63973 18 5 18H19C19.3603 18 19.6927 17.8062 19.8702 17.4927C20.0477 17.1792 20.0429 16.7944 19.8575 16.4855L17 11.723V8H16C17 8 17 7.9995 17 7.99898L17 7.99786L17 7.99533L17 7.98916L16.9997 7.9724C16.9995 7.95929 16.9992 7.94232 16.9985 7.92176C16.9971 7.88067 16.9945 7.82503 16.9896 7.75688C16.9799 7.62092 16.961 7.43322 16.9239 7.2106C16.8505 6.77011 16.7018 6.1675 16.3944 5.55279C16.0851 4.93416 15.6054 4.28511 14.8672 3.79295C14.3468 3.44603 13.7272 3.19668 13 3.078V3C13 2.44772 12.5523 2 12 2ZM9.00042 7.98839L9 8.00435V12C9 12.1812 8.95074 12.3591 8.85749 12.5145L6.76619 16H17.2338L15.1425 12.5145C15.0493 12.3591 15 12.1812 15 12V8.00436L14.9996 7.98839C14.999 7.97089 14.9977 7.9406 14.9947 7.89937C14.9888 7.81658 14.9765 7.69178 14.9511 7.5394C14.8995 7.22989 14.7982 6.8325 14.6056 6.44721C14.4149 6.06584 14.1446 5.71489 13.7578 5.45705C13.3773 5.20338 12.825 5 12 5C11.175 5 10.6227 5.20338 10.2422 5.45705C9.85544 5.71489 9.58511 6.06584 9.39443 6.44721C9.20178 6.8325 9.10048 7.22989 9.04889 7.5394C9.0235 7.69178 9.01118 7.81658 9.00527 7.89937C9.00233 7.9406 9.001 7.97089 9.00042 7.98839ZM14 19C14 20.1046 13.1046 21 12 21C10.8954 21 10 20.1046 10 19H14Z"}))},P=n("./packages/trello-canonical-components/src/icons/SubscribeIcon.js");function B(){return(B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var D=function(e){return i.a.createElement("svg",B({width:24,height:24,viewBox:"0 0 24 24"},e),i.a.createElement("path",{fill:e.color||"currentColor",d:"M3 6V5C3 3.89543 3.89543 3 5 3H6C6.55228 3 7 3.44772 7 4C7 4.55228 6.55228 5 6 5H5V6C5 6.55228 4.55228 7 4 7C3.44772 7 3 6.55228 3 6Z"}),i.a.createElement("path",{fill:e.color||"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M6 8C6 6.89543 6.89543 6 8 6H19C20.1046 6 21 6.89543 21 8V18C21 19.1046 20.1046 20 19 20H8C6.89543 20 6 19.1046 6 18V8ZM8 8H19V14H8V8ZM18 18C17.4477 18 17 17.5523 17 17C17 16.4477 17.4477 16 18 16C18.5523 16 19 16.4477 19 17C19 17.5523 18.5523 18 18 18ZM8 17C8 17.5523 8.44772 18 9 18H12C12.5523 18 13 17.5523 13 17C13 16.4477 12.5523 16 12 16H9C8.44772 16 8 16.4477 8 17Z"}),i.a.createElement("path",{fill:e.color||"currentColor",d:"M4 14C3.44772 14 3 14.4477 3 15V16C3 17.1046 3.89543 18 5 18V15C5 14.4477 4.55228 14 4 14Z"}),i.a.createElement("path",{fill:e.color||"currentColor",d:"M3 9C3 8.44772 3.44772 8 4 8C4.55228 8 5 8.44772 5 9V12C5 12.5523 4.55228 13 4 13C3.44772 13 3 12.5523 3 12V9Z"}),i.a.createElement("path",{fill:e.color||"currentColor",d:"M8 4C8 3.44772 8.44772 3 9 3H13C13.5523 3 14 3.44772 14 4C14 4.55228 13.5523 5 13 5H9C8.44772 5 8 4.55228 8 4Z"}),i.a.createElement("path",{fill:e.color||"currentColor",d:"M16 3C15.4477 3 15 3.44772 15 4C15 4.55228 15.4477 5 16 5H19C19 3.89543 18.1046 3 17 3H16Z"}))};function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var A=function(e){return i.a.createElement("svg",I({width:24,height:24,viewBox:"0 0 24 24"},e),i.a.createElement("path",{fill:e.color||"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M3 5C3 3.89543 3.89543 3 5 3H19C20.1046 3 21 3.89543 21 5V19C21 20.1046 20.1046 21 19 21H5C3.89543 21 3 20.1046 3 19V5ZM5 6C5 5.44772 5.44772 5 6 5H10C10.5523 5 11 5.44772 11 6V16C11 16.5523 10.5523 17 10 17H6C5.44772 17 5 16.5523 5 16V6ZM14 5C13.4477 5 13 5.44772 13 6V12C13 12.5523 13.4477 13 14 13H18C18.5523 13 19 12.5523 19 12V6C19 5.44772 18.5523 5 18 5H14Z"}))},L=n("./packages/trello-canonical-components/src/icons/VoteIcon.js"),M=function(e){var t=e.className,n=e.children;return i.a.createElement(p.b,{className:t,icon:i.a.createElement(f,null)},n)},F=function(e){var t=e.numAttachments,n=void 0===t?0:t,r=e.className;return i.a.createElement(p.b,{className:r,icon:i.a.createElement(g,null)},i.a.createElement("span",{"data-test-class":s.BadgesTestIds.CardAttachmentsCount},n))},R=function(e){var t=e.className,n=e.children;return i.a.createElement(p.b,{className:c()(t,u.a.isTemplate),icon:i.a.createElement(D,null)},n)},z=function(e){var t=e.numComplete,n=void 0===t?0:t,r=e.numItems,l=void 0===r?0:r,c=e.checkItemsEarliestDue,d=e.className,u=n===l,m=u?o.Green500:void 0,f=u?o.N0:void 0,h=u?i.a.createElement(b,null):i.a.createElement(k,null),g="".concat(n,"/").concat(l);if(c){var v=Date.now(),y=c.getTime(),w=y-864e5<=v&&y>v,x=y<=v&&y+1296e5>v;y+1296e5<=v?(m=o.Red300,f=o.N0):x?(m=o.Red500,f=o.N0):w?(m=o.Yellow500,f=o.N0):u&&(m=o.Green500,f=o.N0),g+="  ".concat(Object(a.b)(c))}return i.a.createElement(p.b,{className:d,bgColor:m,fontColor:f,icon:h,dataTestClass:s.BadgesTestIds.ChecklistBadge},g)},V=function(e){var t=e.numComments,n=void 0===t?0:t,r=e.className;return i.a.createElement(p.b,{className:r,icon:i.a.createElement(x,null)},n)},U=function(e){var t=e.className;return i.a.createElement(p.b,{className:t,icon:i.a.createElement(_,null)})},H=function(e){var t=e.children,n=e.className,r=e.dueDate,a=e.clickable,l=void 0!==a&&a,d=e.isComplete,m=void 0!==d&&d,f=Date.now(),h=r.getTime(),g=h-864e5<=f&&h>f,v=h<=f&&h+1296e5>f,b=h+1296e5<=f,y=l?c()(u.a.dueDateBadge,{[u.a.isPastDue]:!m&&b,[u.a.isDueNow]:!m&&v,[u.a.isDueSoon]:!m&&g,[u.a.isComplete]:m}):void 0,k=l?void 0:m?o.Green500:g?o.Yellow500:v?o.Red500:b?o.Red300:"transparent",w=l?void 0:m||g||v||b?o.N0:o.N400;return i.a.createElement(p.b,{className:c()(y,n),bgColor:k,fontColor:w,icon:m?i.a.createElement(S,null):i.a.createElement(E,null),dataTestClass:m?s.BadgesTestIds.DueDateBadgeCompleted:s.BadgesTestIds.DueDateBadgeNotCompleted},t)},$=function(e){var t=e.numUnread,n=void 0===t?0:t,r=e.className;return i.a.createElement(p.b,{className:r,bgColor:o.Red500,fontColor:o.N0,icon:i.a.createElement(T,null)},n)},W=function(e){var t=e.className;return i.a.createElement(p.b,{className:t,icon:i.a.createElement(P.a,null)})},G=function(e){var t=e.numAttachments,n=void 0===t?0:t,r=e.className;return i.a.createElement(p.b,{className:r,icon:i.a.createElement(A,null)},n)},q=function(e){var t=e.className,n=e.numVotes,r=void 0===n?0:n,a=e.voted,s=void 0!==a&&a;return i.a.createElement(p.b,{className:t,bgColor:s?o.N40A:"transparent",fontColor:o.N100,icon:i.a.createElement(L.a,null)},r)}},"./packages/trello-canonical-components/src/card-front/Card.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/trello-canonical-components/src/card-front/Card.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./packages/trello-canonical-components/src/card-front/Card.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return S})),n.d(t,"f",(function(){return O})),n.d(t,"h",(function(){return E})),n.d(t,"c",(function(){return N})),n.d(t,"d",(function(){return T})),n.d(t,"i",(function(){return P})),n.d(t,"e",(function(){return B})),n.d(t,"b",(function(){return D})),n.d(t,"g",(function(){return I}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./node_modules/classnames/index.js"),a=n.n(o),s=n("./packages/trello-canonical-components/src/card-front/Card.less"),l=n.n(s),c=n("./packages/trello-canonical-components/src/card-front/CardLabel.less"),d=n.n(c),u=n("./packages/trello-canonical-components/src/card-front/Badge.less"),p=n.n(u),m=n("./packages/trello-canonical-components/src/avatar/Avatar.less"),f=n.n(m),h=n("./packages/unsplash/index.ts"),g=n("./packages/feature-flag-client/index.ts"),v=n("./app/common/lib/util/preview.ts"),b=n("./packages/browser/index.ts");function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function k(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _={red:"DotsChecker",blue:"StripeHorizontal",green:"StripeDiagonal",orange:"StripeVertical",purple:"GrooveDiagonal",yellow:"WaveSquare",pink:"BrickHorizontal",sky:"BrickDiagonal",lime:"Scale",black:"BrickVertical"};function j(e){var t=e.cover,n=e.colorBlind,r=e.truncateNameForFullCover,i=e.coverHeight,o=e.hasStickers,s=void 0,c={},d=t||{},u=d.color,p=d.size,m=d.brightness,f="full"===p&&g.featureFlagClient.get("remarkable.rmk-239",!1),h=Boolean(f&&u),y=t?Object(v.smallestPreviewBiggerThan)(t.previews,Object(b.isHighDPI)()?600:300)||Object(v.biggestPreview)(t.previews):null;if(f&&y){if(y){c.backgroundImage='url("'.concat(y.url,'")'),c.backgroundSize="cover";var k=Math.min(y.height,i?2*i:260),w=245*y.height/y.width;c.height=w<=k?w:k,s=a()(l.a.fullCover,l.a.fullImageCover,"dark"===m&&l.a.fullCoverDark,r&&l.a.truncateNameForFullCover)}}else h&&(s=a()(x({[l.a.fullCover]:f,[l.a.fullCoverColorBlind]:h&&n,[l.a.fullCoverDark]:"dark"===m},h?function(e){return{[l.a.colorCardCoverBlue]:"blue"===e,[l.a.colorCardCoverGreen]:"green"===e,[l.a.colorCardCoverOrange]:"orange"===e,[l.a.colorCardCoverRed]:"red"===e,[l.a.colorCardCoverPurple]:"purple"===e,[l.a.colorCardCoverYellow]:"yellow"===e,[l.a.colorCardCoverPink]:"pink"===e,[l.a.colorCardCoverSky]:"sky"===e,[l.a.colorCardCoverLime]:"lime"===e,[l.a.colorCardCoverBlack]:"black"===e}}(u):{},{[l.a.fullColorCoverWithStickers]:o}),h&&n&&function(e){switch(_[e]){case"StripeDiagonal":return l.a.StripeDiagonal;case"WaveSquare":return l.a.WaveSquare;case"StripeVertical":return l.a.StripeVertical;case"DotsChecker":return l.a.DotsChecker;case"GrooveDiagonal":return l.a.GrooveDiagonal;case"StripeHorizontal":return l.a.StripeHorizontal;case"BrickHorizontal":return l.a.BrickHorizontal;case"BrickDiagonal":return l.a.BrickDiagonal;case"Scale":return l.a.Scale;case"BrickVertical":return l.a.BrickVertical;default:return}}(u),r&&l.a.truncateNameForFullCover));return{classNames:s,style:c}}var S=function(e){var t=e.className,n=e.children,r=e.style,o=e.cover,s=e.colorBlind,c=e.coverHeight,d=e.truncateNameForFullCover,u=e.hasStickers,p=a()(t,l.a.card),m=j({cover:o,colorBlind:s,coverHeight:c,truncateNameForFullCover:d,hasStickers:u}),f=m.classNames,h=m.style;return i.a.createElement("div",{className:a()(p,f),style:x({},h,{},r)},n)},O=function(e){var t=e.linkComponent,n=e.className,r=e.cover,o=e.truncateNameForFullCover,s=e.colorBlind,c=(e.coverHeight,e.hasStickers),d=k(e,["linkComponent","className","cover","truncateNameForFullCover","colorBlind","coverHeight","hasStickers"]),u=a()(n,l.a.card,l.a.cardLink),p=j({cover:r,colorBlind:s,truncateNameForFullCover:o,hasStickers:c}),m=p.classNames,f=p.style;return t?i.a.createElement(t,y({className:a()(u,m)},d,{style:x({},f,{},d.style)})):i.a.createElement("a",y({className:a()(u,m)},d,{style:x({},f,{},d.style)}))},E=function(e){var t=e.height,n=e.children;return i.a.createElement("div",{className:l.a.stickers,style:t?{height:"".concat(t,"px")}:void 0},n)},N=function(e){var t=e.img,n=e.sharedSourceUrl,o=e.height,s=e.bgSize,c=e.bgColor,d=e.pattern,u=e.children;Object(r.useEffect)((function(){n&&h.UnsplashTracker.trackOncePerInterval(n)}),[n]);var p={height:"".concat(o,"px")};t&&(p.backgroundImage="url(".concat(t,")")),c&&(p.backgroundColor=c),s&&(p.backgroundSize=s);var m=a()(l.a.cover,"StripeDiagonal"===d&&l.a.StripeDiagonal,"WaveSquare"===d&&l.a.WaveSquare,"StripeVertical"===d&&l.a.StripeVertical,"DotsChecker"===d&&l.a.DotsChecker,"GrooveDiagonal"===d&&l.a.GrooveDiagonal,"StripeHorizontal"===d&&l.a.StripeHorizontal,"BrickHorizontal"===d&&l.a.BrickHorizontal,"BrickDiagonal"===d&&l.a.BrickDiagonal,"Scale"===d&&l.a.Scale,"BrickVertical"===d&&l.a.BrickVertical);return i.a.createElement("div",{className:m,style:p},u)},T=function(e){var t=e.children;return i.a.createElement("div",{className:l.a.details},t)},P=function(e){var t=e.children;return i.a.createElement("div",{className:l.a.title},t)},B=function(e){var t=e.children,n=e.className;return i.a.createElement("div",{className:a()(l.a.labels,d.a.cardFront,n)},t)},D=function(e){var t=e.children;return i.a.createElement("div",{className:a()(l.a.badges,p.a.cardFront)},t)},I=function(e){var t=e.children;return i.a.createElement("div",{className:a()(l.a.members,f.a.cardFront)},t)}},"./packages/trello-canonical-components/src/card-front/CardLabel.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/trello-canonical-components/src/card-front/CardLabel.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./packages/trello-canonical-components/src/card-front/CardLabel.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return p}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./node_modules/classnames/index.js"),a=n.n(o),s=n("./packages/feature-flag-client/index.ts"),l=n("./packages/trello-canonical-components/src/card-front/CardLabel.less"),c=n.n(l);function d(){return s.featureFlagClient.get("remarkable.new-color-blind-patterns",!1)}var u={black:d()?"BrickVertical":"striped",blue:d()?"StripeHorizontal":"transparent",green:d()?"StripeDiagonal":"slant-right",lime:d()?"Scale":"slant-left",orange:d()?"StripeVertical":"striped",pink:d()?"BrickHorizontal":"slant-right",purple:d()?"GrooveDiagonal":"slant-left",red:d()?"DotsChecker":"checkered",sky:d()?"BrickDiagonal":"transparent",yellow:d()?"WaveSquare":"checkered",gray:"none",none:"none"},p=function(e){var t=e.className,n=e.color,r=e.pattern,o=e.children,s=a()(t,c.a.label,o&&c.a.expanded,"blue"===n&&c.a.blue,"green"===n&&c.a.green,"lime"===n&&c.a.lime,"sky"===n&&c.a.sky,"orange"===n&&c.a.orange,"pink"===n&&c.a.pink,"purple"===n&&c.a.purple,"red"===n&&c.a.red,"yellow"===n&&c.a.yellow,"black"===n&&c.a.black,"gray"===n&&c.a.gray,"striped"===r&&c.a.striped,"slant-left"===r&&c.a.slantLeft,"slant-right"===r&&c.a.slantRight,"checkered"===r&&c.a.checkered,"StripeDiagonal"===r&&c.a.StripeDiagonal,"WaveSquare"===r&&c.a.WaveSquare,"StripeVertical"===r&&c.a.StripeVertical,"DotsChecker"===r&&c.a.DotsChecker,"GrooveDiagonal"===r&&c.a.GrooveDiagonal,"StripeHorizontal"===r&&c.a.StripeHorizontal,"BrickDiagonal"===r&&c.a.BrickDiagonal,"Scale"===r&&c.a.Scale,"BrickHorizontal"===r&&c.a.BrickHorizontal,"BrickVertical"===r&&c.a.BrickVertical);return i.a.createElement("span",{className:s},o)}},"./packages/trello-canonical-components/src/card-front/Sticker.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/trello-canonical-components/src/card-front/Sticker.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./packages/trello-canonical-components/src/card-front/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"Card",(function(){return r.a})),n.d(t,"CardLink",(function(){return r.f})),n.d(t,"CardStickers",(function(){return r.h})),n.d(t,"CardCover",(function(){return r.c})),n.d(t,"CardDetails",(function(){return r.d})),n.d(t,"CardLabels",(function(){return r.e})),n.d(t,"CardMembers",(function(){return r.g})),n.d(t,"CardBadges",(function(){return r.b})),n.d(t,"CardTitle",(function(){return r.i})),n.d(t,"CardLabel",(function(){return i.a})),n.d(t,"ArchivedBadge",(function(){return o.a})),n.d(t,"AttachmentsBadge",(function(){return o.b})),n.d(t,"CardTemplateBadge",(function(){return o.c})),n.d(t,"ChecklistBadge",(function(){return o.d})),n.d(t,"CommentsBadge",(function(){return o.e})),n.d(t,"DescriptionBadge",(function(){return o.f})),n.d(t,"DueDateBadge",(function(){return o.g})),n.d(t,"NotificationBadge",(function(){return o.h})),n.d(t,"SubscribedBadge",(function(){return o.i})),n.d(t,"TrelloAttachmentsBadge",(function(){return o.j})),n.d(t,"VotesBadge",(function(){return o.k})),n.d(t,"CheckboxFieldBadge",(function(){return m})),n.d(t,"DateFieldBadge",(function(){return f})),n.d(t,"ListFieldBadge",(function(){return h})),n.d(t,"TextFieldBadge",(function(){return v})),n.d(t,"NumberFieldBadge",(function(){return g})),n.d(t,"Sticker",(function(){return k}));var r=n("./packages/trello-canonical-components/src/card-front/Card.tsx"),i=n("./packages/trello-canonical-components/src/card-front/CardLabel.tsx"),o=n("./packages/trello-canonical-components/src/card-front/Badges.tsx"),a=n("./node_modules/react/index.js"),s=n.n(a),l=n("./packages/config/index.ts"),c=n("./packages/colors/index.ts"),d=n("./packages/trello-canonical-components/src/card-front/Badge.tsx");function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=function(e){return s.a.createElement("svg",u({width:24,height:24,viewBox:"0 0 24 24"},e),s.a.createElement("path",{fill:e.color||"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM8.29289 11.2929C8.68342 10.9024 9.31658 10.9024 9.70711 11.2929L11 12.5858L14.2929 9.29289C14.6834 8.90237 15.3166 8.90237 15.7071 9.29289C16.0976 9.68342 16.0976 10.3166 15.7071 10.7071L11.7071 14.7071C11.3166 15.0976 10.6834 15.0976 10.2929 14.7071L8.29289 12.7071C7.90237 12.3166 7.90237 11.6834 8.29289 11.2929Z"}))},m=function(e){var t=e.className,n=e.field,r=e.item;return r&&r.value&&"true"===r.value.checked?s.a.createElement(d.b,{className:t,icon:s.a.createElement(p,null)},n.name):null},f=function(e){var t=e.className,n=e.field,r=e.item;if(!r||!r.value||!r.value.date)return null;var i=new Date(r.value.date).toLocaleString(l.locale,{month:"short",day:"numeric"});return s.a.createElement(d.a,{className:t},s.a.createElement("span",null,"".concat(n.name,": ").concat(i)))},h=function(e){var t=e.className,n=e.field,r=e.item;if(!(r&&r.idValue&&n&&n.options))return null;var i=n.options.find((function(e){return e.id===r.idValue}));if(!i||!i.value||!i.value.text)return null;var o="transparent",a="N400",l=new Map([["green",c.Green500],["yellow",c.Yellow500],["orange",c.Orange500],["red",c.Red500],["blue",c.TrelloBlue500],["purple",c.Purple500],["sky",c.Sky500],["lime",c.Lime500],["pink",c.Pink500],["black",c.N500]]);return i.color&&"none"!==i.color&&l.has(i.color)&&(o=l.get(i.color),a=c.N0),s.a.createElement(d.a,{className:t,bgColor:o,fontColor:a},s.a.createElement("span",null,"".concat(n.name,": ").concat(i.value.text)))},g=function(e){var t=e.className,n=e.field,r=e.item;if(!r||!r.value||!r.value.number)return null;var i=parseFloat(r.value.number).toLocaleString(window.navigator.language,{maximumFractionDigits:10});return s.a.createElement(d.a,{className:t},s.a.createElement("span",null,"".concat(n.name,": ").concat(i)))},v=function(e){var t=e.className,n=e.field,r=e.item;return r&&r.value&&r.value.text?s.a.createElement(d.a,{className:t},s.a.createElement("span",null,"".concat(n.name,": ").concat(r.value.text))):null},b=n("./packages/trello-canonical-components/src/card-front/Sticker.less"),y=n.n(b),k=function(e){var t=e.top,n=e.left,r=e.rotate,i=e.img,o=e.zIndex,a=void 0===o?0:o,l=e.alt,c=void 0===l?"":l,d={left:"".concat(n,"%"),top:"".concat(t,"%"),zIndex:a},u={transform:"rotate(".concat(r,"deg)")};return s.a.createElement("div",{className:y.a.sticker,style:d},s.a.createElement("img",{className:y.a.stickerImage,src:i,alt:c,style:u}))}},"./packages/trello-canonical-components/src/detail/Buttons.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/trello-canonical-components/src/detail/Buttons.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./packages/trello-canonical-components/src/detail/Detail.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/trello-canonical-components/src/detail/Detail.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./packages/trello-canonical-components/src/detail/Reply.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/trello-canonical-components/src/detail/Reply.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./packages/trello-canonical-components/src/icons/SubscribeIcon.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),i=n.n(r);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=function(e){return i.a.createElement("svg",o({width:24,height:24,viewBox:"0 0 24 24"},e),i.a.createElement("path",{fill:e.color||"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M12.0006 18C7.46367 18 4.00142 13.74 4.00142 12C4.00142 9.999 7.45967 6 12.0006 6C16.3775 6 19.9988 9.973 19.9988 12C19.9988 13.74 16.5366 18 12.0006 18ZM12.0006 4C6.48003 4 2.00012 8.841 2.00012 12C2.00012 15.086 6.5771 20 12.0006 20C17.4241 20 22.0001 15.086 22.0001 12C22.0001 8.841 17.5212 4 12.0006 4ZM11.9775 13.9844C10.8745 13.9844 9.97752 13.0874 9.97752 11.9844C9.97752 10.8814 10.8745 9.9844 11.9775 9.9844C13.0805 9.9844 13.9775 10.8814 13.9775 11.9844C13.9775 13.0874 13.0805 13.9844 11.9775 13.9844ZM11.9775 7.9844C9.77152 7.9844 7.97752 9.7784 7.97752 11.9844C7.97752 14.1904 9.77152 15.9844 11.9775 15.9844C14.1835 15.9844 15.9775 14.1904 15.9775 11.9844C15.9775 9.7784 14.1835 7.9844 11.9775 7.9844Z"}))}},"./packages/trello-canonical-components/src/icons/VoteIcon.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),i=n.n(r);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=function(e){return i.a.createElement("svg",o({width:24,height:24,viewBox:"0 0 24 24"},e),i.a.createElement("path",{fill:e.color||"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M4.0003 12V19C3.99379 19.2619 4.09386 19.5155 4.278 19.7036C4.46214 19.8916 4.71488 19.9985 4.97934 20H5.99875V11H4.97934C4.71488 11.0015 4.46214 11.1084 4.278 11.2964C4.09386 11.4845 3.99379 11.7381 4.0003 12ZM19.2814 11.04C18.7031 10.3648 17.8537 9.97663 16.96 9.979H14.3256C14.366 9.798 14.4064 9.619 14.4367 9.447C14.9514 6.513 14.4367 5.447 13.932 4.85301C13.4706 4.31076 12.7907 3.99849 12.0749 4.00001C10.5305 4.05274 9.26304 5.22781 9.10746 6.751C8.71382 8.59 8.65327 8.751 8.13851 9.476L7.37143 10.565C7.13702 10.9004 7.01037 11.2981 7.00807 11.706V17.979C7.00941 18.5108 7.2239 19.0202 7.60436 19.3953C7.98483 19.7704 8.50009 19.9803 9.03681 19.979H16.2837C17.769 19.9868 19.0398 18.924 19.2814 17.472L19.9577 13.472C20.1065 12.6021 19.8589 11.7116 19.2814 11.04ZM17.283 17.14C17.2014 17.6233 16.7783 17.9768 16.2837 17.975L9.03681 17.975V11.706L9.80389 10.617C10.5253 9.57261 10.9727 8.36664 11.1059 7.108C11.1423 6.56547 11.3607 5.89944 12.0749 6C12.7891 6.10057 12.6502 7.916 12.4382 9.1C12.2229 10.081 11.9327 11.0445 11.5702 11.982L16.96 11.974C17.2574 11.9729 17.5402 12.1019 17.7328 12.3264C17.9255 12.551 18.0083 12.8483 17.9592 13.139L17.283 17.14Z"}))}},"./resources/images/TrelloGoldBadge.png":function(e,t,n){e.exports=n.p+"images/TrelloGoldBadge.3165e93a7df78639d858.png"},"./resources/images/auto-enable-calendar/calendar-hero.jpg":function(e,t,n){e.exports=n.p+"images/auto-enable-calendar/calendar-hero.b732539863e77e0efa62.jpg"},"./resources/images/business-class-feature-boards.png":function(e,t,n){e.exports=n.p+"images/business-class-feature-boards.511e144c0f72db99b819.png"},"./resources/images/business-class-feature-integration.png":function(e,t,n){e.exports=n.p+"images/business-class-feature-integration.ce5f8f256e6f3ccf9c53.png"},"./resources/images/business-class-feature-roadmap.png":function(e,t,n){e.exports=n.p+"images/business-class-feature-roadmap.0f99b85b579fc74b3199.png"},"./resources/images/business-class/feature-boards.svg":function(e,t,n){e.exports=n.p+"images/business-class/feature-boards.ae0af621e02da95fe156.svg"},"./resources/images/business-class/feature-butler.svg":function(e,t,n){e.exports=n.p+"images/business-class/feature-butler.e2436c87d32c2f1ecb71.svg"},"./resources/images/business-class/feature-control.svg":function(e,t,n){e.exports=n.p+"images/business-class/feature-control.4e47ce655980f89f0661.svg"},"./resources/images/business-class/feature-powerups.svg":function(e,t,n){e.exports=n.p+"images/business-class/feature-powerups.99f6c146243e939e36d8.svg"},"./resources/images/chevron.png":function(e,t,n){e.exports=n.p+"images/chevron.49062488fac145ed289e.png"},"./resources/images/confluence-crossflow/confluence-logo.svg":function(e,t,n){e.exports=n.p+"images/confluence-crossflow/confluence-logo.11ce2a2b1b30dfbf4bcb.svg"},"./resources/images/confluence-crossflow/illustration.png":function(e,t,n){e.exports=n.p+"images/confluence-crossflow/illustration.238a963919c196a9b296.png"},"./resources/images/directory/icons/compliant.svg":function(e,t,n){e.exports=n.p+"images/directory/icons/compliant.709c98ab9fefbb170d0f.svg"},"./resources/images/directory/icons/notCompliant.svg":function(e,t,n){e.exports=n.p+"images/directory/icons/notCompliant.22ef3361a6b3b7ee50ed.svg"},"./resources/images/dropbox-mark.svg":function(e,t,n){e.exports=n.p+"images/dropbox-mark.9b13c8944db93b6233bb.svg"},"./resources/images/free-trial/light.svg":function(e,t,n){e.exports=n.p+"images/free-trial/light.a009cb5a5ddc30570b36.svg"},"./resources/images/free-trial/thumbs-up.svg":function(e,t,n){e.exports=n.p+"images/free-trial/thumbs-up.7a2986bddd638ea60fca.svg"},"./resources/images/highFiveIllustration@2x.png":function(e,t,n){e.exports=n.p+"images/highFiveIllustration@2x.db9beced00641440d00a.png"},"./resources/images/icon-link.svg":function(e,t,n){e.exports=n.p+"images/icon-link.17095605578f7696a702.svg"},"./resources/images/illos.png":function(e,t,n){e.exports=n.p+"images/illos.abe6b994293eac4d9da6.png"},"./resources/images/jsw-crossflow/chorizo.svg":function(e,t,n){e.exports=n.p+"images/jsw-crossflow/chorizo.793d3eb97fe6c397aace.svg"},"./resources/images/jsw-crossflow/intercom.png":function(e,t,n){e.exports=n.p+"images/jsw-crossflow/intercom.42d7dae798b0ed628cd4.png"},"./resources/images/jsw-crossflow/jira-software.svg":function(e,t,n){e.exports=n.p+"images/jsw-crossflow/jira-software.ca2e9a7d7a92c7beea94.svg"},"./resources/images/location-cluster.svg":function(e,t,n){e.exports=n.p+"images/location-cluster.f043c6d96f2e56886c62.svg"},"./resources/images/location-marker.png":function(e,t,n){e.exports=n.p+"images/location-marker.c922538d5fb4d9906fea.png"},"./resources/images/moonshot/bc-sparkle.svg":function(e,t,n){e.exports=n.p+"images/moonshot/bc-sparkle.a2d5fa40765ab0f5e3c7.svg"},"./resources/images/patterns/dark/BrickDiagonal.svg":function(e,t,n){e.exports=n.p+"images/patterns/dark/BrickDiagonal.ad6bfbb1f14ba40b0f4a.svg"},"./resources/images/patterns/dark/BrickHorizontal.svg":function(e,t,n){e.exports=n.p+"images/patterns/dark/BrickHorizontal.cf0169751ef925310e92.svg"},"./resources/images/patterns/dark/DotsChecker.svg":function(e,t,n){e.exports=n.p+"images/patterns/dark/DotsChecker.ca0cf5f242b0ddde494a.svg"},"./resources/images/patterns/dark/GrooveDiagonal.svg":function(e,t,n){e.exports=n.p+"images/patterns/dark/GrooveDiagonal.6651027327b53ab2a861.svg"},"./resources/images/patterns/dark/Scale.svg":function(e,t,n){e.exports=n.p+"images/patterns/dark/Scale.68165eca1df968b922d7.svg"},"./resources/images/patterns/dark/StripeDiagonal.svg":function(e,t,n){e.exports=n.p+"images/patterns/dark/StripeDiagonal.cc30b2fa7d9b73cdae10.svg"},"./resources/images/patterns/dark/StripeHorizontal.svg":function(e,t,n){e.exports=n.p+"images/patterns/dark/StripeHorizontal.f332fc8687fb8b884318.svg"},"./resources/images/patterns/dark/StripeVertical.svg":function(e,t,n){e.exports=n.p+"images/patterns/dark/StripeVertical.0e628d414c23eaa2c0e1.svg"},"./resources/images/patterns/dark/WaveSquare.svg":function(e,t,n){e.exports=n.p+"images/patterns/dark/WaveSquare.9810752287610a74caed.svg"},"./resources/images/patterns/light/BrickDiagonal.svg":function(e,t,n){e.exports=n.p+"images/patterns/light/BrickDiagonal.c08919b70c8238d07403.svg"},"./resources/images/patterns/light/BrickHorizontal.svg":function(e,t,n){e.exports=n.p+"images/patterns/light/BrickHorizontal.0496dc05c7b746ffbd50.svg"},"./resources/images/patterns/light/BrickVertical.svg":function(e,t,n){e.exports=n.p+"images/patterns/light/BrickVertical.ce7658e1e8df2de54d00.svg"},"./resources/images/patterns/light/DotsChecker.svg":function(e,t,n){e.exports=n.p+"images/patterns/light/DotsChecker.c64ade9b1931e459fe77.svg"},"./resources/images/patterns/light/GrooveDiagonal.svg":function(e,t,n){e.exports=n.p+"images/patterns/light/GrooveDiagonal.983768b586cd7471d756.svg"},"./resources/images/patterns/light/Scale.svg":function(e,t,n){e.exports=n.p+"images/patterns/light/Scale.3ce802953f7ad2707ebd.svg"},"./resources/images/patterns/light/StripeDiagonal.svg":function(e,t,n){e.exports=n.p+"images/patterns/light/StripeDiagonal.48c42842a8b8affda92b.svg"},"./resources/images/patterns/light/StripeHorizontal.svg":function(e,t,n){e.exports=n.p+"images/patterns/light/StripeHorizontal.f337588386c0c0650d4e.svg"},"./resources/images/patterns/light/StripeVertical.svg":function(e,t,n){e.exports=n.p+"images/patterns/light/StripeVertical.bff0791556d4eac08e56.svg"},"./resources/images/patterns/light/WaveSquare.svg":function(e,t,n){e.exports=n.p+"images/patterns/light/WaveSquare.f0eb2a7cad1a79ec67dd.svg"},"./resources/images/powerups/voting-icon.svg":function(e,t,n){e.exports=n.p+"images/powerups/voting-icon.7a64373ca0f3e1858b4a.svg"},"./resources/images/stars.svg":function(e,t,n){e.exports=n.p+"images/stars.3f9b4fea19413cdbaf75.svg"},"./resources/images/stickers/residue.png":function(e,t,n){e.exports=n.p+"images/stickers/residue.98ba01532da369b380d1.png"},"./resources/images/taco.png":function(e,t,n){e.exports=n.p+"images/taco.14455e01e7257a645712.png"},"./resources/images/teamlesscolaboration/partypopper.svg":function(e,t,n){e.exports=n.p+"images/teamlesscolaboration/partypopper.0e17e539436a9486d811.svg"},"./resources/images/upgrade-prompts/bose.svg":function(e,t,n){e.exports=n.p+"images/upgrade-prompts/bose.589868a7011a4e5de9d1.svg"},"./resources/images/upgrade-prompts/fortnite.svg":function(e,t,n){e.exports=n.p+"images/upgrade-prompts/fortnite.fe1c88f41c50dd16c42a.svg"},"./resources/images/upgrade-prompts/peloton.svg":function(e,t,n){e.exports=n.p+"images/upgrade-prompts/peloton.995eeb3d53f362370d85.svg"},"./resources/images/upgrade-prompts/pinterest.svg":function(e,t,n){e.exports=n.p+"images/upgrade-prompts/pinterest.e9238b9d6fda8ebe3ccd.svg"},"./resources/images/workspaces-preamble/workspaces-preamble-prompt-board-image.png":function(e,t,n){e.exports=n.p+"images/workspaces-preamble/workspaces-preamble-prompt-board-image.8de609db7af65df4bde9.png"},"./resources/images/workspaces-preamble/workspaces-preamble-prompt-board-invite-image.png":function(e,t,n){e.exports=n.p+"images/workspaces-preamble/workspaces-preamble-prompt-board-invite-image.e96bd5132d7721dd55b1.png"}}]);
//# sourceMappingURL=board-view.2a0d6c1bf4d2ff7b56fd.js.map